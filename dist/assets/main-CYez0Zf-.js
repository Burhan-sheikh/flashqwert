var iG=Object.defineProperty;var aG=(t,e,n)=>e in t?iG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bt=(t,e,n)=>aG(t,typeof e!="symbol"?e+"":e,n);function oG(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Dje=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nM={exports:{}},zw={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lG=Symbol.for("react.transitional.element"),cG=Symbol.for("react.fragment");function sM(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:lG,type:t,key:s,ref:e!==void 0?e:null,props:n}}zw.Fragment=cG;zw.jsx=sM;zw.jsxs=sM;nM.exports=zw;var o=nM.exports,rM={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vj=Symbol.for("react.transitional.element"),uG=Symbol.for("react.portal"),dG=Symbol.for("react.fragment"),hG=Symbol.for("react.strict_mode"),fG=Symbol.for("react.profiler"),mG=Symbol.for("react.consumer"),pG=Symbol.for("react.context"),gG=Symbol.for("react.forward_ref"),yG=Symbol.for("react.suspense"),xG=Symbol.for("react.memo"),iM=Symbol.for("react.lazy"),jC=Symbol.iterator;function bG(t){return t===null||typeof t!="object"?null:(t=jC&&t[jC]||t["@@iterator"],typeof t=="function"?t:null)}var aM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oM=Object.assign,lM={};function xg(t,e,n){this.props=t,this.context=e,this.refs=lM,this.updater=n||aM}xg.prototype.isReactComponent={};xg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cM(){}cM.prototype=xg.prototype;function Uj(t,e,n){this.props=t,this.context=e,this.refs=lM,this.updater=n||aM}var zj=Uj.prototype=new cM;zj.constructor=Uj;oM(zj,xg.prototype);zj.isPureReactComponent=!0;var EC=Array.isArray,ns={H:null,A:null,T:null,S:null,V:null},uM=Object.prototype.hasOwnProperty;function $j(t,e,n,s,r,i){return n=i.ref,{$$typeof:Vj,type:t,key:e,ref:n!==void 0?n:null,props:i}}function vG(t,e){return $j(t.type,e,void 0,void 0,void 0,t.props)}function qj(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vj}function wG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var AC=/\/+/g;function Y_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wG(""+t.key):e.toString(36)}function TC(){}function _G(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(TC,TC):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Om(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vj:case uG:a=!0;break;case iM:return a=t._init,Om(a(t._payload),e,n,s,r)}}if(a)return r=r(t),a=s===""?"."+Y_(t,0):s,EC(r)?(n="",a!=null&&(n=a.replace(AC,"$&/")+"/"),Om(r,e,n,"",function(u){return u})):r!=null&&(qj(r)&&(r=vG(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(AC,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=s===""?".":s+":";if(EC(t))for(var c=0;c<t.length;c++)s=t[c],i=l+Y_(s,c),a+=Om(s,e,n,i,r);else if(c=bG(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,i=l+Y_(s,c++),a+=Om(s,e,n,i,r);else if(i==="object"){if(typeof t.then=="function")return Om(_G(t),e,n,s,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function eb(t,e,n){if(t==null)return t;var s=[],r=0;return Om(t,s,"","",function(i){return e.call(n,i,r++)}),s}function NG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var CC=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function SG(){}Vt.Children={map:eb,forEach:function(t,e,n){eb(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eb(t,function(){e++}),e},toArray:function(t){return eb(t,function(e){return e})||[]},only:function(t){if(!qj(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Vt.Component=xg;Vt.Fragment=dG;Vt.Profiler=fG;Vt.PureComponent=Uj;Vt.StrictMode=hG;Vt.Suspense=yG;Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ns;Vt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ns.H.useMemoCache(t)}};Vt.cache=function(t){return function(){return t.apply(null,arguments)}};Vt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=oM({},t.props),r=t.key,i=void 0;if(e!=null)for(a in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(r=""+e.key),e)!uM.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(s[a]=e[a]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}return $j(t.type,r,void 0,void 0,i,s)};Vt.createContext=function(t){return t={$$typeof:pG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:mG,_context:t},t};Vt.createElement=function(t,e,n){var s,r={},i=null;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)uM.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return $j(t,i,void 0,void 0,null,r)};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(t){return{$$typeof:gG,render:t}};Vt.isValidElement=qj;Vt.lazy=function(t){return{$$typeof:iM,_payload:{_status:-1,_result:t},_init:NG}};Vt.memo=function(t,e){return{$$typeof:xG,type:t,compare:e===void 0?null:e}};Vt.startTransition=function(t){var e=ns.T,n={};ns.T=n;try{var s=t(),r=ns.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(SG,CC)}catch(i){CC(i)}finally{ns.T=e}};Vt.unstable_useCacheRefresh=function(){return ns.H.useCacheRefresh()};Vt.use=function(t){return ns.H.use(t)};Vt.useActionState=function(t,e,n){return ns.H.useActionState(t,e,n)};Vt.useCallback=function(t,e){return ns.H.useCallback(t,e)};Vt.useContext=function(t){return ns.H.useContext(t)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(t,e){return ns.H.useDeferredValue(t,e)};Vt.useEffect=function(t,e,n){var s=ns.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(t,e)};Vt.useId=function(){return ns.H.useId()};Vt.useImperativeHandle=function(t,e,n){return ns.H.useImperativeHandle(t,e,n)};Vt.useInsertionEffect=function(t,e){return ns.H.useInsertionEffect(t,e)};Vt.useLayoutEffect=function(t,e){return ns.H.useLayoutEffect(t,e)};Vt.useMemo=function(t,e){return ns.H.useMemo(t,e)};Vt.useOptimistic=function(t,e){return ns.H.useOptimistic(t,e)};Vt.useReducer=function(t,e,n){return ns.H.useReducer(t,e,n)};Vt.useRef=function(t){return ns.H.useRef(t)};Vt.useState=function(t){return ns.H.useState(t)};Vt.useSyncExternalStore=function(t,e,n){return ns.H.useSyncExternalStore(t,e,n)};Vt.useTransition=function(){return ns.H.useTransition()};Vt.version="19.1.0";rM.exports=Vt;var j=rM.exports;const Re=Uw(j),kC=oG({__proto__:null,default:Re},[j]);var dM={exports:{}},$w={},hM={exports:{}},fM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,F){var Q=O.length;O.push(F);e:for(;0<Q;){var V=Q-1>>>1,W=O[V];if(0<r(W,F))O[V]=F,O[Q]=W,Q=V;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var F=O[0],Q=O.pop();if(Q!==F){O[0]=Q;e:for(var V=0,W=O.length,Z=W>>>1;V<Z;){var U=2*(V+1)-1,G=O[U],Y=U+1,J=O[Y];if(0>r(G,Q))Y<W&&0>r(J,G)?(O[V]=J,O[Y]=Q,V=Y):(O[V]=G,O[U]=Q,V=U);else if(Y<W&&0>r(J,Q))O[V]=J,O[Y]=Q,V=Y;else break e}}return F}function r(O,F){var Q=O.sortIndex-F.sortIndex;return Q!==0?Q:O.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function P(O){for(var F=n(u);F!==null;){if(F.callback===null)s(u);else if(F.startTime<=O)s(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(u)}}function I(O){if(x=!1,P(O),!p)if(n(c)!==null)p=!0,D||(D=!0,T());else{var F=n(u);F!==null&&$(I,F.startTime-O)}}var D=!1,C=-1,w=5,A=-1;function R(){return v?!0:!(t.unstable_now()-A<w)}function E(){if(v=!1,D){var O=t.unstable_now();A=O;var F=!0;try{e:{p=!1,x&&(x=!1,_(C),C=-1),m=!0;var Q=f;try{t:{for(P(O),h=n(c);h!==null&&!(h.expirationTime>O&&R());){var V=h.callback;if(typeof V=="function"){h.callback=null,f=h.priorityLevel;var W=V(h.expirationTime<=O);if(O=t.unstable_now(),typeof W=="function"){h.callback=W,P(O),F=!0;break t}h===n(c)&&s(c),P(O)}else s(c);h=n(c)}if(h!==null)F=!0;else{var Z=n(u);Z!==null&&$(I,Z.startTime-O),F=!1}}break e}finally{h=null,f=Q,m=!1}F=void 0}}finally{F?T():D=!1}}}var T;if(typeof N=="function")T=function(){N(E)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=E,T=function(){z.postMessage(null)}}else T=function(){y(E,0)};function $(O,F){C=y(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var Q=f;f=F;try{return O()}finally{f=Q}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Q=f;f=O;try{return F()}finally{f=Q}},t.unstable_scheduleCallback=function(O,F,Q){var V=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?V+Q:V):Q=V,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Q+W,O={id:d++,callback:F,priorityLevel:O,startTime:Q,expirationTime:W,sortIndex:-1},Q>V?(O.sortIndex=Q,e(u,O),n(c)===null&&O===n(u)&&(x?(_(C),C=-1):x=!0,$(I,Q-V))):(O.sortIndex=W,e(c,O),p||m||(p=!0,D||(D=!0,T()))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var F=f;return function(){var Q=f;f=F;try{return O.apply(this,arguments)}finally{f=Q}}}})(fM);hM.exports=fM;var jG=hM.exports,mM={exports:{}},bi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EG=j;function pM(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Eu(){}var mi={d:{f:Eu,r:function(){throw Error(pM(522))},D:Eu,C:Eu,L:Eu,m:Eu,X:Eu,S:Eu,M:Eu},p:0,findDOMNode:null},AG=Symbol.for("react.portal");function TG(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:AG,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var K0=EG.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function qw(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}bi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mi;bi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(pM(299));return TG(t,e,null,n)};bi.flushSync=function(t){var e=K0.T,n=mi.p;try{if(K0.T=null,mi.p=2,t)return t()}finally{K0.T=e,mi.p=n,mi.d.f()}};bi.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,mi.d.C(t,e))};bi.prefetchDNS=function(t){typeof t=="string"&&mi.d.D(t)};bi.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=qw(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?mi.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):n==="script"&&mi.d.X(t,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};bi.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=qw(e.as,e.crossOrigin);mi.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&mi.d.M(t)};bi.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=qw(n,e.crossOrigin);mi.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};bi.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=qw(e.as,e.crossOrigin);mi.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else mi.d.m(t)};bi.requestFormReset=function(t){mi.d.r(t)};bi.unstable_batchedUpdates=function(t,e){return t(e)};bi.useFormState=function(t,e,n){return K0.H.useFormState(t,e,n)};bi.useFormStatus=function(){return K0.H.useHostTransitionStatus()};bi.version="19.1.0";function gM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gM)}catch(t){console.error(t)}}gM(),mM.exports=bi;var yM=mM.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ar=jG,xM=j,CG=yM;function Ke(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cx(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function PC(t){if(Cx(t)!==t)throw Error(Ke(188))}function kG(t){var e=t.alternate;if(!e){if(e=Cx(t),e===null)throw Error(Ke(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return PC(r),t;if(i===s)return PC(r),e;i=i.sibling}throw Error(Ke(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a)throw Error(Ke(189))}}if(n.alternate!==s)throw Error(Ke(190))}if(n.tag!==3)throw Error(Ke(188));return n.stateNode.current===n?t:e}function wM(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=wM(t),e!==null)return e;t=t.sibling}return null}var Zn=Object.assign,PG=Symbol.for("react.element"),tb=Symbol.for("react.transitional.element"),C0=Symbol.for("react.portal"),Qm=Symbol.for("react.fragment"),_M=Symbol.for("react.strict_mode"),z4=Symbol.for("react.profiler"),RG=Symbol.for("react.provider"),NM=Symbol.for("react.consumer"),mc=Symbol.for("react.context"),Hj=Symbol.for("react.forward_ref"),$4=Symbol.for("react.suspense"),q4=Symbol.for("react.suspense_list"),Qj=Symbol.for("react.memo"),Mu=Symbol.for("react.lazy"),H4=Symbol.for("react.activity"),IG=Symbol.for("react.memo_cache_sentinel"),RC=Symbol.iterator;function c0(t){return t===null||typeof t!="object"?null:(t=RC&&t[RC]||t["@@iterator"],typeof t=="function"?t:null)}var LG=Symbol.for("react.client.reference");function Q4(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===LG?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qm:return"Fragment";case z4:return"Profiler";case _M:return"StrictMode";case $4:return"Suspense";case q4:return"SuspenseList";case H4:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C0:return"Portal";case mc:return(t.displayName||"Context")+".Provider";case NM:return(t._context.displayName||"Context")+".Consumer";case Hj:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qj:return e=t.displayName||null,e!==null?e:Q4(t.type)||"Memo";case Mu:e=t._payload,t=t._init;try{return Q4(t(e))}catch{}}return null}var k0=Array.isArray,Rt=xM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mn=CG.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,sf={pending:!1,data:null,method:null,action:null},G4=[],Gm=-1;function Rl(t){return{current:t}}function yr(t){0>Gm||(t.current=G4[Gm],G4[Gm]=null,Gm--)}function ss(t,e){Gm++,G4[Gm]=t.current,t.current=e}var pl=Rl(null),Iy=Rl(null),ud=Rl(null),Q2=Rl(null);function G2(t,e){switch(ss(ud,e),ss(Iy,t),ss(pl,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Ok(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Ok(e),t=VO(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}yr(pl),ss(pl,t)}function Bp(){yr(pl),yr(Iy),yr(ud)}function W4(t){t.memoizedState!==null&&ss(Q2,t);var e=pl.current,n=VO(e,t.type);e!==n&&(ss(Iy,t),ss(pl,n))}function W2(t){Iy.current===t&&(yr(pl),yr(Iy)),Q2.current===t&&(yr(Q2),$y._currentValue=sf)}var Y4=Object.prototype.hasOwnProperty,Gj=ar.unstable_scheduleCallback,K_=ar.unstable_cancelCallback,MG=ar.unstable_shouldYield,DG=ar.unstable_requestPaint,gl=ar.unstable_now,OG=ar.unstable_getCurrentPriorityLevel,SM=ar.unstable_ImmediatePriority,jM=ar.unstable_UserBlockingPriority,Y2=ar.unstable_NormalPriority,FG=ar.unstable_LowPriority,EM=ar.unstable_IdlePriority,BG=ar.log,VG=ar.unstable_setDisableYieldValue,kx=null,la=null;function Wu(t){if(typeof BG=="function"&&VG(t),la&&typeof la.setStrictMode=="function")try{la.setStrictMode(kx,t)}catch{}}var ca=Math.clz32?Math.clz32:$G,UG=Math.log,zG=Math.LN2;function $G(t){return t>>>=0,t===0?32:31-(UG(t)/zG|0)|0}var nb=256,sb=4194304;function Mh(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Hw(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=s&134217727;return l!==0?(s=l&~i,s!==0?r=Mh(s):(a&=l,a!==0?r=Mh(a):n||(n=l&~t,n!==0&&(r=Mh(n))))):(l=s&~i,l!==0?r=Mh(l):a!==0?r=Mh(a):n||(n=s&~t,n!==0&&(r=Mh(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function Px(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function qG(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AM(){var t=nb;return nb<<=1,!(nb&4194048)&&(nb=256),t}function TM(){var t=sb;return sb<<=1,!(sb&62914560)&&(sb=4194304),t}function X_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rx(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function HG(t,e,n,s,r,i){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-ca(n),h=1<<d;l[d]=0,c[d]=-1;var f=u[d];if(f!==null)for(u[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}n&=~h}s!==0&&CM(t,s,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(a&~e))}function CM(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-ca(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&4194090}function kM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-ca(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function Wj(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yj(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function PM(){var t=mn.p;return t!==0?t:(t=window.event,t===void 0?32:KO(t.type))}function QG(t,e){var n=mn.p;try{return mn.p=t,e()}finally{mn.p=n}}var Xd=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xd,qi="__reactProps$"+Xd,bg="__reactContainer$"+Xd,K4="__reactEvents$"+Xd,GG="__reactListeners$"+Xd,WG="__reactHandles$"+Xd,IC="__reactResources$"+Xd,Ix="__reactMarker$"+Xd;function Kj(t){delete t[Jr],delete t[qi],delete t[K4],delete t[GG],delete t[WG]}function Wm(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bg]||n[Jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vk(t);t!==null;){if(n=t[Jr])return n;t=Vk(t)}return e}t=n,n=t.parentNode}return null}function vg(t){if(t=t[Jr]||t[bg]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function P0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Ke(33))}function gp(t){var e=t[IC];return e||(e=t[IC]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function fr(t){t[Ix]=!0}var RM=new Set,IM={};function Uf(t,e){Vp(t,e),Vp(t+"Capture",e)}function Vp(t,e){for(IM[t]=e,t=0;t<e.length;t++)RM.add(e[t])}var YG=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),LC={},MC={};function KG(t){return Y4.call(MC,t)?!0:Y4.call(LC,t)?!1:YG.test(t)?MC[t]=!0:(LC[t]=!0,!1)}function s2(t,e,n){if(KG(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function rb(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function nc(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}var J_,DC;function Fm(t){if(J_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);J_=e&&e[1]||"",DC=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J_+t+DC}var Z_=!1;function eN(t,e){if(!t||Z_)return"";Z_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(t,[],h)}else{try{h.call()}catch(m){f=m}t.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),a=i[0],l=i[1];if(a&&l){var c=a.split(`
`),u=l.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===u.length)for(s=c.length-1,r=u.length-1;1<=s&&0<=r&&c[s]!==u[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==u[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==u[r]){var d=`
`+c[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=r);break}}}finally{Z_=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Fm(n):""}function XG(t){switch(t.tag){case 26:case 27:case 5:return Fm(t.type);case 16:return Fm("Lazy");case 13:return Fm("Suspense");case 19:return Fm("SuspenseList");case 0:case 15:return eN(t.type,!1);case 11:return eN(t.type.render,!1);case 1:return eN(t.type,!0);case 31:return Fm("Activity");default:return""}}function OC(t){try{var e="";do e+=XG(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Oa(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JG(t){var e=LM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function K2(t){t._valueTracker||(t._valueTracker=JG(t))}function MM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=LM(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function X2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ZG=/[\n"\\]/g;function Va(t){return t.replace(ZG,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function X4(t,e,n,s,r,i,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Oa(e)):t.value!==""+Oa(e)&&(t.value=""+Oa(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?J4(t,a,Oa(e)):n!=null?J4(t,a,Oa(n)):s!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Oa(l):t.removeAttribute("name")}function DM(t,e,n,s,r,i,a,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+Oa(n):"",e=e!=null?""+Oa(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=l?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function J4(t,e,n){e==="number"&&X2(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function yp(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Oa(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function OM(t,e,n){if(e!=null&&(e=""+Oa(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Oa(n):""}function FM(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(Ke(92));if(k0(s)){if(1<s.length)throw Error(Ke(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Oa(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s)}function Up(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eW=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function FC(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||eW.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function BM(t,e,n){if(e!=null&&typeof e!="object")throw Error(Ke(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&FC(t,r,s)}else for(var i in e)e.hasOwnProperty(i)&&FC(t,i,e[i])}function Xj(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tW=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nW=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function r2(t){return nW.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Z4=null;function Jj(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ym=null,xp=null;function BC(t){var e=vg(t);if(e&&(t=e.stateNode)){var n=t[qi]||null;e:switch(t=e.stateNode,e.type){case"input":if(X4(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Va(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[qi]||null;if(!r)throw Error(Ke(90));X4(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&MM(s)}break e;case"textarea":OM(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&yp(t,!!n.multiple,e,!1)}}}var tN=!1;function VM(t,e,n){if(tN)return t(e,n);tN=!0;try{var s=t(e);return s}finally{if(tN=!1,(Ym!==null||xp!==null)&&(t5(),Ym&&(e=Ym,t=xp,xp=Ym=null,BC(e),t)))for(e=0;e<t.length;e++)BC(t[e])}}function Ly(t,e){var n=t.stateNode;if(n===null)return null;var s=n[qi]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ke(231,e,typeof n));return n}var Cc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e3=!1;if(Cc)try{var u0={};Object.defineProperty(u0,"passive",{get:function(){e3=!0}}),window.addEventListener("test",u0,u0),window.removeEventListener("test",u0,u0)}catch{e3=!1}var Yu=null,Zj=null,i2=null;function UM(){if(i2)return i2;var t,e=Zj,n=e.length,s,r="value"in Yu?Yu.value:Yu.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return i2=r.slice(t,1<s?1-s:void 0)}function a2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ib(){return!0}function VC(){return!1}function Hi(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ib:VC,this.isPropagationStopped=VC,this}return Zn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ib)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ib)},persist:function(){},isPersistent:ib}),e}var zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qw=Hi(zf),Lx=Zn({},zf,{view:0,detail:0}),sW=Hi(Lx),nN,sN,d0,Gw=Zn({},Lx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==d0&&(d0&&t.type==="mousemove"?(nN=t.screenX-d0.screenX,sN=t.screenY-d0.screenY):sN=nN=0,d0=t),nN)},movementY:function(t){return"movementY"in t?t.movementY:sN}}),UC=Hi(Gw),rW=Zn({},Gw,{dataTransfer:0}),iW=Hi(rW),aW=Zn({},Lx,{relatedTarget:0}),rN=Hi(aW),oW=Zn({},zf,{animationName:0,elapsedTime:0,pseudoElement:0}),lW=Hi(oW),cW=Zn({},zf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uW=Hi(cW),dW=Zn({},zf,{data:0}),zC=Hi(dW),hW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mW[t])?!!e[t]:!1}function eE(){return pW}var gW=Zn({},Lx,{key:function(t){if(t.key){var e=hW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=a2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eE,charCode:function(t){return t.type==="keypress"?a2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?a2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yW=Hi(gW),xW=Zn({},Gw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$C=Hi(xW),bW=Zn({},Lx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eE}),vW=Hi(bW),wW=Zn({},zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),_W=Hi(wW),NW=Zn({},Gw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SW=Hi(NW),jW=Zn({},zf,{newState:0,oldState:0}),EW=Hi(jW),AW=[9,13,27,32],tE=Cc&&"CompositionEvent"in window,X0=null;Cc&&"documentMode"in document&&(X0=document.documentMode);var TW=Cc&&"TextEvent"in window&&!X0,zM=Cc&&(!tE||X0&&8<X0&&11>=X0),qC=" ",HC=!1;function $M(t,e){switch(t){case"keyup":return AW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Km=!1;function CW(t,e){switch(t){case"compositionend":return qM(e);case"keypress":return e.which!==32?null:(HC=!0,qC);case"textInput":return t=e.data,t===qC&&HC?null:t;default:return null}}function kW(t,e){if(Km)return t==="compositionend"||!tE&&$M(t,e)?(t=UM(),i2=Zj=Yu=null,Km=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zM&&e.locale!=="ko"?null:e.data;default:return null}}var PW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PW[t.type]:e==="textarea"}function HM(t,e,n,s){Ym?xp?xp.push(s):xp=[s]:Ym=s,e=pv(e,"onChange"),0<e.length&&(n=new Qw("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var J0=null,My=null;function RW(t){OO(t,0)}function Ww(t){var e=P0(t);if(MM(e))return t}function GC(t,e){if(t==="change")return e}var QM=!1;if(Cc){var iN;if(Cc){var aN="oninput"in document;if(!aN){var WC=document.createElement("div");WC.setAttribute("oninput","return;"),aN=typeof WC.oninput=="function"}iN=aN}else iN=!1;QM=iN&&(!document.documentMode||9<document.documentMode)}function YC(){J0&&(J0.detachEvent("onpropertychange",GM),My=J0=null)}function GM(t){if(t.propertyName==="value"&&Ww(My)){var e=[];HM(e,My,t,Jj(t)),VM(RW,e)}}function IW(t,e,n){t==="focusin"?(YC(),J0=e,My=n,J0.attachEvent("onpropertychange",GM)):t==="focusout"&&YC()}function LW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ww(My)}function MW(t,e){if(t==="click")return Ww(e)}function DW(t,e){if(t==="input"||t==="change")return Ww(e)}function OW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pa=typeof Object.is=="function"?Object.is:OW;function Dy(t,e){if(pa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Y4.call(e,r)||!pa(t[r],e[r]))return!1}return!0}function KC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function XC(t,e){var n=KC(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=KC(n)}}function WM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YM(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=X2(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=X2(t.document)}return e}function nE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var FW=Cc&&"documentMode"in document&&11>=document.documentMode,Xm=null,t3=null,Z0=null,n3=!1;function JC(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;n3||Xm==null||Xm!==X2(s)||(s=Xm,"selectionStart"in s&&nE(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Z0&&Dy(Z0,s)||(Z0=s,s=pv(t3,"onSelect"),0<s.length&&(e=new Qw("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Xm)))}function jh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jm={animationend:jh("Animation","AnimationEnd"),animationiteration:jh("Animation","AnimationIteration"),animationstart:jh("Animation","AnimationStart"),transitionrun:jh("Transition","TransitionRun"),transitionstart:jh("Transition","TransitionStart"),transitioncancel:jh("Transition","TransitionCancel"),transitionend:jh("Transition","TransitionEnd")},oN={},KM={};Cc&&(KM=document.createElement("div").style,"AnimationEvent"in window||(delete Jm.animationend.animation,delete Jm.animationiteration.animation,delete Jm.animationstart.animation),"TransitionEvent"in window||delete Jm.transitionend.transition);function $f(t){if(oN[t])return oN[t];if(!Jm[t])return t;var e=Jm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KM)return oN[t]=e[n];return t}var XM=$f("animationend"),JM=$f("animationiteration"),ZM=$f("animationstart"),BW=$f("transitionrun"),VW=$f("transitionstart"),UW=$f("transitioncancel"),eD=$f("transitionend"),tD=new Map,s3="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");s3.push("scrollEnd");function Do(t,e){tD.set(t,e),Uf(e,[t])}var ZC=new WeakMap;function Ua(t,e){if(typeof t=="object"&&t!==null){var n=ZC.get(t);return n!==void 0?n:(e={value:t,source:e,stack:OC(e)},ZC.set(t,e),e)}return{value:t,source:e,stack:OC(e)}}var Da=[],Zm=0,sE=0;function Yw(){for(var t=Zm,e=sE=Zm=0;e<t;){var n=Da[e];Da[e++]=null;var s=Da[e];Da[e++]=null;var r=Da[e];Da[e++]=null;var i=Da[e];if(Da[e++]=null,s!==null&&r!==null){var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}i!==0&&nD(n,r,i)}}function Kw(t,e,n,s){Da[Zm++]=t,Da[Zm++]=e,Da[Zm++]=n,Da[Zm++]=s,sE|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function rE(t,e,n,s){return Kw(t,e,n,s),J2(t)}function wg(t,e){return Kw(t,null,null,e),J2(t)}function nD(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-ca(n),t=i.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),i):null}function J2(t){if(50<cy)throw cy=0,S3=null,Error(Ke(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ep={};function zW(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(t,e,n,s){return new zW(t,e,n,s)}function iE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nc(t,e){var n=t.alternate;return n===null?(n=ia(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function sD(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function o2(t,e,n,s,r,i){var a=0;if(s=t,typeof t=="function")iE(t)&&(a=1);else if(typeof t=="string")a=qY(t,n,pl.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case H4:return t=ia(31,n,e,r),t.elementType=H4,t.lanes=i,t;case Qm:return rf(n.children,r,i,e);case _M:a=8,r|=24;break;case z4:return t=ia(12,n,e,r|2),t.elementType=z4,t.lanes=i,t;case $4:return t=ia(13,n,e,r),t.elementType=$4,t.lanes=i,t;case q4:return t=ia(19,n,e,r),t.elementType=q4,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RG:case mc:a=10;break e;case NM:a=9;break e;case Hj:a=11;break e;case Qj:a=14;break e;case Mu:a=16,s=null;break e}a=29,n=Error(Ke(130,t===null?"null":typeof t,"")),s=null}return e=ia(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function rf(t,e,n,s){return t=ia(7,t,s,e),t.lanes=n,t}function lN(t,e,n){return t=ia(6,t,null,e),t.lanes=n,t}function cN(t,e,n){return e=ia(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var tp=[],np=0,Z2=null,ev=0,Fa=[],Ba=0,af=null,pc=1,gc="";function Dh(t,e){tp[np++]=ev,tp[np++]=Z2,Z2=t,ev=e}function rD(t,e,n){Fa[Ba++]=pc,Fa[Ba++]=gc,Fa[Ba++]=af,af=t;var s=pc;t=gc;var r=32-ca(s)-1;s&=~(1<<r),n+=1;var i=32-ca(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,pc=1<<32-ca(e)+r|n<<r|s,gc=i+t}else pc=1<<i|n<<r|s,gc=t}function aE(t){t.return!==null&&(Dh(t,1),rD(t,1,0))}function oE(t){for(;t===Z2;)Z2=tp[--np],tp[np]=null,ev=tp[--np],tp[np]=null;for(;t===af;)af=Fa[--Ba],Fa[Ba]=null,gc=Fa[--Ba],Fa[Ba]=null,pc=Fa[--Ba],Fa[Ba]=null}var hi=null,ys=null,hn=!1,of=null,dl=!1,r3=Error(Ke(519));function wf(t){var e=Error(Ke(418,""));throw Oy(Ua(e,t)),r3}function ek(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[Jr]=t,e[qi]=s,n){case"dialog":Qt("cancel",e),Qt("close",e);break;case"iframe":case"object":case"embed":Qt("load",e);break;case"video":case"audio":for(n=0;n<Vy.length;n++)Qt(Vy[n],e);break;case"source":Qt("error",e);break;case"img":case"image":case"link":Qt("error",e),Qt("load",e);break;case"details":Qt("toggle",e);break;case"input":Qt("invalid",e),DM(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),K2(e);break;case"select":Qt("invalid",e);break;case"textarea":Qt("invalid",e),FM(e,s.value,s.defaultValue,s.children),K2(e)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||BO(e.textContent,n)?(s.popover!=null&&(Qt("beforetoggle",e),Qt("toggle",e)),s.onScroll!=null&&Qt("scroll",e),s.onScrollEnd!=null&&Qt("scrollend",e),s.onClick!=null&&(e.onclick=r5),e=!0):e=!1,e||wf(t)}function tk(t){for(hi=t.return;hi;)switch(hi.tag){case 5:case 13:dl=!1;return;case 27:case 3:dl=!0;return;default:hi=hi.return}}function h0(t){if(t!==hi)return!1;if(!hn)return tk(t),hn=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||k3(t.type,t.memoizedProps)),n=!n),n&&ys&&wf(t),tk(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ys=To(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ys=null}}else e===27?(e=ys,Jd(t.type)?(t=I3,I3=null,ys=t):ys=e):ys=hi?To(t.stateNode.nextSibling):null;return!0}function Mx(){ys=hi=null,hn=!1}function nk(){var t=of;return t!==null&&(Mi===null?Mi=t:Mi.push.apply(Mi,t),of=null),t}function Oy(t){of===null?of=[t]:of.push(t)}var i3=Rl(null),qf=null,yc=null;function Ou(t,e,n){ss(i3,e._currentValue),e._currentValue=n}function Sc(t){t._currentValue=i3.current,yr(i3)}function a3(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function o3(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var a=r.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=r;for(var c=0;c<e.length;c++)if(l.context===e[c]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),a3(i.return,n,t),s||(a=null);break e}i=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(Ke(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),a3(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Dx(t,e,n,s){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(Ke(387));if(a=a.memoizedProps,a!==null){var l=r.type;pa(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===Q2.current){if(a=r.alternate,a===null)throw Error(Ke(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push($y):t=[$y])}r=r.return}t!==null&&o3(e,t,n,s),e.flags|=262144}function tv(t){for(t=t.firstContext;t!==null;){if(!pa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _f(t){qf=t,yc=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zr(t){return iD(qf,t)}function ab(t,e){return qf===null&&_f(t),iD(t,e)}function iD(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},yc===null){if(t===null)throw Error(Ke(308));yc=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else yc=yc.next=e;return n}var $W=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},qW=ar.unstable_scheduleCallback,HW=ar.unstable_NormalPriority,er={$$typeof:mc,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lE(){return{controller:new $W,data:new Map,refCount:0}}function Ox(t){t.refCount--,t.refCount===0&&qW(HW,function(){t.controller.abort()})}var ey=null,l3=0,zp=0,bp=null;function QW(t,e){if(ey===null){var n=ey=[];l3=0,zp=PE(),bp={status:"pending",value:void 0,then:function(s){n.push(s)}}}return l3++,e.then(sk,sk),e}function sk(){if(--l3===0&&ey!==null){bp!==null&&(bp.status="fulfilled");var t=ey;ey=null,zp=0,bp=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function GW(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var rk=Rt.S;Rt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&QW(t,e),rk!==null&&rk(t,e)};var lf=Rl(null);function cE(){var t=lf.current;return t!==null?t:qn.pooledCache}function l2(t,e){e===null?ss(lf,lf.current):ss(lf,e.pool)}function aD(){var t=cE();return t===null?null:{parent:er._currentValue,pool:t}}var Fx=Error(Ke(460)),oD=Error(Ke(474)),Xw=Error(Ke(542)),c3={then:function(){}};function ik(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ob(){}function lD(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ob,ob),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ok(t),t;default:if(typeof e.status=="string")e.then(ob,ob);else{if(t=qn,t!==null&&100<t.shellSuspendCounter)throw Error(Ke(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ok(t),t}throw ty=e,Fx}}var ty=null;function ak(){if(ty===null)throw Error(Ke(459));var t=ty;return ty=null,t}function ok(t){if(t===Fx||t===Xw)throw Error(Ke(483))}var Du=!1;function uE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function u3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function dd(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hd(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,An&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=J2(t),nD(t,null,n),e}return Kw(t,s,e,n),J2(t)}function ny(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,kM(t,n)}}function uN(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var d3=!1;function sy(){if(d3){var t=bp;if(t!==null)throw t}}function ry(t,e,n,s){d3=!1;var r=t.updateQueue;Du=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane&-536870913,m=f!==l.lane;if(m?(rn&f)===f:(s&f)===f){f!==0&&f===zp&&(d3=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=t,x=l;f=e;var v=n;switch(x.tag){case 1:if(p=x.payload,typeof p=="function"){h=p.call(v,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,f=typeof p=="function"?p.call(v,h,f):p,f==null)break e;h=Zn({},h,f);break e;case 2:Du=!0}}f=l.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=r.callbacks,m===null?r.callbacks=[f]:m.push(f))}else m={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;m=l,l=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),Pd|=a,t.lanes=a,t.memoizedState=h}}function cD(t,e){if(typeof t!="function")throw Error(Ke(191,t));t.call(e)}function uD(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)cD(n[t],e)}var $p=Rl(null),nv=Rl(0);function lk(t,e){t=Rc,ss(nv,t),ss($p,e),Rc=t|e.baseLanes}function h3(){ss(nv,Rc),ss($p,$p.current)}function dE(){Rc=nv.current,yr($p),yr(nv)}var Cd=0,qt=null,In=null,zs=null,sv=!1,vp=!1,Nf=!1,rv=0,Fy=0,wp=null,WW=0;function As(){throw Error(Ke(321))}function hE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pa(t[n],e[n]))return!1;return!0}function fE(t,e,n,s,r,i){return Cd=i,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rt.H=t===null||t.memoizedState===null?UD:zD,Nf=!1,i=n(s,r),Nf=!1,vp&&(i=hD(e,n,s,r)),dD(t),i}function dD(t){Rt.H=iv;var e=In!==null&&In.next!==null;if(Cd=0,zs=In=qt=null,sv=!1,Fy=0,wp=null,e)throw Error(Ke(300));t===null||gr||(t=t.dependencies,t!==null&&tv(t)&&(gr=!0))}function hD(t,e,n,s){qt=t;var r=0;do{if(vp&&(wp=null),Fy=0,vp=!1,25<=r)throw Error(Ke(301));if(r+=1,zs=In=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Rt.H=tY,i=e(n,s)}while(vp);return i}function YW(){var t=Rt.H,e=t.useState()[0];return e=typeof e.then=="function"?Bx(e):e,t=t.useState()[0],(In!==null?In.memoizedState:null)!==t&&(qt.flags|=1024),e}function mE(){var t=rv!==0;return rv=0,t}function pE(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function gE(t){if(sv){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}sv=!1}Cd=0,zs=In=qt=null,vp=!1,Fy=rv=0,wp=null}function Ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zs===null?qt.memoizedState=zs=t:zs=zs.next=t,zs}function Gs(){if(In===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=In.next;var e=zs===null?qt.memoizedState:zs.next;if(e!==null)zs=e,In=t;else{if(t===null)throw qt.alternate===null?Error(Ke(467)):Error(Ke(310));In=t,t={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},zs===null?qt.memoizedState=zs=t:zs=zs.next=t}return zs}function yE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bx(t){var e=Fy;return Fy+=1,wp===null&&(wp=[]),t=lD(wp,t,e),e=qt,(zs===null?e.memoizedState:zs.next)===null&&(e=e.alternate,Rt.H=e===null||e.memoizedState===null?UD:zD),t}function Jw(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bx(t);if(t.$$typeof===mc)return Zr(t)}throw Error(Ke(438,String(t)))}function xE(t){var e=null,n=qt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=qt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=yE(),qt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=IG;return e.index++,n}function kc(t,e){return typeof e=="function"?e(t):e}function c2(t){var e=Gs();return bE(e,In,t)}function bE(t,e,n){var s=t.queue;if(s===null)throw Error(Ke(311));s.lastRenderedReducer=n;var r=t.baseQueue,i=s.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}e.baseQueue=r=i,s.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var l=a=null,c=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(rn&h)===h:(Cd&h)===h){var f=u.revertLane;if(f===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===zp&&(d=!0);else if((Cd&f)===f){u=u.next,f===zp&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,a=i):c=c.next=h,qt.lanes|=f,Pd|=f;h=u.action,Nf&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,a=i):c=c.next=f,qt.lanes|=h,Pd|=h;u=u.next}while(u!==null&&u!==e);if(c===null?a=i:c.next=l,!pa(i,t.memoizedState)&&(gr=!0,d&&(n=bp,n!==null)))throw n;t.memoizedState=i,t.baseState=a,t.baseQueue=c,s.lastRenderedState=i}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function dN(t){var e=Gs(),n=e.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);pa(i,e.memoizedState)||(gr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function fD(t,e,n){var s=qt,r=Gs(),i=hn;if(i){if(n===void 0)throw Error(Ke(407));n=n()}else n=e();var a=!pa((In||r).memoizedState,n);a&&(r.memoizedState=n,gr=!0),r=r.queue;var l=gD.bind(null,s,r,t);if(Vx(2048,8,l,[t]),r.getSnapshot!==e||a||zs!==null&&zs.memoizedState.tag&1){if(s.flags|=2048,qp(9,Zw(),pD.bind(null,s,r,n,e),null),qn===null)throw Error(Ke(349));i||Cd&124||mD(s,e,n)}return n}function mD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qt.updateQueue,e===null?(e=yE(),qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pD(t,e,n,s){e.value=n,e.getSnapshot=s,yD(e)&&xD(t)}function gD(t,e,n){return n(function(){yD(e)&&xD(t)})}function yD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pa(t,n)}catch{return!0}}function xD(t){var e=wg(t,2);e!==null&&da(e,t,2)}function f3(t){var e=Ii();if(typeof t=="function"){var n=t;if(t=n(),Nf){Wu(!0);try{n()}finally{Wu(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kc,lastRenderedState:t},e}function bD(t,e,n,s){return t.baseState=n,bE(t,In,typeof s=="function"?s:kc)}function KW(t,e,n,s,r){if(e5(t))throw Error(Ke(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){i.listeners.push(a)}};Rt.T!==null?n(!0):i.isTransition=!1,s(i),n=e.pending,n===null?(i.next=e.pending=i,vD(e,i)):(i.next=n.next,e.pending=n.next=i)}}function vD(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var i=Rt.T,a={};Rt.T=a;try{var l=n(r,s),c=Rt.S;c!==null&&c(a,l),ck(t,e,l)}catch(u){m3(t,e,u)}finally{Rt.T=i}}else try{i=n(r,s),ck(t,e,i)}catch(u){m3(t,e,u)}}function ck(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){uk(t,e,s)},function(s){return m3(t,e,s)}):uk(t,e,n)}function uk(t,e,n){e.status="fulfilled",e.value=n,wD(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,vD(t,n)))}function m3(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,wD(e),e=e.next;while(e!==s)}t.action=null}function wD(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function _D(t,e){return e}function dk(t,e){if(hn){var n=qn.formState;if(n!==null){e:{var s=qt;if(hn){if(ys){t:{for(var r=ys,i=dl;r.nodeType!==8;){if(!i){r=null;break t}if(r=To(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){ys=To(r.nextSibling),s=r.data==="F!";break e}}wf(s)}s=!1}s&&(e=n[0])}}return n=Ii(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_D,lastRenderedState:e},n.queue=s,n=FD.bind(null,qt,s),s.dispatch=n,s=f3(!1),i=NE.bind(null,qt,!1,s.queue),s=Ii(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=KW.bind(null,qt,r,i,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function hk(t){var e=Gs();return ND(e,In,t)}function ND(t,e,n){if(e=bE(t,e,_D)[0],t=c2(kc)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=Bx(e)}catch(a){throw a===Fx?Xw:a}else s=e;e=Gs();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(qt.flags|=2048,qp(9,Zw(),XW.bind(null,r,n),null)),[s,i,t]}function XW(t,e){t.action=e}function fk(t){var e=Gs(),n=In;if(n!==null)return ND(e,n,t);Gs(),e=e.memoizedState,n=Gs();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function qp(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=qt.updateQueue,e===null&&(e=yE(),qt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function Zw(){return{destroy:void 0,resource:void 0}}function SD(){return Gs().memoizedState}function u2(t,e,n,s){var r=Ii();s=s===void 0?null:s,qt.flags|=t,r.memoizedState=qp(1|e,Zw(),n,s)}function Vx(t,e,n,s){var r=Gs();s=s===void 0?null:s;var i=r.memoizedState.inst;In!==null&&s!==null&&hE(s,In.memoizedState.deps)?r.memoizedState=qp(e,i,n,s):(qt.flags|=t,r.memoizedState=qp(1|e,i,n,s))}function mk(t,e){u2(8390656,8,t,e)}function jD(t,e){Vx(2048,8,t,e)}function ED(t,e){return Vx(4,2,t,e)}function AD(t,e){return Vx(4,4,t,e)}function TD(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CD(t,e,n){n=n!=null?n.concat([t]):null,Vx(4,4,TD.bind(null,e,t),n)}function vE(){}function kD(t,e){var n=Gs();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&hE(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function PD(t,e){var n=Gs();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&hE(e,s[1]))return s[0];if(s=t(),Nf){Wu(!0);try{t()}finally{Wu(!1)}}return n.memoizedState=[s,e],s}function wE(t,e,n){return n===void 0||Cd&1073741824?t.memoizedState=e:(t.memoizedState=n,t=wO(),qt.lanes|=t,Pd|=t,n)}function RD(t,e,n,s){return pa(n,e)?n:$p.current!==null?(t=wE(t,n,s),pa(t,e)||(gr=!0),t):Cd&42?(t=wO(),qt.lanes|=t,Pd|=t,e):(gr=!0,t.memoizedState=n)}function ID(t,e,n,s,r){var i=mn.p;mn.p=i!==0&&8>i?i:8;var a=Rt.T,l={};Rt.T=l,NE(t,!1,e,n);try{var c=r(),u=Rt.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=GW(c,s);iy(t,e,d,ua(t))}else iy(t,e,s,ua(t))}catch(h){iy(t,e,{then:function(){},status:"rejected",reason:h},ua())}finally{mn.p=i,Rt.T=a}}function JW(){}function p3(t,e,n,s){if(t.tag!==5)throw Error(Ke(476));var r=LD(t).queue;ID(t,r,e,sf,n===null?JW:function(){return MD(t),n(s)})}function LD(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:sf,baseState:sf,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kc,lastRenderedState:sf},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kc,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function MD(t){var e=LD(t).next.queue;iy(t,e,{},ua())}function _E(){return Zr($y)}function DD(){return Gs().memoizedState}function OD(){return Gs().memoizedState}function ZW(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ua();t=dd(n);var s=hd(e,t,n);s!==null&&(da(s,e,n),ny(s,e,n)),e={cache:lE()},t.payload=e;return}e=e.return}}function eY(t,e,n){var s=ua();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},e5(t)?BD(e,n):(n=rE(t,e,n,s),n!==null&&(da(n,t,s),VD(n,e,s)))}function FD(t,e,n){var s=ua();iy(t,e,n,s)}function iy(t,e,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(e5(t))BD(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(r.hasEagerState=!0,r.eagerState=l,pa(l,a))return Kw(t,e,r,0),qn===null&&Yw(),!1}catch{}finally{}if(n=rE(t,e,r,s),n!==null)return da(n,t,s),VD(n,e,s),!0}return!1}function NE(t,e,n,s){if(s={lane:2,revertLane:PE(),action:s,hasEagerState:!1,eagerState:null,next:null},e5(t)){if(e)throw Error(Ke(479))}else e=rE(t,n,s,2),e!==null&&da(e,t,2)}function e5(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function BD(t,e){vp=sv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VD(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,kM(t,n)}}var iv={readContext:Zr,use:Jw,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useLayoutEffect:As,useInsertionEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useSyncExternalStore:As,useId:As,useHostTransitionStatus:As,useFormState:As,useActionState:As,useOptimistic:As,useMemoCache:As,useCacheRefresh:As},UD={readContext:Zr,use:Jw,useCallback:function(t,e){return Ii().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:mk,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,u2(4194308,4,TD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return u2(4194308,4,t,e)},useInsertionEffect:function(t,e){u2(4,2,t,e)},useMemo:function(t,e){var n=Ii();e=e===void 0?null:e;var s=t();if(Nf){Wu(!0);try{t()}finally{Wu(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Ii();if(n!==void 0){var r=n(e);if(Nf){Wu(!0);try{n(e)}finally{Wu(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=eY.bind(null,qt,t),[s.memoizedState,t]},useRef:function(t){var e=Ii();return t={current:t},e.memoizedState=t},useState:function(t){t=f3(t);var e=t.queue,n=FD.bind(null,qt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:vE,useDeferredValue:function(t,e){var n=Ii();return wE(n,t,e)},useTransition:function(){var t=f3(!1);return t=ID.bind(null,qt,t.queue,!0,!1),Ii().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=qt,r=Ii();if(hn){if(n===void 0)throw Error(Ke(407));n=n()}else{if(n=e(),qn===null)throw Error(Ke(349));rn&124||mD(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,mk(gD.bind(null,s,i,t),[t]),s.flags|=2048,qp(9,Zw(),pD.bind(null,s,i,n,e),null),n},useId:function(){var t=Ii(),e=qn.identifierPrefix;if(hn){var n=gc,s=pc;n=(s&~(1<<32-ca(s)-1)).toString(32)+n,e="«"+e+"R"+n,n=rv++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=WW++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:_E,useFormState:dk,useActionState:dk,useOptimistic:function(t){var e=Ii();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=NE.bind(null,qt,!0,n),n.dispatch=e,[t,e]},useMemoCache:xE,useCacheRefresh:function(){return Ii().memoizedState=ZW.bind(null,qt)}},zD={readContext:Zr,use:Jw,useCallback:kD,useContext:Zr,useEffect:jD,useImperativeHandle:CD,useInsertionEffect:ED,useLayoutEffect:AD,useMemo:PD,useReducer:c2,useRef:SD,useState:function(){return c2(kc)},useDebugValue:vE,useDeferredValue:function(t,e){var n=Gs();return RD(n,In.memoizedState,t,e)},useTransition:function(){var t=c2(kc)[0],e=Gs().memoizedState;return[typeof t=="boolean"?t:Bx(t),e]},useSyncExternalStore:fD,useId:DD,useHostTransitionStatus:_E,useFormState:hk,useActionState:hk,useOptimistic:function(t,e){var n=Gs();return bD(n,In,t,e)},useMemoCache:xE,useCacheRefresh:OD},tY={readContext:Zr,use:Jw,useCallback:kD,useContext:Zr,useEffect:jD,useImperativeHandle:CD,useInsertionEffect:ED,useLayoutEffect:AD,useMemo:PD,useReducer:dN,useRef:SD,useState:function(){return dN(kc)},useDebugValue:vE,useDeferredValue:function(t,e){var n=Gs();return In===null?wE(n,t,e):RD(n,In.memoizedState,t,e)},useTransition:function(){var t=dN(kc)[0],e=Gs().memoizedState;return[typeof t=="boolean"?t:Bx(t),e]},useSyncExternalStore:fD,useId:DD,useHostTransitionStatus:_E,useFormState:fk,useActionState:fk,useOptimistic:function(t,e){var n=Gs();return In!==null?bD(n,In,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:xE,useCacheRefresh:OD},_p=null,By=0;function lb(t){var e=By;return By+=1,_p===null&&(_p=[]),lD(_p,t,e)}function f0(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function cb(t,e){throw e.$$typeof===PG?Error(Ke(525)):(t=Object.prototype.toString.call(e),Error(Ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function pk(t){var e=t._init;return e(t._payload)}function $D(t){function e(y,_){if(t){var N=y.deletions;N===null?(y.deletions=[_],y.flags|=16):N.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function s(y){for(var _=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function r(y,_){return y=Nc(y,_),y.index=0,y.sibling=null,y}function i(y,_,N){return y.index=N,t?(N=y.alternate,N!==null?(N=N.index,N<_?(y.flags|=67108866,_):N):(y.flags|=67108866,_)):(y.flags|=1048576,_)}function a(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function l(y,_,N,P){return _===null||_.tag!==6?(_=lN(N,y.mode,P),_.return=y,_):(_=r(_,N),_.return=y,_)}function c(y,_,N,P){var I=N.type;return I===Qm?d(y,_,N.props.children,P,N.key):_!==null&&(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Mu&&pk(I)===_.type)?(_=r(_,N.props),f0(_,N),_.return=y,_):(_=o2(N.type,N.key,N.props,null,y.mode,P),f0(_,N),_.return=y,_)}function u(y,_,N,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=cN(N,y.mode,P),_.return=y,_):(_=r(_,N.children||[]),_.return=y,_)}function d(y,_,N,P,I){return _===null||_.tag!==7?(_=rf(N,y.mode,P,I),_.return=y,_):(_=r(_,N),_.return=y,_)}function h(y,_,N){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=lN(""+_,y.mode,N),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tb:return N=o2(_.type,_.key,_.props,null,y.mode,N),f0(N,_),N.return=y,N;case C0:return _=cN(_,y.mode,N),_.return=y,_;case Mu:var P=_._init;return _=P(_._payload),h(y,_,N)}if(k0(_)||c0(_))return _=rf(_,y.mode,N,null),_.return=y,_;if(typeof _.then=="function")return h(y,lb(_),N);if(_.$$typeof===mc)return h(y,ab(y,_),N);cb(y,_)}return null}function f(y,_,N,P){var I=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return I!==null?null:l(y,_,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case tb:return N.key===I?c(y,_,N,P):null;case C0:return N.key===I?u(y,_,N,P):null;case Mu:return I=N._init,N=I(N._payload),f(y,_,N,P)}if(k0(N)||c0(N))return I!==null?null:d(y,_,N,P,null);if(typeof N.then=="function")return f(y,_,lb(N),P);if(N.$$typeof===mc)return f(y,_,ab(y,N),P);cb(y,N)}return null}function m(y,_,N,P,I){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return y=y.get(N)||null,l(_,y,""+P,I);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case tb:return y=y.get(P.key===null?N:P.key)||null,c(_,y,P,I);case C0:return y=y.get(P.key===null?N:P.key)||null,u(_,y,P,I);case Mu:var D=P._init;return P=D(P._payload),m(y,_,N,P,I)}if(k0(P)||c0(P))return y=y.get(N)||null,d(_,y,P,I,null);if(typeof P.then=="function")return m(y,_,N,lb(P),I);if(P.$$typeof===mc)return m(y,_,N,ab(_,P),I);cb(_,P)}return null}function p(y,_,N,P){for(var I=null,D=null,C=_,w=_=0,A=null;C!==null&&w<N.length;w++){C.index>w?(A=C,C=null):A=C.sibling;var R=f(y,C,N[w],P);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(y,C),_=i(R,_,w),D===null?I=R:D.sibling=R,D=R,C=A}if(w===N.length)return n(y,C),hn&&Dh(y,w),I;if(C===null){for(;w<N.length;w++)C=h(y,N[w],P),C!==null&&(_=i(C,_,w),D===null?I=C:D.sibling=C,D=C);return hn&&Dh(y,w),I}for(C=s(C);w<N.length;w++)A=m(C,y,w,N[w],P),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?w:A.key),_=i(A,_,w),D===null?I=A:D.sibling=A,D=A);return t&&C.forEach(function(E){return e(y,E)}),hn&&Dh(y,w),I}function x(y,_,N,P){if(N==null)throw Error(Ke(151));for(var I=null,D=null,C=_,w=_=0,A=null,R=N.next();C!==null&&!R.done;w++,R=N.next()){C.index>w?(A=C,C=null):A=C.sibling;var E=f(y,C,R.value,P);if(E===null){C===null&&(C=A);break}t&&C&&E.alternate===null&&e(y,C),_=i(E,_,w),D===null?I=E:D.sibling=E,D=E,C=A}if(R.done)return n(y,C),hn&&Dh(y,w),I;if(C===null){for(;!R.done;w++,R=N.next())R=h(y,R.value,P),R!==null&&(_=i(R,_,w),D===null?I=R:D.sibling=R,D=R);return hn&&Dh(y,w),I}for(C=s(C);!R.done;w++,R=N.next())R=m(C,y,w,R.value,P),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?w:R.key),_=i(R,_,w),D===null?I=R:D.sibling=R,D=R);return t&&C.forEach(function(T){return e(y,T)}),hn&&Dh(y,w),I}function v(y,_,N,P){if(typeof N=="object"&&N!==null&&N.type===Qm&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case tb:e:{for(var I=N.key;_!==null;){if(_.key===I){if(I=N.type,I===Qm){if(_.tag===7){n(y,_.sibling),P=r(_,N.props.children),P.return=y,y=P;break e}}else if(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Mu&&pk(I)===_.type){n(y,_.sibling),P=r(_,N.props),f0(P,N),P.return=y,y=P;break e}n(y,_);break}else e(y,_);_=_.sibling}N.type===Qm?(P=rf(N.props.children,y.mode,P,N.key),P.return=y,y=P):(P=o2(N.type,N.key,N.props,null,y.mode,P),f0(P,N),P.return=y,y=P)}return a(y);case C0:e:{for(I=N.key;_!==null;){if(_.key===I)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){n(y,_.sibling),P=r(_,N.children||[]),P.return=y,y=P;break e}else{n(y,_);break}else e(y,_);_=_.sibling}P=cN(N,y.mode,P),P.return=y,y=P}return a(y);case Mu:return I=N._init,N=I(N._payload),v(y,_,N,P)}if(k0(N))return p(y,_,N,P);if(c0(N)){if(I=c0(N),typeof I!="function")throw Error(Ke(150));return N=I.call(N),x(y,_,N,P)}if(typeof N.then=="function")return v(y,_,lb(N),P);if(N.$$typeof===mc)return v(y,_,ab(y,N),P);cb(y,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,_!==null&&_.tag===6?(n(y,_.sibling),P=r(_,N),P.return=y,y=P):(n(y,_),P=lN(N,y.mode,P),P.return=y,y=P),a(y)):n(y,_)}return function(y,_,N,P){try{By=0;var I=v(y,_,N,P);return _p=null,I}catch(C){if(C===Fx||C===Xw)throw C;var D=ia(29,C,null,y.mode);return D.lanes=P,D.return=y,D}finally{}}}var Hp=$D(!0),qD=$D(!1),Ha=Rl(null),yl=null;function Fu(t){var e=t.alternate;ss(tr,tr.current&1),ss(Ha,t),yl===null&&(e===null||$p.current!==null||e.memoizedState!==null)&&(yl=t)}function HD(t){if(t.tag===22){if(ss(tr,tr.current),ss(Ha,t),yl===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(yl=t)}}else Bu()}function Bu(){ss(tr,tr.current),ss(Ha,Ha.current)}function xc(t){yr(Ha),yl===t&&(yl=null),yr(tr)}var tr=Rl(0);function av(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||R3(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function hN(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Zn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var g3={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=ua(),r=dd(s);r.payload=e,n!=null&&(r.callback=n),e=hd(t,r,s),e!==null&&(da(e,t,s),ny(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=ua(),r=dd(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=hd(t,r,s),e!==null&&(da(e,t,s),ny(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ua(),s=dd(n);s.tag=2,e!=null&&(s.callback=e),e=hd(t,s,n),e!==null&&(da(e,t,n),ny(e,t,n))}};function gk(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!Dy(n,s)||!Dy(r,i):!0}function yk(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&g3.enqueueReplaceState(e,e.state,null)}function Sf(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=Zn({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var ov=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function QD(t){ov(t)}function GD(t){console.error(t)}function WD(t){ov(t)}function lv(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function xk(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function y3(t,e,n){return n=dd(n),n.tag=3,n.payload={element:null},n.callback=function(){lv(t,e)},n}function YD(t){return t=dd(t),t.tag=3,t}function KD(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;t.payload=function(){return r(i)},t.callback=function(){xk(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){xk(e,n,s),typeof r!="function"&&(fd===null?fd=new Set([this]):fd.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function nY(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&Dx(e,n,r,!0),n=Ha.current,n!==null){switch(n.tag){case 13:return yl===null?j3():n.alternate===null&&xs===0&&(xs=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===c3?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),NN(t,s,r)),!1;case 22:return n.flags|=65536,s===c3?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),NN(t,s,r)),!1}throw Error(Ke(435,n.tag))}return NN(t,s,r),j3(),!1}if(hn)return e=Ha.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==r3&&(t=Error(Ke(422),{cause:s}),Oy(Ua(t,n)))):(s!==r3&&(e=Error(Ke(423),{cause:s}),Oy(Ua(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=Ua(s,n),r=y3(t.stateNode,s,r),uN(t,r),xs!==4&&(xs=2)),!1;var i=Error(Ke(520),{cause:s});if(i=Ua(i,n),ly===null?ly=[i]:ly.push(i),xs!==4&&(xs=2),e===null)return!0;s=Ua(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=y3(n.stateNode,s,t),uN(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(fd===null||!fd.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=YD(r),KD(r,t,n,s),uN(n,r),!1}n=n.return}while(n!==null);return!1}var XD=Error(Ke(461)),gr=!1;function Tr(t,e,n,s){e.child=t===null?qD(e,null,n,s):Hp(e,t.child,n,s)}function bk(t,e,n,s,r){n=n.render;var i=e.ref;if("ref"in s){var a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}else a=s;return _f(e),s=fE(t,e,n,a,i,r),l=mE(),t!==null&&!gr?(pE(t,e,r),Pc(t,e,r)):(hn&&l&&aE(e),e.flags|=1,Tr(t,e,s,r),e.child)}function vk(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!iE(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,JD(t,e,i,s,r)):(t=o2(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!SE(t,r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dy,n(a,s)&&t.ref===e.ref)return Pc(t,e,r)}return e.flags|=1,t=Nc(i,s),t.ref=e.ref,t.return=e,e.child=t}function JD(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Dy(i,s)&&t.ref===e.ref)if(gr=!1,e.pendingProps=s=i,SE(t,r))t.flags&131072&&(gr=!0);else return e.lanes=t.lanes,Pc(t,e,r)}return x3(t,e,n,s,r)}function ZD(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if(e.flags&128){if(s=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;e.childLanes=i&~s}else e.childLanes=0,e.child=null;return wk(t,e,s,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&l2(e,i!==null?i.cachePool:null),i!==null?lk(e,i):h3(),HD(e);else return e.lanes=e.childLanes=536870912,wk(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(l2(e,i.cachePool),lk(e,i),Bu(),e.memoizedState=null):(t!==null&&l2(e,null),h3(),Bu());return Tr(t,e,r,n),e.child}function wk(t,e,n,s){var r=cE();return r=r===null?null:{parent:er._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&l2(e,null),h3(),HD(e),t!==null&&Dx(t,e,s,!0),null}function d2(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Ke(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function x3(t,e,n,s,r){return _f(e),n=fE(t,e,n,s,void 0,r),s=mE(),t!==null&&!gr?(pE(t,e,r),Pc(t,e,r)):(hn&&s&&aE(e),e.flags|=1,Tr(t,e,n,r),e.child)}function _k(t,e,n,s,r,i){return _f(e),e.updateQueue=null,n=hD(e,s,n,r),dD(t),s=mE(),t!==null&&!gr?(pE(t,e,i),Pc(t,e,i)):(hn&&s&&aE(e),e.flags|=1,Tr(t,e,n,i),e.child)}function Nk(t,e,n,s,r){if(_f(e),e.stateNode===null){var i=ep,a=n.contextType;typeof a=="object"&&a!==null&&(i=Zr(a)),i=new n(s,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=g3,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=s,i.state=e.memoizedState,i.refs={},uE(e),a=n.contextType,i.context=typeof a=="object"&&a!==null?Zr(a):ep,i.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(hN(e,n,a,s),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(a=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),a!==i.state&&g3.enqueueReplaceState(i,i.state,null),ry(e,s,i,r),sy(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){i=e.stateNode;var l=e.memoizedProps,c=Sf(n,l);i.props=c;var u=i.context,d=n.contextType;a=ep,typeof d=="object"&&d!==null&&(a=Zr(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==a)&&yk(e,i,s,a),Du=!1;var f=e.memoizedState;i.state=f,ry(e,s,i,r),sy(),u=e.memoizedState,l||f!==u||Du?(typeof h=="function"&&(hN(e,n,h,s),u=e.memoizedState),(c=Du||gk(e,n,c,s,f,u,a))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),i.props=s,i.state=u,i.context=a,s=c):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{i=e.stateNode,u3(t,e),a=e.memoizedProps,d=Sf(n,a),i.props=d,h=e.pendingProps,f=i.context,u=n.contextType,c=ep,typeof u=="object"&&u!==null&&(c=Zr(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||f!==c)&&yk(e,i,s,c),Du=!1,f=e.memoizedState,i.state=f,ry(e,s,i,r),sy();var m=e.memoizedState;a!==h||f!==m||Du||t!==null&&t.dependencies!==null&&tv(t.dependencies)?(typeof l=="function"&&(hN(e,n,l,s),m=e.memoizedState),(d=Du||gk(e,n,d,s,f,m,c)||t!==null&&t.dependencies!==null&&tv(t.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,m,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),i.props=s,i.state=m,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return i=s,d2(t,e),s=(e.flags&128)!==0,i||s?(i=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&s?(e.child=Hp(e,t.child,null,r),e.child=Hp(e,null,n,r)):Tr(t,e,n,r),e.memoizedState=i.state,t=e.child):t=Pc(t,e,r),t}function Sk(t,e,n,s){return Mx(),e.flags|=256,Tr(t,e,n,s),e.child}var fN={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mN(t){return{baseLanes:t,cachePool:aD()}}function pN(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=za),t}function eO(t,e,n){var s=e.pendingProps,r=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(tr.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(hn){if(r?Fu(e):Bu(),hn){var l=ys,c;if(c=l){e:{for(c=l,l=dl;c.nodeType!==8;){if(!l){l=null;break e}if(c=To(c.nextSibling),c===null){l=null;break e}}l=c}l!==null?(e.memoizedState={dehydrated:l,treeContext:af!==null?{id:pc,overflow:gc}:null,retryLane:536870912,hydrationErrors:null},c=ia(18,null,null,0),c.stateNode=l,c.return=e,e.child=c,hi=e,ys=null,c=!0):c=!1}c||wf(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return R3(l)?e.lanes=32:e.lanes=536870912,null;xc(e)}return l=s.children,s=s.fallback,r?(Bu(),r=e.mode,l=cv({mode:"hidden",children:l},r),s=rf(s,r,n,null),l.return=e,s.return=e,l.sibling=s,e.child=l,r=e.child,r.memoizedState=mN(n),r.childLanes=pN(t,a,n),e.memoizedState=fN,s):(Fu(e),b3(e,l))}if(c=t.memoizedState,c!==null&&(l=c.dehydrated,l!==null)){if(i)e.flags&256?(Fu(e),e.flags&=-257,e=gN(t,e,n)):e.memoizedState!==null?(Bu(),e.child=t.child,e.flags|=128,e=null):(Bu(),r=s.fallback,l=e.mode,s=cv({mode:"visible",children:s.children},l),r=rf(r,l,n,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,Hp(e,t.child,null,n),s=e.child,s.memoizedState=mN(n),s.childLanes=pN(t,a,n),e.memoizedState=fN,e=r);else if(Fu(e),R3(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var u=a.dgst;a=u,s=Error(Ke(419)),s.stack="",s.digest=a,Oy({value:s,source:null,stack:null}),e=gN(t,e,n)}else if(gr||Dx(t,e,n,!1),a=(n&t.childLanes)!==0,gr||a){if(a=qn,a!==null&&(s=n&-n,s=s&42?1:Wj(s),s=s&(a.suspendedLanes|n)?0:s,s!==0&&s!==c.retryLane))throw c.retryLane=s,wg(t,s),da(a,t,s),XD;l.data==="$?"||j3(),e=gN(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,ys=To(l.nextSibling),hi=e,hn=!0,of=null,dl=!1,t!==null&&(Fa[Ba++]=pc,Fa[Ba++]=gc,Fa[Ba++]=af,pc=t.id,gc=t.overflow,af=e),e=b3(e,s.children),e.flags|=4096);return e}return r?(Bu(),r=s.fallback,l=e.mode,c=t.child,u=c.sibling,s=Nc(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?r=Nc(u,r):(r=rf(r,l,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,l=t.child.memoizedState,l===null?l=mN(n):(c=l.cachePool,c!==null?(u=er._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=aD(),l={baseLanes:l.baseLanes|n,cachePool:c}),r.memoizedState=l,r.childLanes=pN(t,a,n),e.memoizedState=fN,s):(Fu(e),n=t.child,t=n.sibling,n=Nc(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function b3(t,e){return e=cv({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function cv(t,e){return t=ia(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function gN(t,e,n){return Hp(e,t.child,null,n),t=b3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jk(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),a3(t.return,e,n)}function yN(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function tO(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Tr(t,e,s.children,n),s=tr.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jk(t,n,e);else if(t.tag===19)jk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(ss(tr,s),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&av(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),yN(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&av(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}yN(e,!0,n,null,i);break;case"together":yN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pd|=e.lanes,!(n&e.childLanes))if(t!==null){if(Dx(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Ke(153));if(e.child!==null){for(t=e.child,n=Nc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SE(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&tv(t)))}function sY(t,e,n){switch(e.tag){case 3:G2(e,e.stateNode.containerInfo),Ou(e,er,t.memoizedState.cache),Mx();break;case 27:case 5:W4(e);break;case 4:G2(e,e.stateNode.containerInfo);break;case 10:Ou(e,e.type,e.memoizedProps.value);break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Fu(e),e.flags|=128,null):n&e.child.childLanes?eO(t,e,n):(Fu(e),t=Pc(t,e,n),t!==null?t.sibling:null);Fu(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(Dx(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return tO(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ss(tr,tr.current),s)break;return null;case 22:case 23:return e.lanes=0,ZD(t,e,n);case 24:Ou(e,er,t.memoizedState.cache)}return Pc(t,e,n)}function nO(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)gr=!0;else{if(!SE(t,n)&&!(e.flags&128))return gr=!1,sY(t,e,n);gr=!!(t.flags&131072)}else gr=!1,hn&&e.flags&1048576&&rD(e,ev,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var s=e.elementType,r=s._init;if(s=r(s._payload),e.type=s,typeof s=="function")iE(s)?(t=Sf(s,t),e.tag=1,e=Nk(null,e,s,t,n)):(e.tag=0,e=x3(null,e,s,t,n));else{if(s!=null){if(r=s.$$typeof,r===Hj){e.tag=11,e=bk(null,e,s,t,n);break e}else if(r===Qj){e.tag=14,e=vk(null,e,s,t,n);break e}}throw e=Q4(s)||s,Error(Ke(306,e,""))}}return e;case 0:return x3(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=Sf(s,e.pendingProps),Nk(t,e,s,r,n);case 3:e:{if(G2(e,e.stateNode.containerInfo),t===null)throw Error(Ke(387));s=e.pendingProps;var i=e.memoizedState;r=i.element,u3(t,e),ry(e,s,null,n);var a=e.memoizedState;if(s=a.cache,Ou(e,er,s),s!==i.cache&&o3(e,[er],n,!0),sy(),s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Sk(t,e,s,n);break e}else if(s!==r){r=Ua(Error(Ke(424)),e),Oy(r),e=Sk(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ys=To(t.firstChild),hi=e,hn=!0,of=null,dl=!0,n=qD(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Mx(),s===r){e=Pc(t,e,n);break e}Tr(t,e,s,n)}e=e.child}return e;case 26:return d2(t,e),t===null?(n=zk(e.type,null,e.pendingProps,null))?e.memoizedState=n:hn||(n=e.type,t=e.pendingProps,s=gv(ud.current).createElement(n),s[Jr]=e,s[qi]=t,Ir(s,n,t),fr(s),e.stateNode=s):e.memoizedState=zk(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return W4(e),t===null&&hn&&(s=e.stateNode=zO(e.type,e.pendingProps,ud.current),hi=e,dl=!0,r=ys,Jd(e.type)?(I3=r,ys=To(s.firstChild)):ys=r),Tr(t,e,e.pendingProps.children,n),d2(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&hn&&((r=s=ys)&&(s=PY(s,e.type,e.pendingProps,dl),s!==null?(e.stateNode=s,hi=e,ys=To(s.firstChild),dl=!1,r=!0):r=!1),r||wf(e)),W4(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,k3(r,i)?s=null:a!==null&&k3(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=fE(t,e,YW,null,null,n),$y._currentValue=r),d2(t,e),Tr(t,e,s,n),e.child;case 6:return t===null&&hn&&((t=n=ys)&&(n=RY(n,e.pendingProps,dl),n!==null?(e.stateNode=n,hi=e,ys=null,t=!0):t=!1),t||wf(e)),null;case 13:return eO(t,e,n);case 4:return G2(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Hp(e,null,s,n):Tr(t,e,s,n),e.child;case 11:return bk(t,e,e.type,e.pendingProps,n);case 7:return Tr(t,e,e.pendingProps,n),e.child;case 8:return Tr(t,e,e.pendingProps.children,n),e.child;case 12:return Tr(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,Ou(e,e.type,s.value),Tr(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,_f(e),r=Zr(r),s=s(r),e.flags|=1,Tr(t,e,s,n),e.child;case 14:return vk(t,e,e.type,e.pendingProps,n);case 15:return JD(t,e,e.type,e.pendingProps,n);case 19:return tO(t,e,n);case 31:return s=e.pendingProps,n=e.mode,s={mode:s.mode,children:s.children},t===null?(n=cv(s,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Nc(t.child,s),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return ZD(t,e,n);case 24:return _f(e),s=Zr(er),t===null?(r=cE(),r===null&&(r=qn,i=lE(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:s,cache:r},uE(e),Ou(e,er,r)):(t.lanes&n&&(u3(t,e),ry(e,null,null,n),sy()),r=t.memoizedState,i=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Ou(e,er,s)):(s=i.cache,Ou(e,er,s),s!==r.cache&&o3(e,[er],n,!0))),Tr(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Ke(156,e.tag))}function sc(t){t.flags|=4}function Ek(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!HO(e)){if(e=Ha.current,e!==null&&((rn&4194048)===rn?yl!==null:(rn&62914560)!==rn&&!(rn&536870912)||e!==yl))throw ty=c3,oD;t.flags|=8192}}function ub(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?TM():536870912,t.lanes|=e,Qp|=e)}function m0(t,e){if(!hn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function is(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function rY(t,e,n){var s=e.pendingProps;switch(oE(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return is(e),null;case 1:return is(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Sc(er),Bp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(h0(e)?sc(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nk())),is(e),null;case 26:return n=e.memoizedState,t===null?(sc(e),n!==null?(is(e),Ek(e,n)):(is(e),e.flags&=-16777217)):n?n!==t.memoizedState?(sc(e),is(e),Ek(e,n)):(is(e),e.flags&=-16777217):(t.memoizedProps!==s&&sc(e),is(e),e.flags&=-16777217),null;case 27:W2(e),n=ud.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==s&&sc(e);else{if(!s){if(e.stateNode===null)throw Error(Ke(166));return is(e),null}t=pl.current,h0(e)?ek(e):(t=zO(r,s,n),e.stateNode=t,sc(e))}return is(e),null;case 5:if(W2(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&sc(e);else{if(!s){if(e.stateNode===null)throw Error(Ke(166));return is(e),null}if(t=pl.current,h0(e))ek(e);else{switch(r=gv(ud.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}t[Jr]=e,t[qi]=s;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(Ir(t,n,s),n){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&sc(e)}}return is(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&sc(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Ke(166));if(t=ud.current,h0(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=hi,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[Jr]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||BO(t.nodeValue,n)),t||wf(e)}else t=gv(t).createTextNode(s),t[Jr]=e,e.stateNode=t}return is(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=h0(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(Ke(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ke(317));r[Jr]=e}else Mx(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;is(e),r=!1}else r=nk(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(xc(e),e):(xc(e),null)}if(xc(e),e.flags&128)return e.lanes=n,e;if(n=s!==null,t=t!==null&&t.memoizedState!==null,n){s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var i=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),ub(e,e.updateQueue),is(e),null;case 4:return Bp(),t===null&&RE(e.stateNode.containerInfo),is(e),null;case 10:return Sc(e.type),is(e),null;case 19:if(yr(tr),r=e.memoizedState,r===null)return is(e),null;if(s=(e.flags&128)!==0,i=r.rendering,i===null)if(s)m0(r,!1);else{if(xs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=av(t),i!==null){for(e.flags|=128,m0(r,!1),t=i.updateQueue,e.updateQueue=t,ub(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)sD(n,t),n=n.sibling;return ss(tr,tr.current&1|2),e.child}t=t.sibling}r.tail!==null&&gl()>dv&&(e.flags|=128,s=!0,m0(r,!1),e.lanes=4194304)}else{if(!s)if(t=av(i),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,ub(e,t),m0(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!hn)return is(e),null}else 2*gl()-r.renderingStartTime>dv&&n!==536870912&&(e.flags|=128,s=!0,m0(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=gl(),e.sibling=null,t=tr.current,ss(tr,s?t&1|2:t&1),e):(is(e),null);case 22:case 23:return xc(e),dE(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(is(e),e.subtreeFlags&6&&(e.flags|=8192)):is(e),n=e.updateQueue,n!==null&&ub(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&yr(lf),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Sc(er),is(e),null;case 25:return null;case 30:return null}throw Error(Ke(156,e.tag))}function iY(t,e){switch(oE(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sc(er),Bp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return W2(e),null;case 13:if(xc(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ke(340));Mx()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yr(tr),null;case 4:return Bp(),null;case 10:return Sc(e.type),null;case 22:case 23:return xc(e),dE(),t!==null&&yr(lf),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Sc(er),null;case 25:return null;default:return null}}function sO(t,e){switch(oE(e),e.tag){case 3:Sc(er),Bp();break;case 26:case 27:case 5:W2(e);break;case 4:Bp();break;case 13:xc(e);break;case 19:yr(tr);break;case 10:Sc(e.type);break;case 22:case 23:xc(e),dE(),t!==null&&yr(lf);break;case 24:Sc(er)}}function Ux(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var i=n.create,a=n.inst;s=i(),a.destroy=s}n=n.next}while(n!==r)}}catch(l){Bn(e,e.return,l)}}function kd(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&t)===t){var a=s.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var c=n,u=l;try{u()}catch(d){Bn(r,c,d)}}}s=s.next}while(s!==i)}}catch(d){Bn(e,e.return,d)}}function rO(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{uD(e,n)}catch(s){Bn(t,t.return,s)}}}function iO(t,e,n){n.props=Sf(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){Bn(t,e,s)}}function ay(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){Bn(t,e,r)}}function hl(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){Bn(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Bn(t,e,r)}else n.current=null}function aO(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){Bn(t,t.return,r)}}function xN(t,e,n){try{var s=t.stateNode;EY(s,t.type,n,e),s[qi]=e}catch(r){Bn(t,t.return,r)}}function oO(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Jd(t.type)||t.tag===4}function bN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Jd(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function v3(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=r5));else if(s!==4&&(s===27&&Jd(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(v3(t,e,n),t=t.sibling;t!==null;)v3(t,e,n),t=t.sibling}function uv(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&Jd(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(uv(t,e,n),t=t.sibling;t!==null;)uv(t,e,n),t=t.sibling}function lO(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Ir(e,s,n),e[Jr]=t,e[qi]=n}catch(i){Bn(t,t.return,i)}}var hc=!1,ks=!1,vN=!1,Ak=typeof WeakSet=="function"?WeakSet:Set,dr=null;function aY(t,e){if(t=t.containerInfo,T3=vv,t=YM(t),nE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||r!==0&&h.nodeType!==3||(l=a+r),h!==i||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===r&&(l=a),f===i&&++d===s&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(C3={focusedElem:t,selectionRange:n},vv=!1,dr=e;dr!==null;)if(e=dr,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,dr=t;else for(;dr!==null;){switch(e=dr,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var p=Sf(n.type,r,n.elementType===n.type);t=s.getSnapshotBeforeUpdate(p,i),s.__reactInternalSnapshotBeforeUpdate=t}catch(x){Bn(n,n.return,x)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)P3(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":P3(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Ke(163))}if(t=e.sibling,t!==null){t.return=e.return,dr=t;break}dr=e.return}}function cO(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Au(t,n),s&4&&Ux(5,n);break;case 1:if(Au(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Bn(n,n.return,a)}else{var r=Sf(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Bn(n,n.return,a)}}s&64&&rO(n),s&512&&ay(n,n.return);break;case 3:if(Au(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{uD(t,e)}catch(a){Bn(n,n.return,a)}}break;case 27:e===null&&s&4&&lO(n);case 26:case 5:Au(t,n),e===null&&s&4&&aO(n),s&512&&ay(n,n.return);break;case 12:Au(t,n);break;case 13:Au(t,n),s&4&&hO(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=pY.bind(null,n),IY(t,n))));break;case 22:if(s=n.memoizedState!==null||hc,!s){e=e!==null&&e.memoizedState!==null||ks,r=hc;var i=ks;hc=s,(ks=e)&&!i?Iu(t,n,(n.subtreeFlags&8772)!==0):Au(t,n),hc=r,ks=i}break;case 30:break;default:Au(t,n)}}function uO(t){var e=t.alternate;e!==null&&(t.alternate=null,uO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Kj(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ts=null,Li=!1;function rc(t,e,n){for(n=n.child;n!==null;)dO(t,e,n),n=n.sibling}function dO(t,e,n){if(la&&typeof la.onCommitFiberUnmount=="function")try{la.onCommitFiberUnmount(kx,n)}catch{}switch(n.tag){case 26:ks||hl(n,e),rc(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ks||hl(n,e);var s=ts,r=Li;Jd(n.type)&&(ts=n.stateNode,Li=!1),rc(t,e,n),uy(n.stateNode),ts=s,Li=r;break;case 5:ks||hl(n,e);case 6:if(s=ts,r=Li,ts=null,rc(t,e,n),ts=s,Li=r,ts!==null)if(Li)try{(ts.nodeType===9?ts.body:ts.nodeName==="HTML"?ts.ownerDocument.body:ts).removeChild(n.stateNode)}catch(i){Bn(n,e,i)}else try{ts.removeChild(n.stateNode)}catch(i){Bn(n,e,i)}break;case 18:ts!==null&&(Li?(t=ts,Bk(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Qy(t)):Bk(ts,n.stateNode));break;case 4:s=ts,r=Li,ts=n.stateNode.containerInfo,Li=!0,rc(t,e,n),ts=s,Li=r;break;case 0:case 11:case 14:case 15:ks||kd(2,n,e),ks||kd(4,n,e),rc(t,e,n);break;case 1:ks||(hl(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&iO(n,e,s)),rc(t,e,n);break;case 21:rc(t,e,n);break;case 22:ks=(s=ks)||n.memoizedState!==null,rc(t,e,n),ks=s;break;default:rc(t,e,n)}}function hO(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qy(t)}catch(n){Bn(e,e.return,n)}}function oY(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ak),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ak),e;default:throw Error(Ke(435,t.tag))}}function wN(t,e){var n=oY(t);e.forEach(function(s){var r=gY.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}function ta(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(Jd(l.type)){ts=l.stateNode,Li=!1;break e}break;case 5:ts=l.stateNode,Li=!1;break e;case 3:case 4:ts=l.stateNode.containerInfo,Li=!0;break e}l=l.return}if(ts===null)throw Error(Ke(160));dO(i,a,r),ts=null,Li=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)fO(e,t),e=e.sibling}var xo=null;function fO(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ta(e,t),na(t),s&4&&(kd(3,t,t.return),Ux(3,t),kd(5,t,t.return));break;case 1:ta(e,t),na(t),s&512&&(ks||n===null||hl(n,n.return)),s&64&&hc&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=xo;if(ta(e,t),na(t),s&512&&(ks||n===null||hl(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[Ix]||i[Jr]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),Ir(i,s,n),i[Jr]=t,fr(i),s=i;break e;case"link":var a=qk("link","href",r).get(s+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(i=a[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}i=r.createElement(s),Ir(i,s,n),r.head.appendChild(i);break;case"meta":if(a=qk("meta","content",r).get(s+(n.content||""))){for(l=0;l<a.length;l++)if(i=a[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}i=r.createElement(s),Ir(i,s,n),r.head.appendChild(i);break;default:throw Error(Ke(468,s))}i[Jr]=t,fr(i),s=i}t.stateNode=s}else Hk(r,t.type,t.stateNode);else t.stateNode=$k(r,s,t.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?Hk(r,t.type,t.stateNode):$k(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&xN(t,t.memoizedProps,n.memoizedProps)}break;case 27:ta(e,t),na(t),s&512&&(ks||n===null||hl(n,n.return)),n!==null&&s&4&&xN(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ta(e,t),na(t),s&512&&(ks||n===null||hl(n,n.return)),t.flags&32){r=t.stateNode;try{Up(r,"")}catch(m){Bn(t,t.return,m)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,xN(t,r,n!==null?n.memoizedProps:r)),s&1024&&(vN=!0);break;case 6:if(ta(e,t),na(t),s&4){if(t.stateNode===null)throw Error(Ke(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(m){Bn(t,t.return,m)}}break;case 3:if(m2=null,r=xo,xo=yv(e.containerInfo),ta(e,t),xo=r,na(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Qy(e.containerInfo)}catch(m){Bn(t,t.return,m)}vN&&(vN=!1,mO(t));break;case 4:s=xo,xo=yv(t.stateNode.containerInfo),ta(e,t),na(t),xo=s;break;case 12:ta(e,t),na(t);break;case 13:ta(e,t),na(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(CE=gl()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,wN(t,s)));break;case 22:r=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=hc,d=ks;if(hc=u||r,ks=d||c,ta(e,t),ks=d,hc=u,na(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||c||hc||ks||Oh(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(i=c.stateNode,r)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){Bn(c,c.return,m)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(m){Bn(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,wN(t,n))));break;case 19:ta(e,t),na(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,wN(t,s)));break;case 30:break;case 21:break;default:ta(e,t),na(t)}}function na(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(oO(s)){n=s;break}s=s.return}if(n==null)throw Error(Ke(160));switch(n.tag){case 27:var r=n.stateNode,i=bN(t);uv(t,i,r);break;case 5:var a=n.stateNode;n.flags&32&&(Up(a,""),n.flags&=-33);var l=bN(t);uv(t,l,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=bN(t);v3(t,u,c);break;default:throw Error(Ke(161))}}catch(d){Bn(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mO(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;mO(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Au(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)cO(t,e.alternate,e),e=e.sibling}function Oh(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:kd(4,e,e.return),Oh(e);break;case 1:hl(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&iO(e,e.return,n),Oh(e);break;case 27:uy(e.stateNode);case 26:case 5:hl(e,e.return),Oh(e);break;case 22:e.memoizedState===null&&Oh(e);break;case 30:Oh(e);break;default:Oh(e)}t=t.sibling}}function Iu(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,i=e,a=i.flags;switch(i.tag){case 0:case 11:case 15:Iu(r,i,n),Ux(4,i);break;case 1:if(Iu(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){Bn(s,s.return,u)}if(s=i,r=s.updateQueue,r!==null){var l=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)cD(c[r],l)}catch(u){Bn(s,s.return,u)}}n&&a&64&&rO(i),ay(i,i.return);break;case 27:lO(i);case 26:case 5:Iu(r,i,n),n&&s===null&&a&4&&aO(i),ay(i,i.return);break;case 12:Iu(r,i,n);break;case 13:Iu(r,i,n),n&&a&4&&hO(r,i);break;case 22:i.memoizedState===null&&Iu(r,i,n),ay(i,i.return);break;case 30:break;default:Iu(r,i,n)}e=e.sibling}}function jE(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ox(n))}function EE(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ox(t))}function tl(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pO(t,e,n,s),e=e.sibling}function pO(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:tl(t,e,n,s),r&2048&&Ux(9,e);break;case 1:tl(t,e,n,s);break;case 3:tl(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ox(t)));break;case 12:if(r&2048){tl(t,e,n,s),t=e.stateNode;try{var i=e.memoizedProps,a=i.id,l=i.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Bn(e,e.return,c)}}else tl(t,e,n,s);break;case 13:tl(t,e,n,s);break;case 23:break;case 22:i=e.stateNode,a=e.alternate,e.memoizedState!==null?i._visibility&2?tl(t,e,n,s):oy(t,e):i._visibility&2?tl(t,e,n,s):(i._visibility|=2,Bm(t,e,n,s,(e.subtreeFlags&10256)!==0)),r&2048&&jE(a,e);break;case 24:tl(t,e,n,s),r&2048&&EE(e.alternate,e);break;default:tl(t,e,n,s)}}function Bm(t,e,n,s,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,a=e,l=n,c=s,u=a.flags;switch(a.tag){case 0:case 11:case 15:Bm(i,a,l,c,r),Ux(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Bm(i,a,l,c,r):oy(i,a):(d._visibility|=2,Bm(i,a,l,c,r)),r&&u&2048&&jE(a.alternate,a);break;case 24:Bm(i,a,l,c,r),r&&u&2048&&EE(a.alternate,a);break;default:Bm(i,a,l,c,r)}e=e.sibling}}function oy(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:oy(n,s),r&2048&&jE(s.alternate,s);break;case 24:oy(n,s),r&2048&&EE(s.alternate,s);break;default:oy(n,s)}e=e.sibling}}var R0=8192;function Cm(t){if(t.subtreeFlags&R0)for(t=t.child;t!==null;)gO(t),t=t.sibling}function gO(t){switch(t.tag){case 26:Cm(t),t.flags&R0&&t.memoizedState!==null&&QY(xo,t.memoizedState,t.memoizedProps);break;case 5:Cm(t);break;case 3:case 4:var e=xo;xo=yv(t.stateNode.containerInfo),Cm(t),xo=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=R0,R0=16777216,Cm(t),R0=e):Cm(t));break;default:Cm(t)}}function yO(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function p0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];dr=s,bO(s,t)}yO(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xO(t),t=t.sibling}function xO(t){switch(t.tag){case 0:case 11:case 15:p0(t),t.flags&2048&&kd(9,t,t.return);break;case 3:p0(t);break;case 12:p0(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,h2(t)):p0(t);break;default:p0(t)}}function h2(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];dr=s,bO(s,t)}yO(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:kd(8,e,e.return),h2(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,h2(e));break;default:h2(e)}t=t.sibling}}function bO(t,e){for(;dr!==null;){var n=dr;switch(n.tag){case 0:case 11:case 15:kd(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ox(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,dr=s;else e:for(n=t;dr!==null;){s=dr;var r=s.sibling,i=s.return;if(uO(s),s===n){dr=null;break e}if(r!==null){r.return=i,dr=r;break e}dr=i}}}var lY={getCacheForType:function(t){var e=Zr(er),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},cY=typeof WeakMap=="function"?WeakMap:Map,An=0,qn=null,Gt=null,rn=0,_n=0,ra=null,Ku=!1,_g=!1,AE=!1,Rc=0,xs=0,Pd=0,cf=0,TE=0,za=0,Qp=0,ly=null,Mi=null,w3=!1,CE=0,dv=1/0,hv=null,fd=null,kr=0,md=null,Gp=null,Np=0,_3=0,N3=null,vO=null,cy=0,S3=null;function ua(){if(An&2&&rn!==0)return rn&-rn;if(Rt.T!==null){var t=zp;return t!==0?t:PE()}return PM()}function wO(){za===0&&(za=!(rn&536870912)||hn?AM():536870912);var t=Ha.current;return t!==null&&(t.flags|=32),za}function da(t,e,n){(t===qn&&(_n===2||_n===9)||t.cancelPendingCommit!==null)&&(Wp(t,0),Xu(t,rn,za,!1)),Rx(t,n),(!(An&2)||t!==qn)&&(t===qn&&(!(An&2)&&(cf|=n),xs===4&&Xu(t,rn,za,!1)),Il(t))}function _O(t,e,n){if(An&6)throw Error(Ke(327));var s=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Px(t,e),r=s?hY(t,e):_N(t,e,!0),i=s;do{if(r===0){_g&&!s&&Xu(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!uY(n)){r=_N(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=ly;var c=l.current.memoizedState.isDehydrated;if(c&&(Wp(l,a).flags|=256),a=_N(l,a,!1),a!==2){if(AE&&!c){l.errorRecoveryDisabledLanes|=i,cf|=i,r=4;break e}i=Mi,Mi=r,i!==null&&(Mi===null?Mi=i:Mi.push.apply(Mi,i))}r=a}if(i=!1,r!==2)continue}}if(r===1){Wp(t,0),Xu(t,e,0,!0);break}e:{switch(s=t,i=r,i){case 0:case 1:throw Error(Ke(345));case 4:if((e&4194048)!==e)break;case 6:Xu(s,e,za,!Ku);break e;case 2:Mi=null;break;case 3:case 5:break;default:throw Error(Ke(329))}if((e&62914560)===e&&(r=CE+300-gl(),10<r)){if(Xu(s,e,za,!Ku),Hw(s,0,!0)!==0)break e;s.timeoutHandle=UO(Tk.bind(null,s,n,Mi,hv,w3,e,za,cf,Qp,Ku,i,2,-0,0),r);break e}Tk(s,n,Mi,hv,w3,e,za,cf,Qp,Ku,i,0,-0,0)}}break}while(!0);Il(t)}function Tk(t,e,n,s,r,i,a,l,c,u,d,h,f,m){if(t.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(zy={stylesheets:null,count:0,unsuspend:HY},gO(e),h=GY(),h!==null)){t.cancelPendingCommit=h(kk.bind(null,t,e,i,n,s,r,a,l,c,d,1,f,m)),Xu(t,i,a,!u);return}kk(t,e,i,n,s,r,a,l,c)}function uY(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!pa(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xu(t,e,n,s){e&=~TE,e&=~cf,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var i=31-ca(r),a=1<<i;s[i]=-1,r&=~a}n!==0&&CM(t,n,e)}function t5(){return An&6?!0:(zx(0),!1)}function kE(){if(Gt!==null){if(_n===0)var t=Gt.return;else t=Gt,yc=qf=null,gE(t),_p=null,By=0,t=Gt;for(;t!==null;)sO(t.alternate,t),t=t.return;Gt=null}}function Wp(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,TY(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),kE(),qn=t,Gt=n=Nc(t.current,null),rn=e,_n=0,ra=null,Ku=!1,_g=Px(t,e),AE=!1,Qp=za=TE=cf=Pd=xs=0,Mi=ly=null,w3=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-ca(s),i=1<<r;e|=t[r],s&=~i}return Rc=e,Yw(),n}function NO(t,e){qt=null,Rt.H=iv,e===Fx||e===Xw?(e=ak(),_n=3):e===oD?(e=ak(),_n=4):_n=e===XD?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ra=e,Gt===null&&(xs=1,lv(t,Ua(e,t.current)))}function SO(){var t=Rt.H;return Rt.H=iv,t===null?iv:t}function jO(){var t=Rt.A;return Rt.A=lY,t}function j3(){xs=4,Ku||(rn&4194048)!==rn&&Ha.current!==null||(_g=!0),!(Pd&134217727)&&!(cf&134217727)||qn===null||Xu(qn,rn,za,!1)}function _N(t,e,n){var s=An;An|=2;var r=SO(),i=jO();(qn!==t||rn!==e)&&(hv=null,Wp(t,e)),e=!1;var a=xs;e:do try{if(_n!==0&&Gt!==null){var l=Gt,c=ra;switch(_n){case 8:kE(),a=6;break e;case 3:case 2:case 9:case 6:Ha.current===null&&(e=!0);var u=_n;if(_n=0,ra=null,sp(t,l,c,u),n&&_g){a=0;break e}break;default:u=_n,_n=0,ra=null,sp(t,l,c,u)}}dY(),a=xs;break}catch(d){NO(t,d)}while(!0);return e&&t.shellSuspendCounter++,yc=qf=null,An=s,Rt.H=r,Rt.A=i,Gt===null&&(qn=null,rn=0,Yw()),a}function dY(){for(;Gt!==null;)EO(Gt)}function hY(t,e){var n=An;An|=2;var s=SO(),r=jO();qn!==t||rn!==e?(hv=null,dv=gl()+500,Wp(t,e)):_g=Px(t,e);e:do try{if(_n!==0&&Gt!==null){e=Gt;var i=ra;t:switch(_n){case 1:_n=0,ra=null,sp(t,e,i,1);break;case 2:case 9:if(ik(i)){_n=0,ra=null,Ck(e);break}e=function(){_n!==2&&_n!==9||qn!==t||(_n=7),Il(t)},i.then(e,e);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:ik(i)?(_n=0,ra=null,Ck(e)):(_n=0,ra=null,sp(t,e,i,7));break;case 5:var a=null;switch(Gt.tag){case 26:a=Gt.memoizedState;case 5:case 27:var l=Gt;if(!a||HO(a)){_n=0,ra=null;var c=l.sibling;if(c!==null)Gt=c;else{var u=l.return;u!==null?(Gt=u,n5(u)):Gt=null}break t}}_n=0,ra=null,sp(t,e,i,5);break;case 6:_n=0,ra=null,sp(t,e,i,6);break;case 8:kE(),xs=6;break e;default:throw Error(Ke(462))}}fY();break}catch(d){NO(t,d)}while(!0);return yc=qf=null,Rt.H=s,Rt.A=r,An=n,Gt!==null?0:(qn=null,rn=0,Yw(),xs)}function fY(){for(;Gt!==null&&!MG();)EO(Gt)}function EO(t){var e=nO(t.alternate,t,Rc);t.memoizedProps=t.pendingProps,e===null?n5(t):Gt=e}function Ck(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=_k(n,e,e.pendingProps,e.type,void 0,rn);break;case 11:e=_k(n,e,e.pendingProps,e.type.render,e.ref,rn);break;case 5:gE(e);default:sO(n,e),e=Gt=sD(e,Rc),e=nO(n,e,Rc)}t.memoizedProps=t.pendingProps,e===null?n5(t):Gt=e}function sp(t,e,n,s){yc=qf=null,gE(e),_p=null,By=0;var r=e.return;try{if(nY(t,r,e,n,rn)){xs=1,lv(t,Ua(n,t.current)),Gt=null;return}}catch(i){if(r!==null)throw Gt=r,i;xs=1,lv(t,Ua(n,t.current)),Gt=null;return}e.flags&32768?(hn||s===1?t=!0:_g||rn&536870912?t=!1:(Ku=t=!0,(s===2||s===9||s===3||s===6)&&(s=Ha.current,s!==null&&s.tag===13&&(s.flags|=16384))),AO(e,t)):n5(e)}function n5(t){var e=t;do{if(e.flags&32768){AO(e,Ku);return}t=e.return;var n=rY(e.alternate,e,Rc);if(n!==null){Gt=n;return}if(e=e.sibling,e!==null){Gt=e;return}Gt=e=t}while(e!==null);xs===0&&(xs=5)}function AO(t,e){do{var n=iY(t.alternate,t);if(n!==null){n.flags&=32767,Gt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=n}while(t!==null);xs=6,Gt=null}function kk(t,e,n,s,r,i,a,l,c){t.cancelPendingCommit=null;do s5();while(kr!==0);if(An&6)throw Error(Ke(327));if(e!==null){if(e===t.current)throw Error(Ke(177));if(i=e.lanes|e.childLanes,i|=sE,HG(t,n,i,a,l,c),t===qn&&(Gt=qn=null,rn=0),Gp=e,md=t,Np=n,_3=i,N3=r,vO=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,yY(Y2,function(){return RO(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=Rt.T,Rt.T=null,r=mn.p,mn.p=2,a=An,An|=4;try{aY(t,e,n)}finally{An=a,mn.p=r,Rt.T=s}}kr=1,TO(),CO(),kO()}}function TO(){if(kr===1){kr=0;var t=md,e=Gp,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Rt.T,Rt.T=null;var s=mn.p;mn.p=2;var r=An;An|=4;try{fO(e,t);var i=C3,a=YM(t.containerInfo),l=i.focusedElem,c=i.selectionRange;if(a!==l&&l&&l.ownerDocument&&WM(l.ownerDocument.documentElement,l)){if(c!==null&&nE(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var h=l.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),p=l.textContent.length,x=Math.min(c.start,p),v=c.end===void 0?x:Math.min(c.end,p);!m.extend&&x>v&&(a=v,v=x,x=a);var y=XC(l,x),_=XC(l,v);if(y&&_&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==_.node||m.focusOffset!==_.offset)){var N=h.createRange();N.setStart(y.node,y.offset),m.removeAllRanges(),x>v?(m.addRange(N),m.extend(_.node,_.offset)):(N.setEnd(_.node,_.offset),m.addRange(N))}}}}for(h=[],m=l;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var P=h[l];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}vv=!!T3,C3=T3=null}finally{An=r,mn.p=s,Rt.T=n}}t.current=e,kr=2}}function CO(){if(kr===2){kr=0;var t=md,e=Gp,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Rt.T,Rt.T=null;var s=mn.p;mn.p=2;var r=An;An|=4;try{cO(t,e.alternate,e)}finally{An=r,mn.p=s,Rt.T=n}}kr=3}}function kO(){if(kr===4||kr===3){kr=0,DG();var t=md,e=Gp,n=Np,s=vO;e.subtreeFlags&10256||e.flags&10256?kr=5:(kr=0,Gp=md=null,PO(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(fd=null),Yj(n),e=e.stateNode,la&&typeof la.onCommitFiberRoot=="function")try{la.onCommitFiberRoot(kx,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=Rt.T,r=mn.p,mn.p=2,Rt.T=null;try{for(var i=t.onRecoverableError,a=0;a<s.length;a++){var l=s[a];i(l.value,{componentStack:l.stack})}}finally{Rt.T=e,mn.p=r}}Np&3&&s5(),Il(t),r=t.pendingLanes,n&4194090&&r&42?t===S3?cy++:(cy=0,S3=t):cy=0,zx(0)}}function PO(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ox(e)))}function s5(t){return TO(),CO(),kO(),RO()}function RO(){if(kr!==5)return!1;var t=md,e=_3;_3=0;var n=Yj(Np),s=Rt.T,r=mn.p;try{mn.p=32>n?32:n,Rt.T=null,n=N3,N3=null;var i=md,a=Np;if(kr=0,Gp=md=null,Np=0,An&6)throw Error(Ke(331));var l=An;if(An|=4,xO(i.current),pO(i,i.current,a,n),An=l,zx(0,!1),la&&typeof la.onPostCommitFiberRoot=="function")try{la.onPostCommitFiberRoot(kx,i)}catch{}return!0}finally{mn.p=r,Rt.T=s,PO(t,e)}}function Pk(t,e,n){e=Ua(n,e),e=y3(t.stateNode,e,2),t=hd(t,e,2),t!==null&&(Rx(t,2),Il(t))}function Bn(t,e,n){if(t.tag===3)Pk(t,t,n);else for(;e!==null;){if(e.tag===3){Pk(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(fd===null||!fd.has(s))){t=Ua(n,t),n=YD(2),s=hd(e,n,2),s!==null&&(KD(n,s,e,t),Rx(s,2),Il(s));break}}e=e.return}}function NN(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new cY;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(AE=!0,r.add(n),t=mY.bind(null,t,e,n),e.then(t,t))}function mY(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,qn===t&&(rn&n)===n&&(xs===4||xs===3&&(rn&62914560)===rn&&300>gl()-CE?!(An&2)&&Wp(t,0):TE|=n,Qp===rn&&(Qp=0)),Il(t)}function IO(t,e){e===0&&(e=TM()),t=wg(t,e),t!==null&&(Rx(t,e),Il(t))}function pY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IO(t,n)}function gY(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(Ke(314))}s!==null&&s.delete(e),IO(t,n)}function yY(t,e){return Gj(t,e)}var fv=null,Vm=null,E3=!1,mv=!1,SN=!1,uf=0;function Il(t){t!==Vm&&t.next===null&&(Vm===null?fv=Vm=t:Vm=Vm.next=t),mv=!0,E3||(E3=!0,bY())}function zx(t,e){if(!SN&&mv){SN=!0;do for(var n=!1,s=fv;s!==null;){if(t!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var a=s.suspendedLanes,l=s.pingedLanes;i=(1<<31-ca(42|t)+1)-1,i&=r&~(a&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Rk(s,i))}else i=rn,i=Hw(s,s===qn?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||Px(s,i)||(n=!0,Rk(s,i));s=s.next}while(n);SN=!1}}function xY(){LO()}function LO(){mv=E3=!1;var t=0;uf!==0&&(AY()&&(t=uf),uf=0);for(var e=gl(),n=null,s=fv;s!==null;){var r=s.next,i=MO(s,e);i===0?(s.next=null,n===null?fv=r:n.next=r,r===null&&(Vm=n)):(n=s,(t!==0||i&3)&&(mv=!0)),s=r}zx(t)}function MO(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var a=31-ca(i),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=qG(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}if(e=qn,n=rn,n=Hw(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(_n===2||_n===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&K_(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Px(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&K_(s),Yj(n)){case 2:case 8:n=jM;break;case 32:n=Y2;break;case 268435456:n=EM;break;default:n=Y2}return s=DO.bind(null,t),n=Gj(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&K_(s),t.callbackPriority=2,t.callbackNode=null,2}function DO(t,e){if(kr!==0&&kr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(s5()&&t.callbackNode!==n)return null;var s=rn;return s=Hw(t,t===qn?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(_O(t,s,e),MO(t,gl()),t.callbackNode!=null&&t.callbackNode===n?DO.bind(null,t):null)}function Rk(t,e){if(s5())return null;_O(t,e,!0)}function bY(){CY(function(){An&6?Gj(SM,xY):LO()})}function PE(){return uf===0&&(uf=AM()),uf}function Ik(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:r2(""+t)}function Lk(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function vY(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var i=Ik((r[qi]||null).action),a=s.submitter;a&&(e=(e=a[qi]||null)?Ik(e.formAction):a.getAttribute("formAction"),e!==null&&(i=e,a=null));var l=new Qw("action","action",null,s,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(uf!==0){var c=a?Lk(r,a):new FormData(r);p3(n,{pending:!0,data:c,method:r.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=a?Lk(r,a):new FormData(r),p3(n,{pending:!0,data:c,method:r.method,action:i},i,c))},currentTarget:r}]})}}for(var jN=0;jN<s3.length;jN++){var EN=s3[jN],wY=EN.toLowerCase(),_Y=EN[0].toUpperCase()+EN.slice(1);Do(wY,"on"+_Y)}Do(XM,"onAnimationEnd");Do(JM,"onAnimationIteration");Do(ZM,"onAnimationStart");Do("dblclick","onDoubleClick");Do("focusin","onFocus");Do("focusout","onBlur");Do(BW,"onTransitionRun");Do(VW,"onTransitionStart");Do(UW,"onTransitionCancel");Do(eD,"onTransitionEnd");Vp("onMouseEnter",["mouseout","mouseover"]);Vp("onMouseLeave",["mouseout","mouseover"]);Vp("onPointerEnter",["pointerout","pointerover"]);Vp("onPointerLeave",["pointerout","pointerover"]);Uf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vy));function OO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){ov(d)}r.currentTarget=null,i=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){ov(d)}r.currentTarget=null,i=c}}}}function Qt(t,e){var n=e[K4];n===void 0&&(n=e[K4]=new Set);var s=t+"__bubble";n.has(s)||(FO(e,t,2,!1),n.add(s))}function AN(t,e,n){var s=0;e&&(s|=4),FO(n,t,s,e)}var db="_reactListening"+Math.random().toString(36).slice(2);function RE(t){if(!t[db]){t[db]=!0,RM.forEach(function(n){n!=="selectionchange"&&(NY.has(n)||AN(n,!1,t),AN(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[db]||(e[db]=!0,AN("selectionchange",!1,e))}}function FO(t,e,n,s){switch(KO(e)){case 2:var r=KY;break;case 8:r=XY;break;default:r=DE}n=r.bind(null,e,n,t),r=void 0,!e3||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function TN(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Wm(l),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){s=i=a;continue e}l=l.parentNode}}s=s.return}VM(function(){var u=i,d=Jj(n),h=[];e:{var f=tD.get(t);if(f!==void 0){var m=Qw,p=t;switch(t){case"keypress":if(a2(n)===0)break e;case"keydown":case"keyup":m=yW;break;case"focusin":p="focus",m=rN;break;case"focusout":p="blur",m=rN;break;case"beforeblur":case"afterblur":m=rN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=UC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vW;break;case XM:case JM:case ZM:m=lW;break;case eD:m=_W;break;case"scroll":case"scrollend":m=sW;break;case"wheel":m=SW;break;case"copy":case"cut":case"paste":m=uW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$C;break;case"toggle":case"beforetoggle":m=EW}var x=(e&4)!==0,v=!x&&(t==="scroll"||t==="scrollend"),y=x?f!==null?f+"Capture":null:f;x=[];for(var _=u,N;_!==null;){var P=_;if(N=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||N===null||y===null||(P=Ly(_,y),P!=null&&x.push(Uy(_,P,N))),v)break;_=_.return}0<x.length&&(f=new m(f,p,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Z4&&(p=n.relatedTarget||n.fromElement)&&(Wm(p)||p[bg]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Wm(p):null,p!==null&&(v=Cx(p),x=p.tag,p!==v||x!==5&&x!==27&&x!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=UC,P="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=$C,P="onPointerLeave",y="onPointerEnter",_="pointer"),v=m==null?f:P0(m),N=p==null?f:P0(p),f=new x(P,_+"leave",m,n,d),f.target=v,f.relatedTarget=N,P=null,Wm(d)===u&&(x=new x(y,_+"enter",p,n,d),x.target=N,x.relatedTarget=v,P=x),v=P,m&&p)t:{for(x=m,y=p,_=0,N=x;N;N=km(N))_++;for(N=0,P=y;P;P=km(P))N++;for(;0<_-N;)x=km(x),_--;for(;0<N-_;)y=km(y),N--;for(;_--;){if(x===y||y!==null&&x===y.alternate)break t;x=km(x),y=km(y)}x=null}else x=null;m!==null&&Mk(h,f,m,x,!1),p!==null&&v!==null&&Mk(h,v,p,x,!0)}}e:{if(f=u?P0(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var I=GC;else if(QC(f))if(QM)I=DW;else{I=LW;var D=IW}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&Xj(u.elementType)&&(I=GC):I=MW;if(I&&(I=I(t,u))){HM(h,I,n,d);break e}D&&D(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&J4(f,"number",f.value)}switch(D=u?P0(u):window,t){case"focusin":(QC(D)||D.contentEditable==="true")&&(Xm=D,t3=u,Z0=null);break;case"focusout":Z0=t3=Xm=null;break;case"mousedown":n3=!0;break;case"contextmenu":case"mouseup":case"dragend":n3=!1,JC(h,n,d);break;case"selectionchange":if(FW)break;case"keydown":case"keyup":JC(h,n,d)}var C;if(tE)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Km?$M(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(zM&&n.locale!=="ko"&&(Km||w!=="onCompositionStart"?w==="onCompositionEnd"&&Km&&(C=UM()):(Yu=d,Zj="value"in Yu?Yu.value:Yu.textContent,Km=!0)),D=pv(u,w),0<D.length&&(w=new zC(w,t,null,n,d),h.push({event:w,listeners:D}),C?w.data=C:(C=qM(n),C!==null&&(w.data=C)))),(C=TW?CW(t,n):kW(t,n))&&(w=pv(u,"onBeforeInput"),0<w.length&&(D=new zC("onBeforeInput","beforeinput",null,n,d),h.push({event:D,listeners:w}),D.data=C)),vY(h,t,u,n,d)}OO(h,e)})}function Uy(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pv(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Ly(t,n),r!=null&&s.unshift(Uy(t,r,i)),r=Ly(t,e),r!=null&&s.push(Uy(t,r,i))),t.tag===3)return s;t=t.return}return[]}function km(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mk(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===s)break;l!==5&&l!==26&&l!==27||u===null||(c=u,r?(u=Ly(n,i),u!=null&&a.unshift(Uy(n,u,c))):r||(u=Ly(n,i),u!=null&&a.push(Uy(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var SY=/\r\n?/g,jY=/\u0000|\uFFFD/g;function Dk(t){return(typeof t=="string"?t:""+t).replace(SY,`
`).replace(jY,"")}function BO(t,e){return e=Dk(e),Dk(t)===e}function r5(){}function Rn(t,e,n,s,r,i){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Up(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Up(t,""+s);break;case"className":rb(t,"class",s);break;case"tabIndex":rb(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":rb(t,n,s);break;case"style":BM(t,s,i);break;case"data":if(e!=="object"){rb(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=r2(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&Rn(t,e,"name",r.name,r,null),Rn(t,e,"formEncType",r.formEncType,r,null),Rn(t,e,"formMethod",r.formMethod,r,null),Rn(t,e,"formTarget",r.formTarget,r,null)):(Rn(t,e,"encType",r.encType,r,null),Rn(t,e,"method",r.method,r,null),Rn(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=r2(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=r5);break;case"onScroll":s!=null&&Qt("scroll",t);break;case"onScrollEnd":s!=null&&Qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Ke(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Ke(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=r2(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":Qt("beforetoggle",t),Qt("toggle",t),s2(t,"popover",s);break;case"xlinkActuate":nc(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":nc(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":nc(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":nc(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":nc(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":nc(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":nc(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":nc(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":nc(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":s2(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tW.get(n)||n,s2(t,n,s))}}function A3(t,e,n,s,r,i){switch(n){case"style":BM(t,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Ke(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Ke(60));t.innerHTML=n}}break;case"children":typeof s=="string"?Up(t,s):(typeof s=="number"||typeof s=="bigint")&&Up(t,""+s);break;case"onScroll":s!=null&&Qt("scroll",t);break;case"onScrollEnd":s!=null&&Qt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=r5);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!IM.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[qi]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):s2(t,n,s)}}}function Ir(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",t),Qt("load",t);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(a!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Ke(137,e));default:Rn(t,e,i,a,n,null)}}r&&Rn(t,e,"srcSet",n.srcSet,n,null),s&&Rn(t,e,"src",n.src,n,null);return;case"input":Qt("invalid",t);var l=i=a=r=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":r=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Ke(137,e));break;default:Rn(t,e,s,d,n,null)}}DM(t,i,l,c,u,a,r,!1),K2(t);return;case"select":Qt("invalid",t),s=a=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:Rn(t,e,r,l,n,null)}e=i,n=a,t.multiple=!!s,e!=null?yp(t,!!s,e,!1):n!=null&&yp(t,!!s,n,!0);return;case"textarea":Qt("invalid",t),i=r=s=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":s=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(Ke(91));break;default:Rn(t,e,a,l,n,null)}FM(t,s,r,i),K2(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Rn(t,e,c,s,n,null)}return;case"dialog":Qt("beforetoggle",t),Qt("toggle",t),Qt("cancel",t),Qt("close",t);break;case"iframe":case"object":Qt("load",t);break;case"video":case"audio":for(s=0;s<Vy.length;s++)Qt(Vy[s],t);break;case"image":Qt("error",t),Qt("load",t);break;case"details":Qt("toggle",t);break;case"embed":case"source":case"link":Qt("error",t),Qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Ke(137,e));default:Rn(t,e,u,s,n,null)}return;default:if(Xj(e)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&A3(t,e,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&Rn(t,e,l,s,n,null))}function EY(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,a=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(m)||Rn(t,e,m,null,s,h)}}for(var f in s){var m=s[f];if(h=n[f],s.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":i=m;break;case"name":r=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":a=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(Ke(137,e));break;default:m!==h&&Rn(t,e,f,m,s,h)}}X4(t,a,l,c,u,d,i,r);return;case"select":m=a=l=f=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":m=c;default:s.hasOwnProperty(i)||Rn(t,e,i,null,s,c)}for(r in s)if(i=s[r],c=n[r],s.hasOwnProperty(r)&&(i!=null||c!=null))switch(r){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":a=i;default:i!==c&&Rn(t,e,r,i,s,c)}e=l,n=a,s=m,f!=null?yp(t,!!n,f,!1):!!s!=!!n&&(e!=null?yp(t,!!n,e,!0):yp(t,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Rn(t,e,l,null,s,r)}for(a in s)if(r=s[a],i=n[a],s.hasOwnProperty(a)&&(r!=null||i!=null))switch(a){case"value":f=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(Ke(91));break;default:r!==i&&Rn(t,e,a,r,s,i)}OM(t,f,m);return;case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&f!=null&&!s.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:Rn(t,e,p,null,s,f)}for(c in s)if(f=s[c],m=n[c],s.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Rn(t,e,c,f,s,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)f=n[x],n.hasOwnProperty(x)&&f!=null&&!s.hasOwnProperty(x)&&Rn(t,e,x,null,s,f);for(u in s)if(f=s[u],m=n[u],s.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(Ke(137,e));break;default:Rn(t,e,u,f,s,m)}return;default:if(Xj(e)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!==void 0&&!s.hasOwnProperty(v)&&A3(t,e,v,void 0,s,f);for(d in s)f=s[d],m=n[d],!s.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||A3(t,e,d,f,s,m);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!=null&&!s.hasOwnProperty(y)&&Rn(t,e,y,null,s,f);for(h in s)f=s[h],m=n[h],!s.hasOwnProperty(h)||f===m||f==null&&m==null||Rn(t,e,h,f,s,m)}var T3=null,C3=null;function gv(t){return t.nodeType===9?t:t.ownerDocument}function Ok(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VO(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function k3(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var CN=null;function AY(){var t=window.event;return t&&t.type==="popstate"?t===CN?!1:(CN=t,!0):(CN=null,!1)}var UO=typeof setTimeout=="function"?setTimeout:void 0,TY=typeof clearTimeout=="function"?clearTimeout:void 0,Fk=typeof Promise=="function"?Promise:void 0,CY=typeof queueMicrotask=="function"?queueMicrotask:typeof Fk<"u"?function(t){return Fk.resolve(null).then(t).catch(kY)}:UO;function kY(t){setTimeout(function(){throw t})}function Jd(t){return t==="head"}function Bk(t,e){var n=e,s=0,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<s&&8>s){n=s;var a=t.ownerDocument;if(n&1&&uy(a.documentElement),n&2&&uy(a.body),n&4)for(n=a.head,uy(n),a=n.firstChild;a;){var l=a.nextSibling,c=a.nodeName;a[Ix]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){t.removeChild(i),Qy(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:s=n.charCodeAt(0)-48;else s=0;n=i}while(n);Qy(e)}function P3(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":P3(n),Kj(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function PY(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Ix])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=To(t.nextSibling),t===null)break}return null}function RY(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=To(t.nextSibling),t===null))return null;return t}function R3(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function IY(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function To(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var I3=null;function Vk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function zO(t,e,n){switch(e=gv(n),t){case"html":if(t=e.documentElement,!t)throw Error(Ke(452));return t;case"head":if(t=e.head,!t)throw Error(Ke(453));return t;case"body":if(t=e.body,!t)throw Error(Ke(454));return t;default:throw Error(Ke(451))}}function uy(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Kj(t)}var Qa=new Map,Uk=new Set;function yv(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hc=mn.d;mn.d={f:LY,r:MY,D:DY,C:OY,L:FY,m:BY,X:UY,S:VY,M:zY};function LY(){var t=Hc.f(),e=t5();return t||e}function MY(t){var e=vg(t);e!==null&&e.tag===5&&e.type==="form"?MD(e):Hc.r(t)}var Ng=typeof document>"u"?null:document;function $O(t,e,n){var s=Ng;if(s&&typeof e=="string"&&e){var r=Va(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Uk.has(r)||(Uk.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),Ir(e,"link",t),fr(e),s.head.appendChild(e)))}}function DY(t){Hc.D(t),$O("dns-prefetch",t,null)}function OY(t,e){Hc.C(t,e),$O("preconnect",t,e)}function FY(t,e,n){Hc.L(t,e,n);var s=Ng;if(s&&t&&e){var r='link[rel="preload"][as="'+Va(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Va(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Va(n.imageSizes)+'"]')):r+='[href="'+Va(t)+'"]';var i=r;switch(e){case"style":i=Yp(t);break;case"script":i=Sg(t)}Qa.has(i)||(t=Zn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Qa.set(i,t),s.querySelector(r)!==null||e==="style"&&s.querySelector($x(i))||e==="script"&&s.querySelector(qx(i))||(e=s.createElement("link"),Ir(e,"link",t),fr(e),s.head.appendChild(e)))}}function BY(t,e){Hc.m(t,e);var n=Ng;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Va(s)+'"][href="'+Va(t)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Sg(t)}if(!Qa.has(i)&&(t=Zn({rel:"modulepreload",href:t},e),Qa.set(i,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(qx(i)))return}s=n.createElement("link"),Ir(s,"link",t),fr(s),n.head.appendChild(s)}}}function VY(t,e,n){Hc.S(t,e,n);var s=Ng;if(s&&t){var r=gp(s).hoistableStyles,i=Yp(t);e=e||"default";var a=r.get(i);if(!a){var l={loading:0,preload:null};if(a=s.querySelector($x(i)))l.loading=5;else{t=Zn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Qa.get(i))&&IE(t,n);var c=a=s.createElement("link");fr(c),Ir(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,f2(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(i,a)}}}function UY(t,e){Hc.X(t,e);var n=Ng;if(n&&t){var s=gp(n).hoistableScripts,r=Sg(t),i=s.get(r);i||(i=n.querySelector(qx(r)),i||(t=Zn({src:t,async:!0},e),(e=Qa.get(r))&&LE(t,e),i=n.createElement("script"),fr(i),Ir(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function zY(t,e){Hc.M(t,e);var n=Ng;if(n&&t){var s=gp(n).hoistableScripts,r=Sg(t),i=s.get(r);i||(i=n.querySelector(qx(r)),i||(t=Zn({src:t,async:!0,type:"module"},e),(e=Qa.get(r))&&LE(t,e),i=n.createElement("script"),fr(i),Ir(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function zk(t,e,n,s){var r=(r=ud.current)?yv(r):null;if(!r)throw Error(Ke(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Yp(n.href),n=gp(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Yp(n.href);var i=gp(r).hoistableStyles,a=i.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,a),(i=r.querySelector($x(t)))&&!i._p&&(a.instance=i,a.state.loading=5),Qa.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qa.set(t,n),i||$Y(r,t,n,a.state))),e&&s===null)throw Error(Ke(528,""));return a}if(e&&s!==null)throw Error(Ke(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Sg(n),n=gp(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(Ke(444,t))}}function Yp(t){return'href="'+Va(t)+'"'}function $x(t){return'link[rel="stylesheet"]['+t+"]"}function qO(t){return Zn({},t,{"data-precedence":t.precedence,precedence:null})}function $Y(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Ir(e,"link",n),fr(e),t.head.appendChild(e))}function Sg(t){return'[src="'+Va(t)+'"]'}function qx(t){return"script[async]"+t}function $k(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+Va(n.href)+'"]');if(s)return e.instance=s,fr(s),s;var r=Zn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),fr(s),Ir(s,"style",r),f2(s,n.precedence,t),e.instance=s;case"stylesheet":r=Yp(n.href);var i=t.querySelector($x(r));if(i)return e.state.loading|=4,e.instance=i,fr(i),i;s=qO(n),(r=Qa.get(r))&&IE(s,r),i=(t.ownerDocument||t).createElement("link"),fr(i);var a=i;return a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),Ir(i,"link",s),e.state.loading|=4,f2(i,n.precedence,t),e.instance=i;case"script":return i=Sg(n.src),(r=t.querySelector(qx(i)))?(e.instance=r,fr(r),r):(s=n,(r=Qa.get(i))&&(s=Zn({},n),LE(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),fr(r),Ir(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(Ke(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,f2(s,n.precedence,t));return e.instance}function f2(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,a=0;a<s.length;a++){var l=s[a];if(l.dataset.precedence===e)i=l;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function IE(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function LE(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var m2=null;function qk(t,e,n){if(m2===null){var s=new Map,r=m2=new Map;r.set(n,s)}else r=m2,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[Ix]||i[Jr]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var a=i.getAttribute(e)||"";a=t+a;var l=s.get(a);l?l.push(i):s.set(a,[i])}}return s}function Hk(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function qY(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function HO(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var zy=null;function HY(){}function QY(t,e,n){if(zy===null)throw Error(Ke(475));var s=zy;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=Yp(n.href),i=t.querySelector($x(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=xv.bind(s),t.then(s,s)),e.state.loading|=4,e.instance=i,fr(i);return}i=t.ownerDocument||t,n=qO(n),(r=Qa.get(r))&&IE(n,r),i=i.createElement("link"),fr(i);var a=i;a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),Ir(i,"link",n),e.instance=i}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(s.count++,e=xv.bind(s),t.addEventListener("load",e),t.addEventListener("error",e))}}function GY(){if(zy===null)throw Error(Ke(475));var t=zy;return t.stylesheets&&t.count===0&&L3(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&L3(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function xv(){if(this.count--,this.count===0){if(this.stylesheets)L3(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bv=null;function L3(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bv=new Map,e.forEach(WY,t),bv=null,xv.call(t))}function WY(t,e){if(!(e.state.loading&4)){var n=bv.get(t);if(n)var s=n.get(null);else{n=new Map,bv.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var a=r[i];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}r=e.instance,a=r.getAttribute("data-precedence"),i=n.get(a)||s,i===s&&n.set(null,r),n.set(a,r),this.count++,s=xv.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var $y={$$typeof:mc,Provider:null,Consumer:null,_currentValue:sf,_currentValue2:sf,_threadCount:0};function YY(t,e,n,s,r,i,a,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=X_(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=X_(0),this.hiddenUpdates=X_(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function QO(t,e,n,s,r,i,a,l,c,u,d,h){return t=new YY(t,e,n,a,l,c,u,h),e=1,i===!0&&(e|=24),i=ia(3,null,null,e),t.current=i,i.stateNode=t,e=lE(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:e},uE(i),t}function GO(t){return t?(t=ep,t):ep}function WO(t,e,n,s,r,i){r=GO(r),s.context===null?s.context=r:s.pendingContext=r,s=dd(e),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=hd(t,s,e),n!==null&&(da(n,t,e),ny(n,t,e))}function Qk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ME(t,e){Qk(t,e),(t=t.alternate)&&Qk(t,e)}function YO(t){if(t.tag===13){var e=wg(t,67108864);e!==null&&da(e,t,67108864),ME(t,67108864)}}var vv=!0;function KY(t,e,n,s){var r=Rt.T;Rt.T=null;var i=mn.p;try{mn.p=2,DE(t,e,n,s)}finally{mn.p=i,Rt.T=r}}function XY(t,e,n,s){var r=Rt.T;Rt.T=null;var i=mn.p;try{mn.p=8,DE(t,e,n,s)}finally{mn.p=i,Rt.T=r}}function DE(t,e,n,s){if(vv){var r=M3(s);if(r===null)TN(t,e,s,wv,n),Gk(t,s);else if(ZY(r,t,e,n,s))s.stopPropagation();else if(Gk(t,s),e&4&&-1<JY.indexOf(t)){for(;r!==null;){var i=vg(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var a=Mh(i.pendingLanes);if(a!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var c=1<<31-ca(a);l.entanglements[1]|=c,a&=~c}Il(i),!(An&6)&&(dv=gl()+500,zx(0))}}break;case 13:l=wg(i,2),l!==null&&da(l,i,2),t5(),ME(i,2)}if(i=M3(s),i===null&&TN(t,e,s,wv,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else TN(t,e,s,null,n)}}function M3(t){return t=Jj(t),OE(t)}var wv=null;function OE(t){if(wv=null,t=Wm(t),t!==null){var e=Cx(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=vM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return wv=t,null}function KO(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(OG()){case SM:return 2;case jM:return 8;case Y2:case FG:return 32;case EM:return 268435456;default:return 32}default:return 32}}var D3=!1,pd=null,gd=null,yd=null,qy=new Map,Hy=new Map,Vu=[],JY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gk(t,e){switch(t){case"focusin":case"focusout":pd=null;break;case"dragenter":case"dragleave":gd=null;break;case"mouseover":case"mouseout":yd=null;break;case"pointerover":case"pointerout":qy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hy.delete(e.pointerId)}}function g0(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=vg(e),e!==null&&YO(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function ZY(t,e,n,s,r){switch(e){case"focusin":return pd=g0(pd,t,e,n,s,r),!0;case"dragenter":return gd=g0(gd,t,e,n,s,r),!0;case"mouseover":return yd=g0(yd,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return qy.set(i,g0(qy.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Hy.set(i,g0(Hy.get(i)||null,t,e,n,s,r)),!0}return!1}function XO(t){var e=Wm(t.target);if(e!==null){var n=Cx(e);if(n!==null){if(e=n.tag,e===13){if(e=vM(n),e!==null){t.blockedOn=e,QG(t.priority,function(){if(n.tag===13){var s=ua();s=Wj(s);var r=wg(n,s);r!==null&&da(r,n,s),ME(n,s)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function p2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=M3(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Z4=s,n.target.dispatchEvent(s),Z4=null}else return e=vg(n),e!==null&&YO(e),t.blockedOn=n,!1;e.shift()}return!0}function Wk(t,e,n){p2(t)&&n.delete(e)}function eK(){D3=!1,pd!==null&&p2(pd)&&(pd=null),gd!==null&&p2(gd)&&(gd=null),yd!==null&&p2(yd)&&(yd=null),qy.forEach(Wk),Hy.forEach(Wk)}function hb(t,e){t.blockedOn===e&&(t.blockedOn=null,D3||(D3=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,eK)))}var fb=null;function Yk(t){fb!==t&&(fb=t,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,function(){fb===t&&(fb=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(OE(s||n)===null)continue;break}var i=vg(n);i!==null&&(t.splice(e,3),e-=3,p3(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function Qy(t){function e(c){return hb(c,t)}pd!==null&&hb(pd,t),gd!==null&&hb(gd,t),yd!==null&&hb(yd,t),qy.forEach(e),Hy.forEach(e);for(var n=0;n<Vu.length;n++){var s=Vu[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Vu.length&&(n=Vu[0],n.blockedOn===null);)XO(n),n.blockedOn===null&&Vu.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],a=r[qi]||null;if(typeof i=="function")a||Yk(n);else if(a){var l=null;if(i&&i.hasAttribute("formAction")){if(r=i,a=i[qi]||null)l=a.formAction;else if(OE(r)!==null)continue}else l=a.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),Yk(n)}}}function FE(t){this._internalRoot=t}i5.prototype.render=FE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ke(409));var n=e.current,s=ua();WO(n,s,t,e,null,null)};i5.prototype.unmount=FE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;WO(t.current,2,null,t,null,null),t5(),e[bg]=null}};function i5(t){this._internalRoot=t}i5.prototype.unstable_scheduleHydration=function(t){if(t){var e=PM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vu.length&&e!==0&&e<Vu[n].priority;n++);Vu.splice(n,0,t),n===0&&XO(t)}};var Kk=xM.version;if(Kk!=="19.1.0")throw Error(Ke(527,Kk,"19.1.0"));mn.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ke(188)):(t=Object.keys(t).join(","),Error(Ke(268,t)));return t=kG(e),t=t!==null?wM(t):null,t=t===null?null:t.stateNode,t};var tK={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Rt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mb.isDisabled&&mb.supportsFiber)try{kx=mb.inject(tK),la=mb}catch{}}$w.createRoot=function(t,e){if(!bM(t))throw Error(Ke(299));var n=!1,s="",r=QD,i=GD,a=WD,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=QO(t,1,!1,null,null,n,s,r,i,a,l,null),t[bg]=e.current,RE(t),new FE(e)};$w.hydrateRoot=function(t,e,n){if(!bM(t))throw Error(Ke(299));var s=!1,r="",i=QD,a=GD,l=WD,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=QO(t,1,!0,e,n??null,s,r,i,a,l,c,u),e.context=GO(null),n=e.current,s=ua(),s=Wj(s),r=dd(s),r.callback=null,hd(n,r,s),n=s,e.current.lanes=n,Rx(e,n),Il(e),t[bg]=e.current,RE(t),new i5(e)};$w.version="19.1.0";function JO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JO)}catch(t){console.error(t)}}JO(),dM.exports=$w;var nK=dM.exports;const sK=Uw(nK);var BE={};Object.defineProperty(BE,"__esModule",{value:!0});BE.parse=uK;BE.serialize=dK;const rK=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,iK=/^[\u0021-\u003A\u003C-\u007E]*$/,aK=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,oK=/^[\u0020-\u003A\u003D-\u007E]*$/,lK=Object.prototype.toString,cK=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function uK(t,e){const n=new cK,s=t.length;if(s<2)return n;const r=(e==null?void 0:e.decode)||hK;let i=0;do{const a=t.indexOf("=",i);if(a===-1)break;const l=t.indexOf(";",i),c=l===-1?s:l;if(a>c){i=t.lastIndexOf(";",a-1)+1;continue}const u=Xk(t,i,a),d=Jk(t,a,u),h=t.slice(u,d);if(n[h]===void 0){let f=Xk(t,a+1,c),m=Jk(t,c,f);const p=r(t.slice(f,m));n[h]=p}i=c+1}while(i<s);return n}function Xk(t,e,n){do{const s=t.charCodeAt(e);if(s!==32&&s!==9)return e}while(++e<n);return n}function Jk(t,e,n){for(;e>n;){const s=t.charCodeAt(--e);if(s!==32&&s!==9)return e+1}return n}function dK(t,e,n){const s=(n==null?void 0:n.encode)||encodeURIComponent;if(!rK.test(t))throw new TypeError(`argument name is invalid: ${t}`);const r=s(e);if(!iK.test(r))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+r;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!aK.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!oK.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!fK(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function hK(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function fK(t){return lK.call(t)==="[object Date]"}var Zk="popstate";function mK(t={}){function e(s,r){let{pathname:i,search:a,hash:l}=s.location;return O3("",{pathname:i,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Gy(r)}return gK(e,n,null,t)}function rs(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pK(){return Math.random().toString(36).substring(2,10)}function eP(t,e){return{usr:t.state,key:t.key,idx:e}}function O3(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jg(e):e,state:n,key:e&&e.key||s||pK()}}function Gy({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function gK(t,e,n,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:x.location,delta:y})}function f(v,y){l="PUSH";let _=O3(x.location,v,y);u=d()+1;let N=eP(_,u),P=x.createHref(_);try{a.pushState(N,"",P)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;r.location.assign(P)}i&&c&&c({action:l,location:x.location,delta:1})}function m(v,y){l="REPLACE";let _=O3(x.location,v,y);u=d();let N=eP(_,u),P=x.createHref(_);a.replaceState(N,"",P),i&&c&&c({action:l,location:x.location,delta:0})}function p(v){let y=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof v=="string"?v:Gy(v);return _=_.replace(/ $/,"%20"),rs(y,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,y)}let x={get action(){return l},get location(){return t(r,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Zk,h),c=v,()=>{r.removeEventListener(Zk,h),c=null}},createHref(v){return e(r,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(v){return a.go(v)}};return x}function ZO(t,e,n="/"){return yK(t,e,n,!1)}function yK(t,e,n,s){let r=typeof e=="string"?jg(e):e,i=Ic(r.pathname||"/",n);if(i==null)return null;let a=e9(t);xK(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=CK(i);l=AK(a[c],u,s)}return l}function e9(t,e=[],n=[],s=""){let r=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(rs(c.relativePath.startsWith(s),`Absolute route path "${c.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(s.length));let u=jc([s,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(rs(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),e9(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:jK(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,a);else for(let c of t9(i.path))r(i,a,c)}),e}function t9(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=t9(s.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function xK(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EK(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var bK=/^:[\w-]+$/,vK=3,wK=2,_K=1,NK=10,SK=-2,tP=t=>t==="*";function jK(t,e){let n=t.split("/"),s=n.length;return n.some(tP)&&(s+=SK),e&&(s+=wK),n.filter(r=>!tP(r)).reduce((r,i)=>r+(bK.test(i)?vK:i===""?_K:NK),s)}function EK(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function AK(t,e,n=!1){let{routesMeta:s}=t,r={},i="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=_v({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!s[s.length-1].route.index&&(h=_v({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:jc([i,h.pathname]),pathnameBase:IK(jc([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=jc([i,h.pathnameBase]))}return a}function _v(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=TK(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let p=l[f]||"";a=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function TK(t,e=!1,n=!0){Lo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function CK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ic(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function kK(t,e="/"){let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?jg(t):t;return{pathname:n?n.startsWith("/")?n:PK(n,e):e,search:LK(s),hash:MK(r)}}function PK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function kN(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RK(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VE(t){let e=RK(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function UE(t,e,n,s=!1){let r;typeof t=="string"?r=jg(t):(r={...t},rs(!r.pathname||!r.pathname.includes("?"),kN("?","pathname","search",r)),rs(!r.pathname||!r.pathname.includes("#"),kN("#","pathname","hash",r)),rs(!r.search||!r.search.includes("#"),kN("#","search","hash",r)));let i=t===""||r.pathname==="",a=i?"/":r.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!s&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=kK(r,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var jc=t=>t.join("/").replace(/\/\/+/g,"/"),IK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var n9=["POST","PUT","PATCH","DELETE"];new Set(n9);var OK=["GET",...n9];new Set(OK);var Eg=j.createContext(null);Eg.displayName="DataRouter";var a5=j.createContext(null);a5.displayName="DataRouterState";var s9=j.createContext({isTransitioning:!1});s9.displayName="ViewTransition";var FK=j.createContext(new Map);FK.displayName="Fetchers";var BK=j.createContext(null);BK.displayName="Await";var Oo=j.createContext(null);Oo.displayName="Navigation";var Hx=j.createContext(null);Hx.displayName="Location";var Ja=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ja.displayName="Route";var zE=j.createContext(null);zE.displayName="RouteError";function VK(t,{relative:e}={}){rs(Ag(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Oo),{hash:r,pathname:i,search:a}=Gx(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:jc([n,i])),s.createHref({pathname:l,search:a,hash:r})}function Ag(){return j.useContext(Hx)!=null}function xa(){return rs(Ag(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Hx).location}var r9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i9(t){j.useContext(Oo).static||j.useLayoutEffect(t)}function vr(){let{isDataRoute:t}=j.useContext(Ja);return t?tX():UK()}function UK(){rs(Ag(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Eg),{basename:e,navigator:n}=j.useContext(Oo),{matches:s}=j.useContext(Ja),{pathname:r}=xa(),i=JSON.stringify(VE(s)),a=j.useRef(!1);return i9(()=>{a.current=!0}),j.useCallback((c,u={})=>{if(Lo(a.current,r9),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=UE(c,JSON.parse(i),r,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:jc([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,r,t])}var zK=j.createContext(null);function $K(t){let e=j.useContext(Ja).outlet;return e&&j.createElement(zK.Provider,{value:t},e)}function Qx(){let{matches:t}=j.useContext(Ja),e=t[t.length-1];return e?e.params:{}}function Gx(t,{relative:e}={}){let{matches:n}=j.useContext(Ja),{pathname:s}=xa(),r=JSON.stringify(VE(n));return j.useMemo(()=>UE(t,JSON.parse(r),s,e==="path"),[t,r,s,e])}function qK(t,e){return a9(t,e)}function a9(t,e,n,s){var _;rs(Ag(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:i}=j.useContext(Oo),{matches:a}=j.useContext(Ja),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let N=h&&h.path||"";o9(u,!h||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let f=xa(),m;if(e){let N=typeof e=="string"?jg(e):e;rs(d==="/"||((_=N.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${N.pathname}" was given in the \`location\` prop.`),m=N}else m=f;let p=m.pathname||"/",x=p;if(d!=="/"){let N=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let v=!i&&n&&n.matches&&n.matches.length>0?n.matches:ZO(t,{pathname:x});Lo(h||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Lo(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=YK(v&&v.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:jc([d,r.encodeLocation?r.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:jc([d,r.encodeLocation?r.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,s);return e&&y?j.createElement(Hx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},y):y}function HK(){let t=eX(),e=DK(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:r},n):null,a)}var QK=j.createElement(HK,null),GK=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?j.createElement(Ja.Provider,{value:this.props.routeContext},j.createElement(zE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WK({routeContext:t,match:e,children:n}){let s=j.useContext(Eg);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Ja.Provider,{value:t},n)}function YK(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,i=n==null?void 0:n.errors;if(i!=null){let c=r.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);rs(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<r.length;c++){let u=r[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){a=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((c,u,d)=>{let h,f=!1,m=null,p=null;n&&(h=i&&u.route.id?i[u.route.id]:void 0,m=u.route.errorElement||QK,a&&(l<0&&d===0?(o9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,p=null):l===d&&(f=!0,p=u.route.hydrateFallbackElement||null)));let x=e.concat(r.slice(0,d+1)),v=()=>{let y;return h?y=m:f?y=p:u.route.Component?y=j.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=c,j.createElement(WK,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?j.createElement(GK,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}function $E(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KK(t){let e=j.useContext(Eg);return rs(e,$E(t)),e}function XK(t){let e=j.useContext(a5);return rs(e,$E(t)),e}function JK(t){let e=j.useContext(Ja);return rs(e,$E(t)),e}function qE(t){let e=JK(t),n=e.matches[e.matches.length-1];return rs(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZK(){return qE("useRouteId")}function eX(){var s;let t=j.useContext(zE),e=XK("useRouteError"),n=qE("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function tX(){let{router:t}=KK("useNavigate"),e=qE("useNavigate"),n=j.useRef(!1);return i9(()=>{n.current=!0}),j.useCallback(async(r,i={})=>{Lo(n.current,r9),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...i}))},[t,e])}var nP={};function o9(t,e,n){!e&&!nP[t]&&(nP[t]=!0,Lo(!1,n))}j.memo(nX);function nX({routes:t,future:e,state:n}){return a9(t,void 0,n,e)}function Ci({to:t,replace:e,state:n,relative:s}){rs(Ag(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=j.useContext(Oo);Lo(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=j.useContext(Ja),{pathname:a}=xa(),l=vr(),c=UE(t,VE(i),a,s==="path"),u=JSON.stringify(c);return j.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:s})},[l,u,s,e,n]),null}function sX(t){return $K(t.context)}function on(t){rs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rX({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:r,static:i=!1}){rs(!Ag(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:a,navigator:r,static:i,future:{}}),[a,r,i]);typeof n=="string"&&(n=jg(n));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=j.useMemo(()=>{let p=Ic(c,a);return p==null?null:{location:{pathname:p,search:u,hash:d,state:h,key:f},navigationType:s}},[a,c,u,d,h,f,s]);return Lo(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:j.createElement(Oo.Provider,{value:l},j.createElement(Hx.Provider,{children:e,value:m}))}function l9({children:t,location:e}){return qK(F3(t),e)}function F3(t,e=[]){let n=[];return j.Children.forEach(t,(s,r)=>{if(!j.isValidElement(s))return;let i=[...e,r];if(s.type===j.Fragment){n.push.apply(n,F3(s.props.children,i));return}rs(s.type===on,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rs(!s.props.index||!s.props.children,"An index route cannot have child routes.");let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=F3(s.props.children,i)),n.push(a)}),n}var g2="get",y2="application/x-www-form-urlencoded";function o5(t){return t!=null&&typeof t.tagName=="string"}function iX(t){return o5(t)&&t.tagName.toLowerCase()==="button"}function aX(t){return o5(t)&&t.tagName.toLowerCase()==="form"}function oX(t){return o5(t)&&t.tagName.toLowerCase()==="input"}function lX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cX(t,e){return t.button===0&&(!e||e==="_self")&&!lX(t)}var pb=null;function uX(){if(pb===null)try{new FormData(document.createElement("form"),0),pb=!1}catch{pb=!0}return pb}var dX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function PN(t){return t!=null&&!dX.has(t)?(Lo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${y2}"`),null):t}function hX(t,e){let n,s,r,i,a;if(aX(t)){let l=t.getAttribute("action");s=l?Ic(l,e):null,n=t.getAttribute("method")||g2,r=PN(t.getAttribute("enctype"))||y2,i=new FormData(t)}else if(iX(t)||oX(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(s=c?Ic(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||g2,r=PN(t.getAttribute("formenctype"))||PN(l.getAttribute("enctype"))||y2,i=new FormData(l,t),!uX()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(o5(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=g2,s=null,r=y2,a=t}return i&&r==="text/plain"&&(a=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:a}}function HE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function fX(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mX(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pX(t,e,n){let s=await Promise.all(t.map(async r=>{let i=e.routes[r.route.id];if(i){let a=await fX(i,n);return a.links?a.links():[]}return[]}));return bX(s.flat(1).filter(mX).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function sP(t,e,n,s,r,i){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{var h;let d=s.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function gX(t,e,{includeHydrateFallback:n}={}){return yX(t.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function yX(t){return[...new Set(t)]}function xX(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function bX(t,e){let n=new Set;return new Set(e),t.reduce((s,r)=>{let i=JSON.stringify(xX(r));return n.has(i)||(n.add(i),s.push({key:i,link:r})),s},[])}var vX=new Set([100,101,204,205]);function wX(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ic(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function c9(){let t=j.useContext(Eg);return HE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _X(){let t=j.useContext(a5);return HE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var QE=j.createContext(void 0);QE.displayName="FrameworkContext";function u9(){let t=j.useContext(QE);return HE(t,"You must render this element inside a <HydratedRouter> element"),t}function NX(t,e){let n=j.useContext(QE),[s,r]=j.useState(!1),[i,a]=j.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=j.useRef(null);j.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let x=y=>{y.forEach(_=>{a(_.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return f.current&&v.observe(f.current),()=>{v.disconnect()}}},[t]),j.useEffect(()=>{if(s){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[s]);let m=()=>{r(!0)},p=()=>{r(!1),a(!1)};return n?t!=="intent"?[i,f,{}]:[i,f,{onFocus:y0(l,m),onBlur:y0(c,p),onMouseEnter:y0(u,m),onMouseLeave:y0(d,p),onTouchStart:y0(h,m)}]:[!1,f,{}]}function y0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function SX({page:t,...e}){let{router:n}=c9(),s=j.useMemo(()=>ZO(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?j.createElement(EX,{page:t,matches:s,...e}):null}function jX(t){let{manifest:e,routeModules:n}=u9(),[s,r]=j.useState([]);return j.useEffect(()=>{let i=!1;return pX(t,e,n).then(a=>{i||r(a)}),()=>{i=!0}},[t,e,n]),s}function EX({page:t,matches:e,...n}){let s=xa(),{manifest:r,routeModules:i}=u9(),{basename:a}=c9(),{loaderData:l,matches:c}=_X(),u=j.useMemo(()=>sP(t,e,c,r,s,"data"),[t,e,c,r,s]),d=j.useMemo(()=>sP(t,e,c,r,s,"assets"),[t,e,c,r,s]),h=j.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let p=new Set,x=!1;if(e.forEach(y=>{var N;let _=r.routes[y.route.id];!_||!_.hasLoader||(!u.some(P=>P.route.id===y.route.id)&&y.route.id in l&&((N=i[y.route.id])!=null&&N.shouldRevalidate)||_.hasClientLoader?x=!0:p.add(y.route.id))}),p.size===0)return[];let v=wX(t,a);return x&&p.size>0&&v.searchParams.set("_routes",e.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[v.pathname+v.search]},[a,l,s,r,u,e,t,i]),f=j.useMemo(()=>gX(d,r),[d,r]),m=jX(d);return j.createElement(j.Fragment,null,h.map(p=>j.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>j.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),m.map(({key:p,link:x})=>j.createElement("link",{key:p,...x})))}function AX(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var d9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d9&&(window.__reactRouterVersion="7.5.3")}catch{}function TX({basename:t,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=mK({window:n,v5Compat:!0}));let r=s.current,[i,a]=j.useState({action:r.action,location:r.location}),l=j.useCallback(c=>{j.startTransition(()=>a(c))},[a]);return j.useLayoutEffect(()=>r.listen(l),[r,l]),j.createElement(rX,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:r})}var h9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jn=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:r,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:p}=j.useContext(Oo),x=typeof u=="string"&&h9.test(u),v,y=!1;if(typeof u=="string"&&x&&(v=u,d9))try{let A=new URL(window.location.href),R=u.startsWith("//")?new URL(A.protocol+u):new URL(u),E=Ic(R.pathname,p);R.origin===A.origin&&E!=null?u=E+R.search+R.hash:y=!0}catch{Lo(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=VK(u,{relative:r}),[N,P,I]=NX(s,f),D=PX(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function C(A){e&&e(A),A.defaultPrevented||D(A)}let w=j.createElement("a",{...f,...I,href:v||_,onClick:y||i?e:C,ref:AX(m,P),target:c,"data-discover":!x&&n==="render"?"true":void 0});return N&&!x?j.createElement(j.Fragment,null,w,j.createElement(SX,{page:_})):w});jn.displayName="Link";var I0=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:r=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let h=Gx(a,{relative:u.relative}),f=xa(),m=j.useContext(a5),{navigator:p,basename:x}=j.useContext(Oo),v=m!=null&&DX(h)&&l===!0,y=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,_=f.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(_=_.toLowerCase(),N=N?N.toLowerCase():null,y=y.toLowerCase()),N&&x&&(N=Ic(N,x)||N);const P=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let I=_===y||!r&&_.startsWith(y)&&_.charAt(P)==="/",D=N!=null&&(N===y||!r&&N.startsWith(y)&&N.charAt(y.length)==="/"),C={isActive:I,isPending:D,isTransitioning:v},w=I?e:void 0,A;typeof s=="function"?A=s(C):A=[s,I?"active":null,D?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(C):i;return j.createElement(jn,{...u,"aria-current":w,className:A,ref:d,style:R,to:a,viewTransition:l},typeof c=="function"?c(C):c)});I0.displayName="NavLink";var CX=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:r,state:i,method:a=g2,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let p=LX(),x=MX(l,{relative:u}),v=a.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&h9.test(l),_=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let P=N.nativeEvent.submitter,I=(P==null?void 0:P.getAttribute("formmethod"))||a;p(P||N.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:r,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return j.createElement("form",{ref:m,method:v,action:x,onSubmit:s?c:_,...f,"data-discover":!y&&t==="render"?"true":void 0})});CX.displayName="Form";function kX(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f9(t){let e=j.useContext(Eg);return rs(e,kX(t)),e}function PX(t,{target:e,replace:n,state:s,preventScrollReset:r,relative:i,viewTransition:a}={}){let l=vr(),c=xa(),u=Gx(t,{relative:i});return j.useCallback(d=>{if(cX(d,e)){d.preventDefault();let h=n!==void 0?n:Gy(c)===Gy(u);l(t,{replace:h,state:s,preventScrollReset:r,relative:i,viewTransition:a})}},[c,l,u,n,s,e,t,r,i,a])}var RX=0,IX=()=>`__${String(++RX)}__`;function LX(){let{router:t}=f9("useSubmit"),{basename:e}=j.useContext(Oo),n=ZK();return j.useCallback(async(s,r={})=>{let{action:i,method:a,encType:l,formData:c,body:u}=hX(s,e);if(r.navigate===!1){let d=r.fetcherKey||IX();await t.fetch(d,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await t.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function MX(t,{relative:e}={}){let{basename:n}=j.useContext(Oo),s=j.useContext(Ja);rs(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...Gx(t||".",{relative:e})},a=xa();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:jc([n,i.pathname])),Gy(i)}function DX(t,e={}){let n=j.useContext(s9);rs(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=f9("useViewTransitionState"),r=Gx(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Ic(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=Ic(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _v(r.pathname,a)!=null||_v(r.pathname,i)!=null}new TextEncoder;[...vX];/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ol;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(ol||(ol={}));var xd;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(xd||(xd={}));var rP;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(rP||(rP={}));var Wr=function(){return Wr=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wr.apply(this,arguments)};function OX(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}var Wy="data-react-paypal-script-id",rp={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},FX="Failed to load the PayPal JS SDK script.";function BX(t){for(var e="",n=0;n<t.length;n++){var s=t[n].charCodeAt(0)*n;t[n+1]&&(s+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(s)%26)}return e}function m9(t){var e=t,n=Wy;e[n];var s=OX(e,[n+""]);return"react-paypal-js-".concat(BX(JSON.stringify(s)))}function VX(t){var e=self.document.querySelector("script[".concat(Wy,'="').concat(t,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function UX(t,e){var n,s;switch(e.type){case xd.LOADING_STATUS:return typeof e.value=="object"?Wr(Wr({},t),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):Wr(Wr({},t),{loadingStatus:e.value});case xd.RESET_OPTIONS:return VX(t.options[Wy]),Wr(Wr({},t),{loadingStatus:ol.PENDING,options:Wr(Wr((n={},n[rp.DATA_SDK_INTEGRATION_SOURCE]=rp.DATA_LIBRARY_VALUE,n),e.value),(s={},s[Wy]="".concat(m9(e.value)),s))});case xd.SET_BRAINTREE_INSTANCE:return Wr(Wr({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var zX=j.createContext(null);j.createContext({});function $X(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function qX(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n===null)return null;var s=p9(t,e),r=n.cloneNode();if(delete r.dataset.uidAuto,Object.keys(r.dataset).length!==Object.keys(s.dataset).length)return null;var i=!0;return Object.keys(r.dataset).forEach(function(a){r.dataset[a]!==s.dataset[a]&&(i=!1)}),i?n:null}function HX(t){var e=t.url,n=t.attributes,s=t.onSuccess,r=t.onError,i=p9(e,n);i.onerror=r,i.onload=s,document.head.insertBefore(i,document.head.firstElementChild)}function QX(t){var e=t.sdkBaseUrl,n=t.environment,s=$X(t,["sdkBaseUrl","environment"]),r=e||YX(n),i=s,a=Object.keys(i).filter(function(u){return typeof i[u]<"u"&&i[u]!==null&&i[u]!==""}).reduce(function(u,d){var h=i[d].toString();return d=GX(d),d.substring(0,4)==="data"||d==="crossorigin"?u.attributes[d]=h:u.queryParams[d]=h,u},{queryParams:{},attributes:{}}),l=a.queryParams,c=a.attributes;return l["merchant-id"]&&l["merchant-id"].indexOf(",")!==-1&&(c["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(r,"?").concat(WX(l)),attributes:c}}function GX(t){var e=function(n,s){return(s?"-":"")+n.toLowerCase()};return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function WX(t){var e="";return Object.keys(t).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+t[n]}),e}function YX(t){return t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function p9(t,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach(function(s){n.setAttribute(s,e[s]),s==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function KX(t,e){if(e===void 0&&(e=Promise),g9(t,e),typeof document>"u")return e.resolve(null);var n=QX(t),s=n.url,r=n.attributes,i=r["data-namespace"]||"paypal",a=iP(i);return r["data-js-sdk-library"]||(r["data-js-sdk-library"]="paypal-js"),qX(s,r)&&a?e.resolve(a):XX({url:s,attributes:r},e).then(function(){var l=iP(i);if(l)return l;throw new Error("The window.".concat(i," global variable is not available."))})}function XX(t,e){e===void 0&&(e=Promise),g9(t,e);var n=t.url,s=t.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof s<"u"&&typeof s!="object")throw new Error("Expected attributes to be an object.");return new e(function(r,i){if(typeof document>"u")return r();HX({url:n,attributes:s,onSuccess:function(){return r()},onError:function(){var a=new Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(a)}})})}function iP(t){return window[t]}function g9(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");var n=t.environment;if(n&&n!=="production"&&n!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var y9=function(t){var e,n=t.options,s=n===void 0?{clientId:"test"}:n,r=t.children,i=t.deferLoading,a=i===void 0?!1:i,l=j.useReducer(UX,{options:Wr(Wr({},s),(e={},e[rp.DATA_JS_SDK_LIBRARY]=rp.DATA_LIBRARY_VALUE,e[rp.DATA_SDK_INTEGRATION_SOURCE]=rp.DATA_LIBRARY_VALUE,e[Wy]="".concat(m9(s)),e)),loadingStatus:a?ol.INITIAL:ol.PENDING}),c=l[0],u=l[1];return j.useEffect(function(){if(a===!1&&c.loadingStatus===ol.INITIAL)return u({type:xd.LOADING_STATUS,value:ol.PENDING});if(c.loadingStatus===ol.PENDING){var d=!0;return KX(c.options).then(function(){d&&u({type:xd.LOADING_STATUS,value:ol.RESOLVED})}).catch(function(h){console.error("".concat(FX," ").concat(h)),d&&u({type:xd.LOADING_STATUS,value:{state:ol.REJECTED,message:String(h)}})}),function(){d=!1}}},[c.options,a,c.loadingStatus]),Re.createElement(zX.Provider,{value:Wr(Wr({},c),{dispatch:u})},r)};function aP(){}j.createContext({cardFieldsForm:null,fields:{},registerField:aP,unregisterField:aP});/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JX=()=>{};var oP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},ZX=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],a=t[n++],l=t[n++],c=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},b9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,l=a?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;c||(m=64,a||(f=64)),s.push(n[d],n[h],n[f],n[m])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(x9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||u==null||h==null)throw new eJ;const f=i<<2|l>>4;if(s.push(f),u!==64){const m=l<<4&240|u>>2;if(s.push(m),h!==64){const p=u<<6&192|h;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tJ=function(t){const e=x9(t);return b9.encodeByteArray(e,!0)},Nv=function(t){return tJ(t).replace(/\./g,"")},v9=function(t){try{return b9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ=()=>nJ().__FIREBASE_DEFAULTS__,rJ=()=>{if(typeof process>"u"||typeof oP>"u")return;const t=oP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v9(t[1]);return e&&JSON.parse(e)},l5=()=>{try{return JX()||sJ()||rJ()||iJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},w9=t=>{var e,n;return(n=(e=l5())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_9=t=>{const e=w9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},N9=()=>{var t;return(t=l5())===null||t===void 0?void 0:t.config},S9=t=>{var e;return(e=l5())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nv(JSON.stringify(n)),Nv(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())}function lJ(){var t;const e=(t=l5())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cJ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hJ(){const t=si();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fJ(){return!lJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mJ(){try{return typeof indexedDB=="object"}catch{return!1}}function pJ(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ="FirebaseError";class Ll extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=gJ,Object.setPrototypeOf(this,Ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wx.prototype.create)}}class Wx{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?yJ(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Ll(r,l,s)}}function yJ(t,e){return t.replace(xJ,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const xJ=/\{\$([^}]+)}/g;function bJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lc(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],a=e[r];if(lP(i)&&lP(a)){if(!Lc(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function lP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function L0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function M0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vJ(t,e){const n=new wJ(t,e);return n.subscribe.bind(n)}class wJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");_J(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=RN),r.error===void 0&&(r.error=RN),r.complete===void 0&&(r.complete=RN);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _J(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function RN(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t){return t&&t._delegate?t._delegate:t}class Rd{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new aJ;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jJ(e))try{this.getOrInitializeService({instanceIdentifier:Fh})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Fh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fh){return this.instances.has(e)}getOptions(e=Fh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SJ(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fh){return this.component?this.component.multipleInstances?e:Fh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SJ(t){return t===Fh?void 0:t}function jJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Kt||(Kt={}));const AJ={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},TJ=Kt.INFO,CJ={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},kJ=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=CJ[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class GE{constructor(e){this.name=e,this._logLevel=TJ,this._logHandler=kJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const PJ=(t,e)=>e.some(n=>t instanceof n);let cP,uP;function RJ(){return cP||(cP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IJ(){return uP||(uP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E9=new WeakMap,B3=new WeakMap,A9=new WeakMap,IN=new WeakMap,WE=new WeakMap;function LJ(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(bd(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&E9.set(n,t)}).catch(()=>{}),WE.set(e,t),e}function MJ(t){if(B3.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});B3.set(t,e)}let V3={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return B3.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A9.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DJ(t){V3=t(V3)}function OJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(LN(this),e,...n);return A9.set(s,e.sort?e.sort():[e]),bd(s)}:IJ().includes(t)?function(...e){return t.apply(LN(this),e),bd(E9.get(this))}:function(...e){return bd(t.apply(LN(this),e))}}function FJ(t){return typeof t=="function"?OJ(t):(t instanceof IDBTransaction&&MJ(t),PJ(t,RJ())?new Proxy(t,V3):t)}function bd(t){if(t instanceof IDBRequest)return LJ(t);if(IN.has(t))return IN.get(t);const e=FJ(t);return e!==t&&(IN.set(t,e),WE.set(e,t)),e}const LN=t=>WE.get(t);function BJ(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),l=bd(a);return s&&a.addEventListener("upgradeneeded",c=>{s(bd(a.result),c.oldVersion,c.newVersion,bd(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const VJ=["get","getKey","getAll","getAllKeys","count"],UJ=["put","add","delete","clear"],MN=new Map;function dP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(MN.get(e))return MN.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=UJ.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||VJ.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&c.done]))[0]};return MN.set(e,i),i}DJ(t=>({...t,get:(e,n,s)=>dP(e,n)||t.get(e,n,s),has:(e,n)=>!!dP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($J(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $J(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const U3="@firebase/app",hP="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new GE("@firebase/app"),qJ="@firebase/app-compat",HJ="@firebase/analytics-compat",QJ="@firebase/analytics",GJ="@firebase/app-check-compat",WJ="@firebase/app-check",YJ="@firebase/auth",KJ="@firebase/auth-compat",XJ="@firebase/database",JJ="@firebase/data-connect",ZJ="@firebase/database-compat",eZ="@firebase/functions",tZ="@firebase/functions-compat",nZ="@firebase/installations",sZ="@firebase/installations-compat",rZ="@firebase/messaging",iZ="@firebase/messaging-compat",aZ="@firebase/performance",oZ="@firebase/performance-compat",lZ="@firebase/remote-config",cZ="@firebase/remote-config-compat",uZ="@firebase/storage",dZ="@firebase/storage-compat",hZ="@firebase/firestore",fZ="@firebase/vertexai",mZ="@firebase/firestore-compat",pZ="firebase",gZ="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="[DEFAULT]",yZ={[U3]:"fire-core",[qJ]:"fire-core-compat",[QJ]:"fire-analytics",[HJ]:"fire-analytics-compat",[WJ]:"fire-app-check",[GJ]:"fire-app-check-compat",[YJ]:"fire-auth",[KJ]:"fire-auth-compat",[XJ]:"fire-rtdb",[JJ]:"fire-data-connect",[ZJ]:"fire-rtdb-compat",[eZ]:"fire-fn",[tZ]:"fire-fn-compat",[nZ]:"fire-iid",[sZ]:"fire-iid-compat",[rZ]:"fire-fcm",[iZ]:"fire-fcm-compat",[aZ]:"fire-perf",[oZ]:"fire-perf-compat",[lZ]:"fire-rc",[cZ]:"fire-rc-compat",[uZ]:"fire-gcs",[dZ]:"fire-gcs-compat",[hZ]:"fire-fst",[mZ]:"fire-fst-compat",[fZ]:"fire-vertex","fire-js":"fire-js",[pZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new Map,xZ=new Map,$3=new Map;function fP(t,e){try{t.container.addComponent(e)}catch(n){Mc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jf(t){const e=t.name;if($3.has(e))return Mc.debug(`There were multiple attempts to register component ${e}.`),!1;$3.set(e,t);for(const n of Sv.values())fP(n,t);for(const n of xZ.values())fP(n,t);return!0}function c5(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vd=new Wx("app","Firebase",bZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vZ{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Rd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=gZ;function T9(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:z3,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw vd.create("bad-app-name",{appName:String(r)});if(n||(n=N9()),!n)throw vd.create("no-options");const i=Sv.get(r);if(i){if(Lc(n,i.options)&&Lc(s,i.config))return i;throw vd.create("duplicate-app",{appName:r})}const a=new EJ(r);for(const c of $3.values())a.addComponent(c);const l=new vZ(n,s,a);return Sv.set(r,l),l}function YE(t=z3){const e=Sv.get(t);if(!e&&t===z3&&N9())return T9();if(!e)throw vd.create("no-app",{appName:t});return e}function xl(t,e,n){var s;let r=(s=yZ[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mc.warn(l.join(" "));return}jf(new Rd(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ="firebase-heartbeat-database",_Z=1,Yy="firebase-heartbeat-store";let DN=null;function C9(){return DN||(DN=BJ(wZ,_Z,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yy)}catch(n){console.warn(n)}}}}).catch(t=>{throw vd.create("idb-open",{originalErrorMessage:t.message})})),DN}async function NZ(t){try{const n=(await C9()).transaction(Yy),s=await n.objectStore(Yy).get(k9(t));return await n.done,s}catch(e){if(e instanceof Ll)Mc.warn(e.message);else{const n=vd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mc.warn(n.message)}}}async function mP(t,e){try{const s=(await C9()).transaction(Yy,"readwrite");await s.objectStore(Yy).put(e,k9(t)),await s.done}catch(n){if(n instanceof Ll)Mc.warn(n.message);else{const s=vd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mc.warn(s.message)}}}function k9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SZ=1024,jZ=30;class EZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TZ(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=pP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>jZ){const a=CZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Mc.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pP(),{heartbeatsToSend:s,unsentEntries:r}=AZ(this._heartbeatsCache.heartbeats),i=Nv(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Mc.warn(n),""}}}function pP(){return new Date().toISOString().substring(0,10)}function AZ(t,e=SZ){const n=[];let s=t.slice();for(const r of t){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),gP(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),gP(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mJ()?pJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NZ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return mP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return mP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gP(t){return Nv(JSON.stringify({version:2,heartbeats:t})).length}function CZ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kZ(t){jf(new Rd("platform-logger",e=>new zJ(e),"PRIVATE")),jf(new Rd("heartbeat",e=>new EZ(e),"PRIVATE")),xl(U3,hP,t),xl(U3,hP,"esm2017"),xl("fire-js","")}kZ("");function KE(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function P9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PZ=P9,R9=new Wx("auth","Firebase",P9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new GE("@firebase/auth");function RZ(t,...e){jv.logLevel<=Kt.WARN&&jv.warn(`Auth (${Hf}): ${t}`,...e)}function x2(t,...e){jv.logLevel<=Kt.ERROR&&jv.error(`Auth (${Hf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t,...e){throw JE(t,...e)}function Co(t,...e){return JE(t,...e)}function XE(t,e,n){const s=Object.assign(Object.assign({},PZ()),{[e]:n});return new Wx("auth","Firebase",s).create(e,{appName:t.name})}function Ec(t){return XE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IZ(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ga(t,"argument-error"),XE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function JE(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return R9.create(t,...e)}function Ct(t,e,...n){if(!t)throw JE(e,...n)}function bc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw x2(e),new Error(e)}function Dc(t,e){t||bc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LZ(){return yP()==="http:"||yP()==="https:"}function yP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LZ()||uJ()||"connection"in navigator)?navigator.onLine:!0}function DZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dc(n>e,"Short delay should be less than long delay!"),this.isMobile=oJ()||dJ()}get(){return MZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t,e){Dc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BZ=new Kx(3e4,6e4);function Qc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fo(t,e,n,s,r={}){return L9(t,r,async()=>{let i={},a={};s&&(e==="GET"?a=s:i={body:JSON.stringify(s)});const l=Yx(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return cJ()||(u.referrerPolicy="no-referrer"),I9.fetch()(await M9(t,t.config.apiHost,n,l),u)})}async function L9(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},OZ),e);try{const r=new UZ(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw gb(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gb(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw gb(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw gb(t,"user-disabled",a);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw XE(t,d,u);Ga(t,d)}}catch(r){if(r instanceof Ll)throw r;Ga(t,"network-request-failed",{message:String(r)})}}async function Xx(t,e,n,s,r={}){const i=await Fo(t,e,n,s,r);return"mfaPendingCredential"in i&&Ga(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function M9(t,e,n,s){const r=`${e}${n}?${s}`,i=t,a=i.config.emulator?ZE(t.config,r):`${t.config.apiScheme}://${r}`;return FZ.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function VZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Co(this.auth,"network-request-failed")),BZ.get())})}}function gb(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Co(t,e,s);return r.customData._tokenResponse=n,r}function xP(t){return t!==void 0&&t.enterprise!==void 0}class zZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $Z(t,e){return Fo(t,"GET","/v2/recaptchaConfig",Qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qZ(t,e){return Fo(t,"POST","/v1/accounts:delete",e)}async function Ev(t,e){return Fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HZ(t,e=!1){const n=Un(t),s=await n.getIdToken(e),r=eA(s);Ct(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:dy(ON(r.auth_time)),issuedAtTime:dy(ON(r.iat)),expirationTime:dy(ON(r.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ON(t){return Number(t)*1e3}function eA(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return x2("JWT malformed, contained fewer than 3 sections"),null;try{const r=v9(n);return r?JSON.parse(r):(x2("Failed to decode base64 JWT payload"),null)}catch(r){return x2("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function bP(t){const e=eA(t);return Ct(e,"internal-error"),Ct(typeof e.exp<"u","internal-error"),Ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ll&&QZ(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function QZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dy(this.lastLoginAt),this.creationTime=dy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Av(t){var e;const n=t.auth,s=await t.getIdToken(),r=await Ef(t,Ev(n,{idToken:s}));Ct(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?D9(i.providerUserInfo):[],l=YZ(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new H3(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function WZ(t){const e=Un(t);await Av(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YZ(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function D9(t){return t.map(e=>{var{providerId:n}=e,s=KE(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KZ(t,e){const n=await L9(t,{},async()=>{const s=Yx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,a=await M9(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",I9.fetch()(a,{method:"POST",headers:l,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XZ(t,e){return Fo(t,"POST","/v2/accounts:revokeToken",Qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct(typeof e.idToken<"u","internal-error"),Ct(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ct(e.length!==0,"internal-error");const n=bP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await KZ(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,a=new Sp;return s&&(Ct(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),r&&(Ct(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),i&&(Ct(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sp,this.toJSON())}_performRefresh(){return bc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t,e){Ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class No{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,i=KE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new H3(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ef(this,this.stsTokenManager.getToken(this.auth,e));return Ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HZ(this,e)}reload(){return WZ(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new No(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Av(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fi(this.auth.app))return Promise.reject(Ec(this.auth));const e=await this.getIdToken();return await Ef(this,qZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,i,a,l,c,u,d;const h=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(a=n.photoURL)!==null&&a!==void 0?a:void 0,x=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:P,isAnonymous:I,providerData:D,stsTokenManager:C}=n;Ct(N&&C,e,"internal-error");const w=Sp.fromJSON(this.name,C);Ct(typeof N=="string",e,"internal-error"),Tu(h,e.name),Tu(f,e.name),Ct(typeof P=="boolean",e,"internal-error"),Ct(typeof I=="boolean",e,"internal-error"),Tu(m,e.name),Tu(p,e.name),Tu(x,e.name),Tu(v,e.name),Tu(y,e.name),Tu(_,e.name);const A=new No({uid:N,auth:e,email:f,emailVerified:P,displayName:h,isAnonymous:I,photoURL:p,phoneNumber:m,tenantId:x,stsTokenManager:w,createdAt:y,lastLoginAt:_});return D&&Array.isArray(D)&&(A.providerData=D.map(R=>Object.assign({},R))),v&&(A._redirectEventId=v),A}static async _fromIdTokenResponse(e,n,s=!1){const r=new Sp;r.updateFromServerResponse(n);const i=new No({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Av(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];Ct(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?D9(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),l=new Sp;l.updateFromIdToken(s);const c=new No({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new H3(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new Map;function vc(t){Dc(t instanceof Function,"Expected a class definition");let e=vP.get(t);return e?(Dc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O9.type="NONE";const wP=O9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t,e,n){return`firebase:${t}:${e}:${n}`}class jp{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=b2(this.userKey,r.apiKey,i),this.fullPersistenceKey=b2("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ev(this.auth,{idToken:e}).catch(()=>{});return n?No._fromGetAccountInfoResponse(this.auth,n,e):null}return No._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new jp(vc(wP),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=r[0]||vc(wP);const a=b2(s,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let h;if(typeof d=="string"){const f=await Ev(e,{idToken:d}).catch(()=>{});if(!f)break;h=await No._fromGetAccountInfoResponse(e,f,d)}else h=No._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new jp(i,e,s):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new jp(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($9(e))return"Blackberry";if(q9(e))return"Webos";if(B9(e))return"Safari";if((e.includes("chrome/")||V9(e))&&!e.includes("edge/"))return"Chrome";if(z9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function F9(t=si()){return/firefox\//i.test(t)}function B9(t=si()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V9(t=si()){return/crios\//i.test(t)}function U9(t=si()){return/iemobile/i.test(t)}function z9(t=si()){return/android/i.test(t)}function $9(t=si()){return/blackberry/i.test(t)}function q9(t=si()){return/webos/i.test(t)}function tA(t=si()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JZ(t=si()){var e;return tA(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZZ(){return hJ()&&document.documentMode===10}function H9(t=si()){return tA(t)||z9(t)||q9(t)||$9(t)||/windows phone/i.test(t)||U9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t,e=[]){let n;switch(t){case"Browser":n=_P(si());break;case"Worker":n=`${_P(si())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hf}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tee(t,e={}){return Fo(t,"GET","/v2/passwordPolicy",Qc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee=6;class see{constructor(e){var n,s,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:nee,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,r,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NP(this),this.idTokenSubscription=new NP(this),this.beforeStateQueue=new eee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vc(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await jp.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ev(this,{idToken:e}),s=await No._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Av(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fi(this.app))return Promise.reject(Ec(this));const n=e?Un(e):null;return n&&Ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fi(this.app)?Promise.reject(Ec(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fi(this.app)?Promise.reject(Ec(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tee(this),n=new see(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wx("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await XZ(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vc(e)||this._popupRedirectResolver;Ct(n,this,"argument-error"),this.redirectPersistenceManager=await jp.create(this,[vc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(Fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RZ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gc(t){return Un(t)}class NP{constructor(e){this.auth=e,this.observer=null,this.addObserver=vJ(n=>this.observer=n)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iee(t){u5=t}function G9(t){return u5.loadJS(t)}function aee(){return u5.recaptchaEnterpriseScript}function oee(){return u5.gapiScript}function lee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cee{constructor(){this.enterprise=new uee}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uee{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dee="recaptcha-enterprise",W9="NO_RECAPTCHA";class hee{constructor(e){this.type=dee,this.auth=Gc(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{$Z(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new zZ(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function r(i,a,l){const c=window.grecaptcha;xP(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(W9)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cee().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{s(this.auth).then(l=>{if(!n&&xP(window.grecaptcha))r(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=aee();c.length!==0&&(c+=l),G9(c).then(()=>{r(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function SP(t,e,n,s=!1,r=!1){const i=new hee(t);let a;if(r)a=W9;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Tv(t,e,n,s,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await SP(t,e,n,n==="getOobCode");return s(t,a)}else return s(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await SP(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fee(t,e){const n=c5(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Lc(i,e??{}))return r;Ga(r,"already-initialized")}return n.initialize({options:e})}function mee(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(vc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function pee(t,e,n){const s=Gc(t);Ct(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=Y9(e),{host:a,port:l}=gee(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Ct(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ct(Lc(u,s.config.emulator)&&Lc(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,yee()}function Y9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gee(t){const e=Y9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:jP(s.substr(i.length+1))}}else{const[i,a]=s.split(":");return{host:i,port:jP(a)}}}function jP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bc("not implemented")}_getIdTokenResponse(e){return bc("not implemented")}_linkToIdToken(e,n){return bc("not implemented")}_getReauthenticationResolver(e){return bc("not implemented")}}async function xee(t,e){return Fo(t,"POST","/v1/accounts:update",e)}async function bee(t,e){return Fo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vee(t,e){return Xx(t,"POST","/v1/accounts:signInWithPassword",Qc(t,e))}async function wee(t,e){return Fo(t,"POST","/v1/accounts:sendOobCode",Qc(t,e))}async function _ee(t,e){return wee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nee(t,e){return Xx(t,"POST","/v1/accounts:signInWithEmailLink",Qc(t,e))}async function See(t,e){return Xx(t,"POST","/v1/accounts:signInWithEmailLink",Qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends nA{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ky(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ky(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tv(e,n,"signInWithPassword",vee);case"emailLink":return Nee(e,{email:this._email,oobCode:this._password});default:Ga(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tv(e,s,"signUpPassword",bee);case"emailLink":return See(e,{idToken:n,email:this._email,oobCode:this._password});default:Ga(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(t,e){return Xx(t,"POST","/v1/accounts:signInWithIdp",Qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee="http://localhost";class Af extends nA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Af(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ga("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,i=KE(n,["providerId","signInMethod"]);if(!s||!r)return null;const a=new Af(s,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ep(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ep(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ep(e,n)}buildRequest(){const e={requestUri:jee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yx(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Aee(t){const e=L0(M0(t)).link,n=e?L0(M0(e)).deep_link_id:null,s=L0(M0(t)).deep_link_id;return(s?L0(M0(s)).link:null)||s||n||e||t}class sA{constructor(e){var n,s,r,i,a,l;const c=L0(M0(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(s=c.oobCode)!==null&&s!==void 0?s:null,h=Eee((r=c.mode)!==null&&r!==void 0?r:null);Ct(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Aee(e);try{return new sA(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this.providerId=Qf.PROVIDER_ID}static credential(e,n){return Ky._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=sA.parseLink(n);return Ct(s,"argument-error"),Ky._fromEmailAndCode(e,s.code,s.tenantId)}}Qf.PROVIDER_ID="password";Qf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends rA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Jx{constructor(){super("facebook.com")}static credential(e){return Af._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uu.credential(e.oauthAccessToken)}catch{return null}}}Uu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends Jx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Af._fromParams({providerId:fc.PROVIDER_ID,signInMethod:fc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fc.credentialFromTaggedObject(e)}static credentialFromError(e){return fc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fc.credential(n,s)}catch{return null}}}fc.GOOGLE_SIGN_IN_METHOD="google.com";fc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Jx{constructor(){super("github.com")}static credential(e){return Af._fromParams({providerId:zu.PROVIDER_ID,signInMethod:zu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zu.credentialFromTaggedObject(e)}static credentialFromError(e){return zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zu.credential(e.oauthAccessToken)}catch{return null}}}zu.GITHUB_SIGN_IN_METHOD="github.com";zu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Jx{constructor(){super("twitter.com")}static credential(e,n){return Af._fromParams({providerId:$u.PROVIDER_ID,signInMethod:$u.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $u.credentialFromTaggedObject(e)}static credentialFromError(e){return $u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $u.credential(n,s)}catch{return null}}}$u.TWITTER_SIGN_IN_METHOD="twitter.com";$u.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tee(t,e){return Xx(t,"POST","/v1/accounts:signUp",Qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await No._fromIdTokenResponse(e,s,r),a=EP(s);return new Tf({user:i,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=EP(s);return new Tf({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function EP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends Ll{constructor(e,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Cv.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Cv(e,n,s,r)}}function K9(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Cv._fromErrorAndOperation(t,i,e,s):i})}async function Cee(t,e,n=!1){const s=await Ef(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Tf._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X9(t,e,n=!1){const{auth:s}=t;if(Fi(s.app))return Promise.reject(Ec(s));const r="reauthenticate";try{const i=await Ef(t,K9(s,r,e,t),n);Ct(i.idToken,s,"internal-error");const a=eA(i.idToken);Ct(a,s,"internal-error");const{sub:l}=a;return Ct(t.uid===l,s,"user-mismatch"),Tf._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ga(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(t,e,n=!1){if(Fi(t.app))return Promise.reject(Ec(t));const s="signIn",r=await K9(t,s,e),i=await Tf._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function kee(t,e){return J9(Gc(t),e)}async function Pee(t,e){return X9(Un(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t){const e=Gc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ree(t,e,n){const s=Gc(t);await Tv(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_ee)}async function eF(t,e,n){if(Fi(t.app))return Promise.reject(Ec(t));const s=Gc(t),a=await Tv(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tee).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Z9(t),c}),l=await Tf._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function tF(t,e,n){return Fi(t.app)?Promise.reject(Ec(t)):kee(Un(t),Qf.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Z9(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iee(t,e){return Fo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lee(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Un(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Ef(s,Iee(s.auth,i));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}function Mee(t,e){return Dee(Un(t),null,e)}async function Dee(t,e,n){const{auth:s}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const a=await Ef(t,xee(s,i));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(t,e){return Un(t).setPersistence(e)}function Fee(t,e,n,s){return Un(t).onIdTokenChanged(e,n,s)}function Bee(t,e,n){return Un(t).beforeAuthStateChanged(e,n)}function Vee(t,e,n,s){return Un(t).onAuthStateChanged(e,n,s)}function nF(t){return Un(t).signOut()}const kv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kv,"1"),this.storage.removeItem(kv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee=1e3,zee=10;class rF extends sF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},i=this.storage.getItem(s);ZZ()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,zee):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Uee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rF.type="LOCAL";const iF=rF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF extends sF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aF.type="SESSION";const oF=aF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new d5(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await $ee(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}d5.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=iA("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);a={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(){return window}function Hee(t){bl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(){return typeof bl().WorkerGlobalScope<"u"&&typeof bl().importScripts=="function"}async function Qee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Wee(){return lF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="firebaseLocalStorageDb",Yee=1,Pv="firebaseLocalStorage",uF="fbase_key";class Zx{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function h5(t,e){return t.transaction([Pv],e?"readwrite":"readonly").objectStore(Pv)}function Kee(){const t=indexedDB.deleteDatabase(cF);return new Zx(t).toPromise()}function Q3(){const t=indexedDB.open(cF,Yee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Pv,{keyPath:uF})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Pv)?e(s):(s.close(),await Kee(),e(await Q3()))})})}async function AP(t,e,n){const s=h5(t,!0).put({[uF]:e,value:n});return new Zx(s).toPromise()}async function Xee(t,e){const n=h5(t,!1).get(e),s=await new Zx(n).toPromise();return s===void 0?null:s.value}function TP(t,e){const n=h5(t,!0).delete(e);return new Zx(n).toPromise()}const Jee=800,Zee=3;class dF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Q3(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Zee)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=d5._getInstance(Wee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Qee(),!this.activeServiceWorker)return;this.sender=new qee(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Gee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Q3();return await AP(e,kv,"1"),await TP(e,kv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>AP(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Xee(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=h5(r,!1).getAll();return new Zx(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dF.type="LOCAL";const ete=dF;new Kx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t,e){return e?vc(e):(Ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends nA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ep(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ep(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ep(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tte(t){return J9(t.auth,new aA(t),t.bypassAuthState)}function nte(t){const{auth:e,user:n}=t;return Ct(n,e,"internal-error"),X9(n,new aA(t),t.bypassAuthState)}async function ste(t){const{auth:e,user:n}=t;return Ct(n,e,"internal-error"),Cee(n,new aA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tte;case"linkViaPopup":case"linkViaRedirect":return ste;case"reauthViaPopup":case"reauthViaRedirect":return nte;default:Ga(this.auth,"internal-error")}}resolve(e){Dc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte=new Kx(2e3,1e4);async function mF(t,e,n){if(Fi(t.app))return Promise.reject(Co(t,"operation-not-supported-in-this-environment"));const s=Gc(t);IZ(t,e,rA);const r=hF(s,n);return new Gh(s,"signInViaPopup",e,r).executeNotNull()}class Gh extends fF{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Gh.currentPopupAction&&Gh.currentPopupAction.cancel(),Gh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ct(e,this.auth,"internal-error"),e}async onExecution(){Dc(this.filter.length===1,"Popup operations only handle one event");const e=iA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Co(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Co(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Co(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rte.get())};e()}}Gh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ite="pendingRedirect",v2=new Map;class ate extends fF{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=v2.get(this.auth._key());if(!e){try{const s=await ote(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}v2.set(this.auth._key(),e)}return this.bypassAuthState||v2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ote(t,e){const n=ute(e),s=cte(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function lte(t,e){v2.set(t._key(),e)}function cte(t){return vc(t._redirectPersistence)}function ute(t){return b2(ite,t.config.apiKey,t.name)}async function dte(t,e,n=!1){if(Fi(t.app))return Promise.reject(Ec(t));const s=Gc(t),r=hF(s,e),a=await new ate(s,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte=10*60*1e3;class fte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!pF(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Co(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hte&&this.cachedEventUids.clear(),this.cachedEventUids.has(CP(e))}saveEventToCache(e){this.cachedEventUids.add(CP(e)),this.lastProcessedEventTime=Date.now()}}function CP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pte(t,e={}){return Fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yte=/^https?/;async function xte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pte(t);for(const n of e)try{if(bte(n))return}catch{}Ga(t,"unauthorized-domain")}function bte(t){const e=q3(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!yte.test(n))return!1;if(gte.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vte=new Kx(3e4,6e4);function kP(){const t=bl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wte(t){return new Promise((e,n)=>{var s,r,i;function a(){kP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kP(),n(Co(t,"network-request-failed"))},timeout:vte.get()})}if(!((r=(s=bl().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=bl().gapi)===null||i===void 0)&&i.load)a();else{const l=lee("iframefcb");return bl()[l]=()=>{gapi.load?a():n(Co(t,"network-request-failed"))},G9(`${oee()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw w2=null,e})}let w2=null;function _te(t){return w2=w2||wte(t),w2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte=new Kx(5e3,15e3),Ste="__/auth/iframe",jte="emulator/auth/iframe",Ete={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ate=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tte(t){const e=t.config;Ct(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ZE(e,jte):`https://${t.config.authDomain}/${Ste}`,s={apiKey:e.apiKey,appName:t.name,v:Hf},r=Ate.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Yx(s).slice(1)}`}async function Cte(t){const e=await _te(t),n=bl().gapi;return Ct(n,t,"internal-error"),e.open({where:document.body,url:Tte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ete,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const a=Co(t,"network-request-failed"),l=bl().setTimeout(()=>{i(a)},Nte.get());function c(){bl().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pte=500,Rte=600,Ite="_blank",Lte="http://localhost";class PP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mte(t,e,n,s=Pte,r=Rte){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},kte),{width:s.toString(),height:r.toString(),top:i,left:a}),u=si().toLowerCase();n&&(l=V9(u)?Ite:n),F9(u)&&(e=e||Lte,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[m,p])=>`${f}${m}=${p},`,"");if(JZ(u)&&l!=="_self")return Dte(e||"",l),new PP(null);const h=window.open(e||"",l,d);Ct(h,t,"popup-blocked");try{h.focus()}catch{}return new PP(h)}function Dte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote="__/auth/handler",Fte="emulator/auth/handler",Bte=encodeURIComponent("fac");async function RP(t,e,n,s,r,i){Ct(t.config.authDomain,t,"auth-domain-config-required"),Ct(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Hf,eventId:r};if(e instanceof rA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",bJ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(e instanceof Jx){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${Bte}=${encodeURIComponent(c)}`:"";return`${Vte(t)}?${Yx(l).slice(1)}${u}`}function Vte({config:t}){return t.emulator?ZE(t,Fte):`https://${t.authDomain}/${Ote}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="webStorageSupport";class Ute{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oF,this._completeRedirectFn=dte,this._overrideRedirectResult=lte}async _openPopup(e,n,s,r){var i;Dc((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await RP(e,n,s,q3(),r);return Mte(e,a,iA())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await RP(e,n,s,q3(),r);return Hee(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Dc(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Cte(e),s=new fte(e);return n.register("authEvent",r=>(Ct(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(FN,{type:FN},r=>{var i;const a=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[FN];a!==void 0&&n(!!a),Ga(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return H9()||B9()||tA()}}const zte=Ute;var IP="@firebase/auth",LP="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hte(t){jf(new Rd("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=s.options;Ct(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q9(t)},u=new ree(s,r,i,c);return mee(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),jf(new Rd("auth-internal",e=>{const n=Gc(e.getProvider("auth").getImmediate());return(s=>new $te(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xl(IP,LP,qte(t)),xl(IP,LP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qte=5*60,Gte=S9("authIdTokenMaxAge")||Qte;let MP=null;const Wte=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Gte)return;const r=n==null?void 0:n.token;MP!==r&&(MP=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Yte(t=YE()){const e=c5(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fee(t,{popupRedirectResolver:zte,persistence:[ete,iF,oF]}),s=S9("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const a=Wte(i.toString());Bee(n,a,()=>a(n.currentUser)),Fee(n,l=>a(l))}}const r=w9("auth");return r&&pee(n,`http://${r}`),n}function Kte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iee({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Co("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",Kte().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hte("Browser");var Xte="firebase",Jte="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xl(Xte,Jte,"app");var DP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wd,gF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function A(){}A.prototype=w.prototype,C.D=w.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(R,E,T){for(var L=Array(arguments.length-2),z=2;z<arguments.length;z++)L[z-2]=arguments[z];return w.prototype[E].apply(R,L)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,w,A){A||(A=0);var R=Array(16);if(typeof w=="string")for(var E=0;16>E;++E)R[E]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(E=0;16>E;++E)R[E]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=C.g[0],A=C.g[1],E=C.g[2];var T=C.g[3],L=w+(T^A&(E^T))+R[0]+3614090360&4294967295;w=A+(L<<7&4294967295|L>>>25),L=T+(E^w&(A^E))+R[1]+3905402710&4294967295,T=w+(L<<12&4294967295|L>>>20),L=E+(A^T&(w^A))+R[2]+606105819&4294967295,E=T+(L<<17&4294967295|L>>>15),L=A+(w^E&(T^w))+R[3]+3250441966&4294967295,A=E+(L<<22&4294967295|L>>>10),L=w+(T^A&(E^T))+R[4]+4118548399&4294967295,w=A+(L<<7&4294967295|L>>>25),L=T+(E^w&(A^E))+R[5]+1200080426&4294967295,T=w+(L<<12&4294967295|L>>>20),L=E+(A^T&(w^A))+R[6]+2821735955&4294967295,E=T+(L<<17&4294967295|L>>>15),L=A+(w^E&(T^w))+R[7]+4249261313&4294967295,A=E+(L<<22&4294967295|L>>>10),L=w+(T^A&(E^T))+R[8]+1770035416&4294967295,w=A+(L<<7&4294967295|L>>>25),L=T+(E^w&(A^E))+R[9]+2336552879&4294967295,T=w+(L<<12&4294967295|L>>>20),L=E+(A^T&(w^A))+R[10]+4294925233&4294967295,E=T+(L<<17&4294967295|L>>>15),L=A+(w^E&(T^w))+R[11]+2304563134&4294967295,A=E+(L<<22&4294967295|L>>>10),L=w+(T^A&(E^T))+R[12]+1804603682&4294967295,w=A+(L<<7&4294967295|L>>>25),L=T+(E^w&(A^E))+R[13]+4254626195&4294967295,T=w+(L<<12&4294967295|L>>>20),L=E+(A^T&(w^A))+R[14]+2792965006&4294967295,E=T+(L<<17&4294967295|L>>>15),L=A+(w^E&(T^w))+R[15]+1236535329&4294967295,A=E+(L<<22&4294967295|L>>>10),L=w+(E^T&(A^E))+R[1]+4129170786&4294967295,w=A+(L<<5&4294967295|L>>>27),L=T+(A^E&(w^A))+R[6]+3225465664&4294967295,T=w+(L<<9&4294967295|L>>>23),L=E+(w^A&(T^w))+R[11]+643717713&4294967295,E=T+(L<<14&4294967295|L>>>18),L=A+(T^w&(E^T))+R[0]+3921069994&4294967295,A=E+(L<<20&4294967295|L>>>12),L=w+(E^T&(A^E))+R[5]+3593408605&4294967295,w=A+(L<<5&4294967295|L>>>27),L=T+(A^E&(w^A))+R[10]+38016083&4294967295,T=w+(L<<9&4294967295|L>>>23),L=E+(w^A&(T^w))+R[15]+3634488961&4294967295,E=T+(L<<14&4294967295|L>>>18),L=A+(T^w&(E^T))+R[4]+3889429448&4294967295,A=E+(L<<20&4294967295|L>>>12),L=w+(E^T&(A^E))+R[9]+568446438&4294967295,w=A+(L<<5&4294967295|L>>>27),L=T+(A^E&(w^A))+R[14]+3275163606&4294967295,T=w+(L<<9&4294967295|L>>>23),L=E+(w^A&(T^w))+R[3]+4107603335&4294967295,E=T+(L<<14&4294967295|L>>>18),L=A+(T^w&(E^T))+R[8]+1163531501&4294967295,A=E+(L<<20&4294967295|L>>>12),L=w+(E^T&(A^E))+R[13]+2850285829&4294967295,w=A+(L<<5&4294967295|L>>>27),L=T+(A^E&(w^A))+R[2]+4243563512&4294967295,T=w+(L<<9&4294967295|L>>>23),L=E+(w^A&(T^w))+R[7]+1735328473&4294967295,E=T+(L<<14&4294967295|L>>>18),L=A+(T^w&(E^T))+R[12]+2368359562&4294967295,A=E+(L<<20&4294967295|L>>>12),L=w+(A^E^T)+R[5]+4294588738&4294967295,w=A+(L<<4&4294967295|L>>>28),L=T+(w^A^E)+R[8]+2272392833&4294967295,T=w+(L<<11&4294967295|L>>>21),L=E+(T^w^A)+R[11]+1839030562&4294967295,E=T+(L<<16&4294967295|L>>>16),L=A+(E^T^w)+R[14]+4259657740&4294967295,A=E+(L<<23&4294967295|L>>>9),L=w+(A^E^T)+R[1]+2763975236&4294967295,w=A+(L<<4&4294967295|L>>>28),L=T+(w^A^E)+R[4]+1272893353&4294967295,T=w+(L<<11&4294967295|L>>>21),L=E+(T^w^A)+R[7]+4139469664&4294967295,E=T+(L<<16&4294967295|L>>>16),L=A+(E^T^w)+R[10]+3200236656&4294967295,A=E+(L<<23&4294967295|L>>>9),L=w+(A^E^T)+R[13]+681279174&4294967295,w=A+(L<<4&4294967295|L>>>28),L=T+(w^A^E)+R[0]+3936430074&4294967295,T=w+(L<<11&4294967295|L>>>21),L=E+(T^w^A)+R[3]+3572445317&4294967295,E=T+(L<<16&4294967295|L>>>16),L=A+(E^T^w)+R[6]+76029189&4294967295,A=E+(L<<23&4294967295|L>>>9),L=w+(A^E^T)+R[9]+3654602809&4294967295,w=A+(L<<4&4294967295|L>>>28),L=T+(w^A^E)+R[12]+3873151461&4294967295,T=w+(L<<11&4294967295|L>>>21),L=E+(T^w^A)+R[15]+530742520&4294967295,E=T+(L<<16&4294967295|L>>>16),L=A+(E^T^w)+R[2]+3299628645&4294967295,A=E+(L<<23&4294967295|L>>>9),L=w+(E^(A|~T))+R[0]+4096336452&4294967295,w=A+(L<<6&4294967295|L>>>26),L=T+(A^(w|~E))+R[7]+1126891415&4294967295,T=w+(L<<10&4294967295|L>>>22),L=E+(w^(T|~A))+R[14]+2878612391&4294967295,E=T+(L<<15&4294967295|L>>>17),L=A+(T^(E|~w))+R[5]+4237533241&4294967295,A=E+(L<<21&4294967295|L>>>11),L=w+(E^(A|~T))+R[12]+1700485571&4294967295,w=A+(L<<6&4294967295|L>>>26),L=T+(A^(w|~E))+R[3]+2399980690&4294967295,T=w+(L<<10&4294967295|L>>>22),L=E+(w^(T|~A))+R[10]+4293915773&4294967295,E=T+(L<<15&4294967295|L>>>17),L=A+(T^(E|~w))+R[1]+2240044497&4294967295,A=E+(L<<21&4294967295|L>>>11),L=w+(E^(A|~T))+R[8]+1873313359&4294967295,w=A+(L<<6&4294967295|L>>>26),L=T+(A^(w|~E))+R[15]+4264355552&4294967295,T=w+(L<<10&4294967295|L>>>22),L=E+(w^(T|~A))+R[6]+2734768916&4294967295,E=T+(L<<15&4294967295|L>>>17),L=A+(T^(E|~w))+R[13]+1309151649&4294967295,A=E+(L<<21&4294967295|L>>>11),L=w+(E^(A|~T))+R[4]+4149444226&4294967295,w=A+(L<<6&4294967295|L>>>26),L=T+(A^(w|~E))+R[11]+3174756917&4294967295,T=w+(L<<10&4294967295|L>>>22),L=E+(w^(T|~A))+R[2]+718787259&4294967295,E=T+(L<<15&4294967295|L>>>17),L=A+(T^(E|~w))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(E+(L<<21&4294967295|L>>>11))&4294967295,C.g[2]=C.g[2]+E&4294967295,C.g[3]=C.g[3]+T&4294967295}s.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var A=w-this.blockSize,R=this.B,E=this.h,T=0;T<w;){if(E==0)for(;T<=A;)r(this,C,T),T+=this.blockSize;if(typeof C=="string"){for(;T<w;)if(R[E++]=C.charCodeAt(T++),E==this.blockSize){r(this,R),E=0;break}}else for(;T<w;)if(R[E++]=C[T++],E==this.blockSize){r(this,R),E=0;break}}this.h=E,this.o+=w},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var A=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=A&255,A/=256;for(this.u(C),C=Array(16),w=A=0;4>w;++w)for(var R=0;32>R;R+=8)C[A++]=this.g[w]>>>R&255;return C};function i(C,w){var A=l;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=w(C)}function a(C,w){this.h=w;for(var A=[],R=!0,E=C.length-1;0<=E;E--){var T=C[E]|0;R&&T==w||(A[E]=T,R=!1)}this.g=A}var l={};function c(C){return-128<=C&&128>C?i(C,function(w){return new a([w|0],0>w?-1:0)}):new a([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return v(u(-C));for(var w=[],A=1,R=0;C>=A;R++)w[R]=C/A|0,A*=4294967296;return new a(w,0)}function d(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return v(d(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(w,8)),R=h,E=0;E<C.length;E+=8){var T=Math.min(8,C.length-E),L=parseInt(C.substring(E,E+T),w);8>T?(T=u(Math.pow(w,T)),R=R.j(T).add(u(L))):(R=R.j(A),R=R.add(u(L)))}return R}var h=c(0),f=c(1),m=c(16777216);t=a.prototype,t.m=function(){if(x(this))return-v(this).m();for(var C=0,w=1,A=0;A<this.g.length;A++){var R=this.i(A);C+=(0<=R?R:4294967296+R)*w,w*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(p(this))return"0";if(x(this))return"-"+v(this).toString(C);for(var w=u(Math.pow(C,6)),A=this,R="";;){var E=P(A,w).g;A=y(A,E.j(w));var T=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=E,p(A))return T+R;for(;6>T.length;)T="0"+T;R=T+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function p(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=y(this,C),x(C)?-1:p(C)?0:1};function v(C){for(var w=C.g.length,A=[],R=0;R<w;R++)A[R]=~C.g[R];return new a(A,~C.h).add(f)}t.abs=function(){return x(this)?v(this):this},t.add=function(C){for(var w=Math.max(this.g.length,C.g.length),A=[],R=0,E=0;E<=w;E++){var T=R+(this.i(E)&65535)+(C.i(E)&65535),L=(T>>>16)+(this.i(E)>>>16)+(C.i(E)>>>16);R=L>>>16,T&=65535,L&=65535,A[E]=L<<16|T}return new a(A,A[A.length-1]&-2147483648?-1:0)};function y(C,w){return C.add(v(w))}t.j=function(C){if(p(this)||p(C))return h;if(x(this))return x(C)?v(this).j(v(C)):v(v(this).j(C));if(x(C))return v(this.j(v(C)));if(0>this.l(m)&&0>C.l(m))return u(this.m()*C.m());for(var w=this.g.length+C.g.length,A=[],R=0;R<2*w;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var E=0;E<C.g.length;E++){var T=this.i(R)>>>16,L=this.i(R)&65535,z=C.i(E)>>>16,$=C.i(E)&65535;A[2*R+2*E]+=L*$,_(A,2*R+2*E),A[2*R+2*E+1]+=T*$,_(A,2*R+2*E+1),A[2*R+2*E+1]+=L*z,_(A,2*R+2*E+1),A[2*R+2*E+2]+=T*z,_(A,2*R+2*E+2)}for(R=0;R<w;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=w;R<2*w;R++)A[R]=0;return new a(A,0)};function _(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function N(C,w){this.g=C,this.h=w}function P(C,w){if(p(w))throw Error("division by zero");if(p(C))return new N(h,h);if(x(C))return w=P(v(C),w),new N(v(w.g),v(w.h));if(x(w))return w=P(C,v(w)),new N(v(w.g),w.h);if(30<C.g.length){if(x(C)||x(w))throw Error("slowDivide_ only works with positive integers.");for(var A=f,R=w;0>=R.l(C);)A=I(A),R=I(R);var E=D(A,1),T=D(R,1);for(R=D(R,2),A=D(A,2);!p(R);){var L=T.add(R);0>=L.l(C)&&(E=E.add(A),T=L),R=D(R,1),A=D(A,1)}return w=y(C,E.j(w)),new N(E,w)}for(E=h;0<=C.l(w);){for(A=Math.max(1,Math.floor(C.m()/w.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),T=u(A),L=T.j(w);x(L)||0<L.l(C);)A-=R,T=u(A),L=T.j(w);p(T)&&(T=f),E=E.add(T),C=y(C,L)}return new N(E,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var w=Math.max(this.g.length,C.g.length),A=[],R=0;R<w;R++)A[R]=this.i(R)&C.i(R);return new a(A,this.h&C.h)},t.or=function(C){for(var w=Math.max(this.g.length,C.g.length),A=[],R=0;R<w;R++)A[R]=this.i(R)|C.i(R);return new a(A,this.h|C.h)},t.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),A=[],R=0;R<w;R++)A[R]=this.i(R)^C.i(R);return new a(A,this.h^C.h)};function I(C){for(var w=C.g.length+1,A=[],R=0;R<w;R++)A[R]=C.i(R)<<1|C.i(R-1)>>>31;return new a(A,C.h)}function D(C,w){var A=w>>5;w%=32;for(var R=C.g.length-A,E=[],T=0;T<R;T++)E[T]=0<w?C.i(T+A)>>>w|C.i(T+A+1)<<32-w:C.i(T+A);return new a(E,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gF=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,wd=a}).apply(typeof DP<"u"?DP:typeof self<"u"?self:typeof window<"u"?window:{});var yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yF,D0,xF,_2,G3,bF,vF,wF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,B,H){return b==Array.prototype||b==Object.prototype||(b[B]=H.value),b};function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof yb=="object"&&yb];for(var B=0;B<b.length;++B){var H=b[B];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var s=n(this);function r(b,B){if(B)e:{var H=s;b=b.split(".");for(var ne=0;ne<b.length-1;ne++){var xe=b[ne];if(!(xe in H))break e;H=H[xe]}b=b[b.length-1],ne=H[b],B=B(ne),B!=ne&&B!=null&&e(H,b,{configurable:!0,writable:!0,value:B})}}function i(b,B){b instanceof String&&(b+="");var H=0,ne=!1,xe={next:function(){if(!ne&&H<b.length){var Ee=H++;return{value:B(Ee,b[Ee]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}r("Array.prototype.values",function(b){return b||function(){return i(this,function(B,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(b){var B=typeof b;return B=B!="object"?B:b?Array.isArray(b)?"array":B:"null",B=="array"||B=="object"&&typeof b.length=="number"}function u(b){var B=typeof b;return B=="object"&&b!=null||B=="function"}function d(b,B,H){return b.call.apply(b.bind,arguments)}function h(b,B,H){if(!b)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,ne),b.apply(B,xe)}}return function(){return b.apply(B,arguments)}}function f(b,B,H){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(b,B){var H=Array.prototype.slice.call(arguments,1);return function(){var ne=H.slice();return ne.push.apply(ne,arguments),b.apply(this,ne)}}function p(b,B){function H(){}H.prototype=B.prototype,b.aa=B.prototype,b.prototype=new H,b.prototype.constructor=b,b.Qb=function(ne,xe,Ee){for(var tt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)tt[Mt-2]=arguments[Mt];return B.prototype[xe].apply(ne,tt)}}function x(b){const B=b.length;if(0<B){const H=Array(B);for(let ne=0;ne<B;ne++)H[ne]=b[ne];return H}return[]}function v(b,B){for(let H=1;H<arguments.length;H++){const ne=arguments[H];if(c(ne)){const xe=b.length||0,Ee=ne.length||0;b.length=xe+Ee;for(let tt=0;tt<Ee;tt++)b[xe+tt]=ne[tt]}else b.push(ne)}}class y{constructor(B,H){this.i=B,this.j=H,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function _(b){return/^[\s\xa0]*$/.test(b)}function N(){var b=l.navigator;return b&&(b=b.userAgent)?b:""}function P(b){return P[" "](b),b}P[" "]=function(){};var I=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function D(b,B,H){for(const ne in b)B.call(H,b[ne],ne,b)}function C(b,B){for(const H in b)B.call(void 0,b[H],H,b)}function w(b){const B={};for(const H in b)B[H]=b[H];return B}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(b,B){let H,ne;for(let xe=1;xe<arguments.length;xe++){ne=arguments[xe];for(H in ne)b[H]=ne[H];for(let Ee=0;Ee<A.length;Ee++)H=A[Ee],Object.prototype.hasOwnProperty.call(ne,H)&&(b[H]=ne[H])}}function E(b){var B=1;b=b.split(":");const H=[];for(;0<B&&b.length;)H.push(b.shift()),B--;return b.length&&H.push(b.join(":")),H}function T(b){l.setTimeout(()=>{throw b},0)}function L(){var b=V;let B=null;return b.g&&(B=b.g,b.g=b.g.next,b.g||(b.h=null),B.next=null),B}class z{constructor(){this.h=this.g=null}add(B,H){const ne=$.get();ne.set(B,H),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var $=new y(()=>new O,b=>b.reset());class O{constructor(){this.next=this.g=this.h=null}set(B,H){this.h=B,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let F,Q=!1,V=new z,W=()=>{const b=l.Promise.resolve(void 0);F=()=>{b.then(Z)}};var Z=()=>{for(var b;b=L();){try{b.h.call(b.g)}catch(H){T(H)}var B=$;B.j(b),100>B.h&&(B.h++,b.next=B.g,B.g=b)}Q=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(b,B){this.type=b,this.g=this.target=B,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var b=!1,B=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const H=()=>{};l.addEventListener("test",H,B),l.removeEventListener("test",H,B)}catch{}return b}();function J(b,B){if(G.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var H=this.type=b.type,ne=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=B,B=b.relatedTarget){if(I){e:{try{P(B.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(B=null)}}else H=="mouseover"?B=b.fromElement:H=="mouseout"&&(B=b.toElement);this.relatedTarget=B,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:re[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&J.aa.h.call(this)}}p(J,G);var re={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),ue=0;function de(b,B,H,ne,xe){this.listener=b,this.proxy=null,this.src=B,this.type=H,this.capture=!!ne,this.ha=xe,this.key=++ue,this.da=this.fa=!1}function _e(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Ae(b){this.src=b,this.g={},this.h=0}Ae.prototype.add=function(b,B,H,ne,xe){var Ee=b.toString();b=this.g[Ee],b||(b=this.g[Ee]=[],this.h++);var tt=Ie(b,B,ne,xe);return-1<tt?(B=b[tt],H||(B.fa=!1)):(B=new de(B,this.src,Ee,!!ne,xe),B.fa=H,b.push(B)),B};function Le(b,B){var H=B.type;if(H in b.g){var ne=b.g[H],xe=Array.prototype.indexOf.call(ne,B,void 0),Ee;(Ee=0<=xe)&&Array.prototype.splice.call(ne,xe,1),Ee&&(_e(B),b.g[H].length==0&&(delete b.g[H],b.h--))}}function Ie(b,B,H,ne){for(var xe=0;xe<b.length;++xe){var Ee=b[xe];if(!Ee.da&&Ee.listener==B&&Ee.capture==!!H&&Ee.ha==ne)return xe}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),ye={};function ae(b,B,H,ne,xe){if(Array.isArray(B)){for(var Ee=0;Ee<B.length;Ee++)ae(b,B[Ee],H,ne,xe);return null}return H=ze(H),b&&b[le]?b.K(B,H,u(ne)?!!ne.capture:!1,xe):nt(b,B,H,!1,ne,xe)}function nt(b,B,H,ne,xe,Ee){if(!B)throw Error("Invalid event type");var tt=u(xe)?!!xe.capture:!!xe,Mt=$e(b);if(Mt||(b[Xe]=Mt=new Ae(b)),H=Mt.add(B,H,ne,tt,Ee),H.proxy)return H;if(ne=Je(),H.proxy=ne,ne.src=b,ne.listener=H,b.addEventListener)Y||(xe=tt),xe===void 0&&(xe=!1),b.addEventListener(B.toString(),ne,xe);else if(b.attachEvent)b.attachEvent(ke(B.toString()),ne);else if(b.addListener&&b.removeListener)b.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return H}function Je(){function b(H){return B.call(b.src,b.listener,H)}const B=Ve;return b}function Oe(b,B,H,ne,xe){if(Array.isArray(B))for(var Ee=0;Ee<B.length;Ee++)Oe(b,B[Ee],H,ne,xe);else ne=u(ne)?!!ne.capture:!!ne,H=ze(H),b&&b[le]?(b=b.i,B=String(B).toString(),B in b.g&&(Ee=b.g[B],H=Ie(Ee,H,ne,xe),-1<H&&(_e(Ee[H]),Array.prototype.splice.call(Ee,H,1),Ee.length==0&&(delete b.g[B],b.h--)))):b&&(b=$e(b))&&(B=b.g[B.toString()],b=-1,B&&(b=Ie(B,H,ne,xe)),(H=-1<b?B[b]:null)&&Ne(H))}function Ne(b){if(typeof b!="number"&&b&&!b.da){var B=b.src;if(B&&B[le])Le(B.i,b);else{var H=b.type,ne=b.proxy;B.removeEventListener?B.removeEventListener(H,ne,b.capture):B.detachEvent?B.detachEvent(ke(H),ne):B.addListener&&B.removeListener&&B.removeListener(ne),(H=$e(B))?(Le(H,b),H.h==0&&(H.src=null,B[Xe]=null)):_e(b)}}}function ke(b){return b in ye?ye[b]:ye[b]="on"+b}function Ve(b,B){if(b.da)b=!0;else{B=new J(B,this);var H=b.listener,ne=b.ha||b.src;b.fa&&Ne(b),b=H.call(ne,B)}return b}function $e(b){return b=b[Xe],b instanceof Ae?b:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function ze(b){return typeof b=="function"?b:(b[Te]||(b[Te]=function(B){return b.handleEvent(B)}),b[Te])}function Ge(){U.call(this),this.i=new Ae(this),this.M=this,this.F=null}p(Ge,U),Ge.prototype[le]=!0,Ge.prototype.removeEventListener=function(b,B,H,ne){Oe(this,b,B,H,ne)};function rt(b,B){var H,ne=b.F;if(ne)for(H=[];ne;ne=ne.F)H.push(ne);if(b=b.M,ne=B.type||B,typeof B=="string")B=new G(B,b);else if(B instanceof G)B.target=B.target||b;else{var xe=B;B=new G(ne,b),R(B,xe)}if(xe=!0,H)for(var Ee=H.length-1;0<=Ee;Ee--){var tt=B.g=H[Ee];xe=xt(tt,ne,!0,B)&&xe}if(tt=B.g=b,xe=xt(tt,ne,!0,B)&&xe,xe=xt(tt,ne,!1,B)&&xe,H)for(Ee=0;Ee<H.length;Ee++)tt=B.g=H[Ee],xe=xt(tt,ne,!1,B)&&xe}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var b=this.i,B;for(B in b.g){for(var H=b.g[B],ne=0;ne<H.length;ne++)_e(H[ne]);delete b.g[B],b.h--}}this.F=null},Ge.prototype.K=function(b,B,H,ne){return this.i.add(String(b),B,!1,H,ne)},Ge.prototype.L=function(b,B,H,ne){return this.i.add(String(b),B,!0,H,ne)};function xt(b,B,H,ne){if(B=b.i.g[String(B)],!B)return!0;B=B.concat();for(var xe=!0,Ee=0;Ee<B.length;++Ee){var tt=B[Ee];if(tt&&!tt.da&&tt.capture==H){var Mt=tt.listener,Wt=tt.ha||tt.src;tt.fa&&Le(b.i,tt),xe=Mt.call(Wt,ne)!==!1&&xe}}return xe&&!ne.defaultPrevented}function Pe(b,B,H){if(typeof b=="function")H&&(b=f(b,H));else if(b&&typeof b.handleEvent=="function")b=f(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:l.setTimeout(b,B||0)}function we(b){b.g=Pe(()=>{b.g=null,b.i&&(b.i=!1,we(b))},b.l);const B=b.h;b.h=null,b.m.apply(null,B)}class Me extends U{constructor(B,H){super(),this.m=B,this.l=H,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:we(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function st(b){U.call(this),this.h=b,this.g={}}p(st,U);var at=[];function Et(b){D(b.g,function(B,H){this.g.hasOwnProperty(H)&&Ne(B)},b),b.g={}}st.prototype.N=function(){st.aa.N.call(this),Et(this)},st.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=l.JSON.stringify,ft=l.JSON.parse,Ft=class{stringify(b){return l.JSON.stringify(b,void 0)}parse(b){return l.JSON.parse(b,void 0)}};function ct(){}ct.prototype.h=null;function nn(b){return b.h||(b.h=b.i())}function un(){}var Ks={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function us(){G.call(this,"d")}p(us,G);function en(){G.call(this,"c")}p(en,G);var vt={},Ut=null;function ii(){return Ut=Ut||new Ge}vt.La="serverreachability";function kn(b){G.call(this,vt.La,b)}p(kn,G);function es(b){const B=ii();rt(B,new kn(B))}vt.STAT_EVENT="statevent";function Gi(b,B){G.call(this,vt.STAT_EVENT,b),this.stat=B}p(Gi,G);function gt(b){const B=ii();rt(B,new Gi(B,b))}vt.Ma="timingevent";function _i(b,B){G.call(this,vt.Ma,b),this.size=B}p(_i,G);function Fr(b,B){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){b()},B)}function Os(){this.g=!0}Os.prototype.xa=function(){this.g=!1};function Ns(b,B,H,ne,xe,Ee){b.info(function(){if(b.g)if(Ee)for(var tt="",Mt=Ee.split("&"),Wt=0;Wt<Mt.length;Wt++){var Dt=Mt[Wt].split("=");if(1<Dt.length){var gn=Dt[0];Dt=Dt[1];var Ln=gn.split("_");tt=2<=Ln.length&&Ln[1]=="type"?tt+(gn+"="+Dt+"&"):tt+(gn+"=redacted&")}}else tt=null;else tt=Ee;return"XMLHTTP REQ ("+ne+") [attempt "+xe+"]: "+B+`
`+H+`
`+tt})}function ds(b,B,H,ne,xe,Ee,tt){b.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+xe+"]: "+B+`
`+H+`
`+Ee+" "+tt})}function Fs(b,B,H,ne){b.info(function(){return"XMLHTTP TEXT ("+B+"): "+Za(b,H)+(ne?" "+ne:"")})}function Xc(b,B){b.info(function(){return"TIMEOUT: "+B})}Os.prototype.info=function(){};function Za(b,B){if(!b.g)return B;if(!B)return null;try{var H=JSON.parse(B);if(H){for(b=0;b<H.length;b++)if(Array.isArray(H[b])){var ne=H[b];if(!(2>ne.length)){var xe=ne[1];if(Array.isArray(xe)&&!(1>xe.length)){var Ee=xe[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(var tt=1;tt<xe.length;tt++)xe[tt]=""}}}}return Ce(H)}catch{return B}}var Br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ai;function oi(){}p(oi,ct),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},ai=new oi;function Ss(b,B,H,ne){this.j=b,this.i=B,this.l=H,this.R=ne||1,this.U=new st(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wi}function Wi(){this.i=null,this.g="",this.h=!1}var zo={},$o={};function qo(b,B,H){b.L=1,b.v=$l(li(B)),b.m=H,b.P=!0,Fl(b,null)}function Fl(b,B){b.F=Date.now(),Jc(b),b.A=li(b.v);var H=b.A,ne=b.R;Array.isArray(ne)||(ne=[String(ne)]),kt(H.i,"t",ne),b.C=0,H=b.j.J,b.h=new Wi,b.g=K(b.j,H?B:null,!b.m),0<b.O&&(b.M=new Me(f(b.Y,b,b.g),b.O)),B=b.U,H=b.g,ne=b.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(at[0]=xe.toString()),xe=at);for(var Ee=0;Ee<xe.length;Ee++){var tt=ae(H,xe[Ee],ne||B.handleEvent,!1,B.h||B);if(!tt)break;B.g[tt.key]=tt}B=b.H?w(b.H):{},b.m?(b.u||(b.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,B)):(b.u="GET",b.g.ea(b.A,b.u,null,B)),es(),Ns(b.i,b.u,b.A,b.l,b.R,b.m)}Ss.prototype.ca=function(b){b=b.target;const B=this.M;B&&Xs(b)==3?B.j():this.Y(b)},Ss.prototype.Y=function(b){try{if(b==this.g)e:{const Ln=Xs(this.g);var B=this.g.Ba();const oo=this.g.Z();if(!(3>Ln)&&(Ln!=3||this.g&&(this.h.h||this.g.oa()||mm(this.g)))){this.J||Ln!=4||B==7||(B==8||0>=oo?es(3):es(2)),Ho(this);var H=this.g.Z();this.X=H;t:if(Bl(this)){var ne=mm(this.g);b="";var xe=ne.length,Ee=Xs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){eo(this),Qo(this);var tt="";break t}this.h.i=new l.TextDecoder}for(B=0;B<xe;B++)this.h.h=!0,b+=this.h.i.decode(ne[B],{stream:!(Ee&&B==xe-1)});ne.length=0,this.h.g+=b,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=H==200,ds(this.i,this.u,this.A,this.l,this.R,Ln,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Mt,Wt=this.g;if((Mt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Mt)){var Dt=Mt;break t}}Dt=null}if(H=Dt)Fs(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vl(this,H);else{this.o=!1,this.s=3,gt(12),eo(this),Qo(this);break e}}if(this.P){H=!0;let Nr;for(;!this.J&&this.C<tt.length;)if(Nr=im(this,tt),Nr==$o){Ln==4&&(this.s=4,gt(14),H=!1),Fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Nr==zo){this.s=4,gt(15),Fs(this.i,this.l,tt,"[Invalid Chunk]"),H=!1;break}else Fs(this.i,this.l,Nr,null),Vl(this,Nr);if(Bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ln!=4||tt.length!=0||this.h.h||(this.s=1,gt(16),H=!1),this.o=this.o&&H,!H)Fs(this.i,this.l,tt,"[Invalid Chunked Response]"),eo(this),Qo(this);else if(0<tt.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),hu(gn),gn.M=!0,gt(11))}}else Fs(this.i,this.l,tt,null),Vl(this,tt);Ln==4&&eo(this),this.o&&!this.J&&(Ln==4?Xo(this.j,this):(this.o=!1,Jc(this)))}else Yo(this.g),H==400&&0<tt.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),eo(this),Qo(this)}}}catch{}finally{}};function Bl(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function im(b,B){var H=b.C,ne=B.indexOf(`
`,H);return ne==-1?$o:(H=Number(B.substring(H,ne)),isNaN(H)?zo:(ne+=1,ne+H>B.length?$o:(B=B.slice(ne,ne+H),b.C=ne+H,B)))}Ss.prototype.cancel=function(){this.J=!0,eo(this)};function Jc(b){b.S=Date.now()+b.I,am(b,b.I)}function am(b,B){if(b.B!=null)throw Error("WatchDog timer not null");b.B=Fr(f(b.ba,b),B)}function Ho(b){b.B&&(l.clearTimeout(b.B),b.B=null)}Ss.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(Xc(this.i,this.A),this.L!=2&&(es(),gt(17)),eo(this),this.s=2,Qo(this)):am(this,this.S-b)};function Qo(b){b.j.G==0||b.J||Xo(b.j,b)}function eo(b){Ho(b);var B=b.M;B&&typeof B.ma=="function"&&B.ma(),b.M=null,Et(b.U),b.g&&(B=b.g,b.g=null,B.abort(),B.ma())}function Vl(b,B){try{var H=b.j;if(H.G!=0&&(H.g==b||ah(H.h,b))){if(!b.K&&ah(H.h,b)&&H.G==3){try{var ne=H.Da.g.parse(B)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var xe=ne;if(xe[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<b.F)ao(H),lu(H);else break e;Wl(H),gt(18)}}else H.za=xe[1],0<H.za-H.T&&37500>xe[2]&&H.F&&H.v==0&&!H.C&&(H.C=Fr(f(H.Za,H),6e3));if(1>=Ul(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Vr(H,11)}else if((b.K||H.g==b)&&ao(H),!_(B))for(xe=H.Da.g.parse(B),B=0;B<xe.length;B++){let Dt=xe[B];if(H.T=Dt[0],Dt=Dt[1],H.G==2)if(Dt[0]=="c"){H.K=Dt[1],H.ia=Dt[2];const gn=Dt[3];gn!=null&&(H.la=gn,H.j.info("VER="+H.la));const Ln=Dt[4];Ln!=null&&(H.Aa=Ln,H.j.info("SVER="+H.Aa));const oo=Dt[5];oo!=null&&typeof oo=="number"&&0<oo&&(ne=1.5*oo,H.L=ne,H.j.info("backChannelRequestTimeoutMs_="+ne)),ne=H;const Nr=b.g;if(Nr){const Jo=Nr.g?Nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jo){var Ee=ne.h;Ee.g||Jo.indexOf("spdy")==-1&&Jo.indexOf("quic")==-1&&Jo.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(Gn(Ee,Ee.h),Ee.h=null))}if(ne.D){const Zo=Nr.g?Nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(ne.ya=Zo,xn(ne.I,ne.D,Zo))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-b.F,H.j.info("Handshake RTT: "+H.R+"ms")),ne=H;var tt=b;if(ne.qa=k(ne,ne.J?ne.ia:null,ne.W),tt.K){oh(ne.h,tt);var Mt=tt,Wt=ne.L;Wt&&(Mt.I=Wt),Mt.B&&(Ho(Mt),Jc(Mt)),ne.g=tt}else du(ne);0<H.i.length&&cu(H)}else Dt[0]!="stop"&&Dt[0]!="close"||Vr(H,7);else H.G==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?Vr(H,7):io(H):Dt[0]!="noop"&&H.l&&H.l.ta(Dt),H.v=0)}}es(4)}catch{}}var Hg=class{constructor(b,B){this.g=b,this.map=B}};function ih(b){this.l=b||10,l.PerformanceNavigationTiming?(b=l.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function om(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function Ul(b){return b.h?1:b.g?b.g.size:0}function ah(b,B){return b.h?b.h==B:b.g?b.g.has(B):!1}function Gn(b,B){b.g?b.g.add(B):b.h=B}function oh(b,B){b.h&&b.h==B?b.h=null:b.g&&b.g.has(B)&&b.g.delete(B)}ih.prototype.cancel=function(){if(this.i=lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function lh(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let B=b.i;for(const H of b.g.values())B=B.concat(H.D);return B}return x(b.i)}function lm(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(c(b)){for(var B=[],H=b.length,ne=0;ne<H;ne++)B.push(b[ne]);return B}B=[],H=0;for(ne in b)B[H++]=b[ne];return B}function ch(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(c(b)||typeof b=="string"){var B=[];b=b.length;for(var H=0;H<b;H++)B.push(H);return B}B=[],H=0;for(const ne in b)B[H++]=ne;return B}}}function cm(b,B){if(b.forEach&&typeof b.forEach=="function")b.forEach(B,void 0);else if(c(b)||typeof b=="string")Array.prototype.forEach.call(b,B,void 0);else for(var H=ch(b),ne=lm(b),xe=ne.length,Ee=0;Ee<xe;Ee++)B.call(void 0,ne[Ee],H&&H[Ee],b)}var Si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(b,B){if(b){b=b.split("&");for(var H=0;H<b.length;H++){var ne=b[H].indexOf("="),xe=null;if(0<=ne){var Ee=b[H].substring(0,ne);xe=b[H].substring(ne+1)}else Ee=b[H];B(Ee,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function hs(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof hs){this.h=b.h,zl(this,b.j),this.o=b.o,this.g=b.g,eu(this,b.s),this.l=b.l;var B=b.i,H=new Go;H.i=B.i,B.g&&(H.g=new Map(B.g),H.h=B.h),uh(this,H),this.m=b.m}else b&&(B=String(b).match(Si))?(this.h=!1,zl(this,B[1]||"",!0),this.o=ql(B[2]||""),this.g=ql(B[3]||"",!0),eu(this,B[4]),this.l=ql(B[5]||"",!0),uh(this,B[6]||"",!0),this.m=ql(B[7]||"")):(this.h=!1,this.i=new Go(null,this.h))}hs.prototype.toString=function(){var b=[],B=this.j;B&&b.push(to(B,um,!0),":");var H=this.g;return(H||B=="file")&&(b.push("//"),(B=this.o)&&b.push(to(B,um,!0),"@"),b.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&b.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&b.push("/"),b.push(to(H,H.charAt(0)=="/"?no:Gg,!0))),(H=this.i.toString())&&b.push("?",H),(H=this.m)&&b.push("#",to(H,nu)),b.join("")};function li(b){return new hs(b)}function zl(b,B,H){b.j=H?ql(B,!0):B,b.j&&(b.j=b.j.replace(/:$/,""))}function eu(b,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);b.s=B}else b.s=null}function uh(b,B,H){B instanceof Go?(b.i=B,Wg(b.i,b.h)):(H||(B=to(B,tu)),b.i=new Go(B,b.h))}function xn(b,B,H){b.i.set(B,H)}function $l(b){return xn(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function ql(b,B){return b?B?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function to(b,B,H){return typeof b=="string"?(b=encodeURI(b).replace(B,Qg),H&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Qg(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var um=/[#\/\?@]/g,Gg=/[#\?:]/g,no=/[#\?]/g,tu=/[#\?@]/g,nu=/#/g;function Go(b,B){this.h=this.g=null,this.i=b||null,this.j=!!B}function Wn(b){b.g||(b.g=new Map,b.h=0,b.i&&Zc(b.i,function(B,H){b.add(decodeURIComponent(B.replace(/\+/g," ")),H)}))}t=Go.prototype,t.add=function(b,B){Wn(this),this.i=null,b=Wo(this,b);var H=this.g.get(b);return H||this.g.set(b,H=[]),H.push(B),this.h+=1,this};function dm(b,B){Wn(b),B=Wo(b,B),b.g.has(B)&&(b.i=null,b.h-=b.g.get(B).length,b.g.delete(B))}function dh(b,B){return Wn(b),B=Wo(b,B),b.g.has(B)}t.forEach=function(b,B){Wn(this),this.g.forEach(function(H,ne){H.forEach(function(xe){b.call(B,xe,ne,this)},this)},this)},t.na=function(){Wn(this);const b=Array.from(this.g.values()),B=Array.from(this.g.keys()),H=[];for(let ne=0;ne<B.length;ne++){const xe=b[ne];for(let Ee=0;Ee<xe.length;Ee++)H.push(B[ne])}return H},t.V=function(b){Wn(this);let B=[];if(typeof b=="string")dh(this,b)&&(B=B.concat(this.g.get(Wo(this,b))));else{b=Array.from(this.g.values());for(let H=0;H<b.length;H++)B=B.concat(b[H])}return B},t.set=function(b,B){return Wn(this),this.i=null,b=Wo(this,b),dh(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[B]),this.h+=1,this},t.get=function(b,B){return b?(b=this.V(b),0<b.length?String(b[0]):B):B};function kt(b,B,H){dm(b,B),0<H.length&&(b.i=null,b.g.set(Wo(b,B),x(H)),b.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],B=Array.from(this.g.keys());for(var H=0;H<B.length;H++){var ne=B[H];const Ee=encodeURIComponent(String(ne)),tt=this.V(ne);for(ne=0;ne<tt.length;ne++){var xe=Ee;tt[ne]!==""&&(xe+="="+encodeURIComponent(String(tt[ne]))),b.push(xe)}}return this.i=b.join("&")};function Wo(b,B){return B=String(B),b.j&&(B=B.toLowerCase()),B}function Wg(b,B){B&&!b.j&&(Wn(b),b.i=null,b.g.forEach(function(H,ne){var xe=ne.toLowerCase();ne!=xe&&(dm(this,ne),kt(this,xe,H))},b)),b.j=B}function Na(b,B){const H=new Os;if(l.Image){const ne=new Image;ne.onload=m(Yi,H,"TestLoadImage: loaded",!0,B,ne),ne.onerror=m(Yi,H,"TestLoadImage: error",!1,B,ne),ne.onabort=m(Yi,H,"TestLoadImage: abort",!1,B,ne),ne.ontimeout=m(Yi,H,"TestLoadImage: timeout",!1,B,ne),l.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=b}else B(!1)}function hm(b,B){const H=new Os,ne=new AbortController,xe=setTimeout(()=>{ne.abort(),Yi(H,"TestPingServer: timeout",!1,B)},1e4);fetch(b,{signal:ne.signal}).then(Ee=>{clearTimeout(xe),Ee.ok?Yi(H,"TestPingServer: ok",!0,B):Yi(H,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(xe),Yi(H,"TestPingServer: error",!1,B)})}function Yi(b,B,H,ne,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),ne(H)}catch{}}function su(){this.g=new Ft}function hh(b,B,H){const ne=H||"";try{cm(b,function(xe,Ee){let tt=xe;u(xe)&&(tt=Ce(xe)),B.push(ne+Ee+"="+encodeURIComponent(tt))})}catch(xe){throw B.push(ne+"type="+encodeURIComponent("_badmap")),xe}}function ru(b){this.l=b.Ub||null,this.j=b.eb||!1}p(ru,ct),ru.prototype.g=function(){return new iu(this.l,this.j)},ru.prototype.i=function(b){return function(){return b}}({});function iu(b,B){Ge.call(this),this.D=b,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(iu,Ge),t=iu.prototype,t.open=function(b,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=B,this.readyState=1,Ki(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(B.body=b),(this.D||l).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,so(this)),this.readyState=0},t.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fm(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function fm(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}t.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var B=b.value?b.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!b.done}))&&(this.response=this.responseText+=B)}b.done?so(this):Ki(this),this.readyState==3&&fm(this)}},t.Ra=function(b){this.g&&(this.response=this.responseText=b,so(this))},t.Qa=function(b){this.g&&(this.response=b,so(this))},t.ga=function(){this.g&&so(this)};function so(b){b.readyState=4,b.l=null,b.j=null,b.v=null,Ki(b)}t.setRequestHeader=function(b,B){this.u.append(b,B)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],B=this.h.entries();for(var H=B.next();!H.done;)H=H.value,b.push(H[0]+": "+H[1]),H=B.next();return b.join(`\r
`)};function Ki(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function ro(b){let B="";return D(b,function(H,ne){B+=ne,B+=":",B+=H,B+=`\r
`}),B}function fh(b,B,H){e:{for(ne in H){var ne=!1;break e}ne=!0}ne||(H=ro(H),typeof b=="string"?H!=null&&encodeURIComponent(String(H)):xn(b,B,H))}function pn(b){Ge.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(pn,Ge);var mh=/^https?$/i,au=["POST","PUT"];t=pn.prototype,t.Ha=function(b){this.J=b},t.ea=function(b,B,H,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);B=B?B.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ai.g(),this.v=this.o?nn(this.o):nn(ai),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(B,String(b),!0),this.B=!1}catch(Ee){ph(this,Ee);return}if(b=H||"",H=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var xe in ne)H.set(xe,ne[xe]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Ee of ne.keys())H.set(Ee,ne.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(H.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),xe=l.FormData&&b instanceof l.FormData,!(0<=Array.prototype.indexOf.call(au,B,void 0))||ne||xe||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,tt]of H)this.g.setRequestHeader(Ee,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xi(this),this.u=!0,this.g.send(b),this.u=!1}catch(Ee){ph(this,Ee)}};function ph(b,B){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=B,b.m=5,gh(b),Hl(b)}function gh(b){b.A||(b.A=!0,rt(b,"complete"),rt(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,rt(this,"complete"),rt(this,"abort"),Hl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hl(this,!0)),pn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yh(this):this.bb())},t.bb=function(){yh(this)};function yh(b){if(b.h&&typeof a<"u"&&(!b.v[1]||Xs(b)!=4||b.Z()!=2)){if(b.u&&Xs(b)==4)Pe(b.Ea,0,b);else if(rt(b,"readystatechange"),Xs(b)==4){b.h=!1;try{const tt=b.Z();e:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var H;if(!(H=B)){var ne;if(ne=tt===0){var xe=String(b.D).match(Si)[1]||null;!xe&&l.self&&l.self.location&&(xe=l.self.location.protocol.slice(0,-1)),ne=!mh.test(xe?xe.toLowerCase():"")}H=ne}if(H)rt(b,"complete"),rt(b,"success");else{b.m=6;try{var Ee=2<Xs(b)?b.g.statusText:""}catch{Ee=""}b.l=Ee+" ["+b.Z()+"]",gh(b)}}finally{Hl(b)}}}}function Hl(b,B){if(b.g){Xi(b);const H=b.g,ne=b.v[0]?()=>{}:null;b.g=null,b.v=null,B||rt(b,"ready");try{H.onreadystatechange=ne}catch{}}}function Xi(b){b.I&&(l.clearTimeout(b.I),b.I=null)}t.isActive=function(){return!!this.g};function Xs(b){return b.g?b.g.readyState:0}t.Z=function(){try{return 2<Xs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(b){if(this.g){var B=this.g.responseText;return b&&B.indexOf(b)==0&&(B=B.substring(b.length)),ft(B)}};function mm(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Yo(b){const B={};b=(b.g&&2<=Xs(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<b.length;ne++){if(_(b[ne]))continue;var H=E(b[ne]);const xe=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const Ee=B[xe]||[];B[xe]=Ee,Ee.push(H)}C(B,function(ne){return ne.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _r(b,B,H){return H&&H.internalChannelParams&&H.internalChannelParams[b]||B}function ou(b){this.Aa=0,this.i=[],this.j=new Os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_r("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_r("baseRetryDelayMs",5e3,b),this.cb=_r("retryDelaySeedMs",1e4,b),this.Wa=_r("forwardChannelMaxRetries",2,b),this.wa=_r("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new ih(b&&b.concurrentRequestLimit),this.Da=new su,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ou.prototype,t.la=8,t.G=1,t.connect=function(b,B,H,ne){gt(0),this.W=b,this.H=B||{},H&&ne!==void 0&&(this.H.OSID=H,this.H.OAID=ne),this.F=this.X,this.I=k(this,null,this.W),cu(this)};function io(b){if(Ql(b),b.G==3){var B=b.U++,H=li(b.I);if(xn(H,"SID",b.K),xn(H,"RID",B),xn(H,"TYPE","terminate"),Ko(b,H),B=new Ss(b,b.j,B),B.L=2,B.v=$l(li(H)),H=!1,l.navigator&&l.navigator.sendBeacon)try{H=l.navigator.sendBeacon(B.v.toString(),"")}catch{}!H&&l.Image&&(new Image().src=B.v,H=!0),H||(B.g=K(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Jc(B)}mu(b)}function lu(b){b.g&&(hu(b),b.g.cancel(),b.g=null)}function Ql(b){lu(b),b.u&&(l.clearTimeout(b.u),b.u=null),ao(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&l.clearTimeout(b.s),b.s=null)}function cu(b){if(!om(b.h)&&!b.s){b.s=!0;var B=b.Ga;F||W(),Q||(F(),Q=!0),V.add(B,b),b.B=0}}function xh(b,B){return Ul(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=B.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=Fr(f(b.Ga,b,B),fu(b,b.B)),b.B++,!0)}t.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const xe=new Ss(this,this.j,b);let Ee=this.o;if(this.S&&(Ee?(Ee=w(Ee),R(Ee,this.S)):Ee=this.S),this.m!==null||this.O||(xe.H=Ee,Ee=null),this.P)e:{for(var B=0,H=0;H<this.i.length;H++){t:{var ne=this.i[H];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(B+=ne,4096<B){B=H;break e}if(B===4096||H===this.i.length-1){B=H+1;break e}}B=1e3}else B=1e3;B=Gl(this,xe,B),H=li(this.I),xn(H,"RID",b),xn(H,"CVER",22),this.D&&xn(H,"X-HTTP-Session-Id",this.D),Ko(this,H),Ee&&(this.O?B="headers="+encodeURIComponent(String(ro(Ee)))+"&"+B:this.m&&fh(H,this.m,Ee)),Gn(this.h,xe),this.Ua&&xn(H,"TYPE","init"),this.P?(xn(H,"$req",B),xn(H,"SID","null"),xe.T=!0,qo(xe,H,null)):qo(xe,H,B),this.G=2}}else this.G==3&&(b?uu(this,b):this.i.length==0||om(this.h)||uu(this))};function uu(b,B){var H;B?H=B.l:H=b.U++;const ne=li(b.I);xn(ne,"SID",b.K),xn(ne,"RID",H),xn(ne,"AID",b.T),Ko(b,ne),b.m&&b.o&&fh(ne,b.m,b.o),H=new Ss(b,b.j,H,b.B+1),b.m===null&&(H.H=b.o),B&&(b.i=B.D.concat(b.i)),B=Gl(b,H,1e3),H.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),Gn(b.h,H),qo(H,ne,B)}function Ko(b,B){b.H&&D(b.H,function(H,ne){xn(B,ne,H)}),b.l&&cm({},function(H,ne){xn(B,ne,H)})}function Gl(b,B,H){H=Math.min(b.i.length,H);var ne=b.l?f(b.l.Na,b.l,b):null;e:{var xe=b.i;let Ee=-1;for(;;){const tt=["count="+H];Ee==-1?0<H?(Ee=xe[0].g,tt.push("ofs="+Ee)):Ee=0:tt.push("ofs="+Ee);let Mt=!0;for(let Wt=0;Wt<H;Wt++){let Dt=xe[Wt].g;const gn=xe[Wt].map;if(Dt-=Ee,0>Dt)Ee=Math.max(0,xe[Wt].g-100),Mt=!1;else try{hh(gn,tt,"req"+Dt+"_")}catch{ne&&ne(gn)}}if(Mt){ne=tt.join("&");break e}}}return b=b.i.splice(0,H),B.D=b,ne}function du(b){if(!b.g&&!b.u){b.Y=1;var B=b.Fa;F||W(),Q||(F(),Q=!0),V.add(B,b),b.v=0}}function Wl(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=Fr(f(b.Fa,b),fu(b,b.v)),b.v++,!0)}t.Fa=function(){if(this.u=null,pm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=Fr(f(this.ab,this),b)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),lu(this),pm(this))};function hu(b){b.A!=null&&(l.clearTimeout(b.A),b.A=null)}function pm(b){b.g=new Ss(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var B=li(b.qa);xn(B,"RID","rpc"),xn(B,"SID",b.K),xn(B,"AID",b.T),xn(B,"CI",b.F?"0":"1"),!b.F&&b.ja&&xn(B,"TO",b.ja),xn(B,"TYPE","xmlhttp"),Ko(b,B),b.m&&b.o&&fh(B,b.m,b.o),b.L&&(b.g.I=b.L);var H=b.g;b=b.ia,H.L=1,H.v=$l(li(B)),H.m=null,H.P=!0,Fl(H,b)}t.Za=function(){this.C!=null&&(this.C=null,lu(this),Wl(this),gt(19))};function ao(b){b.C!=null&&(l.clearTimeout(b.C),b.C=null)}function Xo(b,B){var H=null;if(b.g==B){ao(b),hu(b),b.g=null;var ne=2}else if(ah(b.h,B))H=B.D,oh(b.h,B),ne=1;else return;if(b.G!=0){if(B.o)if(ne==1){H=B.m?B.m.length:0,B=Date.now()-B.F;var xe=b.B;ne=ii(),rt(ne,new _i(ne,H)),cu(b)}else du(b);else if(xe=B.s,xe==3||xe==0&&0<B.X||!(ne==1&&xh(b,B)||ne==2&&Wl(b)))switch(H&&0<H.length&&(B=b.h,B.i=B.i.concat(H)),xe){case 1:Vr(b,5);break;case 4:Vr(b,10);break;case 3:Vr(b,6);break;default:Vr(b,2)}}}function fu(b,B){let H=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(H*=2),H*B}function Vr(b,B){if(b.j.info("Error code "+B),B==2){var H=f(b.fb,b),ne=b.Xa;const xe=!ne;ne=new hs(ne||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||zl(ne,"https"),$l(ne),xe?Na(ne.toString(),H):hm(ne.toString(),H)}else gt(2);b.G=0,b.l&&b.l.sa(B),mu(b),Ql(b)}t.fb=function(b){b?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function mu(b){if(b.G=0,b.ka=[],b.l){const B=lh(b.h);(B.length!=0||b.i.length!=0)&&(v(b.ka,B),v(b.ka,b.i),b.h.i.length=0,x(b.i),b.i.length=0),b.l.ra()}}function k(b,B,H){var ne=H instanceof hs?li(H):new hs(H);if(ne.g!="")B&&(ne.g=B+"."+ne.g),eu(ne,ne.s);else{var xe=l.location;ne=xe.protocol,B=B?B+"."+xe.hostname:xe.hostname,xe=+xe.port;var Ee=new hs(null);ne&&zl(Ee,ne),B&&(Ee.g=B),xe&&eu(Ee,xe),H&&(Ee.l=H),ne=Ee}return H=b.D,B=b.ya,H&&B&&xn(ne,H,B),xn(ne,"VER",b.la),Ko(b,ne),ne}function K(b,B,H){if(B&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=b.Ca&&!b.pa?new pn(new ru({eb:H})):new pn(b.pa),B.Ha(b.J),B}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ce(){}t=ce.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fe(){}fe.prototype.g=function(b,B){return new be(b,B)};function be(b,B){Ge.call(this),this.g=new ou(B),this.l=b,this.h=B&&B.messageUrlParams||null,b=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(b?b["X-WebChannel-Content-Type"]=B.messageContentType:b={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(b?b["X-WebChannel-Client-Profile"]=B.va:b={"X-WebChannel-Client-Profile":B.va}),this.g.S=b,(b=B&&B.Sb)&&!_(b)&&(this.g.m=b),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!_(B)&&(this.g.D=B,b=this.h,b!==null&&B in b&&(b=this.h,B in b&&delete b[B])),this.j=new lt(this)}p(be,Ge),be.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},be.prototype.close=function(){io(this.g)},be.prototype.o=function(b){var B=this.g;if(typeof b=="string"){var H={};H.__data__=b,b=H}else this.u&&(H={},H.__data__=Ce(b),b=H);B.i.push(new Hg(B.Ya++,b)),B.G==3&&cu(B)},be.prototype.N=function(){this.g.l=null,delete this.j,io(this.g),delete this.g,be.aa.N.call(this)};function Fe(b){us.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var B=b.__sm__;if(B){e:{for(const H in B){b=H;break e}b=void 0}(this.i=b)&&(b=this.i,B=B!==null&&b in B?B[b]:void 0),this.data=B}else this.data=b}p(Fe,us);function et(){en.call(this),this.status=1}p(et,en);function lt(b){this.g=b}p(lt,ce),lt.prototype.ua=function(){rt(this.g,"a")},lt.prototype.ta=function(b){rt(this.g,new Fe(b))},lt.prototype.sa=function(b){rt(this.g,new et)},lt.prototype.ra=function(){rt(this.g,"b")},fe.prototype.createWebChannel=fe.prototype.g,be.prototype.send=be.prototype.o,be.prototype.open=be.prototype.m,be.prototype.close=be.prototype.close,wF=function(){return new fe},vF=function(){return ii()},bF=vt,G3={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,_2=Br,Ni.COMPLETE="complete",xF=Ni,un.EventType=Ks,Ks.OPEN="a",Ks.CLOSE="b",Ks.ERROR="c",Ks.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,D0=un,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,yF=pn}).apply(typeof yb<"u"?yb:typeof self<"u"?self:typeof window<"u"?window:{});const OP="@firebase/firestore",FP="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tg="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new GE("@firebase/firestore");function Um(){return Cf.logLevel}function pt(t,...e){if(Cf.logLevel<=Kt.DEBUG){const n=e.map(oA);Cf.debug(`Firestore (${Tg}): ${t}`,...n)}}function Oc(t,...e){if(Cf.logLevel<=Kt.ERROR){const n=e.map(oA);Cf.error(`Firestore (${Tg}): ${t}`,...n)}}function Kp(t,...e){if(Cf.logLevel<=Kt.WARN){const n=e.map(oA);Cf.warn(`Firestore (${Tg}): ${t}`,...n)}}function oA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,_F(t,s,n)}function _F(t,e,n){let s=`FIRESTORE (${Tg}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Oc(s),new Error(s)}function tn(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||_F(e,r,s)}function It(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Ll{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kr.UNAUTHENTICATED))}shutdown(){}}class ene{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tne{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tn(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ko,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ko)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tn(typeof s.accessToken=="string",31837,{l:s}),new NF(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string",2055,{h:e}),new Kr(e)}}class nne{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sne{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new nne(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rne{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tn(this.o===void 0,3512);const s=i=>{i.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,pt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ine(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=ine(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function zt(t,e){return t<e?-1:t>e?1:0}function W3(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),r=e.codePointAt(n);if(s!==r){if(s<128&&r<128)return zt(s,r);{const i=SF(),a=ane(i.encode(VP(t,n)),i.encode(VP(e,n)));return a!==0?a:zt(s,r)}}n+=s>65535?2:1}return zt(t.length,e.length)}function VP(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ane(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return zt(t[n],e[n]);return zt(t.length,e.length)}function Xp(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=-62135596800,zP=1e6;class rr{static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*zP);return new rr(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ht(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UP)throw new ht(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zP}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-UP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new rr(0,0))}static max(){return new Tt(new rr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="__name__";class ll{constructor(e,n,s){n===void 0?n=0:n>e.length&&Nt(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Nt(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ll.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ll?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=ll.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return zt(e.length,n.length)}static compareSegments(e,n){const s=ll.isNumericId(e),r=ll.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?ll.extractNumericId(e).compare(ll.extractNumericId(n)):W3(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wd.fromString(e.substring(4,e.length-2))}}class Fn extends ll{construct(e,n,s){return new Fn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ht(Ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Fn(n)}static emptyPath(){return new Fn([])}}const one=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends ll{construct(e,n,s){return new Pr(e,n,s)}static isValidIdentifier(e){return one.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$P}static keyField(){return new Pr([$P])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ht(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new ht(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ht(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new ht(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(n)}static emptyPath(){return new Pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.path=e}static fromPath(e){return new _t(Fn.fromString(e))}static fromName(e){return new _t(Fn.fromString(e).popFirst(5))}static empty(){return new _t(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new Fn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-1;function lne(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Tt.fromTimestamp(s===1e9?new rr(n+1,0):new rr(n,s));return new Id(r,_t.empty(),e)}function cne(t){return new Id(t.readTime,t.key,Xy)}class Id{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Id(Tt.min(),_t.empty(),Xy)}static max(){return new Id(Tt.max(),_t.empty(),Xy)}}function une(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_t.comparator(t.documentKey,e.documentKey),n!==0?n:zt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cg(t){if(t.code!==Ue.FAILED_PRECONDITION||t.message!==dne)throw t;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ye((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ye?n:Ye.resolve(n)}catch(n){return Ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ye.reject(n)}static resolve(e){return new Ye((n,s)=>{n(e)})}static reject(e){return new Ye((n,s)=>{s(e)})}static waitFor(e){return new Ye((n,s)=>{let r=0,i=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++i,a&&i===r&&n()},c=>s(c))}),a=!0,i===r&&n()})}static or(e){let n=Ye.resolve(!1);for(const s of e)n=n.next(r=>r?Ye.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new Ye((s,r)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&s(a)},d=>r(d))}})}static doWhile(e,n){return new Ye((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function fne(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kg(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}f5.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=-1;function e1(t){return t==null}function Rv(t){return t===0&&1/t==-1/0}function mne(t){return typeof t=="number"&&Number.isInteger(t)&&!Rv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="";function pne(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qP(e)),e=gne(t.get(n),e);return qP(e)}function gne(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case EF:n+="";break;default:n+=i}}return n}function qP(t){return t+EF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yne(t,e){const n=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.push(e(t[s],s,t));return n}function AF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.comparator=e,this.root=n||Cr.EMPTY}insert(e,n){return new cs(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new cs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xb(this.root,e,this.comparator,!1)}getReverseIterator(){return new xb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xb(this.root,e,this.comparator,!0)}}class xb{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??Cr.RED,this.left=r??Cr.EMPTY,this.right=i??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Cr(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Cr.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Nt(27949);return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new Cr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.comparator=e,this.data=new cs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QP(this.data.getIterator())}getIteratorFrom(e){return new QP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ir(this.comparator);return n.data=e,n}}class QP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new aa([])}unionWith(e){let n=new ir(Pr.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new aa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xp(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new TF("Invalid base64 string: "+i):i}}(e);return new Dr(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Dr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const xne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ld(t){if(tn(!!t,39018),typeof t=="string"){let e=0;const n=xne.exec(t);if(tn(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ps(t.seconds),nanos:Ps(t.nanos)}}function Ps(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Md(t){return typeof t=="string"?Dr.fromBase64String(t):Dr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="server_timestamp",kF="__type__",PF="__previous_value__",RF="__local_write_time__";function cA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[kF])===null||n===void 0?void 0:n.stringValue)===CF}function m5(t){const e=t.mapValue.fields[PF];return cA(e)?m5(e):e}function Jy(t){const e=Ld(t.mapValue.fields[RF].timestampValue);return new rr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{constructor(e,n,s,r,i,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}const Iv="(default)";class Zy{constructor(e,n){this.projectId=e,this.database=n||Iv}static empty(){return new Zy("","")}get isDefaultDatabase(){return this.database===Iv}isEqual(e){return e instanceof Zy&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="__type__",vne="__max__",bb={mapValue:{}},LF="__vector__",Lv="value";function Dd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cA(t)?4:_ne(t)?9007199254740991:wne(t)?10:11:Nt(28295,{value:t})}function Tl(t,e){if(t===e)return!0;const n=Dd(t);if(n!==Dd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jy(t).isEqual(Jy(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Ld(r.timestampValue),l=Ld(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Md(r.bytesValue).isEqual(Md(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ps(r.geoPointValue.latitude)===Ps(i.geoPointValue.latitude)&&Ps(r.geoPointValue.longitude)===Ps(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ps(r.integerValue)===Ps(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Ps(r.doubleValue),l=Ps(i.doubleValue);return a===l?Rv(a)===Rv(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Xp(t.arrayValue.values||[],e.arrayValue.values||[],Tl);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(HP(a)!==HP(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Tl(a[c],l[c])))return!1;return!0}(t,e);default:return Nt(52216,{left:t})}}function ex(t,e){return(t.values||[]).find(n=>Tl(n,e))!==void 0}function Jp(t,e){if(t===e)return 0;const n=Dd(t),s=Dd(e);if(n!==s)return zt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Ps(i.integerValue||i.doubleValue),c=Ps(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return GP(t.timestampValue,e.timestampValue);case 4:return GP(Jy(t),Jy(e));case 5:return W3(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Md(i),c=Md(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=zt(l[u],c[u]);if(d!==0)return d}return zt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=zt(Ps(i.latitude),Ps(a.latitude));return l!==0?l:zt(Ps(i.longitude),Ps(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WP(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,u,d;const h=i.fields||{},f=a.fields||{},m=(l=h[Lv])===null||l===void 0?void 0:l.arrayValue,p=(c=f[Lv])===null||c===void 0?void 0:c.arrayValue,x=zt(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=p==null?void 0:p.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:WP(m,p)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===bb.mapValue&&a===bb.mapValue)return 0;if(i===bb.mapValue)return 1;if(a===bb.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=W3(c[h],d[h]);if(f!==0)return f;const m=Jp(l[c[h]],u[d[h]]);if(m!==0)return m}return zt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Nt(23264,{Pe:n})}}function GP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return zt(t,e);const n=Ld(t),s=Ld(e),r=zt(n.seconds,s.seconds);return r!==0?r:zt(n.nanos,s.nanos)}function WP(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=Jp(n[r],s[r]);if(i)return i}return zt(n.length,s.length)}function Zp(t){return Y3(t)}function Y3(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ld(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Md(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _t.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Y3(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${Y3(n.fields[a])}`;return r+"}"}(t.mapValue):Nt(61005,{value:t})}function N2(t){switch(Dd(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=m5(t);return e?16+N2(e):16;case 5:return 2*t.stringValue.length;case 6:return Md(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+N2(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return Zd(s.fields,(i,a)=>{r+=i.length+N2(a)}),r}(t.mapValue);default:throw Nt(13486,{value:t})}}function YP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function K3(t){return!!t&&"integerValue"in t}function uA(t){return!!t&&"arrayValue"in t}function KP(t){return!!t&&"nullValue"in t}function XP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function S2(t){return!!t&&"mapValue"in t}function wne(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[IF])===null||n===void 0?void 0:n.stringValue)===LF}function hy(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zd(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=hy(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hy(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _ne(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vne}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!S2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hy(n)}setAll(e){let n=Pr.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=hy(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());S2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];S2(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Zd(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new fi(hy(this.value))}}function MF(t){const e=[];return Zd(t.fields,(n,s)=>{const r=new Pr([n]);if(S2(s)){const i=MF(s.mapValue).fields;if(i.length===0)e.push(r);else for(const a of i)e.push(r.child(a))}else e.push(r)}),new aa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new mr(e,0,Tt.min(),Tt.min(),Tt.min(),fi.empty(),0)}static newFoundDocument(e,n,s,r){return new mr(e,1,n,Tt.min(),s,r,0)}static newNoDocument(e,n){return new mr(e,2,n,Tt.min(),Tt.min(),fi.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,Tt.min(),Tt.min(),fi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){this.position=e,this.inclusive=n}}function JP(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],a=t.position[r];if(i.field.isKeyField()?s=_t.comparator(_t.fromName(a.referenceValue),n.key):s=Jp(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function ZP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{}class qs extends DF{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jne(e,n,s):n==="array-contains"?new Tne(e,s):n==="in"?new Cne(e,s):n==="not-in"?new kne(e,s):n==="array-contains-any"?new Pne(e,s):new qs(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Ene(e,s):new Ane(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jp(n,this.value)):n!==null&&Dd(this.value)===Dd(n)&&this.matchesComparison(Jp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mo extends DF{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Mo(e,n)}matches(e){return OF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function OF(t){return t.op==="and"}function FF(t){return Sne(t)&&OF(t)}function Sne(t){for(const e of t.filters)if(e instanceof Mo)return!1;return!0}function X3(t){if(t instanceof qs)return t.field.canonicalString()+t.op.toString()+Zp(t.value);if(FF(t))return t.filters.map(e=>X3(e)).join(",");{const e=t.filters.map(n=>X3(n)).join(",");return`${t.op}(${e})`}}function BF(t,e){return t instanceof qs?function(s,r){return r instanceof qs&&s.op===r.op&&s.field.isEqual(r.field)&&Tl(s.value,r.value)}(t,e):t instanceof Mo?function(s,r){return r instanceof Mo&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,a,l)=>i&&BF(a,r.filters[l]),!0):!1}(t,e):void Nt(19439)}function VF(t){return t instanceof qs?function(n){return`${n.field.canonicalString()} ${n.op} ${Zp(n.value)}`}(t):t instanceof Mo?function(n){return n.op.toString()+" {"+n.getFilters().map(VF).join(" ,")+"}"}(t):"Filter"}class jne extends qs{constructor(e,n,s){super(e,n,s),this.key=_t.fromName(s.referenceValue)}matches(e){const n=_t.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ene extends qs{constructor(e,n){super(e,"in",n),this.keys=UF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ane extends qs{constructor(e,n){super(e,"not-in",n),this.keys=UF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_t.fromName(s.referenceValue))}class Tne extends qs{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uA(n)&&ex(n.arrayValue,this.value)}}class Cne extends qs{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ex(this.value.arrayValue,n)}}class kne extends qs{constructor(e,n){super(e,"not-in",n)}matches(e){if(ex(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ex(this.value.arrayValue,n)}}class Pne extends qs{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ex(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function eR(t,e=null,n=[],s=[],r=null,i=null,a=null){return new Rne(t,e,n,s,r,i,a)}function dA(t){const e=It(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>X3(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),e1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Zp(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Zp(s)).join(",")),e.Ie=n}return e.Ie}function hA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nne(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZP(t.startAt,e.startAt)&&ZP(t.endAt,e.endAt)}function J3(t){return _t.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ine(t,e,n,s,r,i,a,l){return new Pg(t,e,n,s,r,i,a,l)}function p5(t){return new Pg(t)}function tR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zF(t){return t.collectionGroup!==null}function fy(t){const e=It(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ir(Pr.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new tx(i,s))}),n.has(Pr.keyField().canonicalString())||e.Ee.push(new tx(Pr.keyField(),s))}return e.Ee}function vl(t){const e=It(t);return e.de||(e.de=$F(e,fy(t))),e.de}function Lne(t){const e=It(t);return e.Ae||(e.Ae=$F(e,t.explicitOrderBy)),e.Ae}function $F(t,e){if(t.limitType==="F")return eR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new tx(r.field,i)});const n=t.endAt?new Mv(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Mv(t.startAt.position,t.startAt.inclusive):null;return eR(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Z3(t,e){const n=t.filters.concat([e]);return new Pg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dv(t,e,n){return new Pg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function g5(t,e){return hA(vl(t),vl(e))&&t.limitType===e.limitType}function qF(t){return`${dA(vl(t))}|lt:${t.limitType}`}function zm(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>VF(r)).join(", ")}]`),e1(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Zp(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Zp(r)).join(",")),`Target(${s})`}(vl(t))}; limitType=${t.limitType})`}function y5(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):_t.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of fy(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(a,l,c){const u=JP(a,l,c);return a.inclusive?u<=0:u<0}(s.startAt,fy(s),r)||s.endAt&&!function(a,l,c){const u=JP(a,l,c);return a.inclusive?u>=0:u>0}(s.endAt,fy(s),r))}(t,e)}function Mne(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HF(t){return(e,n)=>{let s=!1;for(const r of fy(t)){const i=Dne(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function Dne(t,e,n){const s=t.field.isKeyField()?_t.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Jp(c,u):Nt(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Nt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zd(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return AF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const One=new cs(_t.comparator);function Fc(){return One}const QF=new cs(_t.comparator);function O0(...t){let e=QF;for(const n of t)e=e.insert(n.key,n);return e}function GF(t){let e=QF;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Wh(){return my()}function WF(){return my()}function my(){return new Gf(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fne=new cs(_t.comparator),Bne=new ir(_t.comparator);function Xt(...t){let e=Bne;for(const n of t)e=e.add(n);return e}const Vne=new ir(zt);function Une(){return Vne}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rv(e)?"-0":e}}function YF(t){return{integerValue:""+t}}function KF(t,e){return mne(e)?YF(e):fA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this._=void 0}}function zne(t,e,n){return t instanceof nx?function(r,i){const a={fields:{[kF]:{stringValue:CF},[RF]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&cA(i)&&(i=m5(i)),i&&(a.fields[PF]=i),{mapValue:a}}(n,e):t instanceof eg?JF(t,e):t instanceof tg?ZF(t,e):function(r,i){const a=XF(r,i),l=nR(a)+nR(r.Re);return K3(a)&&K3(r.Re)?YF(l):fA(r.serializer,l)}(t,e)}function $ne(t,e,n){return t instanceof eg?JF(t,e):t instanceof tg?ZF(t,e):n}function XF(t,e){return t instanceof sx?function(s){return K3(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class nx extends x5{}class eg extends x5{constructor(e){super(),this.elements=e}}function JF(t,e){const n=eB(e);for(const s of t.elements)n.some(r=>Tl(r,s))||n.push(s);return{arrayValue:{values:n}}}class tg extends x5{constructor(e){super(),this.elements=e}}function ZF(t,e){let n=eB(e);for(const s of t.elements)n=n.filter(r=>!Tl(r,s));return{arrayValue:{values:n}}}class sx extends x5{constructor(e,n){super(),this.serializer=e,this.Re=n}}function nR(t){return Ps(t.integerValue||t.doubleValue)}function eB(t){return uA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n){this.field=e,this.transform=n}}function qne(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof eg&&r instanceof eg||s instanceof tg&&r instanceof tg?Xp(s.elements,r.elements,Tl):s instanceof sx&&r instanceof sx?Tl(s.Re,r.Re):s instanceof nx&&r instanceof nx}(t.transform,e.transform)}class Hne{constructor(e,n){this.version=e,this.transformResults=n}}class Hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hs}static exists(e){return new Hs(void 0,e)}static updateTime(e){return new Hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function j2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class v5{}function tB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n1(t.key,Hs.none()):new t1(t.key,t.data,Hs.none());{const n=t.data,s=fi.empty();let r=new ir(Pr.comparator);for(let i of e.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new eh(t.key,s,new aa(r.toArray()),Hs.none())}}function Qne(t,e,n){t instanceof t1?function(r,i,a){const l=r.value.clone(),c=rR(r.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof eh?function(r,i,a){if(!j2(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=rR(r.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(nB(r)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function py(t,e,n,s){return t instanceof t1?function(i,a,l,c){if(!j2(i.precondition,a))return l;const u=i.value.clone(),d=iR(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof eh?function(i,a,l,c){if(!j2(i.precondition,a))return l;const u=iR(i.fieldTransforms,c,a),d=a.data;return d.setAll(nB(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(i,a,l){return j2(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Gne(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=XF(s.transform,r||null);i!=null&&(n===null&&(n=fi.empty()),n.set(s.field,i))}return n||null}function sR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Xp(s,r,(i,a)=>qne(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class t1 extends v5{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class eh extends v5{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function rR(t,e,n){const s=new Map;tn(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let r=0;r<n.length;r++){const i=t[r],a=i.transform,l=e.data.field(i.field);s.set(i.field,$ne(a,l,n[r]))}return s}function iR(t,e,n){const s=new Map;for(const r of t){const i=r.transform,a=n.data.field(r.field);s.set(r.field,zne(i,a,e))}return s}class n1 extends v5{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sB extends v5{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&Qne(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=py(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=py(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=WF();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(r.key)?null:l;const c=tB(a,l);c!==null&&s.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xt())}isEqual(e){return this.batchId===e.batchId&&Xp(this.mutations,e.mutations,(n,s)=>sR(n,s))&&Xp(this.baseMutations,e.baseMutations,(n,s)=>sR(n,s))}}class mA{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){tn(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let r=function(){return Fne}();const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,s[a].version);return new mA(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Us,sn;function rB(t){switch(t){case Ue.OK:return Nt(64938);case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0;default:return Nt(15467,{code:t})}}function iB(t){if(t===void 0)return Oc("GRPC error has no .code"),Ue.UNKNOWN;switch(t){case Us.OK:return Ue.OK;case Us.CANCELLED:return Ue.CANCELLED;case Us.UNKNOWN:return Ue.UNKNOWN;case Us.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Us.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Us.INTERNAL:return Ue.INTERNAL;case Us.UNAVAILABLE:return Ue.UNAVAILABLE;case Us.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Us.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Us.NOT_FOUND:return Ue.NOT_FOUND;case Us.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Us.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Us.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Us.ABORTED:return Ue.ABORTED;case Us.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Us.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Us.DATA_LOSS:return Ue.DATA_LOSS;default:return Nt(39323,{code:t})}}(sn=Us||(Us={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jne=new wd([4294967295,4294967295],0);function aR(t){const e=SF().encode(t),n=new gF;return n.update(e),new Uint8Array(n.digest())}function oR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new wd([n,s],0),new wd([r,i],0)]}class pA{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new F0(`Invalid padding: ${n}`);if(s<0)throw new F0(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new F0(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new F0(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=wd.fromNumber(this.pe)}we(e,n,s){let r=e.add(n.multiply(wd.fromNumber(s)));return r.compare(Jne)===1&&(r=new wd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=aR(e),[s,r]=oR(n);for(let i=0;i<this.hashCount;i++){const a=this.we(s,r,i);if(!this.be(a))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new pA(i,r,n);return s.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=aR(e),[s,r]=oR(n);for(let i=0;i<this.hashCount;i++){const a=this.we(s,r,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class F0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,s1.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new w5(Tt.min(),r,new cs(zt),Fc(),Xt())}}class s1{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new s1(s,n,Xt(),Xt(),Xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,s,r){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=r}}class aB{constructor(e,n){this.targetId=e,this.Ce=n}}class oB{constructor(e,n,s=Dr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class lR{constructor(){this.Fe=0,this.Me=cR(),this.xe=Dr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Xt(),n=Xt(),s=Xt();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Nt(38017,{changeType:i})}}),new s1(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=cR()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,tn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Zne{constructor(e){this.ze=e,this.je=new Map,this.He=Fc(),this.Je=vb(),this.Ye=vb(),this.Ze=new cs(zt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Nt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,r)=>{this.it(r)&&n(r)})}ot(e){const n=e.targetId,s=e.Ce.count,r=this._t(n);if(r){const i=r.target;if(J3(i))if(s===0){const a=new _t(i.path);this.tt(n,a,mr.newNoDocument(a,Tt.min()))}else tn(s===1,20013,{expectedCount:s});else{const a=this.ut(n);if(a!==s){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,l;try{a=Md(s).toUint8Array()}catch(c){if(c instanceof TF)return Kp("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new pA(a,r,i)}catch(c){return Kp(c instanceof F0?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),r++)}),r}It(e){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&J3(l.target)){const c=new _t(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,mr.newNoDocument(c,e))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let s=Xt();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.He.forEach((i,a)=>a.setReadTime(e));const r=new w5(e,n,this.Ze,this.He,s);return this.He=Fc(),this.Je=vb(),this.Ye=vb(),this.Ze=new cs(zt),r}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const r=this.rt(e);this.dt(e,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new lR,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ir(zt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ir(zt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new lR),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function vb(){return new cs(_t.comparator)}function cR(){return new cs(_t.comparator)}const ese={asc:"ASCENDING",desc:"DESCENDING"},tse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nse={and:"AND",or:"OR"};class sse{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eS(t,e){return t.useProto3Json||e1(e)?e:{value:e}}function Ov(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rse(t,e){return Ov(t,e.toTimestamp())}function ha(t){return tn(!!t,49232),Tt.fromTimestamp(function(n){const s=Ld(n);return new rr(s.seconds,s.nanos)}(t))}function gA(t,e){return tS(t,e).canonicalString()}function tS(t,e){const n=function(r){return new Fn(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cB(t){const e=Fn.fromString(t);return tn(gB(e),10190,{key:e.toString()}),e}function Fv(t,e){return gA(t.databaseId,e.path)}function gy(t,e){const n=cB(e);if(n.get(1)!==t.databaseId.projectId)throw new ht(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ht(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _t(dB(n))}function uB(t,e){return gA(t.databaseId,e)}function ise(t){const e=cB(t);return e.length===4?Fn.emptyPath():dB(e)}function nS(t){return new Fn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dB(t){return tn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uR(t,e,n){return{name:Fv(t,e),fields:n.value.mapValue.fields}}function ase(t,e){return"found"in e?function(s,r){tn(!!r.found,43571),r.found.name,r.found.updateTime;const i=gy(s,r.found.name),a=ha(r.found.updateTime),l=r.found.createTime?ha(r.found.createTime):Tt.min(),c=new fi({mapValue:{fields:r.found.fields}});return mr.newFoundDocument(i,a,l,c)}(t,e):"missing"in e?function(s,r){tn(!!r.missing,3894),tn(!!r.readTime,22933);const i=gy(s,r.missing),a=ha(r.readTime);return mr.newNoDocument(i,a)}(t,e):Nt(7234,{result:e})}function ose(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Nt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(tn(d===void 0||typeof d=="string",58123),Dr.fromBase64String(d||"")):(tn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Dr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?Ue.UNKNOWN:iB(u.code);return new ht(d,u.message||"")}(a);n=new oB(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=gy(t,s.document.name),i=ha(s.document.updateTime),a=s.document.createTime?ha(s.document.createTime):Tt.min(),l=new fi({mapValue:{fields:s.document.fields}}),c=mr.newFoundDocument(r,i,a,l),u=s.targetIds||[],d=s.removedTargetIds||[];n=new E2(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=gy(t,s.document),i=s.readTime?ha(s.readTime):Tt.min(),a=mr.newNoDocument(r,i),l=s.removedTargetIds||[];n=new E2([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=gy(t,s.document),i=s.removedTargetIds||[];n=new E2([],i,r,null)}else{if(!("filter"in e))return Nt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new Xne(r,i),l=s.targetId;n=new aB(l,a)}}return n}function hB(t,e){let n;if(e instanceof t1)n={update:uR(t,e.key,e.value)};else if(e instanceof n1)n={delete:Fv(t,e.key)};else if(e instanceof eh)n={update:uR(t,e.key,e.data),updateMask:gse(e.fieldMask)};else{if(!(e instanceof sB))return Nt(16599,{ft:e.type});n={verify:Fv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,a){const l=a.transform;if(l instanceof nx)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof eg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof tg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof sx)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Nt(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:rse(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Nt(27497)}(t,e.precondition)),n}function lse(t,e){return t&&t.length>0?(tn(e!==void 0,14353),t.map(n=>function(r,i){let a=r.updateTime?ha(r.updateTime):ha(i);return a.isEqual(Tt.min())&&(a=ha(i)),new Hne(a,r.transformResults||[])}(n,e))):[]}function cse(t,e){return{documents:[uB(t,e.path)]}}function fB(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=uB(t,r);const i=function(u){if(u.length!==0)return pB(Mo.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:qu(f.field),direction:fse(f.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=eS(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:r}}function use(t,e,n,s){const{gt:r,parent:i}=fB(t,e),a={},l=[];let c=0;return n.forEach(u=>{const d="aggregate_"+c++;a[d]=u.alias,u.aggregateType==="count"?l.push({alias:d,count:{}}):u.aggregateType==="avg"?l.push({alias:d,avg:{field:qu(u.fieldPath)}}):u.aggregateType==="sum"&&l.push({alias:d,sum:{field:qu(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:r.structuredQuery},parent:r.parent},yt:a,parent:i}}function dse(t){let e=ise(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){tn(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=mB(h);return f instanceof Mo&&FF(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(f=>function(p){return new tx($m(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,e1(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,m=h.values||[];return new Mv(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Mv(m,f)}(n.endAt)),Ine(e,r,a,i,l,"F",c,u)}function hse(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mB(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$m(n.unaryFilter.field);return qs.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=$m(n.unaryFilter.field);return qs.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$m(n.unaryFilter.field);return qs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=$m(n.unaryFilter.field);return qs.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(t):t.fieldFilter!==void 0?function(n){return qs.create($m(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mo.create(n.compositeFilter.filters.map(s=>mB(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(n.compositeFilter.op))}(t):Nt(30097,{filter:t})}function fse(t){return ese[t]}function mse(t){return tse[t]}function pse(t){return nse[t]}function qu(t){return{fieldPath:t.canonicalString()}}function $m(t){return Pr.fromServerFormat(t.fieldPath)}function pB(t){return t instanceof qs?function(n){if(n.op==="=="){if(XP(n.value))return{unaryFilter:{field:qu(n.field),op:"IS_NAN"}};if(KP(n.value))return{unaryFilter:{field:qu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XP(n.value))return{unaryFilter:{field:qu(n.field),op:"IS_NOT_NAN"}};if(KP(n.value))return{unaryFilter:{field:qu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qu(n.field),op:mse(n.op),value:n.value}}}(t):t instanceof Mo?function(n){const s=n.getFilters().map(r=>pB(r));return s.length===1?s[0]:{compositeFilter:{op:pse(n.op),filters:s}}}(t):Nt(54877,{filter:t})}function gse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,s,r,i=Tt.min(),a=Tt.min(),l=Dr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ju(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(e){this.wt=e}}function xse(t){const e=dse({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(){this.yn=new vse}addToCollectionParentIndex(e,n){return this.yn.add(n),Ye.resolve()}getCollectionParents(e,n){return Ye.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return Ye.resolve()}deleteFieldIndex(e,n){return Ye.resolve()}deleteAllFieldIndexes(e){return Ye.resolve()}createTargetIndexes(e,n){return Ye.resolve()}getDocumentsMatchingTarget(e,n){return Ye.resolve(null)}getIndexType(e,n){return Ye.resolve(0)}getFieldIndexes(e,n){return Ye.resolve([])}getNextCollectionGroupToUpdate(e){return Ye.resolve(null)}getMinOffset(e,n){return Ye.resolve(Id.min())}getMinOffsetFromCollectionGroup(e,n){return Ye.resolve(Id.min())}updateCollectionGroup(e,n,s){return Ye.resolve()}updateIndexEntries(e,n){return Ye.resolve()}}class vse{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ir(Fn.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ir(Fn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yB=41943040;class Di{static withCacheSize(e){return new Di(e,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di.DEFAULT_COLLECTION_PERCENTILE=10,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Di.DEFAULT=new Di(yB,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Di.DISABLED=new Di(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ng(0)}static ir(){return new ng(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="LruGarbageCollector",wse=1048576;function fR([t,e],[n,s]){const r=zt(t,n);return r===0?zt(e,s):r}class _se{constructor(e){this.cr=e,this.buffer=new ir(fR),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();fR(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Nse{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pt(hR,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kg(n)?pt(hR,"Ignoring IndexedDB error during garbage collection: ",n):await Cg(n)}await this.Ir(3e5)})}}class Sse{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Ye.resolve(f5.le);const s=new _se(n);return this.Er.forEachTarget(e,r=>s.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(e,r=>s.Pr(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),Ye.resolve(dR)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dR):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,r,i,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,a=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(s=h,l=Date.now(),this.removeTargets(e,s,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(h=>(u=Date.now(),Um()<=Kt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),Ye.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:h})))}}function jse(t,e){return new Sse(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(){this.changes=new Gf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Ye.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&py(s.mutation,r,aa.empty(),rr.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Xt()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Xt()){const r=Wh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let a=O0();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=Wh();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Xt()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,s,r){let i=Fc();const a=my(),l=function(){return my()}();return n.forEach((c,u)=>{const d=s.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof eh)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),py(d.mutation,u,d.mutation.getFieldMask(),rr.now())):a.set(u.key,aa.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new Ase(d,(h=a.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const s=my();let r=new cs((a,l)=>a-l),i=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=s.get(c)||aa.empty();d=l.applyToLocalView(u,d),s.set(c,d);const h=(r.get(l.batchId)||Xt()).add(c);r=r.insert(l.batchId,h)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=WF();d.forEach(f=>{if(!i.has(f)){const m=tB(n.get(f),s.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Ye.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(a){return _t.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):Ye.resolve(Wh());let l=Xy,c=i;return a.next(u=>Ye.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?Ye.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Xt())).next(d=>({batchId:l,changes:GF(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _t(n)).next(s=>{let r=O0();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let a=O0();return this.indexManager.getCollectionParents(e,i).next(l=>Ye.forEach(l,c=>{const u=function(h,f){return new Pg(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,s,r).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,mr.newInvalidDocument(d)))});let l=O0();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&py(d.mutation,u,aa.empty(),rr.now()),y5(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return Ye.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ha(r.createTime)}}(n)),Ye.resolve()}getNamedQuery(e,n){return Ye.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(r){return{name:r.name,query:xse(r.bundledQuery),readTime:ha(r.readTime)}}(n)),Ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(){this.overlays=new cs(_t.comparator),this.Or=new Map}getOverlay(e,n){return Ye.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Wh();return Ye.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),Ye.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Or.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(s)),Ye.resolve()}getOverlaysForCollection(e,n,s){const r=Wh(),i=n.length+1,a=new _t(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return Ye.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new cs((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let d=i.get(u.largestBatchId);d===null&&(d=Wh(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Wh(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=r)););return Ye.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.Or.get(r.largestBatchId).delete(s.key);this.Or.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new Yne(n,s));let i=this.Or.get(n);i===void 0&&(i=Xt(),this.Or.set(n,i)),this.Or.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pse{constructor(){this.sessionToken=Dr.EMPTY_BYTE_STRING}getSessionToken(e){return Ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.Nr=new ir(ur.Br),this.Lr=new ir(ur.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new ur(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new ur(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new _t(new Fn([])),s=new ur(n,e),r=new ur(n,e+1),i=[];return this.Lr.forEachInRange([s,r],a=>{this.Qr(a),i.push(a.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new _t(new Fn([])),s=new ur(n,e),r=new ur(n,e+1);let i=Xt();return this.Lr.forEachInRange([s,r],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new ur(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ur{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return _t.comparator(e.key,n.key)||zt(e.Gr,n.Gr)}static kr(e,n){return zt(e.Gr,n.Gr)||_t.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new ir(ur.Br)}checkEmpty(e){return Ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Wne(i,n,s,r);this.mutationQueue.push(a);for(const l of r)this.zr=this.zr.add(new ur(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ye.resolve(a)}lookupMutationBatch(e,n){return Ye.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Hr(s),i=r<0?0:r;return Ye.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ye.resolve(this.mutationQueue.length===0?lA:this.Jn-1)}getAllMutationBatches(e){return Ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ur(n,0),r=new ur(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([s,r],a=>{const l=this.jr(a.Gr);i.push(l)}),Ye.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ir(zt);return n.forEach(r=>{const i=new ur(r,0),a=new ur(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,a],l=>{s=s.add(l.Gr)})}),Ye.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;_t.isDocumentKey(i)||(i=i.child(""));const a=new ur(new _t(i),0);let l=new ir(zt);return this.zr.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===r&&(l=l.add(c.Gr)),!0)},a),Ye.resolve(this.Jr(l))}Jr(e){const n=[];return e.forEach(s=>{const r=this.jr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){tn(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Ye.forEach(n.mutations,r=>{const i=new ur(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new ur(n,0),r=this.zr.firstAfterOrEqual(s);return Ye.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ye.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{constructor(e){this.Zr=e,this.docs=function(){return new cs(_t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Ye.resolve(s?s.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let s=Fc();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():mr.newInvalidDocument(r))}),Ye.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Fc();const a=n.path,l=new _t(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||une(cne(d),s)<=0||(r.has(d.key)||y5(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Ye.resolve(i)}getAllFromCollectionGroup(e,n,s,r){Nt(9500)}Xr(e,n){return Ye.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Lse(this)}getSize(e){return Ye.resolve(this.size)}}class Lse extends Ese{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.vr.addEntry(e,r)):this.vr.removeEntry(s)}),Ye.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e){this.persistence=e,this.ei=new Gf(n=>dA(n),hA),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ti=0,this.ni=new yA,this.targetCount=0,this.ri=ng.rr()}forEachTarget(e,n){return this.ei.forEach((s,r)=>n(r)),Ye.resolve()}getLastRemoteSnapshotVersion(e){return Ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ye.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),Ye.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new ng(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,Ye.resolve()}updateTargetData(e,n){return this.ar(n),Ye.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Ye.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.ei.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.ei.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),Ye.waitFor(i).next(()=>r)}getTargetCount(e){return Ye.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return Ye.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),Ye.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(a=>{i.push(r.markPotentiallyOrphaned(e,a))}),Ye.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),Ye.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return Ye.resolve(s)}containsKey(e,n){return Ye.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n){this.ii={},this.overlays={},this.si=new f5(0),this.oi=!1,this.oi=!0,this._i=new Pse,this.referenceDelegate=e(this),this.ai=new Mse(this),this.indexManager=new bse,this.remoteDocumentCache=function(r){return new Ise(r)}(s=>this.referenceDelegate.ui(s)),this.serializer=new yse(n),this.ci=new Cse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new Rse(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){pt("MemoryPersistence","Starting transaction:",e);const r=new Dse(this.si.next());return this.referenceDelegate.li(),s(r).next(i=>this.referenceDelegate.hi(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Pi(e,n){return Ye.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class Dse extends hne{constructor(e){super(),this.currentSequenceNumber=e}}class xA{constructor(e){this.persistence=e,this.Ti=new yA,this.Ii=null}static Ei(e){return new xA(e)}get di(){if(this.Ii)return this.Ii;throw Nt(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),Ye.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),Ye.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Ye.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(r=>this.di.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.di.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ye.forEach(this.di,s=>{const r=_t.fromPath(s);return this.Ai(e,r).next(i=>{i||n.removeEntry(r,Tt.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return Ye.or([()=>Ye.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Bv{constructor(e,n){this.persistence=e,this.Ri=new Gf(s=>pne(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=jse(this,n)}static Ei(e,n){return new Bv(e,n)}li(){}hi(e){return Ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return Ye.forEach(this.Ri,(s,r)=>this.gr(e,s,r).next(i=>i?Ye.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Xr(e,a=>this.gr(e,a,n).next(l=>{l||(s++,i.removeEntry(a,Tt.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),Ye.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),Ye.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),Ye.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),Ye.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=N2(e.data.value)),n}gr(e,n,s){return Ye.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.Ri.get(n);return Ye.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=r}static Ps(e,n){let s=Xt(),r=Xt();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new bA(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ose{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fse{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return fJ()?8:fne(si())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.Rs(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Vs(e,n,r,s).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new Ose;return this.fs(e,n,a).next(l=>{if(i.result=l,this.Is)return this.gs(e,n,a,l.size)})}).next(()=>i.result)}gs(e,n,s,r){return s.documentReadCount<this.Es?(Um()<=Kt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",zm(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Ye.resolve()):(Um()<=Kt.DEBUG&&pt("QueryEngine","Query:",zm(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ds*r?(Um()<=Kt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",zm(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vl(n))):Ye.resolve())}Rs(e,n){if(tR(n))return Ye.resolve(null);let s=vl(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Dv(n,null,"F"),s=vl(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const a=Xt(...i);return this.As.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.ps(n,l);return this.ys(n,u,a,c.readTime)?this.Rs(e,Dv(n,null,"F")):this.ws(e,u,n,c)}))})))}Vs(e,n,s,r){return tR(n)||r.isEqual(Tt.min())?Ye.resolve(null):this.As.getDocuments(e,s).next(i=>{const a=this.ps(n,i);return this.ys(n,a,s,r)?Ye.resolve(null):(Um()<=Kt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zm(n)),this.ws(e,a,n,lne(r,Xy)).next(l=>l))})}ps(e,n){let s=new ir(HF(e));return n.forEach((r,i)=>{y5(e,i)&&(s=s.add(i))}),s}ys(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}fs(e,n,s){return Um()<=Kt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",zm(n)),this.As.getDocumentsMatchingQuery(e,n,Id.min(),s)}ws(e,n,s,r){return this.As.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="LocalStore",Bse=3e8;class Vse{constructor(e,n,s,r){this.persistence=e,this.bs=n,this.serializer=r,this.Ss=new cs(zt),this.Ds=new Gf(i=>dA(i),hA),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tse(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function Use(t,e,n,s){return new Vse(t,e,n,s)}async function bB(t,e){const n=It(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const a=[],l=[];let c=Xt();for(const u of r){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(u=>({Ms:u,removedBatchIds:a,addedBatchIds:l}))})})}function zse(t,e){const n=It(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let m=Ye.resolve();return f.forEach(p=>{m=m.next(()=>d.getEntry(c,p)).next(x=>{const v=u.docVersions.get(p);tn(v!==null,48541),x.version.compareTo(v)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=Xt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function vB(t){const e=It(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function $se(t,e){const n=It(t),s=e.snapshotVersion;let r=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Cs.newChangeBuffer({trackRemovals:!0});r=n.Ss;const l=[];e.targetChanges.forEach((d,h)=>{const f=r.get(h);if(!f)return;l.push(n.ai.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.ai.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Dr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,s)),r=r.insert(h,m),function(x,v,y){return x.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Bse?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,m,d)&&l.push(n.ai.updateTargetData(i,m))});let c=Fc(),u=Xt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(qse(i,a,e.documentUpdates).next(d=>{c=d.xs,u=d.Os})),!s.isEqual(Tt.min())){const d=n.ai.getLastRemoteSnapshotVersion(i).next(h=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(d)}return Ye.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ss=r,i))}function qse(t,e,n){let s=Xt(),r=Xt();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let a=Fc();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(Tt.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):pt(vA,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{xs:a,Os:r}})}function Hse(t,e){const n=It(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=lA),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Qse(t,e){const n=It(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.ai.getTargetData(s,e).next(i=>i?(r=i,Ye.resolve(r)):n.ai.allocateTargetId(s).next(a=>(r=new Ju(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ss.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function sS(t,e,n){const s=It(t),r=s.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,a=>s.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!kg(a))throw a;pt(vA,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(r.target)}function mR(t,e,n){const s=It(t);let r=Tt.min(),i=Xt();return s.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=It(c),f=h.Ds.get(d);return f!==void 0?Ye.resolve(h.Ss.get(f)):h.ai.getTargetData(u,d)}(s,a,vl(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>s.bs.getDocumentsMatchingQuery(a,e,n?r:Tt.min(),n?i:Xt())).next(l=>(Gse(s,Mne(e),l),{documents:l,Ns:i})))}function Gse(t,e,n){let s=t.vs.get(e)||Tt.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.vs.set(e,s)}class pR{constructor(){this.activeTargetIds=Une()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wse{constructor(){this.So=new pR,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new pR,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="ConnectivityMonitor";class yR{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pt(gR,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pt(gR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wb=null;function rS(){return wb===null?wb=function(){return 268435456+Math.round(2147483648*Math.random())}():wb++,"0x"+wb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="RestConnection",Kse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xse{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${r}`,this.qo=this.databaseId.database===Iv?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Qo(e,n,s,r,i){const a=rS(),l=this.$o(e,n.toUriEncodedString());pt(BN,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(c,r,i),this.Ko(e,l,c,s).then(u=>(pt(BN,`Received RPC '${e}' ${a}: `,u),u),u=>{throw Kp(BN,`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Wo(e,n,s,r,i,a){return this.Qo(e,n,s,r,i)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tg}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}$o(e,n){const s=Kse[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="WebChannelConnection";class Zse extends Xse{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,r){const i=rS();return new Promise((a,l)=>{const c=new yF;c.setWithCredentials(!0),c.listenOnce(xF.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case _2.NO_ERROR:const d=c.getResponseJson();pt(Ur,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),a(d);break;case _2.TIMEOUT:pt(Ur,`RPC '${e}' ${i} timed out`),l(new ht(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case _2.HTTP_ERROR:const h=c.getStatus();if(pt(Ur,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const p=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(y)>=0?y:Ue.UNKNOWN}(m.status);l(new ht(p,m.message))}else l(new ht(Ue.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ht(Ue.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{s_:e,streamId:i,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{pt(Ur,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(r);pt(Ur,`RPC '${e}' ${i} sending request:`,r),c.send(n,"POST",u,s,15)})}a_(e,n,s){const r=rS(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=wF(),l=vF(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=i.join("");pt(Ur,`Creating RPC '${e}' stream ${r}: ${d}`,c);const h=a.createWebChannel(d,c);let f=!1,m=!1;const p=new Jse({Go:v=>{m?pt(Ur,`Not sending because RPC '${e}' stream ${r} is closed:`,v):(f||(pt(Ur,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),pt(Ur,`RPC '${e}' stream ${r} sending:`,v),h.send(v))},zo:()=>h.close()}),x=(v,y,_)=>{v.listen(y,N=>{try{_(N)}catch(P){setTimeout(()=>{throw P},0)}})};return x(h,D0.EventType.OPEN,()=>{m||(pt(Ur,`RPC '${e}' stream ${r} transport opened.`),p.t_())}),x(h,D0.EventType.CLOSE,()=>{m||(m=!0,pt(Ur,`RPC '${e}' stream ${r} transport closed`),p.r_())}),x(h,D0.EventType.ERROR,v=>{m||(m=!0,Kp(Ur,`RPC '${e}' stream ${r} transport errored. Name:`,v.name,"Message:",v.message),p.r_(new ht(Ue.UNAVAILABLE,"The operation could not be completed")))}),x(h,D0.EventType.MESSAGE,v=>{var y;if(!m){const _=v.data[0];tn(!!_,16349);const N=_,P=(N==null?void 0:N.error)||((y=N[0])===null||y===void 0?void 0:y.error);if(P){pt(Ur,`RPC '${e}' stream ${r} received error:`,P);const I=P.status;let D=function(A){const R=Us[A];if(R!==void 0)return iB(R)}(I),C=P.message;D===void 0&&(D=Ue.INTERNAL,C="Unknown error status: "+I+" with message "+P.message),m=!0,p.r_(new ht(D,C)),h.close()}else pt(Ur,`RPC '${e}' stream ${r} received:`,_),p.i_(_)}}),x(l,bF.STAT_EVENT,v=>{v.stat===G3.PROXY?pt(Ur,`RPC '${e}' stream ${r} detected buffering proxy`):v.stat===G3.NOPROXY&&pt(Ur,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.n_()},0),p}}function VN(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){return new sse(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,s=1e3,r=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=r,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),r=Math.max(0,n-s);r>0&&pt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="PersistentStream";class wB{constructor(e,n,s,r,i,a,l,c){this.bi=e,this.R_=s,this.V_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new wA(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===Ue.RESOURCE_EXHAUSTED?(Oc(n.toString()),Oc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===Ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.m_===n&&this.B_(s,r)},s=>{e(()=>{const r=new ht(Ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(r)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{s(()=>this.L_(r))}),this.stream.onMessage(r=>{s(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pt(xR,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(pt(xR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ere extends wB{constructor(e,n,s,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=ose(this.serializer,e),s=function(i){if(!("targetChange"in i))return Tt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Tt.min():a.readTime?ha(a.readTime):Tt.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=nS(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=J3(c)?{documents:cse(i,c)}:{query:fB(i,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=lB(i,a.resumeToken);const u=eS(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Tt.min())>0){l.readTime=Ov(i,a.snapshotVersion.toTimestamp());const u=eS(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const s=hse(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=nS(this.serializer),n.removeTarget=e,this.F_(n)}}class tre extends wB{constructor(e,n,s,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return tn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tn(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){tn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=lse(e.writeResults,e.commitTime),s=ha(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=nS(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>hB(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre{}class sre extends nre{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new ht(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Qo(e,tS(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ht(Ue.UNKNOWN,i.toString())})}Wo(e,n,s,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(e,tS(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ht(Ue.UNKNOWN,a.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class rre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Oc(n),this.ea=!1):pt("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="RemoteStore";class ire{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(a=>{s.enqueueAndForget(async()=>{Wf(this)&&(pt(kf,"Restarting streams for network reachability change."),await async function(c){const u=It(c);u.aa.add(4),await r1(u),u.la.set("Unknown"),u.aa.delete(4),await N5(u)}(this))})}),this.la=new rre(s,r)}}async function N5(t){if(Wf(t))for(const e of t.ua)await e(!0)}async function r1(t){for(const e of t.ua)await e(!1)}function _B(t,e){const n=It(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),jA(n)?SA(n):Rg(n).b_()&&NA(n,e))}function _A(t,e){const n=It(t),s=Rg(n);n._a.delete(e),s.b_()&&NB(n,e),n._a.size===0&&(s.b_()?s.v_():Wf(n)&&n.la.set("Unknown"))}function NA(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rg(t).U_(e)}function NB(t,e){t.ha.Ke(e),Rg(t).K_(e)}function SA(t){t.ha=new Zne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Rg(t).start(),t.la.ta()}function jA(t){return Wf(t)&&!Rg(t).w_()&&t._a.size>0}function Wf(t){return It(t).aa.size===0}function SB(t){t.ha=void 0}async function are(t){t.la.set("Online")}async function ore(t){t._a.forEach((e,n)=>{NA(t,e)})}async function lre(t,e){SB(t),jA(t)?(t.la.ia(e),SA(t)):t.la.set("Unknown")}async function cre(t,e,n){if(t.la.set("Online"),e instanceof oB&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r._a.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r._a.delete(l),r.ha.removeTarget(l))}(t,e)}catch(s){pt(kf,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vv(t,s)}else if(e instanceof E2?t.ha.Xe(e):e instanceof aB?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Tt.min()))try{const s=await vB(t.localStore);n.compareTo(s)>=0&&await function(i,a){const l=i.ha.It(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i._a.get(u);d&&i._a.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i._a.get(c);if(!d)return;i._a.set(c,d.withResumeToken(Dr.EMPTY_BYTE_STRING,d.snapshotVersion)),NB(i,c);const h=new Ju(d.target,c,u,d.sequenceNumber);NA(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){pt(kf,"Failed to raise snapshot:",s),await Vv(t,s)}}async function Vv(t,e,n){if(!kg(e))throw e;t.aa.add(1),await r1(t),t.la.set("Offline"),n||(n=()=>vB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pt(kf,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await N5(t)})}function jB(t,e){return e().catch(n=>Vv(t,n,e))}async function S5(t){const e=It(t),n=Od(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:lA;for(;ure(e);)try{const r=await Hse(e.localStore,s);if(r===null){e.oa.length===0&&n.v_();break}s=r.batchId,dre(e,r)}catch(r){await Vv(e,r)}EB(e)&&AB(e)}function ure(t){return Wf(t)&&t.oa.length<10}function dre(t,e){t.oa.push(e);const n=Od(t);n.b_()&&n.W_&&n.G_(e.mutations)}function EB(t){return Wf(t)&&!Od(t).w_()&&t.oa.length>0}function AB(t){Od(t).start()}async function hre(t){Od(t).H_()}async function fre(t){const e=Od(t);for(const n of t.oa)e.G_(n.mutations)}async function mre(t,e,n){const s=t.oa.shift(),r=mA.from(s,e,n);await jB(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await S5(t)}async function pre(t,e){e&&Od(t).W_&&await async function(s,r){if(function(a){return rB(a)&&a!==Ue.ABORTED}(r.code)){const i=s.oa.shift();Od(s).D_(),await jB(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await S5(s)}}(t,e),EB(t)&&AB(t)}async function bR(t,e){const n=It(t);n.asyncQueue.verifyOperationInProgress(),pt(kf,"RemoteStore received new credentials");const s=Wf(n);n.aa.add(3),await r1(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await N5(n)}async function gre(t,e){const n=It(t);e?(n.aa.delete(2),await N5(n)):e||(n.aa.add(2),await r1(n),n.la.set("Unknown"))}function Rg(t){return t.Pa||(t.Pa=function(n,s,r){const i=It(n);return i.Y_(),new ere(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{jo:are.bind(null,t),Jo:ore.bind(null,t),Zo:lre.bind(null,t),Q_:cre.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),jA(t)?SA(t):t.la.set("Unknown")):(await t.Pa.stop(),SB(t))})),t.Pa}function Od(t){return t.Ta||(t.Ta=function(n,s,r){const i=It(n);return i.Y_(),new tre(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:hre.bind(null,t),Zo:pre.bind(null,t),z_:fre.bind(null,t),j_:mre.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await S5(t)):(await t.Ta.stop(),t.oa.length>0&&(pt(kf,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const a=Date.now()+s,l=new EA(e,n,a,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function AA(t,e){if(Oc("AsyncQueue",`${e}: ${t}`),kg(t))return new ht(Ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{static emptySet(e){return new Ap(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=O0(),this.sortedSet=new cs(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ap)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ap;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.Ia=new cs(_t.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Nt(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class sg{constructor(e,n,s,r,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new sg(e,n,Ap.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&g5(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class xre{constructor(){this.queries=wR(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const r=It(n),i=r.queries;r.queries=wR(),i.forEach((a,l)=>{for(const c of l.Ra)c.onError(s)})})(this,new ht(Ue.ABORTED,"Firestore shutting down"))}}function wR(){return new Gf(t=>qF(t),g5)}async function TA(t,e){const n=It(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.Va()&&e.ma()&&(s=2):(i=new yre,s=e.ma()?0:1);try{switch(s){case 0:i.Aa=await n.onListen(r,!0);break;case 1:i.Aa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=AA(a,`Initialization of query '${zm(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&kA(n)}async function CA(t,e){const n=It(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const a=i.Ra.indexOf(e);a>=0&&(i.Ra.splice(a,1),i.Ra.length===0?r=e.ma()?0:1:!i.Va()&&e.ma()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function bre(t,e){const n=It(t);let s=!1;for(const r of e){const i=r.query,a=n.queries.get(i);if(a){for(const l of a.Ra)l.pa(r)&&(s=!0);a.Aa=r}}s&&kA(n)}function vre(t,e,n){const s=It(t),r=s.queries.get(e);if(r)for(const i of r.Ra)i.onError(n);s.queries.delete(e)}function kA(t){t.fa.forEach(e=>{e.next()})}var iS,_R;(_R=iS||(iS={})).ya="default",_R.Cache="cache";class PA{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new sg(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=sg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==iS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.key=e}}class CB{constructor(e){this.key=e}}class wre{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Xt(),this.mutatedKeys=Xt(),this.Ua=HF(e),this.Ka=new Ap(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new vR,r=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{const f=r.get(d),m=y5(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;f&&m?f.data.isEqual(m.data)?p!==x&&(s.track({type:3,doc:m}),v=!0):this.ja(f,m)||(s.track({type:2,doc:m}),v=!0,(c&&this.Ua(m,c)>0||u&&this.Ua(m,u)<0)&&(l=!0)):!f&&m?(s.track({type:0,doc:m}),v=!0):f&&!m&&(s.track({type:1,doc:f}),v=!0,(c||u)&&(l=!0)),v&&(m?(a=a.add(m),i=x?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{Ka:a,za:s,ys:l,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const a=e.za.da();a.sort((d,h)=>function(m,p){const x=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Vt:v})}};return x(m)-x(p)}(d.type,h.type)||this.Ua(d.doc,h.doc)),this.Ha(s),r=r!=null&&r;const l=n&&!r?this.Ja():[],c=this.$a.size===0&&this.current&&!r?1:0,u=c!==this.Qa;return this.Qa=c,a.length!==0||u?{snapshot:new sg(this.query,e.Ka,i,a,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new vR,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Xt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new CB(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new TB(s))}),n}Xa(e){this.qa=e.Ns,this.$a=Xt();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return sg.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const RA="SyncEngine";class _re{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Nre{constructor(e){this.key=e,this.tu=!1}}class Sre{constructor(e,n,s,r,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.nu={},this.ru=new Gf(l=>qF(l),g5),this.iu=new Map,this.su=new Set,this.ou=new cs(_t.comparator),this._u=new Map,this.au=new yA,this.uu={},this.cu=new Map,this.lu=ng.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function jre(t,e,n=!0){const s=MB(t);let r;const i=s.ru.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.eu()):r=await kB(s,e,n,!0),r}async function Ere(t,e){const n=MB(t);await kB(n,e,!0,!1)}async function kB(t,e,n,s){const r=await Qse(t.localStore,vl(e)),i=r.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await Are(t,e,i,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&_B(t.remoteStore,r),l}async function Are(t,e,n,s,r){t.Pu=(h,f,m)=>async function(x,v,y,_){let N=v.view.Ga(y);N.ys&&(N=await mR(x.localStore,v.query,!1).then(({documents:C})=>v.view.Ga(C,N)));const P=_&&_.targetChanges.get(v.targetId),I=_&&_.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(N,x.isPrimaryClient,P,I);return SR(x,v.targetId,D.Ya),D.snapshot}(t,h,f,m);const i=await mR(t.localStore,e,!0),a=new wre(e,i.Ns),l=a.Ga(i.documents),c=s1.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),u=a.applyChanges(l,t.isPrimaryClient,c);SR(t,n,u.Ya);const d=new _re(e,n,a);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot}async function Tre(t,e,n){const s=It(t),r=s.ru.get(e),i=s.iu.get(r.targetId);if(i.length>1)return s.iu.set(r.targetId,i.filter(a=>!g5(a,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await sS(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&_A(s.remoteStore,r.targetId),aS(s,r.targetId)}).catch(Cg)):(aS(s,r.targetId),await sS(s.localStore,r.targetId,!0))}async function Cre(t,e){const n=It(t),s=n.ru.get(e),r=n.iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),_A(n.remoteStore,s.targetId))}async function kre(t,e,n){const s=Ore(t);try{const r=await function(a,l){const c=It(a),u=rr.now(),d=l.reduce((m,p)=>m.add(p.key),Xt());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let p=Fc(),x=Xt();return c.Cs.getEntries(m,d).next(v=>{p=v,p.forEach((y,_)=>{_.isValidDocument()||(x=x.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,p)).next(v=>{h=v;const y=[];for(const _ of l){const N=Gne(_,h.get(_.key).overlayedDocument);N!=null&&y.push(new eh(_.key,N,MF(N.value.mapValue),Hs.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,y,l)}).next(v=>{f=v;const y=v.applyToLocalDocumentSet(h,x);return c.documentOverlayCache.saveOverlays(m,v.batchId,y)})}).then(()=>({batchId:f.batchId,changes:GF(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(a,l,c){let u=a.uu[a.currentUser.toKey()];u||(u=new cs(zt)),u=u.insert(l,c),a.uu[a.currentUser.toKey()]=u}(s,r.batchId,n),await i1(s,r.changes),await S5(s.remoteStore)}catch(r){const i=AA(r,"Failed to persist write");n.reject(i)}}async function PB(t,e){const n=It(t);try{const s=await $se(n.localStore,e);e.targetChanges.forEach((r,i)=>{const a=n._u.get(i);a&&(tn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.tu=!0:r.modifiedDocuments.size>0?tn(a.tu,14607):r.removedDocuments.size>0&&(tn(a.tu,42227),a.tu=!1))}),await i1(n,s,e)}catch(s){await Cg(s)}}function NR(t,e,n){const s=It(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.ru.forEach((i,a)=>{const l=a.view.ga(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const c=It(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Ra)f.ga(l)&&(u=!0)}),u&&kA(c)}(s.eventManager,e),r.length&&s.nu.Q_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Pre(t,e,n){const s=It(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s._u.get(e),i=r&&r.key;if(i){let a=new cs(_t.comparator);a=a.insert(i,mr.newNoDocument(i,Tt.min()));const l=Xt().add(i),c=new w5(Tt.min(),new Map,new cs(zt),a,l);await PB(s,c),s.ou=s.ou.remove(i),s._u.delete(e),IA(s)}else await sS(s.localStore,e,!1).then(()=>aS(s,e,n)).catch(Cg)}async function Rre(t,e){const n=It(t),s=e.batch.batchId;try{const r=await zse(n.localStore,e);IB(n,s,null),RB(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await i1(n,r)}catch(r){await Cg(r)}}async function Ire(t,e,n){const s=It(t);try{const r=await function(a,l){const c=It(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(tn(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(s.localStore,e);IB(s,e,n),RB(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await i1(s,r)}catch(r){await Cg(r)}}function RB(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function IB(t,e,n){const s=It(t);let r=s.uu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.uu[s.currentUser.toKey()]=r}}function aS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.iu.get(e))t.ru.delete(s),n&&t.nu.Tu(s,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(s=>{t.au.containsKey(s)||LB(t,s)})}function LB(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(_A(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),IA(t))}function SR(t,e,n){for(const s of n)s instanceof TB?(t.au.addReference(s.key,e),Lre(t,s)):s instanceof CB?(pt(RA,"Document no longer in limbo: "+s.key),t.au.removeReference(s.key,e),t.au.containsKey(s.key)||LB(t,s.key)):Nt(19791,{Iu:s})}function Lre(t,e){const n=e.key,s=n.path.canonicalString();t.ou.get(n)||t.su.has(s)||(pt(RA,"New document in limbo: "+n),t.su.add(s),IA(t))}function IA(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new _t(Fn.fromString(e)),s=t.lu.next();t._u.set(s,new Nre(n)),t.ou=t.ou.insert(n,s),_B(t.remoteStore,new Ju(vl(p5(n.path)),s,"TargetPurposeLimboResolution",f5.le))}}async function i1(t,e,n){const s=It(t),r=[],i=[],a=[];s.ru.isEmpty()||(s.ru.forEach((l,c)=>{a.push(s.Pu(c,e,n).then(u=>{var d;if((u||n)&&s.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){r.push(u);const h=bA.Ps(c.targetId,u);i.push(h)}}))}),await Promise.all(a),s.nu.Q_(r),await async function(c,u){const d=It(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Ye.forEach(u,f=>Ye.forEach(f.ls,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>Ye.forEach(f.hs,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!kg(h))throw h;pt(vA,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Ss.get(f),p=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(p);d.Ss=d.Ss.insert(f,x)}}}(s.localStore,i))}async function Mre(t,e){const n=It(t);if(!n.currentUser.isEqual(e)){pt(RA,"User change. New user:",e.toKey());const s=await bB(n.localStore,e);n.currentUser=e,function(i,a){i.cu.forEach(l=>{l.forEach(c=>{c.reject(new ht(Ue.CANCELLED,a))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await i1(n,s.Ms)}}function Dre(t,e){const n=It(t),s=n._u.get(e);if(s&&s.tu)return Xt().add(s.key);{let r=Xt();const i=n.iu.get(e);if(!i)return r;for(const a of i){const l=n.ru.get(a);r=r.unionWith(l.view.Wa)}return r}}function MB(t){const e=It(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pre.bind(null,e),e.nu.Q_=bre.bind(null,e.eventManager),e.nu.Tu=vre.bind(null,e.eventManager),e}function Ore(t){const e=It(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ire.bind(null,e),e}class Uv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_5(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return Use(this.persistence,new Fse,e.initialUser,this.serializer)}Ru(e){return new xB(xA.Ei,this.serializer)}Au(e){return new Wse}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uv.provider={build:()=>new Uv};class Fre extends Uv{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){tn(this.persistence.referenceDelegate instanceof Bv,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Nse(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Di.withCacheSize(this.cacheSizeBytes):Di.DEFAULT;return new xB(s=>Bv.Ei(s,n),this.serializer)}}class oS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>NR(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mre.bind(null,this.syncEngine),await gre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xre}()}createDatastore(e){const n=_5(e.databaseInfo.databaseId),s=function(i){return new Zse(i)}(e.databaseInfo);return function(i,a,l,c){return new sre(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,a,l){return new ire(s,r,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>NR(this.syncEngine,n,0),function(){return yR.C()?new yR:new Yse}())}createSyncEngine(e,n){return function(r,i,a,l,c,u,d){const h=new Sre(r,i,a,l,c,u);return d&&(h.hu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=It(r);pt(kf,"RemoteStore shutting down."),i.aa.add(5),await r1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}oS.provider={build:()=>new oS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Oc("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ht(Ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(r,i){const a=It(r),l={documents:i.map(h=>Fv(a.serializer,h))},c=await a.Wo("BatchGetDocuments",a.serializer.databaseId,Fn.emptyPath(),l,i.length),u=new Map;c.forEach(h=>{const f=ase(a.serializer,h);u.set(f.key.toString(),f)});const d=[];return i.forEach(h=>{const f=u.get(h.toString());tn(!!f,55234,{key:h}),d.push(f)}),d}(this.datastore,e);return n.forEach(s=>this.recordVersion(s)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new n1(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,s)=>{const r=_t.fromPath(s);this.mutations.push(new sB(r,this.precondition(r)))}),await async function(s,r){const i=It(s),a={writes:r.map(l=>hB(i.serializer,l))};await i.Qo("Commit",i.serializer.databaseId,Fn.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Nt(50498,{xu:e.constructor.name});n=Tt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ht(Ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Tt.min())?Hs.exists(!1):Hs.updateTime(n):Hs.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Tt.min()))throw new ht(Ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hs.updateTime(n)}return Hs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(e,n,s,r,i){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=r,this.deferred=i,this.Ou=s.maxAttempts,this.y_=new wA(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(async()=>{const e=new Bre(this.datastore),n=this.Lu(e);n&&n.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(r=>{this.ku(r)}))}).catch(s=>{this.ku(s)})})}Lu(e){try{const n=this.updateFunction(e);return!e1(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!rB(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="FirestoreClient";class Ure{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Kr.UNAUTHENTICATED,this.clientId=jF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async a=>{pt(Fd,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(pt(Fd,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=AA(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function UN(t,e){t.asyncQueue.verifyOperationInProgress(),pt(Fd,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await bB(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zre(t);pt(Fd,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>bR(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>bR(e.remoteStore,r)),t._onlineComponents=e}async function zre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pt(Fd,"Using user provided OfflineComponentProvider");try{await UN(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===Ue.FAILED_PRECONDITION||r.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Kp("Error using user provided cache. Falling back to memory cache: "+n),await UN(t,new Uv)}}else pt(Fd,"Using default OfflineComponentProvider"),await UN(t,new Fre(void 0));return t._offlineComponents}async function MA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pt(Fd,"Using user provided OnlineComponentProvider"),await jR(t,t._uninitializedComponentsProvider._online)):(pt(Fd,"Using default OnlineComponentProvider"),await jR(t,new oS))),t._onlineComponents}function $re(t){return MA(t).then(e=>e.syncEngine)}function DB(t){return MA(t).then(e=>e.datastore)}async function zv(t){const e=await MA(t),n=e.eventManager;return n.onListen=jre.bind(null,e.syncEngine),n.onUnlisten=Tre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ere.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Cre.bind(null,e.syncEngine),n}function qre(t,e,n={}){const s=new ko;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new LA({next:f=>{d.yu(),a.enqueueAndForget(()=>CA(i,h));const m=f.docs.has(l);!m&&f.fromCache?u.reject(new ht(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?u.reject(new ht(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new PA(p5(l.path),d,{includeMetadataChanges:!0,Fa:!0});return TA(i,h)}(await zv(t),t.asyncQueue,e,n,s)),s.promise}function Hre(t,e,n={}){const s=new ko;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new LA({next:f=>{d.yu(),a.enqueueAndForget(()=>CA(i,h)),f.fromCache&&c.source==="server"?u.reject(new ht(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new PA(l,d,{includeMetadataChanges:!0,Fa:!0});return TA(i,h)}(await zv(t),t.asyncQueue,e,n,s)),s.promise}function Qre(t,e,n){const s=new ko;return t.asyncQueue.enqueueAndForget(async()=>{try{const r=await DB(t);s.resolve(async function(a,l,c){var u;const d=It(a),{request:h,yt:f,parent:m}=use(d.serializer,Lne(l),c);d.connection.Bo||delete h.parent;const p=(await d.Wo("RunAggregationQuery",d.serializer.databaseId,m,h,1)).filter(v=>!!v.result);tn(p.length===1,64727);const x=(u=p[0].result)===null||u===void 0?void 0:u.aggregateFields;return Object.keys(x).reduce((v,y)=>(v[f[y]]=x[y],v),{})}(r,e,n))}catch(r){s.reject(r)}}),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t,e,n){if(!n)throw new ht(Ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gre(t,e,n,s){if(e===!0&&s===!0)throw new ht(Ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AR(t){if(!_t.isDocumentKey(t))throw new ht(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TR(t){if(_t.isDocumentKey(t))throw new ht(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function j5(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Nt(12329,{type:typeof t})}function Lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ht(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=j5(t);throw new ht(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Wre(t,e){if(e<=0)throw new ht(Ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB="firestore.googleapis.com",CR=!0;class kR{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ht(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BB,this.ssl=CR}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:CR;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wse)throw new ht(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OB((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ht(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ht(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ht(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E5{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ht(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Zte;switch(s.type){case"firstParty":return new sne(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=ER.get(n);s&&(pt("ComponentProvider","Removing Datastore"),ER.delete(n),s.terminate())}(this),Promise.resolve()}}function Yre(t,e,n,s={}){var r;const i=(t=Lr(t,E5))._getSettings(),a=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i.host!==BB&&i.host!==l&&Kp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},i),{host:l,ssl:!1,emulatorOptions:s});if(!Lc(c,a)&&(t._setSettings(c),s.mockUserToken)){let u,d;if(typeof s.mockUserToken=="string")u=s.mockUserToken,d=Kr.MOCK_USER;else{u=j9(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const h=s.mockUserToken.sub||s.mockUserToken.user_id;if(!h)throw new ht(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Kr(h)}t._authCredentials=new ene(new NF(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wc(this.firestore,e,this._query)}}class Mr{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _d(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mr(this.firestore,e,this._key)}}class _d extends Wc{constructor(e,n,s){super(e,n,p5(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mr(this.firestore,null,new _t(e))}withConverter(e){return new _d(this.firestore,e,this._path)}}function Vn(t,e,...n){if(t=Un(t),FB("collection","path",e),t instanceof E5){const s=Fn.fromString(e,...n);return TR(s),new _d(t,null,s)}{if(!(t instanceof Mr||t instanceof _d))throw new ht(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Fn.fromString(e,...n));return TR(s),new _d(t.firestore,null,s)}}function Lt(t,e,...n){if(t=Un(t),arguments.length===1&&(e=jF.newId()),FB("doc","path",e),t instanceof E5){const s=Fn.fromString(e,...n);return AR(s),new Mr(t,null,new _t(s))}{if(!(t instanceof Mr||t instanceof _d))throw new ht(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Fn.fromString(e,...n));return AR(s),new Mr(t.firestore,t instanceof _d?t.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="AsyncQueue";class RR{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new wA(this,"async_queue_retry"),this.ju=()=>{const s=VN();s&&pt(PR,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=VN();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=VN();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new ko;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!kg(e))throw e;pt(PR,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Oc("INTERNAL UNHANDLED ERROR: ",IR(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const r=EA.createAndSchedule(this,e,n,s,i=>this.Xu(i));return this.Uu.push(r),r}Ju(){this.Ku&&Nt(47125,{ec:IR(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function IR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const i of s)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Wa extends E5{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new RR,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RR(e),this._firestoreClient=void 0,await e}}}function Kre(t,e){const n=typeof t=="object"?t:YE(),s=typeof t=="string"?t:Iv,r=c5(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=_9("firestore");i&&Yre(r,...i)}return r}function Yf(t){if(t._terminated)throw new ht(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Xre(t),t._firestoreClient}function Xre(t){var e,n,s;const r=t._freezeSettings(),i=function(l,c,u,d){return new bne(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,OB(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new Ure(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Zre{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pf(Dr.fromBase64String(e))}catch(n){throw new ht(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pf(Dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ht(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ht(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ht(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie=/^__.*__$/;class tie{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new eh(e,this.data,this.fieldMask,n,this.fieldTransforms):new t1(e,this.data,n,this.fieldTransforms)}}class VB{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new eh(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{oc:t})}}class A5{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new A5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ac({path:s,cc:!1});return r.lc(e),r}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ac({path:s,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return $v(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(UB(this.oc)&&eie.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class nie{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||_5(e)}dc(e,n,s,r=!1){return new A5({oc:e,methodName:n,Ec:s,path:Pr.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lg(t){const e=t._freezeSettings(),n=_5(t._databaseId);return new nie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function T5(t,e,n,s,r,i={}){const a=t.dc(i.merge||i.mergeFields?2:0,e,n,r);qA("Data must be an object, but it was:",a,s);const l=$B(s,a);let c,u;if(i.merge)c=new aa(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=lS(e,h,n);if(!a.contains(f))throw new ht(Ue.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);HB(d,f)||d.push(f)}c=new aa(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new tie(new fi(l),c,u)}class C5 extends Kf{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof C5}}function zB(t,e,n){return new A5({oc:3,Ec:e.settings.Ec,methodName:t._methodName,cc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class FA extends Kf{_toFieldTransform(e){return new b5(e.path,new nx)}isEqual(e){return e instanceof FA}}class BA extends Kf{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=zB(this,e,!0),s=this.Ac.map(i=>Xf(i,n)),r=new eg(s);return new b5(e.path,r)}isEqual(e){return e instanceof BA&&Lc(this.Ac,e.Ac)}}class VA extends Kf{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=zB(this,e,!0),s=this.Ac.map(i=>Xf(i,n)),r=new tg(s);return new b5(e.path,r)}isEqual(e){return e instanceof VA&&Lc(this.Ac,e.Ac)}}class UA extends Kf{constructor(e,n){super(e),this.Rc=n}_toFieldTransform(e){const n=new sx(e.serializer,KF(e.serializer,this.Rc));return new b5(e.path,n)}isEqual(e){return e instanceof UA&&this.Rc===e.Rc}}function zA(t,e,n,s){const r=t.dc(1,e,n);qA("Data must be an object, but it was:",r,s);const i=[],a=fi.empty();Zd(s,(c,u)=>{const d=HA(e,c,n);u=Un(u);const h=r.hc(d);if(u instanceof C5)i.push(d);else{const f=Xf(u,h);f!=null&&(i.push(d),a.set(d,f))}});const l=new aa(i);return new VB(a,l,r.fieldTransforms)}function $A(t,e,n,s,r,i){const a=t.dc(1,e,n),l=[lS(e,s,n)],c=[r];if(i.length%2!=0)throw new ht(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(lS(e,i[f])),c.push(i[f+1]);const u=[],d=fi.empty();for(let f=l.length-1;f>=0;--f)if(!HB(u,l[f])){const m=l[f];let p=c[f];p=Un(p);const x=a.hc(m);if(p instanceof C5)u.push(m);else{const v=Xf(p,x);v!=null&&(u.push(m),d.set(m,v))}}const h=new aa(u);return new VB(d,h,a.fieldTransforms)}function sie(t,e,n,s=!1){return Xf(n,t.dc(s?4:3,e))}function Xf(t,e){if(qB(t=Un(t)))return qA("Unsupported field value:",e,t),$B(t,e);if(t instanceof Kf)return function(s,r){if(!UB(r.oc))throw r.Tc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,r){const i=[];let a=0;for(const l of s){let c=Xf(l,r.Pc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=Un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KF(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=rr.fromDate(s);return{timestampValue:Ov(r.serializer,i)}}if(s instanceof rr){const i=new rr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ov(r.serializer,i)}}if(s instanceof DA)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pf)return{bytesValue:lB(r.serializer,s._byteString)};if(s instanceof Mr){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.Tc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gA(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof OA)return function(a,l){return{mapValue:{fields:{[IF]:{stringValue:LF},[Lv]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Tc("VectorValues must only contain numeric values.");return fA(l.serializer,u)})}}}}}}(s,r);throw r.Tc(`Unsupported field value: ${j5(s)}`)}(t,e)}function $B(t,e){const n={};return AF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zd(t,(s,r)=>{const i=Xf(r,e.uc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function qB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rr||t instanceof DA||t instanceof Pf||t instanceof Mr||t instanceof Kf||t instanceof OA)}function qA(t,e,n){if(!qB(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const s=j5(n);throw s==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+s)}}function lS(t,e,n){if((e=Un(e))instanceof Ig)return e._internalPath;if(typeof e=="string")return HA(t,e);throw $v("Field path arguments must be of type string or ",t,!1,void 0,n)}const rie=new RegExp("[~\\*/\\[\\]]");function HA(t,e,n){if(e.search(rie)>=0)throw $v(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ig(...e.split("."))._internalPath}catch{throw $v(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $v(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${s}`),a&&(c+=` in document ${r}`),c+=")"),new ht(Ue.INVALID_ARGUMENT,l+t+c)}function HB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(k5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iie extends qv{data(){return super.data()}}function k5(t,e){return typeof e=="string"?HA(t,e):e instanceof Ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ht(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QA{}class GA extends QA{}function Qs(t,e,...n){let s=[];e instanceof QA&&s.push(e),s=s.concat(n),function(i){const a=i.filter(c=>c instanceof WA).length,l=i.filter(c=>c instanceof P5).length;if(a>1||a>0&&l>0)throw new ht(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class P5 extends GA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new P5(e,n,s)}_apply(e){const n=this._parse(e);return GB(e._query,n),new Wc(e.firestore,e.converter,Z3(e._query,n))}_parse(e){const n=Lg(e.firestore);return function(i,a,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ht(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){DR(h,d);const p=[];for(const x of h)p.push(MR(c,i,x));f={arrayValue:{values:p}}}else f=MR(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||DR(h,d),f=sie(l,a,h,d==="in"||d==="not-in");return qs.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kn(t,e,n){const s=e,r=k5("where",t);return P5._create(r,s,n)}class WA extends QA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new WA(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Mo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const c of l)GB(a,c),a=Z3(a,c)}(e._query,n),new Wc(e.firestore,e.converter,Z3(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class YA extends GA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new YA(e,n)}_apply(e){const n=function(r,i,a){if(r.startAt!==null)throw new ht(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ht(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tx(i,a)}(e._query,this._field,this._direction);return new Wc(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Pg(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Bc(t,e="asc"){const n=e,s=k5("orderBy",t);return YA._create(s,n)}class KA extends GA{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new KA(e,n,s)}_apply(e){return new Wc(e.firestore,e.converter,Dv(e._query,this._limit,this._limitType))}}function cS(t){return Wre("limit",t),KA._create("limit",t,"F")}function MR(t,e,n){if(typeof(n=Un(n))=="string"){if(n==="")throw new ht(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zF(e)&&n.indexOf("/")!==-1)throw new ht(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Fn.fromString(n));if(!_t.isDocumentKey(s))throw new ht(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return YP(t,new _t(s))}if(n instanceof Mr)return YP(t,n._key);throw new ht(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${j5(n)}.`)}function DR(t,e){if(!Array.isArray(t)||t.length===0)throw new ht(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GB(t,e){const n=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ht(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ht(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class WB{convertValue(e,n="none"){switch(Dd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ps(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Md(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Nt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zd(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var n,s,r;const i=(r=(s=(n=e.fields)===null||n===void 0?void 0:n[Lv].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map(a=>Ps(a.doubleValue));return new OA(i)}convertGeoPoint(e){return new DA(Ps(e.latitude),Ps(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=m5(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jy(e));default:return null}}convertTimestamp(e){const n=Ld(e);return new rr(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Fn.fromString(e);tn(gB(s),9688,{name:e});const r=new Zy(s.get(1),s.get(3)),i=new _t(s.popFirst(5));return r.isEqual(n)||Oc(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class aie extends WB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pf(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,n)}}function oie(){return new Jre("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XA extends qv{constructor(e,n,s,r,i,a){super(e,n,s,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new A2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(k5("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class A2 extends XA{data(e={}){return super.data(e)}}class YB{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ip(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new A2(this._firestore,this._userDataWriter,s.key,s,new ip(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const c=new A2(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ip(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new A2(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ip(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:lie(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t){t=Lr(t,Mr);const e=Lr(t.firestore,Wa);return qre(Yf(e),t._key).then(n=>KB(e,t,n))}class a1 extends WB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pf(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,n)}}function xr(t){t=Lr(t,Wc);const e=Lr(t.firestore,Wa),n=Yf(e),s=new a1(e);return QB(t._query),Hre(n,t._query).then(r=>new YB(e,s,t,r))}function Hv(t,e,n){t=Lr(t,Mr);const s=Lr(t.firestore,Wa),r=R5(t.converter,e,n);return o1(s,[T5(Lg(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Hs.none())])}function pi(t,e,n,...s){t=Lr(t,Mr);const r=Lr(t.firestore,Wa),i=Lg(r);let a;return a=typeof(e=Un(e))=="string"||e instanceof Ig?$A(i,"updateDoc",t._key,e,n,s):zA(i,"updateDoc",t._key,e),o1(r,[a.toMutation(t._key,Hs.exists(!0))])}function rx(t){return o1(Lr(t.firestore,Wa),[new n1(t._key,Hs.none())])}function I5(t,e){const n=Lr(t.firestore,Wa),s=Lt(t),r=R5(t.converter,e);return o1(n,[T5(Lg(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Hs.exists(!1))]).then(()=>s)}function cie(t,...e){var n,s,r;t=Un(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||LR(e[a])||(i=e[a],a++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(LR(e[a])){const h=e[a];e[a]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[a+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[a+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let c,u,d;if(t instanceof Mr)u=Lr(t.firestore,Wa),d=p5(t._key.path),c={next:h=>{e[a]&&e[a](KB(u,t,h))},error:e[a+1],complete:e[a+2]};else{const h=Lr(t,Wc);u=Lr(h.firestore,Wa),d=h._query;const f=new a1(u);c={next:m=>{e[a]&&e[a](new YB(u,f,h,m))},error:e[a+1],complete:e[a+2]},QB(t._query)}return function(f,m,p,x){const v=new LA(x),y=new PA(m,v,p);return f.asyncQueue.enqueueAndForget(async()=>TA(await zv(f),y)),()=>{v.yu(),f.asyncQueue.enqueueAndForget(async()=>CA(await zv(f),y))}}(Yf(u),d,l,c)}function o1(t,e){return function(s,r){const i=new ko;return s.asyncQueue.enqueueAndForget(async()=>kre(await $re(s),r,i)),i.promise}(Yf(t),e)}function KB(t,e,n){const s=n.docs.get(e._key),r=new a1(t);return new XA(t,r,e._key,s,new ip(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t){return uie(t,{count:oie()})}function uie(t,e){const n=Lr(t.firestore,Wa),s=Yf(n),r=yne(e,(i,a)=>new Kne(a,i.aggregateType,i._internalFieldPath));return Qre(s,t._query,r).then(i=>function(l,c,u){const d=new a1(l);return new Zre(c,d,u)}(n,t,i))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const die={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hie{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Lg(e)}set(e,n,s){this._verifyNotCommitted();const r=Zu(e,this._firestore),i=R5(r.converter,n,s),a=T5(this._dataReader,"WriteBatch.set",r._key,i,r.converter!==null,s);return this._mutations.push(a.toMutation(r._key,Hs.none())),this}update(e,n,s,...r){this._verifyNotCommitted();const i=Zu(e,this._firestore);let a;return a=typeof(n=Un(n))=="string"||n instanceof Ig?$A(this._dataReader,"WriteBatch.update",i._key,n,s,r):zA(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(a.toMutation(i._key,Hs.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Zu(e,this._firestore);return this._mutations=this._mutations.concat(new n1(n._key,Hs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(Ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zu(t,e){if((t=Un(t)).firestore!==e)throw new ht(Ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fie{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Lg(e)}get(e){const n=Zu(e,this._firestore),s=new aie(this._firestore);return this._transaction.lookup([n._key]).then(r=>{if(!r||r.length!==1)return Nt(24041);const i=r[0];if(i.isFoundDocument())return new qv(this._firestore,s,i.key,i,n.converter);if(i.isNoDocument())return new qv(this._firestore,s,n._key,null,n.converter);throw Nt(18433,{doc:i})})}set(e,n,s){const r=Zu(e,this._firestore),i=R5(r.converter,n,s),a=T5(this._dataReader,"Transaction.set",r._key,i,r.converter!==null,s);return this._transaction.set(r._key,a),this}update(e,n,s,...r){const i=Zu(e,this._firestore);let a;return a=typeof(n=Un(n))=="string"||n instanceof Ig?$A(this._dataReader,"Transaction.update",i._key,n,s,r):zA(this._dataReader,"Transaction.update",i._key,n),this._transaction.update(i._key,a),this}delete(e){const n=Zu(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mie extends fie{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Zu(e,this._firestore),s=new a1(this._firestore);return super.get(e).then(r=>new XA(this._firestore,s,n._key,r._document,new ip(!1,!1),n.converter))}}function XB(t,e,n){t=Lr(t,Wa);const s=Object.assign(Object.assign({},die),n);return function(i){if(i.maxAttempts<1)throw new ht(Ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(i,a,l){const c=new ko;return i.asyncQueue.enqueueAndForget(async()=>{const u=await DB(i);new Vre(i.asyncQueue,u,l,a,c).Nu()}),c.promise}(Yf(t),r=>e(new mie(t,r)),s)}function JB(){return new FA("serverTimestamp")}function pie(...t){return new BA("arrayUnion",t)}function gie(...t){return new VA("arrayRemove",t)}function T2(t){return new UA("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yie(t){return Yf(t=Lr(t,Wa)),new hie(t,e=>o1(t,e))}(function(e,n=!0){(function(r){Tg=r})(Hf),jf(new Rd("firestore",(s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),l=new Wa(new tne(s.getProvider("auth-internal")),new rne(a,s.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ht(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zy(u.options.projectId,d)}(a,r),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),xl(OP,FP,e),xl(OP,FP,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="firebasestorage.googleapis.com",xie="storageBucket",bie=2*60*1e3,vie=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Ll{constructor(e,n,s=0){super(zN(e),`Firebase Storage: ${n} (${zN(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ml.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cl;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cl||(Cl={}));function zN(t){return"storage/"+t}function wie(){const t="An unknown error occurred, please check the error payload for server response.";return new Ml(Cl.UNKNOWN,t)}function _ie(){return new Ml(Cl.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Nie(){return new Ml(Cl.CANCELED,"User canceled the upload/download.")}function Sie(t){return new Ml(Cl.INVALID_URL,"Invalid URL '"+t+"'.")}function jie(t){return new Ml(Cl.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function OR(t){return new Ml(Cl.INVALID_ARGUMENT,t)}function eV(){return new Ml(Cl.APP_DELETED,"The Firebase app was deleted.")}function Eie(t){return new Ml(Cl.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=So.makeFromUrl(e,n)}catch{return new So(e,"")}if(s.path==="")return s;throw jie(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+r+a,"i"),c={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${r}/o${f}`,"i"),p={bucket:1,path:3},x=n===ZB?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${x}/${r}/${v}`,"i"),N=[{regex:l,indices:c,postModify:i},{regex:m,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<N.length;P++){const I=N[P],D=I.regex.exec(e);if(D){const C=D[I.indices.bucket];let w=D[I.indices.path];w||(w=""),s=new So(C,w),I.postModify(s);break}}if(s==null)throw Sie(e);return s}}class Aie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tie(t,e,n){let s=1,r=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...v){u||(u=!0,e.apply(null,v))}function h(v){r=setTimeout(()=>{r=null,t(m,c())},v)}function f(){i&&clearTimeout(i)}function m(v,...y){if(u){f();return}if(v){f(),d.call(null,v,...y);return}if(c()||a){f(),d.call(null,v,...y);return}s<64&&(s*=2);let N;l===1?(l=2,N=0):N=(s+Math.random())*1e3,h(N)}let p=!1;function x(v){p||(p=!0,f(),!u&&(r!==null?(v||(l=2),clearTimeout(r),h(0)):v||(l=1)))}return h(0),i=setTimeout(()=>{a=!0,x(!0)},n),x}function Cie(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kie(t){return t!==void 0}function FR(t,e,n,s){if(s<e)throw OR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw OR(`Invalid value for '${t}'. Expected ${n} or less.`)}function Pie(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var Gv;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gv||(Gv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rie(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iie{constructor(e,n,s,r,i,a,l,c,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,p)=>{this.resolve_=m,this.reject_=p,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new _b(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===Gv.NO_ERROR,c=i.getStatus();if(!l||Rie(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Gv.ABORT;s(!1,new _b(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new _b(u,i))})},n=(s,r)=>{const i=this.resolve_,a=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());kie(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=wie();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(r.canceled){const c=this.appDelete_?eV():Nie();a(c)}else{const c=_ie();a(c)}};this.canceled_?n(!1,new _b(!1,null,!0)):this.backoffId_=Tie(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Cie(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _b{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Lie(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Mie(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Die(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Oie(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Fie(t,e,n,s,r,i,a=!0){const l=Pie(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return Die(u,e),Lie(u,n),Mie(u,i),Oie(u,s),new Iie(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bie(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Vie(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this._service=e,n instanceof So?this._location=n:this._location=So.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wv(e,n)}get root(){const e=new So(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vie(this._location.path)}get storage(){return this._service}get parent(){const e=Bie(this._location.path);if(e===null)return null;const n=new So(this._location.bucket,e);return new Wv(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Eie(e)}}function BR(t,e){const n=e==null?void 0:e[xie];return n==null?null:So.makeFromBucketSpec(n,t)}function Uie(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=s;r&&(t._overrideAuthToken=typeof r=="string"?r:j9(r,t.app.options.projectId))}class zie{constructor(e,n,s,r,i){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=ZB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bie,this._maxUploadRetryTime=vie,this._requests=new Set,r!=null?this._bucket=So.makeFromBucketSpec(r,this._host):this._bucket=BR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=So.makeFromBucketSpec(this._url,e):this._bucket=BR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wv(this,e)}_makeRequest(e,n,s,r,i=!0){if(this._deleted)return new Aie(eV());{const a=Fie(e,this._appId,s,r,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const VR="@firebase/storage",UR="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="storage";function $ie(t=YE(),e){t=Un(t);const s=c5(t,tV).getImmediate({identifier:e}),r=_9("storage");return r&&qie(s,...r),s}function qie(t,e,n,s={}){Uie(t,e,n,s)}function Hie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new zie(n,s,r,e,Hf)}function Qie(){jf(new Rd(tV,Hie,"PUBLIC").setMultipleInstances(!0)),xl(VR,UR,""),xl(VR,UR,"esm2017")}Qie();const Gie={apiKey:"AIzaSyCW-qCXawnUCc23AV44CXl4BLvRozVZ5gM",authDomain:"flashqr-55b72.firebaseapp.com",projectId:"flashqr-55b72",storageBucket:"flashqr-55b72.firebasestorage.app",messagingSenderId:"830027793229",appId:"1:830027793229:web:b36801aea31c0be8c7ed04",measurementId:"G-XCCMCF7GGD"},JA=T9(Gie),Po=Yte(JA),dt=Kre(JA);$ie(JA);const nV=new fc,sV=j.createContext({user:null,loading:!0,logout:async()=>{},isAuthenticated:!1}),Wie=({children:t})=>{const[e,n]=j.useState(null),[s,r]=j.useState(!0),[i,a]=j.useState(!1),l=async()=>{try{await nF(Po),n(null),a(!1)}catch(c){console.error("Logout error:",c)}};return j.useEffect(()=>{Oee(Po,iF).then(()=>{const c=Vee(Po,u=>{n(u),r(!1),a(!!u)});return()=>c()}).catch(c=>{console.error("Error setting auth persistence:",c),r(!1)})},[]),o.jsx(sV.Provider,{value:{user:e,loading:s,logout:l,isAuthenticated:i},children:!s&&t})},_s=()=>j.useContext(sV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kie=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),zR=t=>{const e=Kie(t);return e.charAt(0).toUpperCase()+e.slice(1)},rV=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Xie=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...l},c)=>j.createElement("svg",{ref:c,...Jie,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:rV("lucide",r),...!i&&!Xie(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,d])=>j.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(t,e)=>{const n=j.forwardRef(({className:s,...r},i)=>j.createElement(Zie,{ref:i,iconNode:e,className:rV(`lucide-${Yie(zR(t))}`,`lucide-${t}`,s),...r}));return n.displayName=zR(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Bd=it("arrow-left",eae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nd=it("arrow-right",tae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],iV=it("building",nae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fl=it("calendar",sae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],iae=it("camera",rae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Yv=it("chart-column",aae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ZA=it("chevron-down",oae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rg=it("chevron-left",lae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sd=it("chevron-right",cae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],dae=it("chevron-up",uae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],e6=it("chevrons-left",hae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],t6=it("chevrons-right",fae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hn=it("circle-alert",mae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],po=it("circle-check",pae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jn=it("circle-check-big",gae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aV=it("circle-help",yae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vd=it("circle-x",xae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ui=it("clock",bae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],oV=it("cloud-upload",vae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],uS=it("copy",wae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],n6=it("credit-card",_ae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],C2=it("database",Nae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Vc=it("download",Sae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Eae=it("earth",jae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Tae=it("ellipsis-vertical",Aae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],s6=it("external-link",Cae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wl=it("eye-off",kae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],os=it("eye",Pae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],$R=it("file-image",Rae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Lae=it("file-spreadsheet",Iae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jo=it("file-text",Mae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Oae=it("file",Dae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],ig=it("folder-open",Fae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Vae=it("folder-plus",Bae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zae=it("funnel",Uae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],qR=it("gift",$ae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Rf=it("globe",qae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],lV=it("grid-3x3",Hae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Gae=it("hash",Qae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],dS=it("image",Wae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Kae=it("info",Yae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],r6=it("layers",Xae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Zae=it("link",Jae);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],cV=it("list",eoe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hS=it("loader-circle",toe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ro=it("lock",noe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],jd=it("mail",soe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Mg=it("map-pin",roe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],HR=it("menu",ioe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],i6=it("message-square",aoe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],loe=it("minimize-2",ooe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],QR=it("monitor",coe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],doe=it("navigation",uoe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],foe=it("package",hoe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],GR=it("palette",moe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Kv=it("pen-line",poe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],L5=it("phone",goe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],xoe=it("play",yoe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xv=it("plus",boe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],uV=it("power",voe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],l1=it("qr-code",woe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Noe=it("quote",_oe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dV=it("refresh-cw",Soe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Eoe=it("rocket",joe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fS=it("save",Aoe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Tp=it("search",Toe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hV=it("settings",Coe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fa=it("shield",koe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],ag=it("sliders-horizontal",Poe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],WR=it("smartphone",Roe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Cp=it("sparkles",Ioe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Moe=it("square",Loe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uc=it("star",Doe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],Foe=it("tablet",Ooe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Io=it("target",Boe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],df=it("timer",Voe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ma=it("trash-2",Uoe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],fV=it("trending-up",zoe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pr=it("triangle-alert",$oe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],a6=it("upload",qoe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ud=it("user",Hoe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],wc=it("users",Qoe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],yy=it("wifi",Goe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bs=it("x",Woe);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zd=it("zap",Yoe),o6=j.createContext({});function M5(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const l6=typeof window<"u",c6=l6?j.useLayoutEffect:j.useEffect,D5=j.createContext(null),u6=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Koe extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=s instanceof HTMLElement&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Xoe({children:t,isPresent:e,anchorX:n}){const s=j.useId(),r=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=j.useContext(u6);return j.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:h}=i.current;if(e||!r.current||!l||!c)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;r.current.dataset.motionPopId=s;const m=document.createElement("style");return a&&(m.nonce=a),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[e]),o.jsx(Koe,{isPresent:e,childRef:r,sizeRef:i,children:j.cloneElement(t,{ref:r})})}const Joe=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a,anchorX:l})=>{const c=M5(Zoe),u=j.useId();let d=!0,h=j.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:r,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;s&&s()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,s]);return i&&d&&(h={...h}),j.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[n]),j.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),a==="popLayout"&&(t=o.jsx(Xoe,{isPresent:n,anchorX:l,children:t})),o.jsx(D5.Provider,{value:h,children:t})};function Zoe(){return new Map}function mV(t=!0){const e=j.useContext(D5);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=j.useId();j.useEffect(()=>{if(t)return r(i)},[t]);const a=j.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,a]:[!0]}const Nb=t=>t.key||"";function YR(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const Zt=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:a=!1,anchorX:l="left"})=>{const[c,u]=mV(a),d=j.useMemo(()=>YR(t),[t]),h=a&&!c?[]:d.map(Nb),f=j.useRef(!0),m=j.useRef(d),p=M5(()=>new Map),[x,v]=j.useState(d),[y,_]=j.useState(d);c6(()=>{f.current=!1,m.current=d;for(let I=0;I<y.length;I++){const D=Nb(y[I]);h.includes(D)?p.delete(D):p.get(D)!==!0&&p.set(D,!1)}},[y,h.length,h.join("-")]);const N=[];if(d!==x){let I=[...d];for(let D=0;D<y.length;D++){const C=y[D],w=Nb(C);h.includes(w)||(I.splice(D,0,C),N.push(C))}return i==="wait"&&N.length&&(I=N),_(YR(I)),v(d),null}const{forceRender:P}=j.useContext(o6);return o.jsx(o.Fragment,{children:y.map(I=>{const D=Nb(I),C=a&&!c?!1:d===y||h.includes(D),w=()=>{if(p.has(D))p.set(D,!0);else return;let A=!0;p.forEach(R=>{R||(A=!1)}),A&&(P==null||P(),_(m.current),a&&(u==null||u()),s&&s())};return o.jsx(Joe,{isPresent:C,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:i,onExitComplete:C?void 0:w,anchorX:l,children:I},D)})})};function d6(t,e){t.indexOf(e)===-1&&t.push(e)}function h6(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Uc=(t,e,n)=>n>e?e:n<t?t:n;let f6=()=>{};const zc={},pV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),gV=t=>/^0[^.\s]+$/u.test(t);function m6(t){let e;return()=>(e===void 0&&(e=t()),e)}const qa=t=>t,ele=(t,e)=>n=>e(t(n)),c1=(...t)=>t.reduce(ele),ix=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class p6{constructor(){this.subscriptions=[]}add(e){return d6(this.subscriptions,e),()=>h6(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _l=t=>t*1e3,Nl=t=>t/1e3;function yV(t,e){return e?t*(1e3/e):0}const xV=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,tle=1e-7,nle=12;function sle(t,e,n,s,r){let i,a,l=0;do a=e+(n-e)/2,i=xV(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>tle&&++l<nle);return a}function u1(t,e,n,s){if(t===e&&n===s)return qa;const r=i=>sle(i,0,1,t,n);return i=>i===0||i===1?i:xV(r(i),e,s)}const bV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vV=t=>e=>1-t(1-e),wV=u1(.33,1.53,.69,.99),g6=vV(wV),_V=bV(g6),NV=t=>(t*=2)<1?.5*g6(t):.5*(2-Math.pow(2,-10*(t-1))),y6=t=>1-Math.sin(Math.acos(t)),SV=vV(y6),jV=bV(y6),rle=u1(.42,0,1,1),ile=u1(0,0,.58,1),EV=u1(.42,0,.58,1),ale=t=>Array.isArray(t)&&typeof t[0]!="number",AV=t=>Array.isArray(t)&&typeof t[0]=="number",ole={linear:qa,easeIn:rle,easeInOut:EV,easeOut:ile,circIn:y6,circInOut:jV,circOut:SV,backIn:g6,backInOut:_V,backOut:wV,anticipate:NV},lle=t=>typeof t=="string",KR=t=>{if(AV(t)){f6(t.length===4);const[e,n,s,r]=t;return u1(e,n,s,r)}else if(lle(t))return ole[t];return t},Sb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cle(t,e){let n=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),t()),d(l)}const u={schedule:(d,h=!1,f=!1)=>{const p=f&&r?n:s;return h&&a.add(d),p.has(d)||p.add(d),d},cancel:d=>{s.delete(d),a.delete(d)},process:d=>{if(l=d,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(c),n.clear(),r=!1,i&&(i=!1,u.process(d))}};return u}const ule=40;function TV(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Sb.reduce((N,P)=>(N[P]=cle(i),N),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:p}=a,x=()=>{const N=zc.useManualTiming?r.timestamp:performance.now();n=!1,zc.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(N-r.timestamp,ule),1)),r.timestamp=N,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),f.process(r),m.process(r),p.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(x))},v=()=>{n=!0,s=!0,r.isProcessing||t(x)};return{schedule:Sb.reduce((N,P)=>{const I=a[P];return N[P]=(D,C=!1,w=!1)=>(n||v(),I.schedule(D,C,w)),N},{}),cancel:N=>{for(let P=0;P<Sb.length;P++)a[Sb[P]].cancel(N)},state:r,steps:a}}const{schedule:ls,cancel:$d,state:Ar,steps:$N}=TV(typeof requestAnimationFrame<"u"?requestAnimationFrame:qa,!0);let k2;function dle(){k2=void 0}const Vi={now:()=>(k2===void 0&&Vi.set(Ar.isProcessing||zc.useManualTiming?Ar.timestamp:performance.now()),k2),set:t=>{k2=t,queueMicrotask(dle)}},CV=t=>e=>typeof e=="string"&&e.startsWith(t),x6=CV("--"),hle=CV("var(--"),b6=t=>hle(t)?fle.test(t.split("/*")[0].trim()):!1,fle=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ax={...Dg,transform:t=>Uc(0,1,t)},jb={...Dg,default:1},xy=t=>Math.round(t*1e5)/1e5,v6=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mle(t){return t==null}const ple=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,w6=(t,e)=>n=>!!(typeof n=="string"&&ple.test(n)&&n.startsWith(t)||e&&!mle(n)&&Object.prototype.hasOwnProperty.call(n,e)),kV=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,a,l]=s.match(v6);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},gle=t=>Uc(0,255,t),qN={...Dg,transform:t=>Math.round(gle(t))},Yh={test:w6("rgb","red"),parse:kV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+qN.transform(t)+", "+qN.transform(e)+", "+qN.transform(n)+", "+xy(ax.transform(s))+")"};function yle(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const mS={test:w6("#"),parse:yle,transform:Yh.transform},d1=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Lu=d1("deg"),Sl=d1("%"),Pt=d1("px"),xle=d1("vh"),ble=d1("vw"),XR={...Sl,parse:t=>Sl.parse(t)/100,transform:t=>Sl.transform(t*100)},ap={test:w6("hsl","hue"),parse:kV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Sl.transform(xy(e))+", "+Sl.transform(xy(n))+", "+xy(ax.transform(s))+")"},Yr={test:t=>Yh.test(t)||mS.test(t)||ap.test(t),parse:t=>Yh.test(t)?Yh.parse(t):ap.test(t)?ap.parse(t):mS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yh.transform(t):ap.transform(t)},vle=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wle(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(v6))==null?void 0:e.length)||0)+(((n=t.match(vle))==null?void 0:n.length)||0)>0}const PV="number",RV="color",_le="var",Nle="var(",JR="${}",Sle=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ox(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(Sle,c=>(Yr.test(c)?(s.color.push(i),r.push(RV),n.push(Yr.parse(c))):c.startsWith(Nle)?(s.var.push(i),r.push(_le),n.push(c)):(s.number.push(i),r.push(PV),n.push(parseFloat(c))),++i,JR)).split(JR);return{values:n,split:l,indexes:s,types:r}}function IV(t){return ox(t).values}function LV(t){const{split:e,types:n}=ox(t),s=e.length;return r=>{let i="";for(let a=0;a<s;a++)if(i+=e[a],r[a]!==void 0){const l=n[a];l===PV?i+=xy(r[a]):l===RV?i+=Yr.transform(r[a]):i+=r[a]}return i}}const jle=t=>typeof t=="number"?0:t;function Ele(t){const e=IV(t);return LV(t)(e.map(jle))}const qd={test:wle,parse:IV,createTransformer:LV,getAnimatableNone:Ele};function HN(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ale({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,a=0;if(!e)r=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=HN(c,l,t+1/3),i=HN(c,l,t),a=HN(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function Jv(t,e){return n=>n>0?e:t}const as=(t,e,n)=>t+(e-t)*n,QN=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},Tle=[mS,Yh,ap],Cle=t=>Tle.find(e=>e.test(t));function ZR(t){const e=Cle(t);if(!e)return!1;let n=e.parse(t);return e===ap&&(n=Ale(n)),n}const e8=(t,e)=>{const n=ZR(t),s=ZR(e);if(!n||!s)return Jv(t,e);const r={...n};return i=>(r.red=QN(n.red,s.red,i),r.green=QN(n.green,s.green,i),r.blue=QN(n.blue,s.blue,i),r.alpha=as(n.alpha,s.alpha,i),Yh.transform(r))},pS=new Set(["none","hidden"]);function kle(t,e){return pS.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ple(t,e){return n=>as(t,e,n)}function _6(t){return typeof t=="number"?Ple:typeof t=="string"?b6(t)?Jv:Yr.test(t)?e8:Lle:Array.isArray(t)?MV:typeof t=="object"?Yr.test(t)?e8:Rle:Jv}function MV(t,e){const n=[...t],s=n.length,r=t.map((i,a)=>_6(i)(i,e[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}}function Rle(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=_6(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function Ile(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],a=t.indexes[i][s[i]],l=t.values[a]??0;n[r]=l,s[i]++}return n}const Lle=(t,e)=>{const n=qd.createTransformer(e),s=ox(t),r=ox(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?pS.has(t)&&!r.values.length||pS.has(e)&&!s.values.length?kle(t,e):c1(MV(Ile(s,r),r.values),n):Jv(t,e)};function DV(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?as(t,e,n):_6(t)(t,e)}const Mle=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ls.update(e,!0),stop:()=>$d(e),now:()=>Ar.isProcessing?Ar.timestamp:Vi.now()}},OV=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(i/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`},Zv=2e4;function N6(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Zv;)e+=n,s=t.next(e);return e>=Zv?1/0:e}function Dle(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(N6(s),Zv);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:Nl(r)}}const Ole=5;function FV(t,e,n){const s=Math.max(e-Ole,0);return yV(n-t(s),e-s)}const gs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},t8=.001;function Fle({duration:t=gs.duration,bounce:e=gs.bounce,velocity:n=gs.velocity,mass:s=gs.mass}){let r,i,a=1-e;a=Uc(gs.minDamping,gs.maxDamping,a),t=Uc(gs.minDuration,gs.maxDuration,Nl(t)),a<1?(r=u=>{const d=u*a,h=d*t,f=d-n,m=gS(u,a),p=Math.exp(-h);return t8-f/m*p},i=u=>{const h=u*a*t,f=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,p=Math.exp(-h),x=gS(Math.pow(u,2),a);return(-r(u)+t8>0?-1:1)*((f-m)*p)/x}):(r=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-.001+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=Vle(r,i,l);if(t=_l(t),isNaN(c))return{stiffness:gs.stiffness,damping:gs.damping,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:t}}}const Ble=12;function Vle(t,e,n){let s=n;for(let r=1;r<Ble;r++)s=s-t(s)/e(s);return s}function gS(t,e){return t*Math.sqrt(1-e*e)}const Ule=["duration","bounce"],zle=["stiffness","damping","mass"];function n8(t,e){return e.some(n=>t[n]!==void 0)}function $le(t){let e={velocity:gs.velocity,stiffness:gs.stiffness,damping:gs.damping,mass:gs.mass,isResolvedFromDuration:!1,...t};if(!n8(t,zle)&&n8(t,Ule))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Uc(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:gs.mass,stiffness:r,damping:i}}else{const n=Fle(t);e={...e,...n,mass:gs.mass},e.isResolvedFromDuration=!0}return e}function ew(t=gs.visualDuration,e=gs.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=$le({...n,velocity:-Nl(n.velocity||0)}),p=f||0,x=u/(2*Math.sqrt(c*d)),v=a-i,y=Nl(Math.sqrt(c/d)),_=Math.abs(v)<5;s||(s=_?gs.restSpeed.granular:gs.restSpeed.default),r||(r=_?gs.restDelta.granular:gs.restDelta.default);let N;if(x<1){const I=gS(y,x);N=D=>{const C=Math.exp(-x*y*D);return a-C*((p+x*y*v)/I*Math.sin(I*D)+v*Math.cos(I*D))}}else if(x===1)N=I=>a-Math.exp(-y*I)*(v+(p+y*v)*I);else{const I=y*Math.sqrt(x*x-1);N=D=>{const C=Math.exp(-x*y*D),w=Math.min(I*D,300);return a-C*((p+x*y*v)*Math.sinh(w)+I*v*Math.cosh(w))/I}}const P={calculatedDuration:m&&h||null,next:I=>{const D=N(I);if(m)l.done=I>=h;else{let C=I===0?p:0;x<1&&(C=I===0?_l(p):FV(N,I,D));const w=Math.abs(C)<=s,A=Math.abs(a-D)<=r;l.done=w&&A}return l.value=l.done?a:D,l},toString:()=>{const I=Math.min(N6(P),Zv),D=OV(C=>P.next(I*C).value,I,30);return I+"ms "+D},toTransition:()=>{}};return P}ew.applyToOptions=t=>{const e=Dle(t,100,ew);return t.ease=e.ease,t.duration=_l(e.duration),t.type="keyframes",t};function yS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=w=>l!==void 0&&w<l||c!==void 0&&w>c,p=w=>l===void 0?c:c===void 0||Math.abs(l-w)<Math.abs(c-w)?l:c;let x=n*e;const v=h+x,y=a===void 0?v:a(v);y!==v&&(x=y-h);const _=w=>-x*Math.exp(-w/s),N=w=>y+_(w),P=w=>{const A=_(w),R=N(w);f.done=Math.abs(A)<=u,f.value=f.done?y:R};let I,D;const C=w=>{m(f.value)&&(I=w,D=ew({keyframes:[f.value,p(f.value)],velocity:FV(N,w,f.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:w=>{let A=!1;return!D&&I===void 0&&(A=!0,P(w),C(w)),I!==void 0&&w>=I?D.next(w-I):(!A&&P(w),f)}}}function qle(t,e,n){const s=[],r=n||zc.mix||DV,i=t.length-1;for(let a=0;a<i;a++){let l=r(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||qa:e;l=c1(c,l)}s.push(l)}return s}function Hle(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(f6(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=qle(e,s,r),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=ix(t[h],t[h+1],d);return l[h](f)};return n?d=>u(Uc(t[0],t[i-1],d)):u}function Qle(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=ix(0,e,s);t.push(as(n,1,r))}}function Gle(t){const e=[0];return Qle(e,t.length-1),e}function Wle(t,e){return t.map(n=>n*e)}function Yle(t,e){return t.map(()=>e||EV).splice(0,t.length-1)}function by({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=ale(s)?s.map(KR):KR(s),i={done:!1,value:e[0]},a=Wle(n&&n.length===e.length?n:Gle(e),t),l=Hle(a,e,{ease:Array.isArray(r)?r:Yle(e,r)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Kle=t=>t!==null;function S6(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(Kle),l=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const Xle={decay:yS,inertia:yS,tween:by,keyframes:by,spring:ew};function BV(t){typeof t.type=="string"&&(t.type=Xle[t.type])}class j6{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Jle=t=>t/100;class VV extends j6{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==Vi.now()&&this.tick(Vi.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:s}=this.options;s&&s()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;BV(e);const{type:n=by,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e;let{keyframes:l}=e;const c=n||by;c!==by&&typeof l[0]!="number"&&(this.mixKeyframes=c1(Jle,DV(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=N6(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:p,onUpdate:x,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?y<0:y>r;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let N=this.currentTime,P=s;if(h){const w=Math.min(this.currentTime,r)/l;let A=Math.floor(w),R=w%1;!R&&w>=1&&(R=1),R===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/l)):f==="mirror"&&(P=a)),N=Uc(0,1,R)*l}const I=_?{done:!1,value:d[0]}:P.next(N);i&&(I.value=i(I.value));let{done:D}=I;!_&&c!==null&&(D=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return C&&p!==yS&&(I.value=S6(d,this.options,v,this.speed)),x&&x(I.value),C&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return Nl(this.calculatedDuration)}get time(){return Nl(this.currentTime)}set time(e){e=_l(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Nl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Mle,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function Zle(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Kh=t=>t*180/Math.PI,xS=t=>{const e=Kh(Math.atan2(t[1],t[0]));return bS(e)},ece={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:xS,rotateZ:xS,skewX:t=>Kh(Math.atan(t[1])),skewY:t=>Kh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},bS=t=>(t=t%360,t<0&&(t+=360),t),s8=xS,r8=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),i8=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tce={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:r8,scaleY:i8,scale:t=>(r8(t)+i8(t))/2,rotateX:t=>bS(Kh(Math.atan2(t[6],t[5]))),rotateY:t=>bS(Kh(Math.atan2(-t[2],t[0]))),rotateZ:s8,rotate:s8,skewX:t=>Kh(Math.atan(t[4])),skewY:t=>Kh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function a8(t){return t.includes("scale")?1:0}function vS(t,e){if(!t||t==="none")return a8(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=tce,r=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=ece,r=l}if(!r)return a8(e);const i=s[e],a=r[1].split(",").map(sce);return typeof i=="function"?i(a):a[i]}const nce=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return vS(n,e)};function sce(t){return parseFloat(t.trim())}const Og=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fg=new Set(Og),o8=t=>t===Dg||t===Pt,rce=new Set(["x","y","z"]),ice=Og.filter(t=>!rce.has(t));function ace(t){const e=[];return ice.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const hf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vS(e,"x"),y:(t,{transform:e})=>vS(e,"y")};hf.translateX=hf.x;hf.translateY=hf.y;const ff=new Set;let wS=!1,_S=!1,NS=!1;function UV(){if(_S){const t=Array.from(ff).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=ace(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,a])=>{var l;(l=s.getValue(i))==null||l.set(a)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}_S=!1,wS=!1,ff.forEach(t=>t.complete(NS)),ff.clear()}function zV(){ff.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_S=!0)})}function oce(){NS=!0,zV(),UV(),NS=!1}class E6{constructor(e,n,s,r,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ff.add(this),wS||(wS=!0,ls.read(zV),ls.resolveKeyframes(UV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const l=s.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}Zle(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ff.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ff.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const lce=t=>t.startsWith("--");function cce(t,e,n){lce(e)?t.style.setProperty(e,n):t.style[e]=n}const uce=m6(()=>window.ScrollTimeline!==void 0),dce={};function hce(t,e){const n=m6(t);return()=>dce[e]??n()}const $V=hce(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),B0=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,l8={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:B0([0,.65,.55,1]),circOut:B0([.55,0,1,.45]),backIn:B0([.31,.01,.66,-.59]),backOut:B0([.33,1.53,.69,.99])};function qV(t,e){if(t)return typeof t=="function"?$V()?OV(t,e):"ease-out":AV(t)?B0(t):Array.isArray(t)?t.map(n=>qV(n,e)||l8.easeOut):l8[t]}function fce(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const h=qV(l,r);Array.isArray(h)&&(d.easing=h);const f={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function HV(t){return typeof t=="function"&&"applyToOptions"in t}function mce({type:t,...e}){return HV(t)&&$V()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class pce extends j6{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,f6(typeof e.type!="string");const u=mce(e);this.animation=fce(n,s,r,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=S6(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):cce(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Nl(Number(e))}get time(){return Nl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_l(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&uce()?(this.animation.timeline=e,qa):n(this)}}const QV={anticipate:NV,backInOut:_V,circInOut:jV};function gce(t){return t in QV}function yce(t){typeof t.ease=="string"&&gce(t.ease)&&(t.ease=QV[t.ease])}const c8=10;class xce extends pce{constructor(e){yce(e),BV(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new VV({...a,autoplay:!1}),c=_l(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-c8).value,l.sample(c).value,c8),l.stop()}}const u8=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qd.test(t)||t==="0")&&!t.startsWith("url("));function bce(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function vce(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=u8(r,e),l=u8(i,e);return!a||!l?!1:bce(t)||(n==="spring"||HV(n))&&s}const wce=new Set(["opacity","clipPath","filter","transform"]),_ce=m6(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Nce(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:a}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return _ce()&&n&&wce.has(n)&&(n!=="transform"||!c)&&!l&&!s&&r!=="mirror"&&i!==0&&a!=="inertia"}const Sce=40;class jce extends j6{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var p;super(),this.stop=()=>{var x,v;this._animation?(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)):(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Vi.now();const f={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||E6;this.keyframeResolver=new m(l,(x,v,y)=>this.onKeyframesResolved(x,v,f,!y),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=Vi.now(),vce(e,i,a,l)||((zc.instantAnimations||!c)&&(d==null||d(S6(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Sce?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},m=!u&&Nce(f)?new xce({...f,element:f.motionValue.owner.current}):new VV(f);m.finished.then(()=>this.notifyFinished()).catch(qa),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||oce(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const Ece=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ace(t){const e=Ece.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function GV(t,e,n=1){const[s,r]=Ace(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const a=i.trim();return pV(a)?parseFloat(a):a}return b6(r)?GV(r,e,n+1):r}function A6(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const WV=new Set(["width","height","top","left","right","bottom",...Og]),Tce={test:t=>t==="auto",parse:t=>t},YV=t=>e=>e.test(t),KV=[Dg,Pt,Sl,Lu,ble,xle,Tce],d8=t=>KV.find(YV(t));function Cce(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gV(t):!0}const kce=new Set(["brightness","contrast","saturate","opacity"]);function Pce(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(v6)||[];if(!s)return t;const r=n.replace(s,"");let i=kce.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const Rce=/\b([a-z-]*)\(.*?\)/gu,SS={...qd,getAnimatableNone:t=>{const e=t.match(Rce);return e?e.map(Pce).join(" "):t}},h8={...Dg,transform:Math.round},Ice={rotate:Lu,rotateX:Lu,rotateY:Lu,rotateZ:Lu,scale:jb,scaleX:jb,scaleY:jb,scaleZ:jb,skew:Lu,skewX:Lu,skewY:Lu,distance:Pt,translateX:Pt,translateY:Pt,translateZ:Pt,x:Pt,y:Pt,z:Pt,perspective:Pt,transformPerspective:Pt,opacity:ax,originX:XR,originY:XR,originZ:Pt},T6={borderWidth:Pt,borderTopWidth:Pt,borderRightWidth:Pt,borderBottomWidth:Pt,borderLeftWidth:Pt,borderRadius:Pt,radius:Pt,borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomRightRadius:Pt,borderBottomLeftRadius:Pt,width:Pt,maxWidth:Pt,height:Pt,maxHeight:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,backgroundPositionX:Pt,backgroundPositionY:Pt,...Ice,zIndex:h8,fillOpacity:ax,strokeOpacity:ax,numOctaves:h8},Lce={...T6,color:Yr,backgroundColor:Yr,outlineColor:Yr,fill:Yr,stroke:Yr,borderColor:Yr,borderTopColor:Yr,borderRightColor:Yr,borderBottomColor:Yr,borderLeftColor:Yr,filter:SS,WebkitFilter:SS},XV=t=>Lce[t];function JV(t,e){let n=XV(t);return n!==SS&&(n=qd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Mce=new Set(["auto","none","0"]);function Dce(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!Mce.has(i)&&ox(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=JV(n,r)}class Oce extends E6{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),b6(u))){const d=GV(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!WV.has(s)||e.length!==2)return;const[r,i]=e,a=d8(r),l=d8(i);if(a!==l)if(o8(a)&&o8(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else hf[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||Cce(e[r]))&&s.push(r);s.length&&Dce(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hf[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=hf[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function ZV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const f8=30,Fce=t=>!isNaN(parseFloat(t));class Bce{constructor(e,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var a,l;const i=Vi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Vi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Fce(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new p6);const s=this.events[e].add(n);return e==="change"?()=>{s(),ls.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>f8)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,f8);return yV(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lx(t,e){return new Bce(t,e)}const eU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:C6}=TV(queueMicrotask,!1),go={x:!1,y:!1};function tU(){return go.x||go.y}function Vce(t){return t==="x"||t==="y"?go[t]?null:(go[t]=!0,()=>{go[t]=!1}):go.x||go.y?null:(go.x=go.y=!0,()=>{go.x=go.y=!1})}function nU(t,e){const n=ZV(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function m8(t){return!(t.pointerType==="touch"||tU())}function Uce(t,e,n={}){const[s,r,i]=nU(t,n),a=l=>{if(!m8(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=h=>{m8(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return s.forEach(l=>{l.addEventListener("pointerenter",a,r)}),i}const sU=(t,e)=>e?t===e?!0:sU(t,e.parentElement):!1,k6=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zce=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $ce(t){return zce.has(t.tagName)||t.tabIndex!==-1}const V0=new WeakSet;function p8(t){return e=>{e.key==="Enter"&&t(e)}}function GN(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qce=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=p8(()=>{if(V0.has(n))return;GN(n,"down");const r=p8(()=>{GN(n,"up")}),i=()=>GN(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function g8(t){return k6(t)&&!tU()}function Hce(t,e,n={}){const[s,r,i]=nU(t,n),a=l=>{const c=l.currentTarget;if(!g8(l)||V0.has(c))return;V0.add(c);const u=e(c,l),d=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),V0.has(c)&&V0.delete(c),g8(m)&&typeof u=="function"&&u(m,{success:p})},h=m=>{d(m,c===window||c===document||n.useGlobalTarget||sU(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,r),l instanceof HTMLElement&&(l.addEventListener("focus",u=>qce(u,r)),!$ce(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}const Qce=[...KV,Yr,qd],Gce=t=>Qce.find(YV(t)),rU=j.createContext({strict:!1}),y8={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},og={};for(const t in y8)og[t]={isEnabled:e=>y8[t].some(n=>!!e[n])};function Wce(t){for(const e in t)og[e]={...og[e],...t[e]}}const Yce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Yce.has(t)}let iU=t=>!tw(t);function Kce(t){t&&(iU=e=>e.startsWith("on")?!tw(e):t(e))}try{Kce(require("@emotion/is-prop-valid").default)}catch{}function Xce(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(iU(r)||n===!0&&tw(r)||!e&&!tw(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function Jce(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const O5=j.createContext({});function F5(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cx(t){return typeof t=="string"||Array.isArray(t)}const P6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R6=["initial",...P6];function B5(t){return F5(t.animate)||R6.some(e=>cx(t[e]))}function aU(t){return!!(B5(t)||t.variants)}function Zce(t,e){if(B5(t)){const{initial:n,animate:s}=t;return{initial:n===!1||cx(n)?n:void 0,animate:cx(s)?s:void 0}}return t.inherit!==!1?e:{}}function eue(t){const{initial:e,animate:n}=Zce(t,j.useContext(O5));return j.useMemo(()=>({initial:e,animate:n}),[x8(e),x8(n)])}function x8(t){return Array.isArray(t)?t.join(" "):t}const tue=Symbol.for("motionComponentSymbol");function op(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function nue(t,e,n){return j.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):op(n)&&(n.current=s))},[e])}const I6=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sue="framerAppearId",oU="data-"+I6(sue),lU=j.createContext({});function rue(t,e,n,s,r){var x,v;const{visualElement:i}=j.useContext(O5),a=j.useContext(rU),l=j.useContext(D5),c=j.useContext(u6).reducedMotion,u=j.useRef(null);s=s||a.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=j.useContext(lU);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&iue(u.current,n,r,h);const f=j.useRef(!1);j.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const m=n[oU],p=j.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return c6(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),C6.render(d.render),p.current&&d.animationState&&d.animationState.animateChanges())}),j.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),p.current=!1))}),d}function iue(t,e,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cU(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!a||l&&op(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function cU(t){if(t)return t.options.allowProjection!==!1?t.projection:cU(t.parent)}function aue({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&Wce(t);function i(l,c){let u;const d={...j.useContext(u6),...l,layoutId:oue(l)},{isStatic:h}=d,f=eue(l),m=s(l,h);if(!h&&l6){lue();const p=cue(d);u=p.MeasureLayout,f.visualElement=rue(r,m,d,e,p.ProjectionNode)}return o.jsxs(O5.Provider,{value:f,children:[u&&f.visualElement?o.jsx(u,{visualElement:f.visualElement,...d}):null,n(r,l,nue(m,f.visualElement,c),m,h,f.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const a=j.forwardRef(i);return a[tue]=r,a}function oue({layoutId:t}){const e=j.useContext(o6).id;return e&&t!==void 0?e+"-"+t:t}function lue(t,e){j.useContext(rU).strict}function cue(t){const{drag:e,layout:n}=og;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const ux={};function uue(t){for(const e in t)ux[e]=t[e],x6(e)&&(ux[e].isCSSVariable=!0)}function uU(t,{layout:e,layoutId:n}){return Fg.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ux[t]||t==="opacity")}const ei=t=>!!(t&&t.getVelocity),due={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hue=Og.length;function fue(t,e,n){let s="",r=!0;for(let i=0;i<hue;i++){const a=Og[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=eU(l,T6[a]);if(!c){r=!1;const d=due[a]||a;s+=`${d}(${u}) `}n&&(e[a]=u)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function L6(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(Fg.has(c)){a=!0;continue}else if(x6(c)){r[c]=u;continue}else{const d=eU(u,T6[c]);c.startsWith("origin")?(l=!0,i[c]=d):s[c]=d}}if(e.transform||(a||n?s.transform=fue(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;s.transformOrigin=`${c} ${u} ${d}`}}const M6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dU(t,e,n){for(const s in e)!ei(e[s])&&!uU(s,n)&&(t[s]=e[s])}function mue({transformTemplate:t},e){return j.useMemo(()=>{const n=M6();return L6(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pue(t,e){const n=t.style||{},s={};return dU(s,n,t),Object.assign(s,mue(t,e)),s}function gue(t,e){const n={},s=pue(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const yue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D6(t){return typeof t!="string"||t.includes("-")?!1:!!(yue.indexOf(t)>-1||/[A-Z]/u.test(t))}const xue={offset:"stroke-dashoffset",array:"stroke-dasharray"},bue={offset:"strokeDashoffset",array:"strokeDasharray"};function vue(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?xue:bue;t[i.offset]=Pt.transform(-s);const a=Pt.transform(e),l=Pt.transform(n);t[i.array]=`${a} ${l}`}function hU(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(L6(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&vue(h,r,i,a,!1)}const fU=()=>({...M6(),attrs:{}}),mU=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wue(t,e,n,s){const r=j.useMemo(()=>{const i=fU();return hU(i,e,mU(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};dU(i,t.style,t),r.style={...i,...r.style}}return r}function _ue(t=!1){return(n,s,r,{latestValues:i},a)=>{const c=(D6(n)?wue:gue)(s,i,a,n),u=Xce(s,typeof n=="string",t),d=n!==j.Fragment?{...u,...c,ref:r}:{},{children:h}=s,f=j.useMemo(()=>ei(h)?h.get():h,[h]);return j.createElement(n,{...d,children:f})}}function b8(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function O6(t,e,n,s){if(typeof e=="function"){const[r,i]=b8(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=b8(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function P2(t){return ei(t)?t.get():t}function Nue({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:Sue(n,s,r,t),renderState:e()}}const pU=t=>(e,n)=>{const s=j.useContext(O5),r=j.useContext(D5),i=()=>Nue(t,e,s,r);return n?i():M5(i)};function Sue(t,e,n,s){const r={},i=s(t,{});for(const f in i)r[f]=P2(i[f]);let{initial:a,animate:l}=t;const c=B5(t),u=aU(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!F5(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=O6(t,f[m]);if(p){const{transitionEnd:x,transition:v,...y}=p;for(const _ in y){let N=y[_];if(Array.isArray(N)){const P=d?N.length-1:0;N=N[P]}N!==null&&(r[_]=N)}for(const _ in x)r[_]=x[_]}}}return r}function F6(t,e,n){var i;const{style:s}=t,r={};for(const a in s)(ei(s[a])||e.style&&ei(e.style[a])||uU(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(r[a]=s[a]);return r}const jue={useVisualState:pU({scrapeMotionValuesFromProps:F6,createRenderState:M6})};function gU(t,e,n){const s=F6(t,e,n);for(const r in t)if(ei(t[r])||ei(e[r])){const i=Og.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const Eue={useVisualState:pU({scrapeMotionValuesFromProps:gU,createRenderState:fU})};function Aue(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...D6(s)?Eue:jue,preloadedFeatures:t,useRender:_ue(r),createVisualElement:e,Component:s};return aue(a)}}function dx(t,e,n){const s=t.getProps();return O6(s,e,n!==void 0?n:s.custom,t)}const jS=t=>Array.isArray(t);function Tue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lx(n))}function Cue(t){return jS(t)?t[t.length-1]||0:t}function B6(t,e){const n=dx(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const a in i){const l=Cue(i[a]);Tue(t,a,l)}}function kue(t){return!!(ei(t)&&t.add)}function ES(t,e){const n=t.getValue("willChange");if(kue(n))return n.add(e);if(!n&&zc.WillChange){const s=new zc.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function yU(t){return t.props[oU]}const Pue=t=>t!==null;function Rue(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(Pue),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[i]}const Iue={type:"spring",stiffness:500,damping:25,restSpeed:10},Lue=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Mue={type:"keyframes",duration:.8},Due={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Oue=(t,{keyframes:e})=>e.length>2?Mue:Fg.has(t)?t.startsWith("scale")?Lue(e[1]):Iue:Due;function Fue({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const V6=(t,e,n,s={},r,i)=>a=>{const l=A6(s,t)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-_l(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};Fue(l)||Object.assign(d,Oue(t,d)),d.duration&&(d.duration=_l(d.duration)),d.repeatDelay&&(d.repeatDelay=_l(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(zc.instantAnimations||zc.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=Rue(d.keyframes,l);if(f!==void 0){ls.update(()=>{d.onUpdate(f),d.onComplete()});return}}return new jce(d)};function Bue({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function xU(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;s&&(i=s);const c=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),f=l[d];if(f===void 0||u&&Bue(u,d))continue;const m={delay:n,...A6(i||{},d)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const y=yU(t);if(y){const _=window.MotionHandoffAnimation(y,d,ls);_!==null&&(m.startTime=_,x=!0)}}ES(t,d),h.start(V6(d,h,f,t.shouldReduceMotion&&WV.has(d)?{type:!1}:m,t,x));const v=h.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{ls.update(()=>{a&&B6(t,a)})}),c}function AS(t,e,n={}){var c;const s=dx(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(xU(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=r;return Vue(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function Vue(t,e,n=0,s=0,r=1,i){const a=[],l=(t.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(t.variantChildren).sort(Uue).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(AS(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function Uue(t,e){return t.sortNodePosition(e)}function bU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>AS(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=AS(t,e,n);else{const r=typeof e=="function"?dx(t,e,n.custom):e;s=Promise.all(xU(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function vU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const zue=R6.length;function wU(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wU(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<zue;n++){const s=R6[n],r=t.props[s];(cx(r)||r===!1)&&(e[s]=r)}return e}const $ue=[...P6].reverse(),que=P6.length;function Hue(t){return e=>Promise.all(e.map(({animation:n,options:s})=>bU(t,n,s)))}function Que(t){let e=Hue(t),n=v8(),s=!0;const r=c=>(u,d)=>{var f;const h=dx(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:p,...x}=h;u={...u,...x,...p}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=wU(t.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let v=0;v<que;v++){const y=$ue[v],_=n[y],N=u[y]!==void 0?u[y]:d[y],P=cx(N),I=y===c?_.isActive:null;I===!1&&(p=v);let D=N===d[y]&&N!==u[y]&&P;if(D&&s&&t.manuallyAnimateOnMount&&(D=!1),_.protectedKeys={...m},!_.isActive&&I===null||!N&&!_.prevProp||F5(N)||typeof N=="boolean")continue;const C=Gue(_.prevProp,N);let w=C||y===c&&_.isActive&&!D&&P||v>p&&P,A=!1;const R=Array.isArray(N)?N:[N];let E=R.reduce(r(y),{});I===!1&&(E={});const{prevResolvedValues:T={}}=_,L={...T,...E},z=F=>{w=!0,f.has(F)&&(A=!0,f.delete(F)),_.needsAnimating[F]=!0;const Q=t.getValue(F);Q&&(Q.liveStyle=!1)};for(const F in L){const Q=E[F],V=T[F];if(m.hasOwnProperty(F))continue;let W=!1;jS(Q)&&jS(V)?W=!vU(Q,V):W=Q!==V,W?Q!=null?z(F):f.add(F):Q!==void 0&&f.has(F)?z(F):_.protectedKeys[F]=!0}_.prevProp=N,_.prevResolvedValues=E,_.isActive&&(m={...m,...E}),s&&t.blockInitialAnimation&&(w=!1),w&&(!(D&&C)||A)&&h.push(...R.map(F=>({animation:F,options:{type:y}})))}if(f.size){const v={};if(typeof u.initial!="boolean"){const y=dx(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(v.transition=y.transition)}f.forEach(y=>{const _=t.getBaseTarget(y),N=t.getValue(y);N&&(N.liveStyle=!0),v[y]=_??null}),h.push({animation:v})}let x=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=v8(),s=!0}}}function Gue(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vU(e,t):!1}function Eh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function v8(){return{animate:Eh(!0),whileInView:Eh(),whileHover:Eh(),whileTap:Eh(),whileDrag:Eh(),whileFocus:Eh(),exit:Eh()}}class th{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Wue extends th{constructor(e){super(e),e.animationState||(e.animationState=Que(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();F5(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Yue=0;class Kue extends th{constructor(){super(...arguments),this.id=Yue++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Xue={animation:{Feature:Wue},exit:{Feature:Kue}};function hx(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function h1(t){return{point:{x:t.pageX,y:t.pageY}}}const Jue=t=>e=>k6(e)&&t(e,h1(e));function vy(t,e,n,s){return hx(t,e,Jue(n),s)}function _U({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Zue({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ede(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const NU=1e-4,tde=1-NU,nde=1+NU,SU=.01,sde=0-SU,rde=0+SU;function gi(t){return t.max-t.min}function ide(t,e,n){return Math.abs(t-e)<=n}function w8(t,e,n,s=.5){t.origin=s,t.originPoint=as(e.min,e.max,t.origin),t.scale=gi(n)/gi(e),t.translate=as(n.min,n.max,t.origin)-t.originPoint,(t.scale>=tde&&t.scale<=nde||isNaN(t.scale))&&(t.scale=1),(t.translate>=sde&&t.translate<=rde||isNaN(t.translate))&&(t.translate=0)}function wy(t,e,n,s){w8(t.x,e.x,n.x,s?s.originX:void 0),w8(t.y,e.y,n.y,s?s.originY:void 0)}function _8(t,e,n){t.min=n.min+e.min,t.max=t.min+gi(e)}function ade(t,e,n){_8(t.x,e.x,n.x),_8(t.y,e.y,n.y)}function N8(t,e,n){t.min=e.min-n.min,t.max=t.min+gi(e)}function _y(t,e,n){N8(t.x,e.x,n.x),N8(t.y,e.y,n.y)}const S8=()=>({translate:0,scale:1,origin:0,originPoint:0}),lp=()=>({x:S8(),y:S8()}),j8=()=>({min:0,max:0}),Ts=()=>({x:j8(),y:j8()});function La(t){return[t("x"),t("y")]}function WN(t){return t===void 0||t===1}function TS({scale:t,scaleX:e,scaleY:n}){return!WN(t)||!WN(e)||!WN(n)}function Bh(t){return TS(t)||jU(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jU(t){return E8(t.x)||E8(t.y)}function E8(t){return t&&t!=="0%"}function nw(t,e,n){const s=t-n,r=e*s;return n+r}function A8(t,e,n,s,r){return r!==void 0&&(t=nw(t,r,s)),nw(t,n,s)+e}function CS(t,e=0,n=1,s,r){t.min=A8(t.min,e,n,s,r),t.max=A8(t.max,e,n,s,r)}function EU(t,{x:e,y:n}){CS(t.x,e.translate,e.scale,e.originPoint),CS(t.y,n.translate,n.scale,n.originPoint)}const T8=.999999999999,C8=1.0000000000001;function ode(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,a;for(let l=0;l<r;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&up(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,EU(t,a)),s&&Bh(i.latestValues)&&up(t,i.latestValues))}e.x<C8&&e.x>T8&&(e.x=1),e.y<C8&&e.y>T8&&(e.y=1)}function cp(t,e){t.min=t.min+e,t.max=t.max+e}function k8(t,e,n,s,r=.5){const i=as(t.min,t.max,r);CS(t,e,n,i,s)}function up(t,e){k8(t.x,e.x,e.scaleX,e.scale,e.originX),k8(t.y,e.y,e.scaleY,e.scale,e.originY)}function AU(t,e){return _U(ede(t.getBoundingClientRect(),e))}function lde(t,e,n){const s=AU(t,n),{scroll:r}=e;return r&&(cp(s.x,r.offset.x),cp(s.y,r.offset.y)),s}const TU=({current:t})=>t?t.ownerDocument.defaultView:null,P8=(t,e)=>Math.abs(t-e);function cde(t,e){const n=P8(t.x,e.x),s=P8(t.y,e.y);return Math.sqrt(n**2+s**2)}class CU{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=KN(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=cde(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:p}=h,{timestamp:x}=Ar;this.history.push({...p,timestamp:x});const{onStart:v,onMove:y}=this.handlers;f||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=YN(f,this.transformPagePoint),ls.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=KN(h.type==="pointercancel"?this.lastMoveEventInfo:YN(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,v),p&&p(h,v)},!k6(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=h1(e),l=YN(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ar;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,KN(l,this.history)),this.removeListeners=c1(vy(this.contextWindow,"pointermove",this.handlePointerMove),vy(this.contextWindow,"pointerup",this.handlePointerUp),vy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$d(this.updatePoint)}}function YN(t,e){return e?{point:e(t.point)}:t}function R8(t,e){return{x:t.x-e.x,y:t.y-e.y}}function KN({point:t},e){return{point:t,delta:R8(t,kU(e)),offset:R8(t,ude(e)),velocity:dde(e,.1)}}function ude(t){return t[0]}function kU(t){return t[t.length-1]}function dde(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=kU(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>_l(e)));)n--;if(!s)return{x:0,y:0};const i=Nl(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function hde(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?as(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?as(n,t,s.max):Math.min(t,n)),t}function I8(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fde(t,{top:e,left:n,bottom:s,right:r}){return{x:I8(t.x,n,r),y:I8(t.y,e,s)}}function L8(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function mde(t,e){return{x:L8(t.x,e.x),y:L8(t.y,e.y)}}function pde(t,e){let n=.5;const s=gi(t),r=gi(e);return r>s?n=ix(e.min,e.max-s,t.min):s>r&&(n=ix(t.min,t.max-r,e.min)),Uc(0,1,n)}function gde(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const kS=.35;function yde(t=kS){return t===!1?t=0:t===!0&&(t=kS),{x:M8(t,"left","right"),y:M8(t,"top","bottom")}}function M8(t,e,n){return{min:D8(t,e),max:D8(t,n)}}function D8(t,e){return typeof t=="number"?t:t[e]||0}const xde=new WeakMap;class bde{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ts(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(h1(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:p}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Vce(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),La(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Sl.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const N=_.layout.layoutBox[v];N&&(y=gi(N)*(parseFloat(y)/100))}}this.originPoint[v]=y}),p&&ls.postRender(()=>p(d,h)),ES(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:p,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=h;if(m&&this.currentDirection===null){this.currentDirection=vde(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>this.stop(d,h),c=()=>La(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new CU(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:TU(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&ls.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Eb(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=hde(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&op(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=fde(s.layoutBox,e):this.constraints=!1,this.elastic=yde(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&La(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=gde(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!op(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=lde(s,r.root,this.visualElement.getTransformPagePoint());let a=mde(r.layout.layoutBox,i);if(n){const l=n(Zue(a));this.hasMutatedConstraints=!!l,l&&(a=_U(l))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=La(d=>{if(!Eb(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,p={type:"inertia",velocity:s?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ES(this.visualElement,e),s.start(V6(e,s,0,n,this.visualElement,!1))}stopAnimation(){La(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){La(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){La(n=>{const{drag:s}=this.getProps();if(!Eb(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[n];i.set(e[n]-as(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!op(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};La(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();r[a]=pde({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),La(a=>{if(!Eb(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(as(c,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;xde.set(this.visualElement,this);const e=this.visualElement.current,n=vy(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();op(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ls.read(s);const a=hx(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(La(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=kS,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Eb(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vde(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class wde extends th{constructor(e){super(e),this.removeGroupControls=qa,this.removeListeners=qa,this.controls=new bde(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qa}unmount(){this.removeGroupControls(),this.removeListeners()}}const O8=t=>(e,n)=>{t&&ls.postRender(()=>t(e,n))};class _de extends th{constructor(){super(...arguments),this.removePointerDownListener=qa}onPointerDown(e){this.session=new CU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:O8(e),onStart:O8(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&ls.postRender(()=>r(i,a))}}}mount(){this.removePointerDownListener=vy(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const R2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function F8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const x0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pt.test(t))t=parseFloat(t);else return t;const n=F8(t,e.target.x),s=F8(t,e.target.y);return`${n}% ${s}%`}},Nde={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=qd.parse(t);if(r.length>5)return s;const i=qd.createTransformer(t),a=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+a]/=l,r[1+a]/=c;const u=as(l,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),i(r)}};class Sde extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;uue(jde),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),R2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:a}=s;return a&&(a.isPresent=i,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||ls.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),C6.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PU(t){const[e,n]=mV(),s=j.useContext(o6);return o.jsx(Sde,{...t,layoutGroup:s,switchLayoutGroup:j.useContext(lU),isPresent:e,safeToRemove:n})}const jde={borderRadius:{...x0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:x0,borderTopRightRadius:x0,borderBottomLeftRadius:x0,borderBottomRightRadius:x0,boxShadow:Nde};function Ede(t,e,n){const s=ei(t)?t:lx(t);return s.start(V6("",s,e,n)),s.animation}function Ade(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Tde=(t,e)=>t.depth-e.depth;class Cde{constructor(){this.children=[],this.isDirty=!1}add(e){d6(this.children,e),this.isDirty=!0}remove(e){h6(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Tde),this.isDirty=!1,this.children.forEach(e)}}function kde(t,e){const n=Vi.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&($d(s),t(i-e))};return ls.setup(s,!0),()=>$d(s)}const RU=["TopLeft","TopRight","BottomLeft","BottomRight"],Pde=RU.length,B8=t=>typeof t=="string"?parseFloat(t):t,V8=t=>typeof t=="number"||Pt.test(t);function Rde(t,e,n,s,r,i){r?(t.opacity=as(0,n.opacity??1,Ide(s)),t.opacityExit=as(e.opacity??1,0,Lde(s))):i&&(t.opacity=as(e.opacity??1,n.opacity??1,s));for(let a=0;a<Pde;a++){const l=`border${RU[a]}Radius`;let c=U8(e,l),u=U8(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||V8(c)===V8(u)?(t[l]=Math.max(as(B8(c),B8(u),s),0),(Sl.test(u)||Sl.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=as(e.rotate||0,n.rotate||0,s))}function U8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ide=IU(0,.5,SV),Lde=IU(.5,.95,qa);function IU(t,e,n){return s=>s<t?0:s>e?1:n(ix(t,e,s))}function z8(t,e){t.min=e.min,t.max=e.max}function Pa(t,e){z8(t.x,e.x),z8(t.y,e.y)}function $8(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function q8(t,e,n,s,r){return t-=e,t=nw(t,1/n,s),r!==void 0&&(t=nw(t,1/r,s)),t}function Mde(t,e=0,n=1,s=.5,r,i=t,a=t){if(Sl.test(e)&&(e=parseFloat(e),e=as(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=as(i.min,i.max,s);t===i&&(l-=e),t.min=q8(t.min,e,n,l,r),t.max=q8(t.max,e,n,l,r)}function H8(t,e,[n,s,r],i,a){Mde(t,e[n],e[s],e[r],e.scale,i,a)}const Dde=["x","scaleX","originX"],Ode=["y","scaleY","originY"];function Q8(t,e,n,s){H8(t.x,e,Dde,n?n.x:void 0,s?s.x:void 0),H8(t.y,e,Ode,n?n.y:void 0,s?s.y:void 0)}function G8(t){return t.translate===0&&t.scale===1}function LU(t){return G8(t.x)&&G8(t.y)}function W8(t,e){return t.min===e.min&&t.max===e.max}function Fde(t,e){return W8(t.x,e.x)&&W8(t.y,e.y)}function Y8(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MU(t,e){return Y8(t.x,e.x)&&Y8(t.y,e.y)}function K8(t){return gi(t.x)/gi(t.y)}function X8(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Bde{constructor(){this.members=[]}add(e){d6(this.members,e),e.scheduleRender()}remove(e){if(h6(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Vde(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:p}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),p&&(s+=`skewY(${p}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const XN=["","X","Y","Z"],Ude={visibility:"hidden"},J8=1e3;let zde=0;function JN(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function DU(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=yU(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ls,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&DU(s)}function OU({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},l=e==null?void 0:e()){this.id=zde++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Hde),this.nodes.forEach(Kde),this.nodes.forEach(Xde),this.nodes.forEach(Qde)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cde)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new p6),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Ade(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=kde(h,250),R2.hasAnimatedSinceResize&&(R2.hasAnimatedSinceResize=!1,this.nodes.forEach(eI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||nhe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!MU(this.targetLayout,m),_=!h&&f;if(this.options.layoutRoot||this.resumeFrom||_||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const N={...A6(p,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||eI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$d(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jde),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Z8);return}this.isUpdating||this.nodes.forEach(Wde),this.isUpdating=!1,this.nodes.forEach(Yde),this.nodes.forEach($de),this.nodes.forEach(qde),this.clearAllSnapshots();const l=Vi.now();Ar.delta=Uc(0,1e3/60,l-Ar.timestamp),Ar.timestamp=l,Ar.isProcessing=!0,$N.update.process(Ar),$N.preRender.process(Ar),$N.render.process(Ar),Ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,C6.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gde),this.sharedNodes.forEach(Zde)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ls.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ls.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gi(this.snapshot.measuredBox.x)&&!gi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ts(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!LU(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||Bh(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),she(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Ts();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(rhe))){const{scroll:d}=this.root;d&&(cp(l.x,d.offset.x),cp(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=Ts();if(Pa(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Pa(l,a),cp(l.x,h.offset.x),cp(l.y,h.offset.y))}return l}applyTransform(a,l=!1){const c=Ts();Pa(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&up(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Bh(d.latestValues)&&up(c,d.latestValues)}return Bh(this.latestValues)&&up(c,this.latestValues),c}removeTransform(a){const l=Ts();Pa(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Bh(u.latestValues))continue;TS(u.latestValues)&&u.updateSnapshot();const d=Ts(),h=u.measurePageBox();Pa(d,h),Q8(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Bh(this.latestValues)&&Q8(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ar.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ts(),this.relativeTargetOrigin=Ts(),_y(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ts(),this.targetWithTransforms=Ts()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ade(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pa(this.target,this.layout.layoutBox),EU(this.target,this.targetDelta)):Pa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ts(),this.relativeTargetOrigin=Ts(),_y(this.relativeTargetOrigin,this.target,m.target),Pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||TS(this.parent.latestValues)||jU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ar.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Pa(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;ode(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ts());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($8(this.prevProjectionDelta.x,this.projectionDelta.x),$8(this.prevProjectionDelta.y,this.projectionDelta.y)),wy(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!X8(this.projectionDelta.x,this.prevProjectionDelta.x)||!X8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lp(),this.projectionDelta=lp(),this.projectionDeltaWithTransform=lp()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=lp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Ts(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,v=this.getStack(),y=!v||v.members.length<=1,_=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(the));this.animationProgress=0;let N;this.mixTargetDelta=P=>{const I=P/1e3;tI(h.x,a.x,I),tI(h.y,a.y,I),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_y(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ehe(this.relativeTarget,this.relativeTargetOrigin,f,I),N&&Fde(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Ts()),Pa(N,this.relativeTarget)),x&&(this.animationValues=d,Rde(d,u,this.latestValues,I,_,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($d(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ls.update(()=>{R2.hasAnimatedSinceResize=!0,this.currentAnimation=Ede(0,J8,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(J8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&FU(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ts();const h=gi(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=gi(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Pa(l,c),up(l,d),wy(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Bde),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&JN("z",a,u,this.animationValues);for(let d=0;d<XN.length;d++)JN(`rotate${XN[d]}`,a,u,this.animationValues),JN(`skew${XN[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ude;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=P2(a==null?void 0:a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=P2(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Bh(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=Vde(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in ux){if(d[m]===void 0)continue;const{correct:p,applyTo:x,isCSSVariable:v}=ux[m],y=l.transform==="none"?d[m]:p(d[m],u);if(x){const _=x.length;for(let N=0;N<_;N++)l[x[N]]=y}else v?this.options.visualElement.renderState.vars[m]=y:l[m]=y}return this.options.layoutId&&(l.pointerEvents=u===this?P2(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Z8),this.root.sharedNodes.clear()}}}function $de(t){t.updateLayout()}function qde(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?La(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],m=gi(f);f.min=s[h].min,f.max=f.min+m}):FU(i,e.layoutBox,s)&&La(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],m=gi(s[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=lp();wy(l,s,e.layoutBox);const c=lp();a?wy(c,t.applyTransform(r,!0),e.measuredBox):wy(c,s,e.layoutBox);const u=!LU(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=Ts();_y(p,e.layoutBox,f.layoutBox);const x=Ts();_y(x,s,m.layoutBox),MU(p,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Hde(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Qde(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Gde(t){t.clearSnapshot()}function Z8(t){t.clearMeasurements()}function Wde(t){t.isLayoutDirty=!1}function Yde(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function eI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Kde(t){t.resolveTargetDelta()}function Xde(t){t.calcProjection()}function Jde(t){t.resetSkewAndRotation()}function Zde(t){t.removeLeadSnapshot()}function tI(t,e,n){t.translate=as(e.translate,0,n),t.scale=as(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nI(t,e,n,s){t.min=as(e.min,n.min,s),t.max=as(e.max,n.max,s)}function ehe(t,e,n,s){nI(t.x,e.x,n.x,s),nI(t.y,e.y,n.y,s)}function the(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nhe={duration:.45,ease:[.4,0,.1,1]},sI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rI=sI("applewebkit/")&&!sI("chrome/")?Math.round:qa;function iI(t){t.min=rI(t.min),t.max=rI(t.max)}function she(t){iI(t.x),iI(t.y)}function FU(t,e,n){return t==="position"||t==="preserve-aspect"&&!ide(K8(e),K8(n),.2)}function rhe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ihe=OU({attachResizeListener:(t,e)=>hx(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ZN={current:void 0},BU=OU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ZN.current){const t=new ihe({});t.mount(window),t.setOptions({layoutScroll:!0}),ZN.current=t}return ZN.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ahe={pan:{Feature:_de},drag:{Feature:wde,ProjectionNode:BU,MeasureLayout:PU}};function aI(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&ls.postRender(()=>i(e,h1(e)))}class ohe extends th{mount(){const{current:e}=this.node;e&&(this.unmount=Uce(e,(n,s)=>(aI(this.node,s,"Start"),r=>aI(this.node,r,"End"))))}unmount(){}}class lhe extends th{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=c1(hx(this.node.current,"focus",()=>this.onFocus()),hx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oI(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&ls.postRender(()=>i(e,h1(e)))}class che extends th{mount(){const{current:e}=this.node;e&&(this.unmount=Hce(e,(n,s)=>(oI(this.node,s,"Start"),(r,{success:i})=>oI(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const PS=new WeakMap,e4=new WeakMap,uhe=t=>{const e=PS.get(t.target);e&&e(t)},dhe=t=>{t.forEach(uhe)};function hhe({root:t,...e}){const n=t||document;e4.has(n)||e4.set(n,{});const s=e4.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(dhe,{root:t,...e})),s[r]}function fhe(t,e,n){const s=hhe(e);return PS.set(t,n),s.observe(t),()=>{PS.delete(t),s.unobserve(t)}}const mhe={some:0,all:1};class phe extends th{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:mhe[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return fhe(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ghe(e,n))&&this.startObserver()}unmount(){}}function ghe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yhe={inView:{Feature:phe},tap:{Feature:che},focus:{Feature:lhe},hover:{Feature:ohe}},xhe={layout:{ProjectionNode:BU,MeasureLayout:PU}},RS={current:null},VU={current:!1};function bhe(){if(VU.current=!0,!!l6)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>RS.current=t.matches;t.addListener(e),e()}else RS.current=!1}const vhe=new WeakMap;function whe(t,e,n){for(const s in e){const r=e[s],i=n[s];if(ei(r))t.addValue(s,r);else if(ei(i))t.addValue(s,lx(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(s);t.addValue(s,lx(a!==void 0?a:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const lI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _he{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=E6,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Vi.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ls.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=B5(n),this.isVariantNode=aU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&ei(m)&&m.set(c[f],!1)}}mount(e){this.current=e,vhe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),VU.current||bhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:RS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$d(this.notifyUpdate),$d(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Fg.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ls.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in og){const n=og[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ts()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<lI.length;s++){const r=lI[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,a=e[i];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=whe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=lx(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(pV(s)||gV(s))?s=parseFloat(s):!Gce(s)&&qd.test(n)&&(s=JV(e,n)),this.setBaseTarget(e,ei(s)?s.get():s)),ei(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=O6(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!ei(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new p6),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class UU extends _he{constructor(){super(...arguments),this.KeyframeResolver=Oce}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ei(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function zU(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}function Nhe(t){return window.getComputedStyle(t)}class She extends UU{constructor(){super(...arguments),this.type="html",this.renderInstance=zU}readValueFromInstance(e,n){if(Fg.has(n))return nce(e,n);{const s=Nhe(e),r=(x6(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return AU(e,n)}build(e,n,s){L6(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return F6(e,n,s)}}const $U=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jhe(t,e,n,s){zU(t,e,void 0,s);for(const r in e.attrs)t.setAttribute($U.has(r)?r:I6(r),e.attrs[r])}class Ehe extends UU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ts}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Fg.has(n)){const s=XV(n);return s&&s.default||0}return n=$U.has(n)?n:I6(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return gU(e,n,s)}build(e,n,s){hU(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){jhe(e,n,s,r)}mount(e){this.isSVGTag=mU(e.tagName),super.mount(e)}}const Ahe=(t,e)=>D6(t)?new Ehe(e):new She(e,{allowProjection:t!==j.Fragment}),The=Aue({...Xue,...yhe,...ahe,...xhe},Ahe),he=Jce(The);function Che(t){t.values.forEach(e=>e.stop())}function IS(t,e){[...e].reverse().forEach(s=>{const r=t.getVariant(s);r&&B6(t,r),t.variantChildren&&t.variantChildren.forEach(i=>{IS(i,e)})})}function khe(t,e){if(Array.isArray(e))return IS(t,e);if(typeof e=="string")return IS(t,[e]);B6(t,e)}function Phe(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,s){const r=[];return t.forEach(i=>{r.push(bU(i,n,{transitionOverride:s}))}),Promise.all(r)},set(n){return t.forEach(s=>{khe(s,n)})},stop(){t.forEach(n=>{Che(n)})},mount(){return()=>{e.stop()}}};return e}function Rhe(){const t=M5(Phe);return c6(t.mount,[]),t}const qU=Rhe,Ihe={some:0,all:1};function Lhe(t,e,{root:n,margin:s,amount:r="some"}={}){const i=ZV(t),a=new WeakMap,l=u=>{u.forEach(d=>{const h=a.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=e(d.target,d);typeof f=="function"?a.set(d.target,f):c.unobserve(d.target)}else typeof h=="function"&&(h(d),a.delete(d.target))})},c=new IntersectionObserver(l,{root:n,rootMargin:s,threshold:typeof r=="number"?r:Ihe[r]});return i.forEach(u=>c.observe(u)),()=>c.disconnect()}function Mhe(t,{root:e,margin:n,amount:s,once:r=!1,initial:i=!1}={}){const[a,l]=j.useState(i);return j.useEffect(()=>{if(!t.current||r&&a)return;const c=()=>(l(!0),r?void 0:()=>l(!1)),u={root:e&&e.current||void 0,margin:n,amount:s};return Lhe(t.current,c,u)},[e,t,n,r,s]),a}const Dhe=({isOpen:t,onClose:e,onConfirm:n})=>{const s={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{duration:.2,ease:"easeInOut"}},exit:{opacity:0,scale:.9,transition:{duration:.15,ease:"easeInOut"}}};return Re.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),o.jsx(Zt,{children:t&&o.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:"hidden",animate:"visible",exit:"exit",variants:s,onClick:e,children:o.jsxs(he.div,{className:"relative bg-white rounded-2xl shadow-lg max-w-md w-full mx-4 p-6",onClick:r=>r.stopPropagation(),variants:s,children:[o.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:o.jsx(Vd,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center rounded-full bg-red-100 p-3 mx-auto mb-4",children:o.jsx(uV,{className:"h-8 w-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Confirm Logout?"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Are you sure you want to log out?"})]}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:e,className:"py-2 px-5 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Cancel"}),o.jsx("button",{onClick:n,className:"py-2 px-5 bg-red-600 text-white rounded-xl shadow-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Confirm Logout"})]})]})})})},Ohe=({isOpen:t,onClose:e})=>{const n={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{duration:.2,ease:"easeInOut"}},exit:{opacity:0,scale:.9,transition:{duration:.15,ease:"easeInOut"}}};return o.jsx(Zt,{children:t&&o.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:"hidden",animate:"visible",exit:"exit",variants:n,onClick:e,children:o.jsxs(he.div,{className:"relative bg-white rounded-2xl shadow-lg max-w-md w-full mx-4 p-6",onClick:s=>s.stopPropagation(),variants:n,children:[o.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:o.jsx(Vd,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center rounded-full bg-green-100 p-3 mx-auto mb-4",children:o.jsx(Jn,{className:"h-8 w-8 text-green-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Logout Successful"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You have successfully logged out of your account."})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx("button",{onClick:e,className:"py-2 px-5 bg-green-600 text-white rounded-xl shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"OK"})})]})})})},Fhe=({onClick:t,className:e,showLabel:n=!1})=>{const[s,r]=j.useState(!1),[i,a]=j.useState(!1),l=vr(),c=()=>{r(!0)},u=()=>{r(!1)},d=()=>{a(!1),l("/")},h=async()=>{try{await nF(Po),r(!1),a(!0),t&&t()}catch(f){console.error("Logout Error:",f.message)}};return o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:c,className:`inline-flex items-center gap-2 align-middle hover:text-red-400 focus:outline-none transition duration-300 ease-in-out ${e??"text-red-700"}`,children:[o.jsx(uV,{className:"h-4 w-4 inline-block align-middle"}),n&&o.jsx("span",{className:"text-base align-middle",children:"Logout"})]}),o.jsx(Dhe,{isOpen:s,onClose:u,onConfirm:h}),o.jsx(Ohe,{isOpen:i,onClose:d})]})},cI=({className:t=""})=>{const{user:e}=_s(),n=vr(),[s,r]=j.useState(!1),[i,a]=j.useState(""),[l,c]=j.useState("qrcodes"),[u,d]=j.useState([]),[h,f]=j.useState(null),m=j.useRef(null),p=j.useRef(null);j.useEffect(()=>{(async()=>{if(e)try{const C=Lt(dt,"users",e.uid),w=await ws(C);if(w.exists()){const A=w.data();f(A.subscriptionPlan||"Free")}else f("Free")}catch(C){console.error("Error fetching subscription plan:",C),f("Free")}else f("Free")})()},[e]),j.useEffect(()=>{const D=localStorage.getItem(`recentSearches_${l}`);D&&d(JSON.parse(D))},[l]),j.useEffect(()=>{const D=C=>{p.current&&!p.current.contains(C.target)&&r(!1)};return s?(document.addEventListener("mousedown",D),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("mousedown",D),document.body.style.overflow=""}},[s]);const x=j.useCallback(D=>{if(!D.trim())return;const C=[D,...u.filter(w=>w!==D)].slice(0,5);d(C),localStorage.setItem(`recentSearches_${l}`,JSON.stringify(C))},[u,l]),v=D=>{D.preventDefault(),i.trim()&&(x(i),n(`/history?search=${encodeURIComponent(i)}`),r(!1),a(""))},y=()=>{r(!0),setTimeout(()=>{var D;return(D=m.current)==null?void 0:D.focus()},100)},_=D=>{a(D),n(`/history?search=${encodeURIComponent(D)}`),r(!1)},N=()=>{d([]),localStorage.removeItem(`recentSearches_${l}`)};if(!e)return null;const P="Find your QR by Name or URL",I=()=>o.jsx("div",{className:"mb-4 text-center max-w-sm mx-auto",children:o.jsxs("a",{href:"/plans-and-quota",className:`flex items-center justify-start gap-4 px-6 py-5
               bg-gradient-to-r from-emerald-500 to-emerald-600
               border border-emerald-400 rounded-2xl shadow-lg
               hover:shadow-xl hover:scale-[1.02] transition-transform
               text-white`,"aria-label":"Unlock QR History",children:[o.jsx("div",{className:"p-3 rounded-xl bg-white/20 flex items-center justify-center",children:o.jsx(oV,{className:"w-7 h-7 text-white","aria-hidden":"true"})}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"text-base font-semibold leading-tight",children:"Get History Access"}),o.jsx("span",{className:"text-xs text-white/80 tracking-wide",children:"Available with any paid plan"})]})]})});return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`relative ${t}`,children:o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"flex items-center bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 cursor-text hover:bg-gray-100 transition-colors",onClick:y,children:[o.jsx(Tp,{className:"w-4 h-4 text-gray-400 mr-2"}),o.jsx("input",{type:"text",placeholder:P,className:"bg-transparent flex-1 text-sm text-black placeholder-gray-500 focus:outline-none",value:i,onChange:D=>a(D.target.value),onFocus:y,onKeyDown:D=>{D.key==="Enter"&&s&&v(D)}}),s&&o.jsx("button",{type:"submit",onClick:D=>{v(D)},className:"px-4 py-2 rounded-lg text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:"Search"})]})})}),o.jsx(Zt,{children:s&&o.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 bg-white",children:o.jsxs("div",{ref:p,className:"h-full flex flex-col",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>r(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(bs,{className:"w-5 h-5 text-gray-500"})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Search"})]}),o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{ref:m,type:"text",value:i,onChange:D=>a(D.target.value),placeholder:P,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-sm text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoComplete:"off"})]}),o.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:"Search"})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:h==="Free"?I():u.length>0?o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[o.jsx(Ui,{className:"w-4 h-4"}),"Recent Searches"]}),o.jsx("button",{onClick:N,className:"text-xs text-gray-400 hover:text-gray-600",children:"Clear"})]}),o.jsx("div",{className:"space-y-2",children:u.map((D,C)=>o.jsxs("button",{onClick:()=>_(D),className:"flex items-center w-full text-left px-3 py-2 rounded-lg hover:bg-gray-50 text-sm text-gray-700",children:[o.jsx(Tp,{className:"w-4 h-4 text-gray-400 mr-3"}),D]},C))})]}):o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500 mb-2",children:"No recent searches"})})})})]})})})]})},HU=typeof document<"u"?Re.useLayoutEffect:()=>{};function Bhe(t){const e=j.useRef(null);return HU(()=>{e.current=t},[t]),j.useCallback((...n)=>{const s=e.current;return s==null?void 0:s(...n)},[])}const nh=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Xh=t=>t&&"window"in t&&t.window===t?t:nh(t).defaultView||window;function Vhe(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function Uhe(t){return Vhe(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let zhe=!1;function U6(){return zhe}function QU(t,e){if(!U6())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Uhe(n)?n=n.host:n=n.parentNode}return!1}const LS=(t=document)=>{var e;if(!U6())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function GU(t){return U6()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function WU(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=WU(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function mf(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=WU(t))&&(s&&(s+=" "),s+=e);return s}function $he(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function qhe(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function YU(t){let e=null;return()=>(e==null&&(e=t()),e)}const Hhe=YU(function(){return qhe(/^Mac/i)}),Qhe=YU(function(){return $he(/Android/i)});function KU(){let t=j.useRef(new Map),e=j.useCallback((r,i,a,l)=>{let c=l!=null&&l.once?(...u)=>{t.current.delete(a),a(...u)}:a;t.current.set(a,{type:i,eventTarget:r,fn:c,options:l}),r.addEventListener(i,c,l)},[]),n=j.useCallback((r,i,a,l)=>{var c;let u=((c=t.current.get(a))===null||c===void 0?void 0:c.fn)||a;r.removeEventListener(i,u,l),t.current.delete(a)},[]),s=j.useCallback(()=>{t.current.forEach((r,i)=>{n(r.eventTarget,r.type,i,r.options)})},[n]);return j.useEffect(()=>s,[s]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:s}}function Ghe(t){return t.mozInputSource===0&&t.isTrusted?!0:Qhe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function XU(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function Whe(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function JU(t){let e=j.useRef({isFocused:!1,observer:null});HU(()=>{const s=e.current;return()=>{s.observer&&(s.observer.disconnect(),s.observer=null)}},[]);let n=Bhe(s=>{t==null||t(s)});return j.useCallback(s=>{if(s.target instanceof HTMLButtonElement||s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement||s.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=s.target,i=a=>{if(e.current.isFocused=!1,r.disabled){let l=XU(a);n(l)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&r.disabled){var a;(a=e.current.observer)===null||a===void 0||a.disconnect();let l=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Yhe=!1,f1=null,MS=new Set,Ny=new Map,If=!1,DS=!1;const Khe={Tab:!0,Escape:!0};function z6(t,e){for(let n of MS)n(t,e)}function Xhe(t){return!(t.metaKey||!Hhe()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function sw(t){If=!0,Xhe(t)&&(f1="keyboard",z6("keyboard",t))}function kp(t){f1="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(If=!0,z6("pointer",t))}function ZU(t){Ghe(t)&&(If=!0,f1="virtual")}function ez(t){t.target===window||t.target===document||Yhe||!t.isTrusted||(!If&&!DS&&(f1="virtual",z6("virtual",t)),If=!1,DS=!1)}function tz(){If=!1,DS=!0}function OS(t){if(typeof window>"u"||typeof document>"u"||Ny.get(Xh(t)))return;const e=Xh(t),n=nh(t);let s=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){If=!0,s.apply(this,arguments)},n.addEventListener("keydown",sw,!0),n.addEventListener("keyup",sw,!0),n.addEventListener("click",ZU,!0),e.addEventListener("focus",ez,!0),e.addEventListener("blur",tz,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",kp,!0),n.addEventListener("pointermove",kp,!0),n.addEventListener("pointerup",kp,!0)),e.addEventListener("beforeunload",()=>{nz(t)},{once:!0}),Ny.set(e,{focus:s})}const nz=(t,e)=>{const n=Xh(t),s=nh(t);e&&s.removeEventListener("DOMContentLoaded",e),Ny.has(n)&&(n.HTMLElement.prototype.focus=Ny.get(n).focus,s.removeEventListener("keydown",sw,!0),s.removeEventListener("keyup",sw,!0),s.removeEventListener("click",ZU,!0),n.removeEventListener("focus",ez,!0),n.removeEventListener("blur",tz,!1),typeof PointerEvent<"u"&&(s.removeEventListener("pointerdown",kp,!0),s.removeEventListener("pointermove",kp,!0),s.removeEventListener("pointerup",kp,!0)),Ny.delete(n))};function Jhe(t){const e=nh(t);let n;return e.readyState!=="loading"?OS(t):(n=()=>{OS(t)},e.addEventListener("DOMContentLoaded",n)),()=>nz(t,n)}typeof document<"u"&&Jhe();function sz(){return f1!=="pointer"}const Zhe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function efe(t,e,n){let s=nh(n==null?void 0:n.target);const r=typeof window<"u"?Xh(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?Xh(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?Xh(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?Xh(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||s.activeElement instanceof r&&!Zhe.has(s.activeElement.type)||s.activeElement instanceof i||s.activeElement instanceof a&&s.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof l&&!Khe[n.key])}function tfe(t,e,n){OS(),j.useEffect(()=>{let s=(r,i)=>{efe(!!(n!=null&&n.isTextInput),r,i)&&t(sz())};return MS.add(s),()=>{MS.delete(s)}},e)}function nfe(t){let{isDisabled:e,onFocus:n,onBlur:s,onFocusChange:r}=t;const i=j.useCallback(c=>{if(c.target===c.currentTarget)return s&&s(c),r&&r(!1),!0},[s,r]),a=JU(i),l=j.useCallback(c=>{const u=nh(c.target),d=u?LS(u):LS();c.target===c.currentTarget&&d===GU(c.nativeEvent)&&(n&&n(c),r&&r(!0),a(c))},[r,n,a]);return{focusProps:{onFocus:!e&&(n||r||s)?l:void 0,onBlur:!e&&(s||r)?i:void 0}}}function sfe(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:s,onFocusWithinChange:r}=t,i=j.useRef({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:l}=KU(),c=j.useCallback(h=>{h.currentTarget.contains(h.target)&&i.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(i.current.isFocusWithin=!1,l(),n&&n(h),r&&r(!1))},[n,r,i,l]),u=JU(c),d=j.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const f=nh(h.target),m=LS(f);if(!i.current.isFocusWithin&&m===GU(h.nativeEvent)){s&&s(h),r&&r(!0),i.current.isFocusWithin=!0,u(h);let p=h.currentTarget;a(f,"focus",x=>{if(i.current.isFocusWithin&&!QU(p,x.target)){let v=new f.defaultView.FocusEvent("blur",{relatedTarget:x.target});Whe(v,p);let y=XU(v);c(y)}},{capture:!0})}},[s,r,u,a,c]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:c}}}let FS=!1,t4=0;function rfe(){FS=!0,setTimeout(()=>{FS=!1},50)}function uI(t){t.pointerType==="touch"&&rfe()}function ife(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",uI),t4++,()=>{t4--,!(t4>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",uI)}}function afe(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:s,isDisabled:r}=t,[i,a]=j.useState(!1),l=j.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;j.useEffect(ife,[]);let{addGlobalListener:c,removeAllGlobalListeners:u}=KU(),{hoverProps:d,triggerHoverEnd:h}=j.useMemo(()=>{let f=(x,v)=>{if(l.pointerType=v,r||v==="touch"||l.isHovered||!x.currentTarget.contains(x.target))return;l.isHovered=!0;let y=x.currentTarget;l.target=y,c(nh(x.target),"pointerover",_=>{l.isHovered&&l.target&&!QU(l.target,_.target)&&m(_,_.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:y,pointerType:v}),n&&n(!0),a(!0)},m=(x,v)=>{let y=l.target;l.pointerType="",l.target=null,!(v==="touch"||!l.isHovered||!y)&&(l.isHovered=!1,u(),s&&s({type:"hoverend",target:y,pointerType:v}),n&&n(!1),a(!1))},p={};return typeof PointerEvent<"u"&&(p.onPointerEnter=x=>{FS&&x.pointerType==="mouse"||f(x,x.pointerType)},p.onPointerLeave=x=>{!r&&x.currentTarget.contains(x.target)&&m(x,x.pointerType)}),{hoverProps:p,triggerHoverEnd:m}},[e,n,s,r,l,c,u]);return j.useEffect(()=>{r&&h({currentTarget:l.target},l.pointerType)},[r]),{hoverProps:d,isHovered:i}}function rz(t={}){let{autoFocus:e=!1,isTextInput:n,within:s}=t,r=j.useRef({isFocused:!1,isFocusVisible:e||sz()}),[i,a]=j.useState(!1),[l,c]=j.useState(()=>r.current.isFocused&&r.current.isFocusVisible),u=j.useCallback(()=>c(r.current.isFocused&&r.current.isFocusVisible),[]),d=j.useCallback(m=>{r.current.isFocused=m,a(m),u()},[u]);tfe(m=>{r.current.isFocusVisible=m,u()},[],{isTextInput:n});let{focusProps:h}=nfe({isDisabled:s,onFocusChange:d}),{focusWithinProps:f}=sfe({isDisabled:!s,onFocusWithinChange:d});return{isFocused:i,isFocusVisible:l,focusProps:s?f:h}}var ofe=Object.defineProperty,lfe=(t,e,n)=>e in t?ofe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n4=(t,e,n)=>(lfe(t,typeof e!="symbol"?e+"":e,n),n);let cfe=class{constructor(){n4(this,"current",this.detect()),n4(this,"handoffState","pending"),n4(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},pf=new cfe;function Bg(t){var e,n;return pf.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function m1(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Yc(){let t=[],e={addEventListener(n,s,r,i){return n.addEventListener(s,r,i),e.add(()=>n.removeEventListener(s,r,i))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(s))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let s=setTimeout(...n);return e.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return m1(()=>{s.current&&n[0]()}),e.add(()=>{s.current=!1})},style(n,s,r){let i=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:r}),this.add(()=>{Object.assign(n.style,{[s]:i})})},group(n){let s=Yc();return n(s),this.add(()=>s.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let s=t.indexOf(n);if(s>=0)for(let r of t.splice(s,1))r()}},dispose(){for(let n of t.splice(0))n()}};return e}function V5(){let[t]=j.useState(Yc);return j.useEffect(()=>()=>t.dispose(),[t]),t}let Ws=(t,e)=>{pf.isServer?j.useEffect(t,e):j.useLayoutEffect(t,e)};function Eo(t){let e=j.useRef(t);return Ws(()=>{e.current=t},[t]),e}let Jt=function(t){let e=Eo(t);return Re.useCallback((...n)=>e.current(...n),[e])};function ufe(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function dfe(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function hfe({disabled:t=!1}={}){let e=j.useRef(null),[n,s]=j.useState(!1),r=V5(),i=Jt(()=>{e.current=null,s(!1),r.dispose()}),a=Jt(l=>{if(r.dispose(),e.current===null){e.current=l.currentTarget,s(!0);{let c=Bg(l.currentTarget);r.addEventListener(c,"pointerup",i,!1),r.addEventListener(c,"pointermove",u=>{if(e.current){let d=ufe(u);s(dfe(d,e.current.getBoundingClientRect()))}},!1),r.addEventListener(c,"pointercancel",i,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:a,onPointerUp:i,onClick:i}}}let ffe=j.createContext(void 0);function mfe(){return j.useContext(ffe)}function BS(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function zi(t,e,...n){if(t in e){let r=e[t];return typeof r=="function"?r(...n):r}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,zi),s}var lg=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(lg||{}),ed=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ed||{});function Or(){let t=gfe();return j.useCallback(e=>pfe({mergeRefs:t,...e}),[t])}function pfe({ourProps:t,theirProps:e,slot:n,defaultTag:s,features:r,visible:i=!0,name:a,mergeRefs:l}){l=l??yfe;let c=iz(e,t);if(i)return Ab(c,n,s,a,l);let u=r??0;if(u&2){let{static:d=!1,...h}=c;if(d)return Ab(h,n,s,a,l)}if(u&1){let{unmount:d=!0,...h}=c;return zi(d?0:1,{0(){return null},1(){return Ab({...h,hidden:!0,style:{display:"none"}},n,s,a,l)}})}return Ab(c,n,s,a,l)}function Ab(t,e={},n,s,r){let{as:i=n,children:a,refName:l="ref",...c}=s4(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof a=="function"?a(e):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let h={};if(e){let f=!1,m=[];for(let[p,x]of Object.entries(e))typeof x=="boolean"&&(f=!0),x===!0&&m.push(p.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(f){h["data-headlessui-state"]=m.join(" ");for(let p of m)h[`data-${p}`]=""}}if(i===j.Fragment&&(Object.keys(Vh(c)).length>0||Object.keys(Vh(h)).length>0))if(!j.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Vh(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Vh(c)).concat(Object.keys(Vh(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=d.props,m=f==null?void 0:f.className,p=typeof m=="function"?(...y)=>BS(m(...y),c.className):BS(m,c.className),x=p?{className:p}:{},v=iz(d.props,Vh(s4(c,["ref"])));for(let y in h)y in v&&delete h[y];return j.cloneElement(d,Object.assign({},v,h,u,{ref:r(xfe(d),u.ref)},x))}return j.createElement(i,Object.assign({},s4(c,["ref"]),i!==j.Fragment&&u,i!==j.Fragment&&h),d)}function gfe(){let t=j.useRef([]),e=j.useCallback(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)},[]);return(...n)=>{if(!n.every(s=>s==null))return t.current=n,e}}function yfe(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function iz(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let r in s)r.startsWith("on")&&typeof s[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(s[r])):e[r]=s[r];if(e.disabled||e["aria-disabled"])for(let s in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(n[s]=[r=>{var i;return(i=r==null?void 0:r.preventDefault)==null?void 0:i.call(r)}]);for(let s in n)Object.assign(e,{[s](r,...i){let a=n[s];for(let l of a){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;l(r,...i)}}});return e}function az(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let r in s)r.startsWith("on")&&typeof s[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(s[r])):e[r]=s[r];for(let s in n)Object.assign(e,{[s](...r){let i=n[s];for(let a of i)a==null||a(...r)}});return e}function or(t){var e;return Object.assign(j.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Vh(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function s4(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function xfe(t){return Re.version.split(".")[0]>="19"?t.props.ref:t.ref}let bfe="span";var fx=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(fx||{});function vfe(t,e){var n;let{features:s=1,...r}=t,i={ref:e,"aria-hidden":(s&2)===2?!0:(n=r["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Or()({ourProps:i,theirProps:r,slot:{},defaultTag:bfe,name:"Hidden"})}let mx=or(vfe);function oz(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Ed(t){return oz(t)&&"tagName"in t}function Lf(t){return Ed(t)&&"accessKey"in t}function td(t){return Ed(t)&&"tabIndex"in t}function wfe(t){return Ed(t)&&"style"in t}function _fe(t){return Lf(t)&&t.nodeName==="IFRAME"}function Nfe(t){return Lf(t)&&t.nodeName==="INPUT"}let lz=Symbol();function Sfe(t,e=!0){return Object.assign(t,{[lz]:e})}function vi(...t){let e=j.useRef(t);j.useEffect(()=>{e.current=t},[t]);let n=Jt(s=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(s):r.current=s)});return t.every(s=>s==null||(s==null?void 0:s[lz]))?void 0:n}let $6=j.createContext(null);$6.displayName="DescriptionContext";function cz(){let t=j.useContext($6);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,cz),e}return t}function jfe(){let[t,e]=j.useState([]);return[t.length>0?t.join(" "):void 0,j.useMemo(()=>function(n){let s=Jt(i=>(e(a=>[...a,i]),()=>e(a=>{let l=a.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),r=j.useMemo(()=>({register:s,slot:n.slot,name:n.name,props:n.props,value:n.value}),[s,n.slot,n.name,n.props,n.value]);return Re.createElement($6.Provider,{value:r},n.children)},[e])]}let Efe="p";function Afe(t,e){let n=j.useId(),s=mfe(),{id:r=`headlessui-description-${n}`,...i}=t,a=cz(),l=vi(e);Ws(()=>a.register(r),[r,a.register]);let c=s||!1,u=j.useMemo(()=>({...a.slot,disabled:c}),[a.slot,c]),d={ref:l,...a.props,id:r};return Or()({ourProps:d,theirProps:i,slot:u,defaultTag:Efe,name:a.name||"Description"})}let Tfe=or(Afe),Cfe=Object.assign(Tfe,{});var Ma=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ma||{});let kfe=j.createContext(()=>{});function Pfe({value:t,children:e}){return Re.createElement(kfe.Provider,{value:t},e)}let uz=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var Rfe=Object.defineProperty,Ife=(t,e,n)=>e in t?Rfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lfe=(t,e,n)=>(Ife(t,e+"",n),n),dz=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ra=(t,e,n)=>(dz(t,e,"read from private field"),n?n.call(t):e.get(t)),r4=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},dI=(t,e,n,s)=>(dz(t,e,"write to private field"),e.set(t,n),n),sl,U0,z0;let Mfe=class{constructor(e){r4(this,sl,{}),r4(this,U0,new uz(()=>new Set)),r4(this,z0,new Set),Lfe(this,"disposables",Yc()),dI(this,sl,e)}dispose(){this.disposables.dispose()}get state(){return Ra(this,sl)}subscribe(e,n){let s={selector:e,callback:n,current:e(Ra(this,sl))};return Ra(this,z0).add(s),this.disposables.add(()=>{Ra(this,z0).delete(s)})}on(e,n){return Ra(this,U0).get(e).add(n),this.disposables.add(()=>{Ra(this,U0).get(e).delete(n)})}send(e){let n=this.reduce(Ra(this,sl),e);if(n!==Ra(this,sl)){dI(this,sl,n);for(let s of Ra(this,z0)){let r=s.selector(Ra(this,sl));hz(s.current,r)||(s.current=r,s.callback(r))}for(let s of Ra(this,U0).get(e.type))s(Ra(this,sl),e)}}};sl=new WeakMap,U0=new WeakMap,z0=new WeakMap;function hz(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:i4(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:i4(t.entries(),e.entries()):hI(t)&&hI(e)?i4(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function i4(t,e){do{let n=t.next(),s=e.next();if(n.done&&s.done)return!0;if(n.done||s.done||!Object.is(n.value,s.value))return!1}while(!0)}function hI(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var Dfe=Object.defineProperty,Ofe=(t,e,n)=>e in t?Dfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fI=(t,e,n)=>(Ofe(t,typeof e!="symbol"?e+"":e,n),n),Ffe=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Ffe||{});let Bfe={0(t,e){let n=e.id,s=t.stack,r=t.stack.indexOf(n);if(r!==-1){let i=t.stack.slice();return i.splice(r,1),i.push(n),s=i,{...t,stack:s}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,s=t.stack.indexOf(n);if(s===-1)return t;let r=t.stack.slice();return r.splice(s,1),{...t,stack:r}}},Vfe=class fz extends Mfe{constructor(){super(...arguments),fI(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),fI(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new fz({stack:[]})}reduce(e,n){return zi(n.type,Bfe,e,n)}};const mz=new uz(()=>Vfe.new());var pz={exports:{}},gz={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1=j;function Ufe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zfe=typeof Object.is=="function"?Object.is:Ufe,$fe=p1.useSyncExternalStore,qfe=p1.useRef,Hfe=p1.useEffect,Qfe=p1.useMemo,Gfe=p1.useDebugValue;gz.useSyncExternalStoreWithSelector=function(t,e,n,s,r){var i=qfe(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=Qfe(function(){function c(m){if(!u){if(u=!0,d=m,m=s(m),r!==void 0&&a.hasValue){var p=a.value;if(r(p,m))return h=p}return h=m}if(p=h,zfe(d,m))return p;var x=s(m);return r!==void 0&&r(p,x)?(d=m,p):(d=m,h=x)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,s,r]);var l=$fe(t,i[0],i[1]);return Hfe(function(){a.hasValue=!0,a.value=l},[l]),Gfe(l),l};pz.exports=gz;var Wfe=pz.exports;function yz(t,e,n=hz){return Wfe.useSyncExternalStoreWithSelector(Jt(s=>t.subscribe(Yfe,s)),Jt(()=>t.state),Jt(()=>t.state),Jt(e),n)}function Yfe(t){return t}function g1(t,e){let n=j.useId(),s=mz.get(e),[r,i]=yz(s,j.useCallback(a=>[s.selectors.isTop(a,n),s.selectors.inStack(a,n)],[s,n]));return Ws(()=>{if(t)return s.actions.push(n),()=>s.actions.pop(n)},[s,t,n]),t?i?r:!0:!1}let VS=new Map,Sy=new Map;function mI(t){var e;let n=(e=Sy.get(t))!=null?e:0;return Sy.set(t,n+1),n!==0?()=>pI(t):(VS.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>pI(t))}function pI(t){var e;let n=(e=Sy.get(t))!=null?e:1;if(n===1?Sy.delete(t):Sy.set(t,n-1),n!==1)return;let s=VS.get(t);s&&(s["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",s["aria-hidden"]),t.inert=s.inert,VS.delete(t))}function Kfe(t,{allowed:e,disallowed:n}={}){let s=g1(t,"inert-others");Ws(()=>{var r,i;if(!s)return;let a=Yc();for(let c of(r=n==null?void 0:n())!=null?r:[])c&&a.add(mI(c));let l=(i=e==null?void 0:e())!=null?i:[];for(let c of l){if(!c)continue;let u=Bg(c);if(!u)continue;let d=c.parentElement;for(;d&&d!==u.body;){for(let h of d.children)l.some(f=>h.contains(f))||a.add(mI(h));d=d.parentElement}}return a.dispose},[s,e,n])}function Xfe(t,e,n){let s=Eo(r=>{let i=r.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});j.useEffect(()=>{if(!t)return;let r=e===null?null:Lf(e)?e:e.current;if(!r)return;let i=Yc();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>s.current(r));a.observe(r),i.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>s.current(r));a.observe(r),i.add(()=>a.disconnect())}return()=>i.dispose()},[e,s,t])}let rw=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),Jfe=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Zs=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Zs||{}),Jh=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Jh||{}),Zfe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Zfe||{});function eme(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(rw)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function tme(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Jfe)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var xz=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(xz||{});function nme(t,e=0){var n;return t===((n=Bg(t))==null?void 0:n.body)?!1:zi(e,{0(){return t.matches(rw)},1(){let s=t;for(;s!==null;){if(s.matches(rw))return!0;s=s.parentElement}return!1}})}var sme=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(sme||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ac(t){t==null||t.focus({preventScroll:!0})}let rme=["textarea","input"].join(",");function ime(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,rme))!=null?n:!1}function dp(t,e=n=>n){return t.slice().sort((n,s)=>{let r=e(n),i=e(s);if(r===null||i===null)return 0;let a=r.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function wo(t,e,{sorted:n=!0,relativeTo:s=null,skipElements:r=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,a=Array.isArray(t)?n?dp(t):t:e&64?tme(t):eme(t);r.length>0&&a.length>1&&(a=a.filter(m=>!r.some(p=>p!=null&&"current"in p?(p==null?void 0:p.current)===m:p===m))),s=s??i.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(s))-1;if(e&4)return Math.max(0,a.indexOf(s))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,h=a.length,f;do{if(d>=h||d+h<=0)return 0;let m=c+d;if(e&16)m=(m+h)%h;else{if(m<0)return 3;if(m>=h)return 1}f=a[m],f==null||f.focus(u),d+=l}while(f!==i.activeElement);return e&6&&ime(f)&&f.select(),2}function bz(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ame(){return/Android/gi.test(window.navigator.userAgent)}function gI(){return bz()||ame()}function Tb(t,e,n,s){let r=Eo(n);j.useEffect(()=>{if(!t)return;function i(a){r.current(a)}return document.addEventListener(e,i,s),()=>document.removeEventListener(e,i,s)},[t,e,s])}function vz(t,e,n,s){let r=Eo(n);j.useEffect(()=>{if(!t)return;function i(a){r.current(a)}return window.addEventListener(e,i,s),()=>window.removeEventListener(e,i,s)},[t,e,s])}const yI=30;function ome(t,e,n){let s=Eo(n),r=j.useCallback(function(l,c){if(l.defaultPrevented)return;let u=c(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let h of d)if(h!==null&&(h.contains(u)||l.composed&&l.composedPath().includes(h)))return;return!nme(u,xz.Loose)&&u.tabIndex!==-1&&l.preventDefault(),s.current(l,u)},[s,e]),i=j.useRef(null);Tb(t,"pointerdown",l=>{var c,u;gI()||(i.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target)},!0),Tb(t,"pointerup",l=>{if(gI()||!i.current)return;let c=i.current;return i.current=null,r(l,()=>c)},!0);let a=j.useRef({x:0,y:0});Tb(t,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),Tb(t,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=yI||Math.abs(c.y-a.current.y)>=yI))return r(l,()=>td(l.target)?l.target:null)},!0),vz(t,"blur",l=>r(l,()=>_fe(window.document.activeElement)?window.document.activeElement:null),!0)}function U5(...t){return j.useMemo(()=>Bg(...t),[...t])}function wz(t,e,n,s){let r=Eo(n);j.useEffect(()=>{t=t??window;function i(a){r.current(a)}return t.addEventListener(e,i,s),()=>t.removeEventListener(e,i,s)},[t,e,s])}function lme(t,e){return j.useMemo(()=>{var n;if(t.type)return t.type;let s=(n=t.as)!=null?n:"button";if(typeof s=="string"&&s.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function cme(t){return j.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function ume(t,e){let n=t(),s=new Set;return{getSnapshot(){return n},subscribe(r){return s.add(r),()=>s.delete(r)},dispatch(r,...i){let a=e[r].call(n,...i);a&&(n=a,s.forEach(l=>l()))}}}function dme(){let t;return{before({doc:e}){var n;let s=e.documentElement,r=(n=e.defaultView)!=null?n:window;t=Math.max(0,r.innerWidth-s.clientWidth)},after({doc:e,d:n}){let s=e.documentElement,r=Math.max(0,s.clientWidth-s.offsetWidth),i=Math.max(0,t-r);n.style(s,"paddingRight",`${i}px`)}}}function hme(){return bz()?{before({doc:t,d:e,meta:n}){function s(r){return n.containers.flatMap(i=>i()).some(i=>i.contains(r))}e.microTask(()=>{var r;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=Yc();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let i=(r=window.scrollY)!=null?r:window.pageYOffset,a=null;e.addEventListener(t,"click",l=>{if(td(l.target))try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);td(d)&&!s(d)&&(a=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(td(l.target)&&wfe(l.target))if(s(l.target)){let c=l.target;for(;c.parentElement&&s(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(td(l.target)){if(Nfe(l.target))return;if(s(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function fme(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function mme(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Zh=ume(()=>new Map,{PUSH(t,e){var n;let s=(n=this.get(t))!=null?n:{doc:t,count:0,d:Yc(),meta:new Set};return s.count++,s.meta.add(e),this.set(t,s),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let s={doc:t,d:e,meta:mme(n)},r=[hme(),dme(),fme()];r.forEach(({before:i})=>i==null?void 0:i(s)),r.forEach(({after:i})=>i==null?void 0:i(s))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Zh.subscribe(()=>{let t=Zh.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let s=e.get(n.doc)==="hidden",r=n.count!==0;(r&&!s||!r&&s)&&Zh.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Zh.dispatch("TEARDOWN",n)}});function pme(t,e,n=()=>({containers:[]})){let s=cme(Zh),r=e?s.get(e):void 0,i=r?r.count>0:!1;return Ws(()=>{if(!(!e||!t))return Zh.dispatch("PUSH",e,n),()=>Zh.dispatch("POP",e,n)},[t,e]),i}function gme(t,e,n=()=>[document.body]){let s=g1(t,"scroll-lock");pme(s,e,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function yme(t=0){let[e,n]=j.useState(t),s=j.useCallback(c=>n(c),[e]),r=j.useCallback(c=>n(u=>u|c),[e]),i=j.useCallback(c=>(e&c)===c,[e]),a=j.useCallback(c=>n(u=>u&~c),[n]),l=j.useCallback(c=>n(u=>u^c),[n]);return{flags:e,setFlag:s,addFlag:r,hasFlag:i,removeFlag:a,toggleFlag:l}}var xme={},xI,bI;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((xI=process==null?void 0:xme)==null?void 0:xI.NODE_ENV)==="test"&&typeof((bI=Element==null?void 0:Element.prototype)==null?void 0:bI.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var bme=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(bme||{});function vme(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function wme(t,e,n,s){let[r,i]=j.useState(n),{hasFlag:a,addFlag:l,removeFlag:c}=yme(t&&r?3:0),u=j.useRef(!1),d=j.useRef(!1),h=V5();return Ws(()=>{var f;if(t){if(n&&i(!0),!e){n&&l(3);return}return(f=s==null?void 0:s.start)==null||f.call(s,n),_me(e,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){d.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var m;d.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,c(7),n||i(!1),(m=s==null?void 0:s.end)==null||m.call(s,n))}})}},[t,n,e,h]),t?[r,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function _me(t,{prepare:e,run:n,done:s,inFlight:r}){let i=Yc();return Sme(t,{prepare:e,inFlight:r}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(Nme(t,s))})}),i.dispose}function Nme(t,e){var n,s;let r=Yc();if(!t)return r.dispose;let i=!1;r.add(()=>{i=!0});let a=(s=(n=t.getAnimations)==null?void 0:n.call(t).filter(l=>l instanceof CSSTransition))!=null?s:[];return a.length===0?(e(),r.dispose):(Promise.allSettled(a.map(l=>l.finished)).then(()=>{i||e()}),r.dispose)}function Sme(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let s=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=s}function q6(t,e){let n=j.useRef([]),s=Jt(t);j.useEffect(()=>{let r=[...n.current];for(let[i,a]of e.entries())if(n.current[i]!==a){let l=s(e,r);return n.current=e,l}},[s,...e])}let z5=j.createContext(null);z5.displayName="OpenClosedContext";var Ao=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ao||{});function $5(){return j.useContext(z5)}function jme({value:t,children:e}){return Re.createElement(z5.Provider,{value:t},e)}function Eme({children:t}){return Re.createElement(z5.Provider,{value:null},t)}function Ame(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Hu=[];Ame(()=>{function t(e){if(!td(e.target)||e.target===document.body||Hu[0]===e.target)return;let n=e.target;n=n.closest(rw),Hu.unshift(n??e.target),Hu=Hu.filter(s=>s!=null&&s.isConnected),Hu.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function _z(t){let e=Jt(t),n=j.useRef(!1);j.useEffect(()=>(n.current=!1,()=>{n.current=!0,m1(()=>{n.current&&e()})}),[e])}function Tme(){let t=typeof document>"u";return"useSyncExternalStore"in kC?(e=>e.useSyncExternalStore)(kC)(()=>()=>{},()=>!1,()=>!t):!1}function y1(){let t=Tme(),[e,n]=j.useState(pf.isHandoffComplete);return e&&pf.isHandoffComplete===!1&&n(!1),j.useEffect(()=>{e!==!0&&n(!0)},[e]),j.useEffect(()=>pf.handoff(),[]),t?!1:e}let Nz=j.createContext(!1);function Cme(){return j.useContext(Nz)}function vI(t){return Re.createElement(Nz.Provider,{value:t.force},t.children)}function kme(t){let e=Cme(),n=j.useContext(jz),[s,r]=j.useState(()=>{var i;if(!e&&n!==null)return(i=n.current)!=null?i:null;if(pf.isServer)return null;let a=t==null?void 0:t.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let l=t.createElement("div");return l.setAttribute("id","headlessui-portal-root"),t.body.appendChild(l)});return j.useEffect(()=>{s!==null&&(t!=null&&t.body.contains(s)||t==null||t.body.appendChild(s))},[s,t]),j.useEffect(()=>{e||n!==null&&r(n.current)},[n,r,e]),s}let Sz=j.Fragment,Pme=or(function(t,e){let{ownerDocument:n=null,...s}=t,r=j.useRef(null),i=vi(Sfe(m=>{r.current=m}),e),a=U5(r),l=n??a,c=kme(l),[u]=j.useState(()=>{var m;return pf.isServer?null:(m=l==null?void 0:l.createElement("div"))!=null?m:null}),d=j.useContext(US),h=y1();Ws(()=>{!c||!u||c.contains(u)||(u.setAttribute("data-headlessui-portal",""),c.appendChild(u))},[c,u]),Ws(()=>{if(u&&d)return d.register(u)},[d,u]),_z(()=>{var m;!c||!u||(oz(u)&&c.contains(u)&&c.removeChild(u),c.childNodes.length<=0&&((m=c.parentElement)==null||m.removeChild(c)))});let f=Or();return h?!c||!u?null:yM.createPortal(f({ourProps:{ref:i},theirProps:s,slot:{},defaultTag:Sz,name:"Portal"}),u):null});function Rme(t,e){let n=vi(e),{enabled:s=!0,ownerDocument:r,...i}=t,a=Or();return s?Re.createElement(Pme,{...i,ownerDocument:r,ref:n}):a({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Sz,name:"Portal"})}let Ime=j.Fragment,jz=j.createContext(null);function Lme(t,e){let{target:n,...s}=t,r={ref:vi(e)},i=Or();return Re.createElement(jz.Provider,{value:n},i({ourProps:r,theirProps:s,defaultTag:Ime,name:"Popover.Group"}))}let US=j.createContext(null);function Mme(){let t=j.useContext(US),e=j.useRef([]),n=Jt(i=>(e.current.push(i),t&&t.register(i),()=>s(i))),s=Jt(i=>{let a=e.current.indexOf(i);a!==-1&&e.current.splice(a,1),t&&t.unregister(i)}),r=j.useMemo(()=>({register:n,unregister:s,portals:e}),[n,s,e]);return[e,j.useMemo(()=>function({children:i}){return Re.createElement(US.Provider,{value:r},i)},[r])]}let Dme=or(Rme),Ez=or(Lme),Ome=Object.assign(Dme,{Group:Ez});function Fme(t,e=typeof document<"u"?document.defaultView:null,n){let s=g1(t,"escape");wz(e,"keydown",r=>{s&&(r.defaultPrevented||r.key===Ma.Escape&&n(r))})}function Bme(){var t;let[e]=j.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,s]=j.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Ws(()=>{if(!e)return;function r(i){s(i.matches)}return e.addEventListener("change",r),()=>e.removeEventListener("change",r)},[e]),n}function Vme({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let s=U5(n),r=Jt(()=>{var i,a;let l=[];for(let c of t)c!==null&&(Ed(c)?l.push(c):"current"in c&&Ed(c.current)&&l.push(c.current));if(e!=null&&e.current)for(let c of e.current)l.push(c);for(let c of(i=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&Ed(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((a=n==null?void 0:n.getRootNode())==null?void 0:a.host))||l.some(u=>c.contains(u))||l.push(c));return l});return{resolveContainers:r,contains:Jt(i=>r().some(a=>a.contains(i)))}}let Az=j.createContext(null);function wI({children:t,node:e}){let[n,s]=j.useState(null),r=Tz(e??n);return Re.createElement(Az.Provider,{value:r},t,r===null&&Re.createElement(mx,{features:fx.Hidden,ref:i=>{var a,l;if(i){for(let c of(l=(a=Bg(i))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&Ed(c)&&c!=null&&c.contains(i)){s(c);break}}}}))}function Tz(t=null){var e;return(e=j.useContext(Az))!=null?e:t}function q5(){let t=j.useRef(!1);return Ws(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var $0=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))($0||{});function Ume(){let t=j.useRef(0);return vz(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Cz(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Ed(n.current)&&e.add(n.current);return e}let zme="div";var Hh=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Hh||{});function $me(t,e){let n=j.useRef(null),s=vi(n,e),{initialFocus:r,initialFocusFallback:i,containers:a,features:l=15,...c}=t;y1()||(l=0);let u=U5(n);Gme(l,{ownerDocument:u});let d=Wme(l,{ownerDocument:u,container:n,initialFocus:r,initialFocusFallback:i});Yme(l,{ownerDocument:u,container:n,containers:a,previousActiveElement:d});let h=Ume(),f=Jt(_=>{if(!Lf(n.current))return;let N=n.current;(P=>P())(()=>{zi(h.current,{[$0.Forwards]:()=>{wo(N,Zs.First,{skipElements:[_.relatedTarget,i]})},[$0.Backwards]:()=>{wo(N,Zs.Last,{skipElements:[_.relatedTarget,i]})}})})}),m=g1(!!(l&2),"focus-trap#tab-lock"),p=V5(),x=j.useRef(!1),v={ref:s,onKeyDown(_){_.key=="Tab"&&(x.current=!0,p.requestAnimationFrame(()=>{x.current=!1}))},onBlur(_){if(!(l&4))return;let N=Cz(a);Lf(n.current)&&N.add(n.current);let P=_.relatedTarget;td(P)&&P.dataset.headlessuiFocusGuard!=="true"&&(kz(N,P)||(x.current?wo(n.current,zi(h.current,{[$0.Forwards]:()=>Zs.Next,[$0.Backwards]:()=>Zs.Previous})|Zs.WrapAround,{relativeTo:_.target}):td(_.target)&&Ac(_.target)))}},y=Or();return Re.createElement(Re.Fragment,null,m&&Re.createElement(mx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:fx.Focusable}),y({ourProps:v,theirProps:c,defaultTag:zme,name:"FocusTrap"}),m&&Re.createElement(mx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:fx.Focusable}))}let qme=or($me),Hme=Object.assign(qme,{features:Hh});function Qme(t=!0){let e=j.useRef(Hu.slice());return q6(([n],[s])=>{s===!0&&n===!1&&m1(()=>{e.current.splice(0)}),s===!1&&n===!0&&(e.current=Hu.slice())},[t,Hu,e]),Jt(()=>{var n;return(n=e.current.find(s=>s!=null&&s.isConnected))!=null?n:null})}function Gme(t,{ownerDocument:e}){let n=!!(t&8),s=Qme(n);q6(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Ac(s())},[n]),_z(()=>{n&&Ac(s())})}function Wme(t,{ownerDocument:e,container:n,initialFocus:s,initialFocusFallback:r}){let i=j.useRef(null),a=g1(!!(t&1),"focus-trap#initial-focus"),l=q5();return q6(()=>{if(t===0)return;if(!a){r!=null&&r.current&&Ac(r.current);return}let c=n.current;c&&m1(()=>{if(!l.current)return;let u=e==null?void 0:e.activeElement;if(s!=null&&s.current){if((s==null?void 0:s.current)===u){i.current=u;return}}else if(c.contains(u)){i.current=u;return}if(s!=null&&s.current)Ac(s.current);else{if(t&16){if(wo(c,Zs.First|Zs.AutoFocus)!==Jh.Error)return}else if(wo(c,Zs.First)!==Jh.Error)return;if(r!=null&&r.current&&(Ac(r.current),(e==null?void 0:e.activeElement)===r.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=e==null?void 0:e.activeElement})},[r,a,t]),i}function Yme(t,{ownerDocument:e,container:n,containers:s,previousActiveElement:r}){let i=q5(),a=!!(t&4);wz(e==null?void 0:e.defaultView,"focus",l=>{if(!a||!i.current)return;let c=Cz(s);Lf(n.current)&&c.add(n.current);let u=r.current;if(!u)return;let d=l.target;Lf(d)?kz(c,d)?(r.current=d,Ac(d)):(l.preventDefault(),l.stopPropagation(),Ac(u)):Ac(r.current)},!0)}function kz(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Pz(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:Iz)!==j.Fragment||Re.Children.count(t.children)===1}let H5=j.createContext(null);H5.displayName="TransitionContext";var Kme=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Kme||{});function Xme(){let t=j.useContext(H5);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Jme(){let t=j.useContext(Q5);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Q5=j.createContext(null);Q5.displayName="NestingContext";function G5(t){return"children"in t?G5(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Rz(t,e){let n=Eo(t),s=j.useRef([]),r=q5(),i=V5(),a=Jt((m,p=ed.Hidden)=>{let x=s.current.findIndex(({el:v})=>v===m);x!==-1&&(zi(p,{[ed.Unmount](){s.current.splice(x,1)},[ed.Hidden](){s.current[x].state="hidden"}}),i.microTask(()=>{var v;!G5(s)&&r.current&&((v=n.current)==null||v.call(n))}))}),l=Jt(m=>{let p=s.current.find(({el:x})=>x===m);return p?p.state!=="visible"&&(p.state="visible"):s.current.push({el:m,state:"visible"}),()=>a(m,ed.Unmount)}),c=j.useRef([]),u=j.useRef(Promise.resolve()),d=j.useRef({enter:[],leave:[]}),h=Jt((m,p,x)=>{c.current.splice(0),e&&(e.chains.current[p]=e.chains.current[p].filter(([v])=>v!==m)),e==null||e.chains.current[p].push([m,new Promise(v=>{c.current.push(v)})]),e==null||e.chains.current[p].push([m,new Promise(v=>{Promise.all(d.current[p].map(([y,_])=>_)).then(()=>v())})]),p==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>x(p)):x(p)}),f=Jt((m,p,x)=>{Promise.all(d.current[p].splice(0).map(([v,y])=>y)).then(()=>{var v;(v=c.current.shift())==null||v()}).then(()=>x(p))});return j.useMemo(()=>({children:s,register:l,unregister:a,onStart:h,onStop:f,wait:u,chains:d}),[l,a,s,h,f,d,u])}let Iz=j.Fragment,Lz=lg.RenderStrategy;function Zme(t,e){var n,s;let{transition:r=!0,beforeEnter:i,afterEnter:a,beforeLeave:l,afterLeave:c,enter:u,enterFrom:d,enterTo:h,entered:f,leave:m,leaveFrom:p,leaveTo:x,...v}=t,[y,_]=j.useState(null),N=j.useRef(null),P=Pz(t),I=vi(...P?[N,e,_]:e===null?[]:[e]),D=(n=v.unmount)==null||n?ed.Unmount:ed.Hidden,{show:C,appear:w,initial:A}=Xme(),[R,E]=j.useState(C?"visible":"hidden"),T=Jme(),{register:L,unregister:z}=T;Ws(()=>L(N),[L,N]),Ws(()=>{if(D===ed.Hidden&&N.current){if(C&&R!=="visible"){E("visible");return}return zi(R,{hidden:()=>z(N),visible:()=>L(N)})}},[R,N,L,z,C,D]);let $=y1();Ws(()=>{if(P&&$&&R==="visible"&&N.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[N,R,$,P]);let O=A&&!w,F=w&&C&&A,Q=j.useRef(!1),V=Rz(()=>{Q.current||(E("hidden"),z(N))},T),W=Jt(le=>{Q.current=!0;let ue=le?"enter":"leave";V.onStart(N,ue,de=>{de==="enter"?i==null||i():de==="leave"&&(l==null||l())})}),Z=Jt(le=>{let ue=le?"enter":"leave";Q.current=!1,V.onStop(N,ue,de=>{de==="enter"?a==null||a():de==="leave"&&(c==null||c())}),ue==="leave"&&!G5(V)&&(E("hidden"),z(N))});j.useEffect(()=>{P&&r||(W(C),Z(C))},[C,P,r]);let U=!(!r||!P||!$||O),[,G]=wme(U,y,C,{start:W,end:Z}),Y=Vh({ref:I,className:((s=BS(v.className,F&&u,F&&d,G.enter&&u,G.enter&&G.closed&&d,G.enter&&!G.closed&&h,G.leave&&m,G.leave&&!G.closed&&p,G.leave&&G.closed&&x,!G.transition&&C&&f))==null?void 0:s.trim())||void 0,...vme(G)}),J=0;R==="visible"&&(J|=Ao.Open),R==="hidden"&&(J|=Ao.Closed),C&&R==="hidden"&&(J|=Ao.Opening),!C&&R==="visible"&&(J|=Ao.Closing);let re=Or();return Re.createElement(Q5.Provider,{value:V},Re.createElement(jme,{value:J},re({ourProps:Y,theirProps:v,defaultTag:Iz,features:Lz,visible:R==="visible",name:"Transition.Child"})))}function epe(t,e){let{show:n,appear:s=!1,unmount:r=!0,...i}=t,a=j.useRef(null),l=Pz(t),c=vi(...l?[a,e]:e===null?[]:[e]);y1();let u=$5();if(n===void 0&&u!==null&&(n=(u&Ao.Open)===Ao.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,h]=j.useState(n?"visible":"hidden"),f=Rz(()=>{n||h("hidden")}),[m,p]=j.useState(!0),x=j.useRef([n]);Ws(()=>{m!==!1&&x.current[x.current.length-1]!==n&&(x.current.push(n),p(!1))},[x,n]);let v=j.useMemo(()=>({show:n,appear:s,initial:m}),[n,s,m]);Ws(()=>{n?h("visible"):!G5(f)&&a.current!==null&&h("hidden")},[n,f]);let y={unmount:r},_=Jt(()=>{var I;m&&p(!1),(I=t.beforeEnter)==null||I.call(t)}),N=Jt(()=>{var I;m&&p(!1),(I=t.beforeLeave)==null||I.call(t)}),P=Or();return Re.createElement(Q5.Provider,{value:f},Re.createElement(H5.Provider,{value:v},P({ourProps:{...y,as:j.Fragment,children:Re.createElement(Mz,{ref:c,...y,...i,beforeEnter:_,beforeLeave:N})},theirProps:{},defaultTag:j.Fragment,features:Lz,visible:d==="visible",name:"Transition"})))}function tpe(t,e){let n=j.useContext(H5)!==null,s=$5()!==null;return Re.createElement(Re.Fragment,null,!n&&s?Re.createElement(zS,{ref:e,...t}):Re.createElement(Mz,{ref:e,...t}))}let zS=or(epe),Mz=or(Zme),H6=or(tpe),npe=Object.assign(zS,{Child:H6,Root:zS});var spe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(spe||{}),rpe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(rpe||{});let ipe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Q6=j.createContext(null);Q6.displayName="DialogContext";function W5(t){let e=j.useContext(Q6);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,W5),n}return e}function ape(t,e){return zi(e.type,ipe,t,e)}let _I=or(function(t,e){let n=j.useId(),{id:s=`headlessui-dialog-${n}`,open:r,onClose:i,initialFocus:a,role:l="dialog",autoFocus:c=!0,__demoMode:u=!1,unmount:d=!1,...h}=t,f=j.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(f.current||(f.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=$5();r===void 0&&m!==null&&(r=(m&Ao.Open)===Ao.Open);let p=j.useRef(null),x=vi(p,e),v=U5(p),y=r?0:1,[_,N]=j.useReducer(ape,{titleId:null,descriptionId:null,panelRef:j.createRef()}),P=Jt(()=>i(!1)),I=Jt(G=>N({type:0,id:G})),D=y1()?y===0:!1,[C,w]=Mme(),A={get current(){var G;return(G=_.panelRef.current)!=null?G:p.current}},R=Tz(),{resolveContainers:E}=Vme({mainTreeNode:R,portals:C,defaultContainers:[A]}),T=m!==null?(m&Ao.Closing)===Ao.Closing:!1;Kfe(u||T?!1:D,{allowed:Jt(()=>{var G,Y;return[(Y=(G=p.current)==null?void 0:G.closest("[data-headlessui-portal]"))!=null?Y:null]}),disallowed:Jt(()=>{var G;return[(G=R==null?void 0:R.closest("body > *:not(#headlessui-portal-root)"))!=null?G:null]})});let L=mz.get(null);Ws(()=>{if(D)return L.actions.push(s),()=>L.actions.pop(s)},[L,s,D]);let z=yz(L,j.useCallback(G=>L.selectors.isTop(G,s),[L,s]));ome(z,E,G=>{G.preventDefault(),P()}),Fme(z,v==null?void 0:v.defaultView,G=>{G.preventDefault(),G.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),P()}),gme(u||T?!1:D,v,E),Xfe(D,p,P);let[$,O]=jfe(),F=j.useMemo(()=>[{dialogState:y,close:P,setTitleId:I,unmount:d},_],[y,_,P,I,d]),Q=j.useMemo(()=>({open:y===0}),[y]),V={ref:x,id:s,role:l,tabIndex:-1,"aria-modal":u?void 0:y===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":$,unmount:d},W=!Bme(),Z=Hh.None;D&&!u&&(Z|=Hh.RestoreFocus,Z|=Hh.TabLock,c&&(Z|=Hh.AutoFocus),W&&(Z|=Hh.InitialFocus));let U=Or();return Re.createElement(Eme,null,Re.createElement(vI,{force:!0},Re.createElement(Ome,null,Re.createElement(Q6.Provider,{value:F},Re.createElement(Ez,{target:p},Re.createElement(vI,{force:!1},Re.createElement(O,{slot:Q},Re.createElement(w,null,Re.createElement(Hme,{initialFocus:a,initialFocusFallback:p,containers:E,features:Z},Re.createElement(Pfe,{value:P},U({ourProps:V,theirProps:h,slot:Q,defaultTag:ope,features:lpe,visible:y===0,name:"Dialog"})))))))))))}),ope="div",lpe=lg.RenderStrategy|lg.Static;function cpe(t,e){let{transition:n=!1,open:s,...r}=t,i=$5(),a=t.hasOwnProperty("open")||i!==null,l=t.hasOwnProperty("onClose");if(!a&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(s!==void 0||n)&&!r.static?Re.createElement(wI,null,Re.createElement(npe,{show:s,transition:n,unmount:r.unmount},Re.createElement(_I,{ref:e,...r}))):Re.createElement(wI,null,Re.createElement(_I,{ref:e,open:s,...r}))}let upe="div";function dpe(t,e){let n=j.useId(),{id:s=`headlessui-dialog-panel-${n}`,transition:r=!1,...i}=t,[{dialogState:a,unmount:l},c]=W5("Dialog.Panel"),u=vi(e,c.panelRef),d=j.useMemo(()=>({open:a===0}),[a]),h=Jt(v=>{v.stopPropagation()}),f={ref:u,id:s,onClick:h},m=r?H6:j.Fragment,p=r?{unmount:l}:{},x=Or();return Re.createElement(m,{...p},x({ourProps:f,theirProps:i,slot:d,defaultTag:upe,name:"Dialog.Panel"}))}let hpe="div";function fpe(t,e){let{transition:n=!1,...s}=t,[{dialogState:r,unmount:i}]=W5("Dialog.Backdrop"),a=j.useMemo(()=>({open:r===0}),[r]),l={ref:e,"aria-hidden":!0},c=n?H6:j.Fragment,u=n?{unmount:i}:{},d=Or();return Re.createElement(c,{...u},d({ourProps:l,theirProps:s,slot:a,defaultTag:hpe,name:"Dialog.Backdrop"}))}let mpe="h2";function ppe(t,e){let n=j.useId(),{id:s=`headlessui-dialog-title-${n}`,...r}=t,[{dialogState:i,setTitleId:a}]=W5("Dialog.Title"),l=vi(e);j.useEffect(()=>(a(s),()=>a(null)),[s,a]);let c=j.useMemo(()=>({open:i===0}),[i]),u={ref:l,id:s};return Or()({ourProps:u,theirProps:r,slot:c,defaultTag:mpe,name:"Dialog.Title"})}let gpe=or(cpe),ype=or(dpe);or(fpe);let xpe=or(ppe),On=Object.assign(gpe,{Panel:ype,Title:xpe,Description:Cfe});function bpe({onFocus:t}){let[e,n]=j.useState(!0),s=q5();return e?Re.createElement(mx,{as:"button",type:"button",features:fx.Focusable,onFocus:r=>{r.preventDefault();let i,a=50;function l(){if(a--<=0){i&&cancelAnimationFrame(i);return}if(t()){if(cancelAnimationFrame(i),!s.current)return;n(!1);return}i=requestAnimationFrame(l)}i=requestAnimationFrame(l)}}):null}const Dz=j.createContext(null);function vpe(){return{groups:new Map,get(t,e){var n;let s=this.groups.get(t);s||(s=new Map,this.groups.set(t,s));let r=(n=s.get(e))!=null?n:0;s.set(e,r+1);let i=Array.from(s.keys()).indexOf(e);function a(){let l=s.get(e);l>1?s.set(e,l-1):s.delete(e)}return[i,a]}}}function wpe({children:t}){let e=j.useRef(vpe());return j.createElement(Dz.Provider,{value:e},t)}function Oz(t){let e=j.useContext(Dz);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let n=j.useId(),[s,r]=e.current.get(t,n);return j.useEffect(()=>r,[]),s}var _pe=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(_pe||{}),Npe=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(Npe||{}),Spe=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(Spe||{});let jpe={0(t,e){var n;let s=dp(t.tabs,d=>d.current),r=dp(t.panels,d=>d.current),i=s.filter(d=>{var h;return!((h=d.current)!=null&&h.hasAttribute("disabled"))}),a={...t,tabs:s,panels:r};if(e.index<0||e.index>s.length-1){let d=zi(Math.sign(e.index-t.selectedIndex),{[-1]:()=>1,0:()=>zi(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return a;let h=zi(d,{0:()=>s.indexOf(i[0]),1:()=>s.indexOf(i[i.length-1])});return{...a,selectedIndex:h===-1?t.selectedIndex:h}}let l=s.slice(0,e.index),c=[...s.slice(e.index),...l].find(d=>i.includes(d));if(!c)return a;let u=(n=s.indexOf(c))!=null?n:t.selectedIndex;return u===-1&&(u=t.selectedIndex),{...a,selectedIndex:u}},1(t,e){if(t.tabs.includes(e.tab))return t;let n=t.tabs[t.selectedIndex],s=dp([...t.tabs,e.tab],i=>i.current),r=t.selectedIndex;return t.info.current.isControlled||(r=s.indexOf(n),r===-1&&(r=t.selectedIndex)),{...t,tabs:s,selectedIndex:r}},2(t,e){return{...t,tabs:t.tabs.filter(n=>n!==e.tab)}},3(t,e){return t.panels.includes(e.panel)?t:{...t,panels:dp([...t.panels,e.panel],n=>n.current)}},4(t,e){return{...t,panels:t.panels.filter(n=>n!==e.panel)}}},G6=j.createContext(null);G6.displayName="TabsDataContext";function cg(t){let e=j.useContext(G6);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,cg),n}return e}let W6=j.createContext(null);W6.displayName="TabsActionsContext";function Y6(t){let e=j.useContext(W6);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Y6),n}return e}function Epe(t,e){return zi(e.type,jpe,t,e)}let Ape="div";function Tpe(t,e){let{defaultIndex:n=0,vertical:s=!1,manual:r=!1,onChange:i,selectedIndex:a=null,...l}=t;const c=s?"vertical":"horizontal",u=r?"manual":"auto";let d=a!==null,h=Eo({isControlled:d}),f=vi(e),[m,p]=j.useReducer(Epe,{info:h,selectedIndex:a??n,tabs:[],panels:[]}),x=j.useMemo(()=>({selectedIndex:m.selectedIndex}),[m.selectedIndex]),v=Eo(i||(()=>{})),y=Eo(m.tabs),_=j.useMemo(()=>({orientation:c,activation:u,...m}),[c,u,m]),N=Jt(R=>(p({type:1,tab:R}),()=>p({type:2,tab:R}))),P=Jt(R=>(p({type:3,panel:R}),()=>p({type:4,panel:R}))),I=Jt(R=>{D.current!==R&&v.current(R),d||p({type:0,index:R})}),D=Eo(d?t.selectedIndex:m.selectedIndex),C=j.useMemo(()=>({registerTab:N,registerPanel:P,change:I}),[]);Ws(()=>{p({type:0,index:a??n})},[a]),Ws(()=>{if(D.current===void 0||m.tabs.length<=0)return;let R=dp(m.tabs,E=>E.current);R.some((E,T)=>m.tabs[T]!==E)&&I(R.indexOf(m.tabs[D.current]))});let w={ref:f},A=Or();return Re.createElement(wpe,null,Re.createElement(W6.Provider,{value:C},Re.createElement(G6.Provider,{value:_},_.tabs.length<=0&&Re.createElement(bpe,{onFocus:()=>{var R,E;for(let T of y.current)if(((R=T.current)==null?void 0:R.tabIndex)===0)return(E=T.current)==null||E.focus(),!0;return!1}}),A({ourProps:w,theirProps:l,slot:x,defaultTag:Ape,name:"Tabs"}))))}let Cpe="div";function kpe(t,e){let{orientation:n,selectedIndex:s}=cg("Tab.List"),r=vi(e),i=j.useMemo(()=>({selectedIndex:s}),[s]),a=t,l={ref:r,role:"tablist","aria-orientation":n};return Or()({ourProps:l,theirProps:a,slot:i,defaultTag:Cpe,name:"Tabs.List"})}let Ppe="button";function Rpe(t,e){var n,s;let r=j.useId(),{id:i=`headlessui-tabs-tab-${r}`,disabled:a=!1,autoFocus:l=!1,...c}=t,{orientation:u,activation:d,selectedIndex:h,tabs:f,panels:m}=cg("Tab"),p=Y6("Tab"),x=cg("Tab"),[v,y]=j.useState(null),_=j.useRef(null),N=vi(_,e,y);Ws(()=>p.registerTab(_),[p,_]);let P=Oz("tabs"),I=f.indexOf(_);I===-1&&(I=P);let D=I===h,C=Jt(W=>{var Z;let U=W();if(U===Jh.Success&&d==="auto"){let G=(Z=Bg(_))==null?void 0:Z.activeElement,Y=x.tabs.findIndex(J=>J.current===G);Y!==-1&&p.change(Y)}return U}),w=Jt(W=>{let Z=f.map(U=>U.current).filter(Boolean);if(W.key===Ma.Space||W.key===Ma.Enter){W.preventDefault(),W.stopPropagation(),p.change(I);return}switch(W.key){case Ma.Home:case Ma.PageUp:return W.preventDefault(),W.stopPropagation(),C(()=>wo(Z,Zs.First));case Ma.End:case Ma.PageDown:return W.preventDefault(),W.stopPropagation(),C(()=>wo(Z,Zs.Last))}if(C(()=>zi(u,{vertical(){return W.key===Ma.ArrowUp?wo(Z,Zs.Previous|Zs.WrapAround):W.key===Ma.ArrowDown?wo(Z,Zs.Next|Zs.WrapAround):Jh.Error},horizontal(){return W.key===Ma.ArrowLeft?wo(Z,Zs.Previous|Zs.WrapAround):W.key===Ma.ArrowRight?wo(Z,Zs.Next|Zs.WrapAround):Jh.Error}}))===Jh.Success)return W.preventDefault()}),A=j.useRef(!1),R=Jt(()=>{var W;A.current||(A.current=!0,(W=_.current)==null||W.focus({preventScroll:!0}),p.change(I),m1(()=>{A.current=!1}))}),E=Jt(W=>{W.preventDefault()}),{isFocusVisible:T,focusProps:L}=rz({autoFocus:l}),{isHovered:z,hoverProps:$}=afe({isDisabled:a}),{pressed:O,pressProps:F}=hfe({disabled:a}),Q=j.useMemo(()=>({selected:D,hover:z,active:O,focus:T,autofocus:l,disabled:a}),[D,z,T,O,l,a]),V=az({ref:N,onKeyDown:w,onMouseDown:E,onClick:R,id:i,role:"tab",type:lme(t,v),"aria-controls":(s=(n=m[I])==null?void 0:n.current)==null?void 0:s.id,"aria-selected":D,tabIndex:D?0:-1,disabled:a||void 0,autoFocus:l},L,$,F);return Or()({ourProps:V,theirProps:c,slot:Q,defaultTag:Ppe,name:"Tabs.Tab"})}let Ipe="div";function Lpe(t,e){let{selectedIndex:n}=cg("Tab.Panels"),s=vi(e),r=j.useMemo(()=>({selectedIndex:n}),[n]),i=t,a={ref:s};return Or()({ourProps:a,theirProps:i,slot:r,defaultTag:Ipe,name:"Tabs.Panels"})}let Mpe="div",Dpe=lg.RenderStrategy|lg.Static;function Ope(t,e){var n,s,r,i;let a=j.useId(),{id:l=`headlessui-tabs-panel-${a}`,tabIndex:c=0,...u}=t,{selectedIndex:d,tabs:h,panels:f}=cg("Tab.Panel"),m=Y6("Tab.Panel"),p=j.useRef(null),x=vi(p,e);Ws(()=>m.registerPanel(p),[m,p]);let v=Oz("panels"),y=f.indexOf(p);y===-1&&(y=v);let _=y===d,{isFocusVisible:N,focusProps:P}=rz(),I=j.useMemo(()=>({selected:_,focus:N}),[_,N]),D=az({ref:x,id:l,role:"tabpanel","aria-labelledby":(s=(n=h[y])==null?void 0:n.current)==null?void 0:s.id,tabIndex:_?c:-1},P),C=Or();return!_&&((r=u.unmount)==null||r)&&!((i=u.static)!=null&&i)?Re.createElement(mx,{"aria-hidden":"true",...D}):C({ourProps:D,theirProps:u,slot:I,defaultTag:Mpe,features:Dpe,visible:_,name:"Tabs.Panel"})}let Fpe=or(Rpe),Bpe=or(Tpe),Vpe=or(kpe),Upe=or(Lpe),zpe=or(Ope),Ah=Object.assign(Fpe,{Group:Bpe,List:Vpe,Panels:Upe,Panel:zpe});function $pe({title:t,titleId:e,...n},s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const qpe=j.forwardRef($pe);function Hpe({title:t,titleId:e,...n},s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const Qpe=j.forwardRef(Hpe);function Gpe({title:t,titleId:e,...n},s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const gf=j.forwardRef(Gpe);function Wpe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Wpe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var x1=t=>typeof t=="number"&&!isNaN(t),Mf=t=>typeof t=="string",$c=t=>typeof t=="function",Ype=t=>Mf(t)||x1(t),$S=t=>Mf(t)||$c(t)?t:null,Kpe=(t,e)=>t===!1||x1(t)&&t>0?t:e,qS=t=>j.isValidElement(t)||Mf(t)||$c(t)||x1(t);function Xpe(t,e,n=300){let{scrollHeight:s,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=s+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function Jpe({enter:t,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:r=300}){return function({children:i,position:a,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:h}){let f=n?`${t}--${a}`:t,m=n?`${e}--${a}`:e,p=j.useRef(0);return j.useLayoutEffect(()=>{let x=u.current,v=f.split(" "),y=_=>{_.target===u.current&&(h(),x.removeEventListener("animationend",y),x.removeEventListener("animationcancel",y),p.current===0&&_.type!=="animationcancel"&&x.classList.remove(...v))};x.classList.add(...v),x.addEventListener("animationend",y),x.addEventListener("animationcancel",y)},[]),j.useEffect(()=>{let x=u.current,v=()=>{x.removeEventListener("animationend",v),s?Xpe(x,c,r):c()};d||(l?v():(p.current=1,x.className+=` ${m}`,x.addEventListener("animationend",v)))},[d]),Re.createElement(Re.Fragment,null,i)}}function NI(t,e){return{content:Fz(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function Fz(t,e,n=!1){return j.isValidElement(t)&&!Mf(t.type)?j.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):$c(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function Zpe({closeToast:t,theme:e,ariaLabel:n="close"}){return Re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),t(!0)},"aria-label":n},Re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ege({delay:t,isRunning:e,closeToast:n,type:s="default",hide:r,className:i,controlledProgress:a,progress:l,rtl:c,isIn:u,theme:d}){let h=r||a&&l===0,f={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};a&&(f.transform=`scaleX(${l})`);let m=mf("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":c}),p=$c(i)?i({rtl:c,type:s,defaultClassName:m}):mf(m,i),x={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{u&&n()}};return Re.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},Re.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${s}`}),Re.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:p,style:f,...x}))}var tge=1,Bz=()=>`${tge++}`;function nge(t,e,n){let s=1,r=0,i=[],a=[],l=e,c=new Map,u=new Set,d=_=>(u.add(_),()=>u.delete(_)),h=()=>{a=Array.from(c.values()),u.forEach(_=>_())},f=({containerId:_,toastId:N,updateId:P})=>{let I=_?_!==t:t!==1,D=c.has(N)&&P==null;return I||D},m=(_,N)=>{c.forEach(P=>{var I;(N==null||N===P.props.toastId)&&((I=P.toggle)==null||I.call(P,_))})},p=_=>{var N,P;(P=(N=_.props)==null?void 0:N.onClose)==null||P.call(N,_.removalReason),_.isActive=!1},x=_=>{if(_==null)c.forEach(p);else{let N=c.get(_);N&&p(N)}h()},v=()=>{r-=i.length,i=[]},y=_=>{var N,P;let{toastId:I,updateId:D}=_.props,C=D==null;_.staleId&&c.delete(_.staleId),_.isActive=!0,c.set(I,_),h(),n(NI(_,C?"added":"updated")),C&&((P=(N=_.props).onOpen)==null||P.call(N))};return{id:t,props:l,observe:d,toggle:m,removeToast:x,toasts:c,clearQueue:v,buildToast:(_,N)=>{if(f(N))return;let{toastId:P,updateId:I,data:D,staleId:C,delay:w}=N,A=I==null;A&&r++;let R={...l,style:l.toastStyle,key:s++,...Object.fromEntries(Object.entries(N).filter(([T,L])=>L!=null)),toastId:P,updateId:I,data:D,isIn:!1,className:$S(N.className||l.toastClassName),progressClassName:$S(N.progressClassName||l.progressClassName),autoClose:N.isLoading?!1:Kpe(N.autoClose,l.autoClose),closeToast(T){c.get(P).removalReason=T,x(P)},deleteToast(){let T=c.get(P);if(T!=null){if(n(NI(T,"removed")),c.delete(P),r--,r<0&&(r=0),i.length>0){y(i.shift());return}h()}}};R.closeButton=l.closeButton,N.closeButton===!1||qS(N.closeButton)?R.closeButton=N.closeButton:N.closeButton===!0&&(R.closeButton=qS(l.closeButton)?l.closeButton:!0);let E={content:_,props:R,staleId:C};l.limit&&l.limit>0&&r>l.limit&&A?i.push(E):x1(w)?setTimeout(()=>{y(E)},w):y(E)},setProps(_){l=_},setToggle:(_,N)=>{let P=c.get(_);P&&(P.toggle=N)},isToastActive:_=>{var N;return(N=c.get(_))==null?void 0:N.isActive},getSnapshot:()=>a}}var yi=new Map,px=[],HS=new Set,sge=t=>HS.forEach(e=>e(t)),Vz=()=>yi.size>0;function rge(){px.forEach(t=>zz(t.content,t.options)),px=[]}var ige=(t,{containerId:e})=>{var n;return(n=yi.get(e||1))==null?void 0:n.toasts.get(t)};function Uz(t,e){var n;if(e)return!!((n=yi.get(e))!=null&&n.isToastActive(t));let s=!1;return yi.forEach(r=>{r.isToastActive(t)&&(s=!0)}),s}function age(t){if(!Vz()){px=px.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||Ype(t))yi.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=yi.get(t.containerId);e?e.removeToast(t.id):yi.forEach(n=>{n.removeToast(t.id)})}}var oge=(t={})=>{yi.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function zz(t,e){qS(t)&&(Vz()||px.push({content:t,options:e}),yi.forEach(n=>{n.buildToast(t,e)}))}function lge(t){var e;(e=yi.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function $z(t,e){yi.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function cge(t){let e=t.containerId||1;return{subscribe(n){let s=nge(e,t,sge);yi.set(e,s);let r=s.observe(n);return rge(),()=>{r(),yi.delete(e)}},setProps(n){var s;(s=yi.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=yi.get(e))==null?void 0:n.getSnapshot()}}}function uge(t){return HS.add(t),()=>{HS.delete(t)}}function dge(t){return t&&(Mf(t.toastId)||x1(t.toastId))?t.toastId:Bz()}function b1(t,e){return zz(t,e),e.toastId}function Y5(t,e){return{...e,type:e&&e.type||t,toastId:dge(e)}}function K5(t){return(e,n)=>b1(e,Y5(t,n))}function We(t,e){return b1(t,Y5("default",e))}We.loading=(t,e)=>b1(t,Y5("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function hge(t,{pending:e,error:n,success:s},r){let i;e&&(i=Mf(e)?We.loading(e,r):We.loading(e.render,{...r,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null){We.dismiss(i);return}let f={type:u,...a,...r,data:h},m=Mf(d)?{render:d}:d;return i?We.update(i,{...f,...m}):We(m.render,{...f,...m}),h},c=$c(t)?t():t;return c.then(u=>l("success",s,u)).catch(u=>l("error",n,u)),c}We.promise=hge;We.success=K5("success");We.info=K5("info");We.error=K5("error");We.warning=K5("warning");We.warn=We.warning;We.dark=(t,e)=>b1(t,Y5("default",{theme:"dark",...e}));function fge(t){age(t)}We.dismiss=fge;We.clearWaitingQueue=oge;We.isActive=Uz;We.update=(t,e={})=>{let n=ige(t,e);if(n){let{props:s,content:r}=n,i={delay:100,...s,...e,toastId:e.toastId||t,updateId:Bz()};i.toastId!==t&&(i.staleId=t);let a=i.render||r;delete i.render,b1(a,i)}};We.done=t=>{We.update(t,{progress:1})};We.onChange=uge;We.play=t=>$z(!0,t);We.pause=t=>$z(!1,t);function mge(t){var e;let{subscribe:n,getSnapshot:s,setProps:r}=j.useRef(cge(t)).current;r(t);let i=(e=j.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function a(l){if(!i)return[];let c=new Map;return t.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:a,isToastActive:Uz,count:i==null?void 0:i.length}}function pge(t){let[e,n]=j.useState(!1),[s,r]=j.useState(!1),i=j.useRef(null),a=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=t;lge({id:t.toastId,containerId:t.containerId,fn:n}),j.useEffect(()=>{if(t.pauseOnFocusLoss)return f(),()=>{m()}},[t.pauseOnFocusLoss]);function f(){document.hasFocus()||y(),window.addEventListener("focus",v),window.addEventListener("blur",y)}function m(){window.removeEventListener("focus",v),window.removeEventListener("blur",y)}function p(C){if(t.draggable===!0||t.draggable===C.pointerType){_();let w=i.current;a.canCloseOnClick=!0,a.canDrag=!0,w.style.transition="none",t.draggableDirection==="x"?(a.start=C.clientX,a.removalDistance=w.offsetWidth*(t.draggablePercent/100)):(a.start=C.clientY,a.removalDistance=w.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function x(C){let{top:w,bottom:A,left:R,right:E}=i.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&C.clientX>=R&&C.clientX<=E&&C.clientY>=w&&C.clientY<=A?y():v()}function v(){n(!0)}function y(){n(!1)}function _(){a.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",I)}function N(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",I)}function P(C){let w=i.current;if(a.canDrag&&w){a.didMove=!0,e&&y(),t.draggableDirection==="x"?a.delta=C.clientX-a.start:a.delta=C.clientY-a.start,a.start!==C.clientX&&(a.canCloseOnClick=!1);let A=t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;w.style.transform=`translate3d(${A},0)`,w.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function I(){N();let C=i.current;if(a.canDrag&&a.didMove&&C){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){r(!0),t.closeToast(!0),t.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let D={onPointerDown:p,onPointerUp:x};return l&&c&&(D.onMouseEnter=y,t.stacked||(D.onMouseLeave=v)),h&&(D.onClick=C=>{d&&d(C),a.canCloseOnClick&&u(!0)}),{playToast:v,pauseToast:y,isRunning:e,preventExitTransition:s,toastRef:i,eventHandlers:D}}var gge=typeof window<"u"?j.useLayoutEffect:j.useEffect,X5=({theme:t,type:e,isLoading:n,...s})=>Re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function yge(t){return Re.createElement(X5,{...t},Re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function xge(t){return Re.createElement(X5,{...t},Re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function bge(t){return Re.createElement(X5,{...t},Re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function vge(t){return Re.createElement(X5,{...t},Re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function wge(){return Re.createElement("div",{className:"Toastify__spinner"})}var QS={info:xge,warning:yge,success:bge,error:vge,spinner:wge},_ge=t=>t in QS;function Nge({theme:t,type:e,isLoading:n,icon:s}){let r=null,i={theme:t,type:e};return s===!1||($c(s)?r=s({...i,isLoading:n}):j.isValidElement(s)?r=j.cloneElement(s,i):n?r=QS.spinner():_ge(e)&&(r=QS[e](i))),r}var Sge=t=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:r,playToast:i}=pge(t),{closeButton:a,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:f,transition:m,position:p,className:x,style:v,progressClassName:y,updateId:_,role:N,progress:P,rtl:I,toastId:D,deleteToast:C,isIn:w,isLoading:A,closeOnClick:R,theme:E,ariaLabel:T}=t,L=mf("Toastify__toast",`Toastify__toast-theme--${E}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":R}),z=$c(x)?x({rtl:I,position:p,type:d,defaultClassName:L}):mf(L,x),$=Nge(t),O=!!P||!c,F={closeToast:f,type:d,theme:E},Q=null;return a===!1||($c(a)?Q=a(F):j.isValidElement(a)?Q=j.cloneElement(a,F):Q=Zpe(F)),Re.createElement(m,{isIn:w,done:C,position:p,preventExitTransition:n,nodeRef:s,playToast:i},Re.createElement("div",{id:D,tabIndex:0,onClick:u,"data-in":w,className:z,...r,style:v,ref:s,...w&&{role:N,"aria-label":T}},$!=null&&Re.createElement("div",{className:mf("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},$),Fz(l,t,!e),Q,!t.customProgressBar&&Re.createElement(ege,{..._&&!O?{key:`p-${_}`}:{},rtl:I,theme:E,delay:c,isRunning:e,isIn:w,closeToast:f,hide:h,type:d,className:y,controlledProgress:O,progress:P||0})))},jge=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),Ege=Jpe(jge("bounce",!0)),Age={position:"top-right",transition:Ege,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Jf(t){let e={...Age,...t},n=t.stacked,[s,r]=j.useState(!0),i=j.useRef(null),{getToastToRender:a,isToastActive:l,count:c}=mge(e),{className:u,style:d,rtl:h,containerId:f,hotKeys:m}=e;function p(v){let y=mf("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":h});return $c(u)?u({position:v,rtl:h,defaultClassName:y}):mf(y,$S(u))}function x(){n&&(r(!0),We.play())}return gge(()=>{var v;if(n){let y=i.current.querySelectorAll('[data-in="true"]'),_=12,N=(v=e.position)==null?void 0:v.includes("top"),P=0,I=0;Array.from(y).reverse().forEach((D,C)=>{let w=D;w.classList.add("Toastify__toast--stacked"),C>0&&(w.dataset.collapsed=`${s}`),w.dataset.pos||(w.dataset.pos=N?"top":"bot");let A=P*(s?.2:1)+(s?0:_*C);w.style.setProperty("--y",`${N?A:A*-1}px`),w.style.setProperty("--g",`${_}`),w.style.setProperty("--s",`${1-(s?I:0)}`),P+=w.offsetHeight,I+=.025})}},[s,c,n]),j.useEffect(()=>{function v(y){var _;let N=i.current;m(y)&&((_=N.querySelector('[tabIndex="0"]'))==null||_.focus(),r(!1),We.pause()),y.key==="Escape"&&(document.activeElement===N||N!=null&&N.contains(document.activeElement))&&(r(!0),We.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[m]),Re.createElement("section",{ref:i,className:"Toastify",id:f,onMouseEnter:()=>{n&&(r(!1),We.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((v,y)=>{let _=y.length?{...d}:{...d,pointerEvents:"none"};return Re.createElement("div",{tabIndex:-1,className:p(v),"data-stacked":n,style:_,key:`c-${v}`},y.map(({content:N,props:P})=>Re.createElement(Sge,{...P,stacked:n,collapseAll:x,isIn:l(P.toastId,P.containerId),key:`t-${P.key}`},N)))}))}const jl=[{id:"free",name:"Free",price:0,period:"forever",description:"Perfect for individuals exploring QR codes.",features:{qrCodes:30,historyStorage:30,collections:1,bulkGeneration:!0,advancedExport:!0,prioritySupport:!1,downloadFormats:["PNG","JPG"],pdfExport:!0}},{id:"basic",name:"Basic",price:599,period:"month",description:"Ideal for small businesses and regular users.",features:{qrCodes:300,historyStorage:900,collections:10,bulkGeneration:!0,advancedExport:!0,prioritySupport:!1,downloadFormats:["PNG","JPG"],pdfExport:!0}},{id:"standard",name:"Standard",price:1299,period:"month",description:"Designed for growing teams and advanced needs.",features:{qrCodes:900,historyStorage:2700,collections:30,bulkGeneration:!0,advancedExport:!0,prioritySupport:!1,downloadFormats:["PNG","JPG"],pdfExport:!0},popular:!0},{id:"premium",name:"Premium",price:2499,period:"month",description:"Best for professionals and businesses needing scale.",features:{qrCodes:1500,historyStorage:4500,collections:50,bulkGeneration:!0,advancedExport:!0,prioritySupport:!0,downloadFormats:["PNG","JPG"],pdfExport:!0}}],kl=t=>jl.find(e=>e.name.toLowerCase()===t.toLowerCase())||null,Hd=t=>{const e=kl(t);return(e==null?void 0:e.features.qrCodes)||30},Tge=t=>{const e=kl(t);return(e==null?void 0:e.features.historyStorage)||30},K6=t=>{const e=kl(t);return(e==null?void 0:e.features.collections)||1},Cge=t=>!0,kge=t=>!0,qz=t=>{const e=kl(t);return((e==null?void 0:e.features.collections)||0)>0},Hz=t=>{const e=kl(t);return((e==null?void 0:e.features.historyStorage)||0)>0},Pge=t=>{const e=kl(t);return(e==null?void 0:e.features.prioritySupport)||!1},SI={minLength:6,maxLength:16},Rge=()=>{const[t,e]=j.useState(""),[n,s]=j.useState(!1),[r,i]=j.useState(!0),[a,l]=j.useState(!1),[c,u]=j.useState(!1),[d,h]=j.useState(!1),f=x=>{s(x.length>=SI.minLength),i(x.length<=SI.maxLength),l(/[A-Z]/.test(x)),u(/[a-z]/.test(x)),h(/[^a-zA-Z0-9]/.test(x))};return{password:t,isValid:n&&r&&a&&c&&d,meetsMinLength:n,meetsMaxLength:r,hasUppercase:a,hasLowercase:c,hasSpecialChar:d,handlePasswordChange:x=>{e(x),f(x)}}},Qz=({isOpen:t,onClose:e,onSuccess:n})=>{const[s,r]=j.useState(!1),[i,a]=j.useState(""),[l,c]=j.useState(""),[u,d]=j.useState(!1),[h,f]=j.useState({}),[m,p]=j.useState(null),[x,v]=j.useState(!1),[y,_]=j.useState(!1);vr();const{password:N,isValid:P,meetsMinLength:I,meetsMaxLength:D,hasUppercase:C,hasLowercase:w,hasSpecialChar:A,handlePasswordChange:R}=Rge(),E=async()=>{var $;d(!0),p(null);try{const F=(await mF(Po,nV)).user;if(F){const Q=Lt(dt,"users",F.uid);if(!(await ws(Q)).exists()){const W=new Date,Z=(($=F.email)==null?void 0:$.split("@")[0])||`user${Date.now()}`;await Hv(Q,{username:Z,email:F.email,subscriptionPlan:"Free",quota:Hd("Free"),qrCodesGenerated:0,createdAt:W.toISOString(),updatedAt:W.toISOString(),subscriptionExpiry:null})}n(),We.success(`${s?"Login":"Sign up"} successful!`),e()}else p("Failed to retrieve user information from Google.")}catch(O){p(O.code==="auth/popup-closed-by-user"?"Sign-in process was cancelled.":"Failed to sign in with Google. Please try again.")}finally{d(!1)}},T=()=>{let $=!0;const O={};return s||(l?l.length<3?(O.username="Username must be at least 3 characters.",$=!1):l.length>20?(O.username="Username cannot exceed 20 characters.",$=!1):/^[a-zA-Z0-9]+$/.test(l)||(O.username="Username can only contain letters and numbers.",$=!1):(O.username="Please enter a username.",$=!1),y||(O.terms="Please agree to the Terms and Privacy Policy.",$=!1)),i?/\S+@\S+\.\S+/.test(i)||(O.email="Please enter a valid email address.",$=!1):(O.email="Please enter your email address.",$=!1),N||(O.password="Please enter a password.",$=!1),f(O),$&&(s||P)},L=async $=>{if($.preventDefault(),d(!0),p(null),!T()){d(!1);return}try{if(s)await tF(Po,i,N),n(),We.success("Login successful!"),e();else{const O=await eF(Po,i,N),F=new Date;await Hv(Lt(dt,"users",O.user.uid),{username:l,email:i,subscriptionPlan:"Free",quota:Hd("Free"),qrCodesGenerated:0,createdAt:F.toISOString(),updatedAt:F.toISOString(),subscriptionExpiry:null}),n(),We.success("Sign up successful!"),e()}}catch(O){let F="An error occurred. Please try again.";O.code==="auth/email-already-in-use"?F="This email is already registered. Try logging in?":O.code==="auth/invalid-email"?F="Please enter a valid email address.":O.code==="auth/weak-password"?F="The password is too weak. Please choose a stronger password (at least 6 characters).":(O.code==="auth/user-not-found"||O.code==="auth/wrong-password")&&(F="Invalid email or password. Please double-check your credentials."),p(F)}finally{d(!1)}},z=()=>v(!x);return o.jsxs(On,{open:t,onClose:e,className:"relative z-50",children:[o.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm","aria-hidden":"true"}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-2",children:o.jsxs(On.Panel,{className:`w-full max-w-sm bg-white rounded-xl shadow-lg p-4 
      max-h-90 overflow-y-auto flex flex-col justify-center`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx(On.Title,{className:"text-base font-semibold text-gray-900",children:s?"Welcome Back – Please Sign In":"Create Your Account"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 rounded-full focus:outline-none",children:o.jsx(gf,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex border-b border-gray-200 mb-4",children:[o.jsx("button",{onClick:()=>r(!1),className:`${s?"text-gray-400 hover:text-gray-600":"border-indigo-500 text-indigo-600"} py-2 px-4 text-xs font-medium focus:outline-none border-b-2`,children:"Sign Up"}),o.jsx("button",{onClick:()=>r(!0),className:`${s?"border-indigo-500 text-indigo-600":"text-gray-400 hover:text-gray-600"} py-2 px-4 text-xs font-medium focus:outline-none border-b-2`,children:"Login"})]}),m&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-2 py-1 rounded-md text-xs mb-2",children:m}),o.jsxs("button",{type:"button",onClick:E,disabled:u,className:`w-full flex items-center justify-center py-2 px-3 rounded-md border 
        border-gray-300 bg-white hover:bg-gray-50 text-xs font-medium transition disabled:opacity-70 mb-2`,children:[o.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-4 h-4 mr-1"}),"Continue with Google"]}),o.jsxs("div",{className:"flex items-center my-1",children:[o.jsx("div",{className:"flex-grow h-px bg-gray-200"}),o.jsx("span",{className:"px-2 text-gray-400 text-xs",children:"or"}),o.jsx("div",{className:"flex-grow h-px bg-gray-200"})]}),o.jsxs("form",{onSubmit:L,className:"space-y-2",children:[!s&&o.jsx("input",{type:"text",value:l,onChange:$=>c($.target.value),placeholder:"Username",className:`w-full px-2 py-1 border ${h.username?"border-red-500":"border-gray-300"} rounded-md text-xs focus:ring-1 focus:ring-indigo-500`,required:!0}),o.jsx("input",{type:"email",value:i,onChange:$=>a($.target.value),placeholder:"Email address",className:`w-full px-2 py-1 border ${h.email?"border-red-500":"border-gray-300"} rounded-md text-xs focus:ring-1 focus:ring-indigo-500`,required:!0}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:x?"text":"password",value:N,onChange:$=>R($.target.value),placeholder:"Password",className:`w-full px-2 py-1 pr-8 border rounded-md text-xs focus:ring-1 focus:ring-indigo-500 ${!s&&!P?"border-red-500":"border-gray-300"}`,required:!0}),o.jsx("button",{type:"button",onClick:z,className:"absolute inset-y-0 right-1 flex items-center text-gray-400",children:x?o.jsx(wl,{className:"h-4 w-4"}):o.jsx(os,{className:"h-4 w-4"})})]}),!s&&o.jsxs("div",{className:"text-gray-600 text-xs mt-1 space-y-1",children:[o.jsxs("p",{className:"flex items-center",children:[I?o.jsx(Jn,{className:"w-3 h-3 mr-1 text-green-500"}):o.jsx(pr,{className:"w-3 h-3 mr-1 text-red-500"}),"At least 6 characters"]}),o.jsxs("p",{className:"flex items-center",children:[C?o.jsx(Jn,{className:"w-3 h-3 mr-1 text-green-500"}):o.jsx(pr,{className:"w-3 h-3 mr-1 text-red-500"}),"One uppercase letter"]}),o.jsxs("p",{className:"flex items-center",children:[w?o.jsx(Jn,{className:"w-3 h-3 mr-1 text-green-500"}):o.jsx(pr,{className:"w-3 h-3 mr-1 text-red-500"}),"One lowercase letter"]}),o.jsxs("p",{className:"flex items-center",children:[A?o.jsx(Jn,{className:"w-3 h-3 mr-1 text-green-500"}):o.jsx(pr,{className:"w-3 h-3 mr-1 text-red-500"}),"One special character"]}),!D&&o.jsxs("p",{className:"flex items-center",children:[o.jsx(pr,{className:"w-3 h-3 mr-1 text-red-500"}),"No more than 16 characters"]})]}),s&&o.jsx("div",{className:"flex justify-end",children:o.jsx(jn,{to:"/reset-password",className:"text-xs font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot password?"})}),!s&&o.jsxs("label",{className:"flex items-center text-xs text-gray-600",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:$=>_($.target.checked),className:`h-3 w-3 mr-1 ${h.terms?"border-red-500":"border-gray-300"}`,required:!0}),"I agree to"," ",o.jsx(jn,{to:"/terms",className:"text-indigo-600 ml-1",children:"Terms"})," ","&"," ",o.jsx(jn,{to:"/privacy",className:"text-indigo-600",children:"Privacy"})]}),o.jsx("button",{type:"submit",disabled:u||!s&&!P,className:`w-full py-2 text-xs font-medium rounded-md bg-indigo-600 text-white 
          hover:bg-indigo-700 disabled:opacity-50 transition`,children:u?"Please wait...":s?"Login":"Create account"})]})]})})]})},Ige=({onMenuToggle:t})=>{const{user:e}=_s(),n=xa(),[s,r]=j.useState(!1),[i,a]=j.useState(!1),[l,c]=j.useState(null),[u,d]=j.useState(!1),[h,f]=j.useState(null),[m,p]=j.useState(!1),[x,v]=j.useState(!1),[y,_]=j.useState(null),[N,P]=j.useState(!1),I=j.useRef(null);vr();const D=j.useCallback(()=>{r($=>!$),t(!s)},[s,t]),C=j.useCallback(()=>{r(!1),t(!1)},[t]);j.useCallback(()=>{a($=>!$)},[]);const w=j.useCallback(()=>{a(!1)},[]),A=()=>{P(!0)},R=()=>{P(!1)};j.useEffect(()=>{e?(async()=>{if(!(e!=null&&e.uid)){c(null),f(null),p(!1);return}d(!0);try{const O=Lt(dt,"users",e.uid),F=await ws(O);if(F.exists()){const Q=F.data();c(Q.username),f(e.photoURL||null),p(Q.isAdmin||!1)}else console.warn("User document not found for UID:",e.uid),c(null),f(null),p(!1)}catch(O){console.error("Error fetching username:",O),p(!1)}finally{d(!1)}})():(c(null),f(null),p(!1))},[e]),j.useEffect(()=>{const $=O=>{I.current&&!I.current.contains(O.target)&&C()};return s?(document.addEventListener("mousedown",$),document.body.classList.add("no-scroll")):document.body.classList.remove("no-scroll"),()=>{document.removeEventListener("mousedown",$),document.body.classList.remove("no-scroll")}},[s,C]),j.useEffect(()=>{const $=O=>{y.current&&!y.current.contains(O.target)&&w()};return i&&document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[i,w]);const E=[{to:"/faq",label:"FAQ"},{to:"/contact",label:"Contact"},{to:"/plans-and-quota",label:"Plans"},...m?[{to:"/admin",label:"Admin",icon:fa}]:[]],T=[{to:"/terms",label:"Terms"},{to:"/privacy",label:"Privacy"}],L=n.pathname==="/"&&!e,z=({size:$="md",showName:O=!1})=>{const F={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"};return o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`${F[$]} rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold overflow-hidden`,children:h?o.jsx("img",{src:h,alt:"Profile",className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-sm",children:l?l.charAt(0).toUpperCase():o.jsx(Ud,{className:"w-4 h-4"})})}),O&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:u?"Loading...":l||"User"}),o.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.email})]})]})};return o.jsx(o.Fragment,{children:o.jsxs("header",{className:`bg-white shadow-sm sticky top-0 z-40 border-b border-gray-100 ${L?"pb-0":""}`,children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center lg:hidden w-full",children:[o.jsx("button",{onClick:D,className:"rounded-lg text-gray-600 hover:text-blue-600 hover:bg-gray-50 focus:outline-none transition-colors duration-200 mr-3","aria-label":"Toggle menu",children:s?o.jsx(bs,{className:"h-6 w-6"}):o.jsx(HR,{className:"h-6 w-6"})}),e&&o.jsx(jn,{to:"/profile",className:"mr-4",children:o.jsx(z,{size:"sm",showName:!1})}),o.jsx("div",{className:"flex-grow mr-2",children:o.jsx(cI,{onSearchClick:e?void 0:A})}),o.jsx(jn,{to:"/",className:"flex items-center space-x-2 p-0 logo-text",style:{textDecoration:"none"},children:o.jsx("img",{src:"https://res.cloudinary.com/dlesei0kn/image/upload/v1749753063/file_Fashqr_icon_hzpvxi.png",alt:"FlashQR Logo",style:{width:"40px",height:"40px",display:"inline-block"}})})]}),o.jsxs("div",{className:"hidden lg:flex items-center w-full",children:[o.jsx("button",{onClick:D,className:"rounded-lg text-gray-600 hover:text-blue-600 hover:bg-gray-50 focus:outline-none transition-colors duration-200 mr-4","aria-label":"Toggle menu",children:s?o.jsx(bs,{className:"h-6 w-6"}):o.jsx(HR,{className:"h-6 w-6"})}),o.jsx("div",{className:"flex-grow mr-2",children:o.jsx(cI,{onSearchClick:e?void 0:A})}),o.jsx(jn,{to:"/",className:"flex items-center space-x-2 p-0 logo-text",style:{textDecoration:"none"},children:o.jsx("img",{src:"https://res.cloudinary.com/dlesei0kn/image/upload/v1749753063/file_Fashqr_icon_hzpvxi.png",alt:"FlashQR Logo",style:{width:"40px",height:"40px",display:"inline-block"}})})]})]})}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40"}),o.jsxs("div",{ref:I,className:"fixed top-0 left-0 h-full w-80 max-w-sm bg-white z-50 shadow-2xl transform transition-transform duration-300 ease-out flex flex-col",children:[e&&o.jsx("div",{className:"sticky top-0 p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-200 z-20",children:o.jsx(jn,{to:"/profile",onClick:C,className:"block",children:o.jsx(z,{size:"lg",showName:!0})})}),o.jsx("div",{className:"overflow-y-auto flex-1",children:o.jsxs("nav",{className:"flex-1 p-4",children:[o.jsx("div",{className:"space-y-1",children:E.map($=>o.jsxs(I0,{to:$.to,onClick:C,className:({isActive:O})=>`flex items-center space-x-3 px-4 py-3 rounded-lg text-base font-medium transition-all duration-200 ${O?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[$.icon&&o.jsx($.icon,{className:"w-5 h-5"}),o.jsx("span",{children:$.label})]},$.to))}),o.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-200",children:[o.jsx("p",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Legal"}),o.jsx("div",{className:"mt-2 space-y-1",children:T.map($=>o.jsx(I0,{to:$.to,onClick:C,className:"block px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors",children:$.label},$.to))})]})]})}),o.jsx("div",{className:"sticky bottom-0 p-4 border-t border-gray-200 bg-gray-50 z-10",children:e?o.jsx(Fhe,{className:"flex items-center justify-center space-x-2 w-full px-4 py-3 bg-white border border-red-200 text-red-600 font-medium rounded-lg hover:bg-red-50 transition-colors",showIcon:!0,showLabel:!0}):o.jsxs("div",{className:"space-y-3",children:[o.jsx(I0,{to:"/login",onClick:C,className:"block w-full text-center px-4 py-3 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Login"}),o.jsx(I0,{to:"/signup",onClick:C,className:"block w-full text-center px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm",children:"Sign Up"})]})})]})]}),L&&o.jsx(Qz,{isOpen:N,onClose:R,onSuccess:R})]})})};var Gz={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jI=Re.createContext&&Re.createContext(Gz),Lge=["attr","size","title"];function Mge(t,e){if(t==null)return{};var n=Dge(t,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Dge(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},iw.apply(this,arguments)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function aw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(s){Oge(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Oge(t,e,n){return e=Fge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fge(t){var e=Bge(t,"string");return typeof e=="symbol"?e:e+""}function Bge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wz(t){return t&&t.map((e,n)=>Re.createElement(e.tag,aw({key:n},e.attr),Wz(e.child)))}function Bo(t){return e=>Re.createElement(Vge,iw({attr:aw({},t.attr)},e),Wz(t.child))}function Vge(t){var e=n=>{var{attr:s,size:r,title:i}=t,a=Mge(t,Lge),l=r||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Re.createElement("svg",iw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,a,{className:c,style:aw(aw({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Re.createElement("title",null,i),t.children)};return jI!==void 0?Re.createElement(jI.Consumer,null,n=>e(n)):e(Gz)}function Uge(t){return Bo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function AI(t){return Bo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function zge(t){return Bo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(t)}function $ge(t){return Bo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function qge(t){return Bo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function TI(t){return Bo({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(t)}function Hge(t){return Bo({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(t)}function Qge(t){return Bo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function Gge(t){return Bo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(t)}function Wge(t){return Bo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(t)}const Yge=()=>{const t=xa(),{user:e}=_s();t.pathname,t.pathname,t.pathname,j.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]);const n=new Date().getFullYear();return o.jsxs("footer",{className:"relative bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 text-white overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-blue-400 to-transparent transform skew-y-1"})}),o.jsx("div",{className:"relative z-0 border-b border-slate-700/50",children:o.jsx("div",{className:"container mx-auto px-6 py-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 flex flex-col",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsxs(jn,{to:"/",className:"inline-flex items-center group",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:"https://res.cloudinary.com/dlesei0kn/image/upload/v1749753063/file_Fashqr_icon_hzpvxi.png",alt:"FlashQR Logo",className:"w-12 h-12 md:w-10 md:h-10 transform group-hover:scale-110 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-blue-400 rounded-full opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]}),o.jsx("h1",{className:"text-2xl font-bold flash-title",style:{fontSize:"16px",color:"white"},children:"FlashQR"})]}),o.jsx(jn,{to:"/reviews",className:"text-[0.65rem] text-yellow-500 hover:text-yellow-600 transition-colors",children:"Rate us"})]}),o.jsx("p",{className:"text-slate-300 text-sm md:text-xs leading-relaxed mb-6",children:"A fast and lightweight QR code generator designed for simplicity and real-world use. Unlike most platforms, we focuses entirely on static QR codes—giving you reliable, permanent results without unnecessary complexity or confusing features."}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"https://instagram.com/flash__qr",target:"_blank",rel:"noopener noreferrer",className:`group relative p-3 md:p-2 bg-slate-800/50 rounded-lg 
               hover:bg-gradient-to-r hover:from-pink-500 hover:to-purple-600 
               transition-all duration-300 transform hover:scale-110`,children:o.jsx(Uge,{className:"h-5 w-5 md:h-4 md:w-4 text-slate-300 group-hover:text-white transition-colors"})}),o.jsx("a",{href:"https://x.com/flash__qr",target:"_blank",rel:"noopener noreferrer",className:`group relative p-3 md:p-2 bg-slate-800/50 rounded-lg 
             hover:bg-gradient-to-r hover:from-blue-500 hover:to-cyan-600 
             transition-all duration-300 transform hover:scale-110`,children:o.jsx(Wge,{className:"h-5 w-5 md:h-4 md:w-4 text-slate-300 group-hover:text-white transition-colors"})})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 relative",children:["Quick Links",o.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-0.5 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full"})]}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsxs(jn,{to:"/about",className:"text-slate-300 hover:text-blue-400 text-sm md:text-xs transition-colors duration-200 flex items-center group",children:[o.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full mr-2 transform scale-0 group-hover:scale-100 transition-transform"}),"About Us"]})}),o.jsx("li",{children:o.jsxs(jn,{to:"/contact",className:"text-slate-300 hover:text-blue-400 text-sm md:text-xs transition-colors duration-200 flex items-center group",children:[o.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full mr-2 transform scale-0 group-hover:scale-100 transition-transform"}),"Contact"]})}),o.jsx("li",{children:o.jsxs(jn,{to:"/faq",className:"text-slate-300 hover:text-blue-400 text-sm md:text-xs transition-colors duration-200 flex items-center group",children:[o.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full mr-2 transform scale-0 group-hover:scale-100 transition-transform"}),"FAQ"]})}),o.jsx("li",{children:o.jsxs(jn,{to:"/plans-and-quota",className:"text-slate-300 hover:text-blue-400 text-sm md:text-xs transition-colors duration-200 flex items-center group",children:[o.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full mr-2 transform scale-0 group-hover:scale-100 transition-transform"}),"Plans & Quota"]})})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 relative",children:["Services",o.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-0.5 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full"})]}),o.jsx("ul",{className:"space-y-3",children:o.jsx("li",{children:o.jsxs(jn,{to:"/generator",className:"text-slate-300 hover:text-blue-400 text-sm md:text-xs transition-colors duration-200 flex items-center group",children:[o.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full mr-2 transform scale-0 group-hover:scale-100 transition-transform"}),"QR Generator"]})})})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 relative",children:["Get in Touch",o.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-0.5 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center text-slate-300 text-sm md:text-xs group",children:[o.jsx(Qge,{className:"h-4 w-4 mr-3 text-blue-400 group-hover:text-purple-400 transition-colors"}),o.jsx("a",{href:"mailto:contact.flashqr@gmail.com",className:"hover:text-blue-400 transition-colors",children:"contact.flashqr@gmail.com"})]}),o.jsxs("div",{className:"flex items-start text-slate-300 text-sm md:text-xs group",children:[o.jsx(Gge,{className:"h-4 w-4 mr-3 text-blue-400 group-hover:text-purple-400 transition-colors mt-0.5"}),o.jsxs("span",{children:["Srinagar",o.jsx("br",{}),"India, 190015"]})]})]})]})]})})}),o.jsx("div",{className:"relative",children:o.jsx("div",{className:"container mx-auto px-6 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-[10px] text-slate-500 order-2 md:order-1",children:[o.jsx("span",{children:"Built with ❤️ in India"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{children:"Tailored for Growth"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-6 order-1 md:order-2",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-500",children:[o.jsx(jn,{to:"/terms",className:"hover:text-blue-400 transition-colors",children:"Terms of Service"}),o.jsx("span",{children:"•"}),o.jsx(jn,{to:"/privacy",className:"hover:text-blue-400 transition-colors",children:"Privacy Policy"})]}),o.jsxs("p",{className:"text-sm md:text-xs text-slate-400",children:["© ",n," FlashQR. All rights reserved."]})]})]})})})]})},Kge=()=>o.jsx("div",{className:"w-full overflow-x-hidden bg-blue-200 m-0",children:o.jsxs("section",{className:"w-full pt-8 pb-10 flex flex-col items-center justify-center min-h-[30vh] m-0",children:[o.jsxs(he.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.1},className:"text-center font-black text-2xl md:text-5xl leading-tight mb-6 max-w-4xl",children:[o.jsx("span",{className:"bg-gradient-to-r from-slate-800 to-slate-900 bg-clip-text text-transparent",children:"Instantly Generate & Download"}),o.jsx("br",{}),o.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Static QR Codes for Unlimited Use"})]}),o.jsx(he.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},className:"text-center text-sm max-w-2xl mx-auto text-slate-700 leading-relaxed",children:"Fast, simple, and reliable QR code generation. Export in professional layouts — single pages with details or grids of 2–30 per page"})]})}),Xge=({children:t})=>{const e=xa(),{user:n}=_s();if(e.pathname==="/login"||e.pathname==="/signup")return null;e.pathname;const s=e.pathname==="/generator"||e.pathname==="/static-code"||e.pathname==="/dynamic-code"||e.pathname==="/generate"||e.pathname==="/bulk-generator",i=e.pathname==="/"&&!n;return o.jsxs("div",{children:[o.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex h-12",children:o.jsxs(jn,{to:"/generator",className:`flex-1 flex items-center justify-center text-sm font-medium transition-all duration-200 ${s?"bg-gradient-to-r from-blue-600 to-purple-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[o.jsx(l1,{className:"w-4 h-4 mr-2"}),"QR Generator"]})})})}),t,"  ",i&&o.jsx(Kge,{})]})},Jge=()=>(j.useEffect(()=>{if(window.adsbygoogle&&window.adsbygoogle.length>0)try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(t){console.error("Error displaying ad",t)}},[]),o.jsx("div",{className:"ad-container",children:o.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-8218470498353675","data-ad-slot":"4760970102","data-ad-format":"auto","data-full-width-responsive":"true"})})),Zge=({isMenuOpen:t})=>{const[e,n]=j.useState(!1);j.useEffect(()=>{const r=()=>{n(window.scrollY>200)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const s=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e&&!t?o.jsx("button",{onClick:s,className:"fixed bottom-6 left-6 z-50 p-2 hover:scale-110 transition-transform","aria-label":"Scroll to top",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"#3B8EFD",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 4l-8 8h6v8h4v-8h6z"})})}):null},CI={minLength:6,maxLength:16},e0e=()=>{const[t,e]=j.useState(""),[n,s]=j.useState(!1),[r,i]=j.useState(!0),[a,l]=j.useState(!1),[c,u]=j.useState(!1),[d,h]=j.useState(!1),f=x=>{s(x.length>=CI.minLength),i(x.length<=CI.maxLength),l(/[A-Z]/.test(x)),u(/[a-z]/.test(x)),h(/[^a-zA-Z0-9]/.test(x))};return{password:t,isValid:n&&r&&a&&c&&d,meetsMinLength:n,meetsMaxLength:r,hasUppercase:a,hasLowercase:c,hasSpecialChar:d,handlePasswordChange:x=>{e(x),f(x)}}},kI=({isLogin:t})=>{const[e,n]=j.useState(""),[s,r]=j.useState(""),[i,a]=j.useState(!1),[l,c]=j.useState({}),[u,d]=j.useState(null),[h,f]=j.useState(!1),[m,p]=j.useState(!1),x=vr(),{password:v,isValid:y,meetsMinLength:_,meetsMaxLength:N,hasUppercase:P,hasLowercase:I,hasSpecialChar:D,handlePasswordChange:C}=e0e(),w=async()=>{var T;a(!0),d(null);try{const z=(await mF(Po,nV)).user;if(z){const $=Lt(dt,"users",z.uid);if(!(await ws($)).exists()){const F=new Date,Q=((T=z.email)==null?void 0:T.split("@")[0])||`user${Date.now()}`;await Hv($,{username:Q,email:z.email,subscriptionPlan:"Free",quota:Hd("Free"),qrCodesGenerated:0,createdAt:F.toISOString(),updatedAt:F.toISOString(),subscriptionExpiry:null})}x("/")}else d("Failed to retrieve user information from Google.")}catch(L){d(L.code==="auth/popup-closed-by-user"?"Sign-in process was cancelled.":"Failed to sign in with Google. Please try again.")}finally{a(!1)}},A=()=>{let T=!0;const L={};return t||(s?s.length<3?(L.username="Username must be at least 3 characters.",T=!1):s.length>20?(L.username="Username cannot exceed 20 characters.",T=!1):/^[a-zA-Z0-9]+$/.test(s)||(L.username="Username can only contain letters and numbers.",T=!1):(L.username="Please enter a username.",T=!1),m||(L.terms="Please agree to the Terms and Privacy Policy.",T=!1)),e?/\S+@\S+\.\S+/.test(e)||(L.email="Please enter a valid email address.",T=!1):(L.email="Please enter your email address.",T=!1),v||(L.password="Please enter a password.",T=!1),c(L),T&&(t||y)},R=async T=>{if(T.preventDefault(),a(!0),d(null),!A()){a(!1);return}try{if(t)await tF(Po,e,v),x("/");else{const L=await eF(Po,e,v),z=new Date;L.user?(await Hv(Lt(dt,"users",L.user.uid),{username:s,email:e,subscriptionPlan:"Free",quota:Hd("Free"),qrCodesGenerated:0,createdAt:z.toISOString(),updatedAt:z.toISOString(),subscriptionExpiry:null}),x("/")):d("Failed to create user. Please try again.")}}catch(L){let z="An error occurred. Please try again.";L.code==="auth/email-already-in-use"?z="This email is already registered. Try logging in?":L.code==="auth/invalid-email"?z="Please enter a valid email address.":L.code==="auth/weak-password"?z="The password is too weak. Please choose a stronger one.":(L.code==="auth/user-not-found"||L.code==="auth/wrong-password")&&(z="Invalid email or password."),d(z)}finally{a(!1)}},E=()=>f(!h);return o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-2",children:o.jsxs("div",{className:"max-w-md w-full bg-white/90 backdrop-blur-lg shadow-xl rounded-2xl p-8 space-y-8 border border-gray-100",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"bg-indigo-100 p-4 rounded-full shadow-md",children:o.jsx(l1,{className:"h-9 w-9 text-indigo-600"})})}),o.jsx("h2",{className:"mt-4 text-3xl font-bold text-gray-900",children:t?"Welcome Back":"Create Account"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:t?o.jsxs(o.Fragment,{children:["New to FlashQR?"," ",o.jsx("button",{onClick:()=>x("/signup"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign up"})]}):o.jsxs(o.Fragment,{children:["Already have an account?"," ",o.jsx("button",{onClick:()=>x("/login"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Log in"})]})})]}),u&&o.jsx("div",{className:"bg-red-50 text-red-700 border border-red-200 px-4 py-3 rounded-lg text-sm shadow-sm",children:u}),o.jsx("div",{children:o.jsxs("button",{type:"button",onClick:w,disabled:i,className:"w-full flex items-center justify-center py-3 px-4 rounded-lg shadow-md bg-white border border-gray-300 hover:bg-gray-50 transition disabled:opacity-70",children:[o.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),o.jsx("span",{className:"text-gray-700 font-medium",children:"Continue with Google"})]})}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-grow h-px bg-gray-200"}),o.jsx("span",{className:"px-3 text-gray-400 text-sm",children:"or"}),o.jsx("div",{className:"flex-grow h-px bg-gray-200"})]}),o.jsxs("form",{className:"space-y-5",onSubmit:R,children:[!t&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),o.jsx("input",{type:"text",value:s,onChange:T=>r(T.target.value),className:`mt-1 block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 outline-none transition ${l.username?"border-red-500":"border-gray-300 focus:border-indigo-500"}`,required:!0}),l.username&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.username})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),o.jsx("input",{type:"email",value:e,onChange:T=>n(T.target.value),className:`mt-1 block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 outline-none transition ${l.email?"border-red-500":"border-gray-300 focus:border-indigo-500"}`,required:!0}),l.email&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx("input",{type:h?"text":"password",value:v,onChange:T=>C(T.target.value),className:`block w-full px-3 py-2 border rounded-lg shadow-sm pr-10 focus:ring-2 focus:ring-indigo-500 outline-none transition ${t?"border-gray-300 focus:border-indigo-500":y?"border-green-500":"border-red-500"}`,required:!0}),o.jsx("button",{type:"button",onClick:E,className:"absolute inset-y-0 right-0 px-3 flex items-center",children:h?o.jsx(wl,{className:"h-5 w-5 text-gray-400"}):o.jsx(os,{className:"h-5 w-5 text-gray-400"})})]}),!t&&o.jsxs("div",{className:"text-gray-600 text-sm mt-2 space-y-1",children:[o.jsxs("p",{className:"flex items-center",children:[_?o.jsx(Jn,{className:"w-4 h-4 mr-1 text-green-500"}):o.jsx(pr,{className:"w-4 h-4 mr-1 text-red-500"}),"At least 6 characters"]}),o.jsxs("p",{className:"flex items-center",children:[P?o.jsx(Jn,{className:"w-4 h-4 mr-1 text-green-500"}):o.jsx(pr,{className:"w-4 h-4 mr-1 text-red-500"}),"One uppercase letter"]}),o.jsxs("p",{className:"flex items-center",children:[I?o.jsx(Jn,{className:"w-4 h-4 mr-1 text-green-500"}):o.jsx(pr,{className:"w-4 h-4 mr-1 text-red-500"}),"One lowercase letter"]}),o.jsxs("p",{className:"flex items-center",children:[D?o.jsx(Jn,{className:"w-4 h-4 mr-1 text-green-500"}):o.jsx(pr,{className:"w-4 h-4 mr-1 text-red-500"}),"One special character"]}),!N&&o.jsxs("p",{className:"flex items-center",children:[o.jsx(pr,{className:"w-4 h-4 mr-1 text-red-500"}),"No more than 16 characters"]})]}),l.password&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.password})]}),t&&o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",onClick:()=>x("/reset-password"),className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot password?"})}),!t&&o.jsxs("div",{className:"flex items-start mt-2",children:[o.jsx("input",{id:"terms",type:"checkbox",checked:m,onChange:T=>p(T.target.checked),className:`h-4 w-4 text-indigo-600 border ${l.terms?"border-red-500":"border-gray-300"} rounded`}),o.jsxs("label",{htmlFor:"terms",className:"ml-3 text-sm text-gray-700",children:["I agree to the"," ",o.jsx(jn,{to:"/terms",className:"text-indigo-600 hover:text-indigo-500",children:"Terms of Service"})," ","and"," ",o.jsx(jn,{to:"/privacy",className:"text-indigo-600 hover:text-indigo-500",children:"Privacy Policy"}),"."]})]}),o.jsx("button",{type:"submit",disabled:i||!t&&!y,className:"w-full py-3 px-4 rounded-lg text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 shadow-md transition disabled:opacity-70",children:i?"Please wait...":t?"Sign in":"Create account"})]})]})})},Yz=6048e5,t0e=864e5,Kz=6e4,Xz=36e5,PI=Symbol.for("constructDateFrom");function ga(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&PI in t?t[PI](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ys(t,e){return ga(e||t,t)}function n0e(t,e,n){const s=Ys(t,n==null?void 0:n.in);return isNaN(e)?ga(t,NaN):(e&&s.setDate(s.getDate()+e),s)}let s0e={};function J5(){return s0e}function gx(t,e){var l,c,u,d;const n=J5(),s=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=Ys(t,e==null?void 0:e.in),i=r.getDay(),a=(i<s?7:0)+i-s;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function ow(t,e){return gx(t,{...e,weekStartsOn:1})}function Jz(t,e){const n=Ys(t,e==null?void 0:e.in),s=n.getFullYear(),r=ga(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const i=ow(r),a=ga(n,0);a.setFullYear(s,0,4),a.setHours(0,0,0,0);const l=ow(a);return n.getTime()>=i.getTime()?s+1:n.getTime()>=l.getTime()?s:s-1}function RI(t){const e=Ys(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Zz(t,...e){const n=ga.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function Df(t,e){const n=Ys(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function r0e(t,e,n){const[s,r]=Zz(n==null?void 0:n.in,t,e),i=Df(s),a=Df(r),l=+i-RI(i),c=+a-RI(a);return Math.round((l-c)/t0e)}function i0e(t,e){const n=Jz(t,e),s=ga(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),ow(s)}function e$(t){return ga(t,Date.now())}function t$(t,e,n){const[s,r]=Zz(n==null?void 0:n.in,t,e);return+Df(s)==+Df(r)}function a0e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function o0e(t){return!(!a0e(t)&&typeof t!="number"||isNaN(+Ys(t)))}function II(t,e){const n=Ys(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function l0e(t,e){const n=Ys(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const c0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u0e=(t,e,n)=>{let s;const r=c0e[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function a4(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const d0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},h0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},f0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m0e={date:a4({formats:d0e,defaultWidth:"full"}),time:a4({formats:h0e,defaultWidth:"full"}),dateTime:a4({formats:f0e,defaultWidth:"full"})},p0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g0e=(t,e,n,s)=>p0e[t];function b0(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;r=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const y0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},x0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},v0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N0e=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},S0e={ordinalNumber:N0e,era:b0({values:y0e,defaultWidth:"wide"}),quarter:b0({values:x0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:b0({values:b0e,defaultWidth:"wide"}),day:b0({values:v0e,defaultWidth:"wide"}),dayPeriod:b0({values:w0e,defaultWidth:"wide",formattingValues:_0e,defaultFormattingWidth:"wide"})};function v0(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const a=i[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?E0e(l,h=>h.test(a)):j0e(l,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function j0e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function E0e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function A0e(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(r.length);return{value:a,rest:l}}}const T0e=/^(\d+)(th|st|nd|rd)?/i,C0e=/\d+/i,k0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},P0e={any:[/^b/i,/^(a|c)/i]},R0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I0e={any:[/1/i,/2/i,/3/i,/4/i]},L0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},M0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},O0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},F0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},B0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},V0e={ordinalNumber:A0e({matchPattern:T0e,parsePattern:C0e,valueCallback:t=>parseInt(t,10)}),era:v0({matchPatterns:k0e,defaultMatchWidth:"wide",parsePatterns:P0e,defaultParseWidth:"any"}),quarter:v0({matchPatterns:R0e,defaultMatchWidth:"wide",parsePatterns:I0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:v0({matchPatterns:L0e,defaultMatchWidth:"wide",parsePatterns:M0e,defaultParseWidth:"any"}),day:v0({matchPatterns:D0e,defaultMatchWidth:"wide",parsePatterns:O0e,defaultParseWidth:"any"}),dayPeriod:v0({matchPatterns:F0e,defaultMatchWidth:"any",parsePatterns:B0e,defaultParseWidth:"any"})},U0e={code:"en-US",formatDistance:u0e,formatLong:m0e,formatRelative:g0e,localize:S0e,match:V0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function z0e(t,e){const n=Ys(t,e==null?void 0:e.in);return r0e(n,l0e(n))+1}function $0e(t,e){const n=Ys(t,e==null?void 0:e.in),s=+ow(n)-+i0e(n);return Math.round(s/Yz)+1}function n$(t,e){var d,h,f,m;const n=Ys(t,e==null?void 0:e.in),s=n.getFullYear(),r=J5(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=ga((e==null?void 0:e.in)||t,0);a.setFullYear(s+1,0,i),a.setHours(0,0,0,0);const l=gx(a,e),c=ga((e==null?void 0:e.in)||t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const u=gx(c,e);return+n>=+l?s+1:+n>=+u?s:s-1}function q0e(t,e){var l,c,u,d;const n=J5(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,r=n$(t,e),i=ga((e==null?void 0:e.in)||t,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),gx(i,e)}function H0e(t,e){const n=Ys(t,e==null?void 0:e.in),s=+gx(n,e)-+q0e(n,e);return Math.round(s/Yz)+1}function wn(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Cu={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return wn(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):wn(n+1,2)},d(t,e){return wn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return wn(t.getHours()%12||12,e.length)},H(t,e){return wn(t.getHours(),e.length)},m(t,e){return wn(t.getMinutes(),e.length)},s(t,e){return wn(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return wn(r,e.length)}},Pm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LI={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return Cu.y(t,e)},Y:function(t,e,n,s){const r=n$(t,s),i=r>0?r:1-r;if(e==="YY"){const a=i%100;return wn(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):wn(i,e.length)},R:function(t,e){const n=Jz(t);return wn(n,e.length)},u:function(t,e){const n=t.getFullYear();return wn(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return wn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return wn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Cu.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return wn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=H0e(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):wn(r,e.length)},I:function(t,e,n){const s=$0e(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):wn(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Cu.d(t,e)},D:function(t,e,n){const s=z0e(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):wn(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return wn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return wn(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return wn(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=Pm.noon:s===0?r=Pm.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=Pm.evening:s>=12?r=Pm.afternoon:s>=4?r=Pm.morning:r=Pm.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Cu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Cu.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):wn(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):wn(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Cu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Cu.s(t,e)},S:function(t,e){return Cu.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return DI(s);case"XXXX":case"XX":return Uh(s);case"XXXXX":case"XXX":default:return Uh(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return DI(s);case"xxxx":case"xx":return Uh(s);case"xxxxx":case"xxx":default:return Uh(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+MI(s,":");case"OOOO":default:return"GMT"+Uh(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+MI(s,":");case"zzzz":default:return"GMT"+Uh(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return wn(s,e.length)},T:function(t,e,n){return wn(+t,e.length)}};function MI(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),i=s%60;return i===0?n+String(r):n+String(r)+e+wn(i,2)}function DI(t,e){return t%60===0?(t>0?"-":"+")+wn(Math.abs(t)/60,2):Uh(t,e)}function Uh(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=wn(Math.trunc(s/60),2),i=wn(s%60,2);return n+r+e+i}const OI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},s$=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Q0e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return OI(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",OI(s,e)).replace("{{time}}",s$(r,e))},G0e={p:s$,P:Q0e},W0e=/^D+$/,Y0e=/^Y+$/,K0e=["D","DD","YY","YYYY"];function X0e(t){return W0e.test(t)}function J0e(t){return Y0e.test(t)}function Z0e(t,e,n){const s=eye(t,e,n);if(console.warn(s),K0e.includes(t))throw new RangeError(s)}function eye(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sye=/^'([^]*?)'?$/,rye=/''/g,iye=/[a-zA-Z]/;function $s(t,e,n){var d,h,f,m;const s=J5(),r=s.locale??U0e,i=s.firstWeekContainsDate??((h=(d=s.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=s.weekStartsOn??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,l=Ys(t,n==null?void 0:n.in);if(!o0e(l))throw new RangeError("Invalid time value");let c=e.match(nye).map(p=>{const x=p[0];if(x==="p"||x==="P"){const v=G0e[x];return v(p,r.formatLong)}return p}).join("").match(tye).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const x=p[0];if(x==="'")return{isToken:!1,value:aye(p)};if(LI[x])return{isToken:!0,value:p};if(x.match(iye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:p}});r.localize.preprocessor&&(c=r.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:r};return c.map(p=>{if(!p.isToken)return p.value;const x=p.value;(J0e(x)||X0e(x))&&Z0e(x,e,String(t));const v=LI[x[0]];return v(l,x,r.localize,u)}).join("")}function aye(t){const e=t.match(sye);return e?e[1].replace(rye,"'"):t}function Cb(t,e){return+Ys(t)>+Ys(e)}function FI(t,e){return+Ys(t)<+Ys(e)}function oye(t){return+Ys(t)<Date.now()}function BI(t,e){return t$(ga(t,t),e$(t))}function r$(t,e,n){return n0e(t,-e,n)}function VI(t,e){return t$(ga(t,t),r$(e$(t),1))}function sa(t,e){const n=()=>ga(e==null?void 0:e.in,NaN),r=dye(t);let i;if(r.date){const u=hye(r.date,2);i=fye(u.restDateString,u.year)}if(!i||isNaN(+i))return n();const a=+i;let l=0,c;if(r.time&&(l=mye(r.time),isNaN(l)))return n();if(r.timezone){if(c=pye(r.timezone),isNaN(c))return n()}else{const u=new Date(a+l),d=Ys(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Ys(a+l+c,e==null?void 0:e.in)}const kb={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},lye=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,cye=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,uye=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dye(t){const e={},n=t.split(kb.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],kb.timeZoneDelimiter.test(e.date)&&(e.date=t.split(kb.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const r=kb.timezone.exec(s);r?(e.time=s.replace(r[1],""),e.timezone=r[1]):e.time=s}return e}function hye(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(n);if(!s)return{year:NaN,restDateString:""};const r=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?r:i*100,restDateString:t.slice((s[1]||s[2]).length)}}function fye(t,e){if(e===null)return new Date(NaN);const n=t.match(lye);if(!n)return new Date(NaN);const s=!!n[4],r=w0(n[1]),i=w0(n[2])-1,a=w0(n[3]),l=w0(n[4]),c=w0(n[5])-1;if(s)return vye(e,l,c)?gye(e,l,c):new Date(NaN);{const u=new Date(0);return!xye(e,i,a)||!bye(e,r)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(r,a)),u)}}function w0(t){return t?parseInt(t):1}function mye(t){const e=t.match(cye);if(!e)return NaN;const n=o4(e[1]),s=o4(e[2]),r=o4(e[3]);return wye(n,s,r)?n*Xz+s*Kz+r*1e3:NaN}function o4(t){return t&&parseFloat(t.replace(",","."))||0}function pye(t){if(t==="Z")return 0;const e=t.match(uye);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return _ye(s,r)?n*(s*Xz+r*Kz):NaN}function gye(t,e,n){const s=new Date(0);s.setUTCFullYear(t,0,4);const r=s.getUTCDay()||7,i=(e-1)*7+n+1-r;return s.setUTCDate(s.getUTCDate()+i),s}const yye=[31,null,31,30,31,30,31,31,30,31,30,31];function i$(t){return t%400===0||t%4===0&&t%100!==0}function xye(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(yye[e]||(i$(t)?29:28))}function bye(t,e){return e>=1&&e<=(i$(t)?366:365)}function vye(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function wye(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function _ye(t,e){return e>=0&&e<=59}function Nye(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(s){if(s!=="default"&&!(s in t)){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}})}),Object.freeze(t)}function a$(t,e){return new Promise(function(n,s){let r;return Sye(t).then(function(i){try{return r=i,n(new Blob([e.slice(0,2),r,e.slice(2)],{type:"image/jpeg"}))}catch(a){return s(a)}},s)})}const Sye=t=>new Promise((e,n)=>{const s=new FileReader;s.addEventListener("load",({target:{result:r}})=>{const i=new DataView(r);let a=0;if(i.getUint16(a)!==65496)return n("not a valid JPEG");for(a+=2;;){const l=i.getUint16(a);if(l===65498)break;const c=i.getUint16(a+2);if(l===65505&&i.getUint32(a+4)===1165519206){const u=a+10;let d;switch(i.getUint16(u)){case 18761:d=!0;break;case 19789:d=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(u+2,d)!==42)return n("TIFF header contains invalid version");const h=i.getUint32(u+4,d),f=u+h+2+12*i.getUint16(u+h,d);for(let m=u+h+2;m<f;m+=12)if(i.getUint16(m,d)==274){if(i.getUint16(m+2,d)!==3)return n("Orientation data type is invalid");if(i.getUint32(m+4,d)!==1)return n("Orientation data count is invalid");i.setUint16(m+8,1,d);break}return e(r.slice(a,a+2+c))}a+=2+c}return e(new Blob)}),s.readAsArrayBuffer(t)});var lw={},jye={get exports(){return lw},set exports(t){lw=t}};(function(t){var e,n,s={};jye.exports=s,s.parse=function(r,i){for(var a=s.bin.readUshort,l=s.bin.readUint,c=0,u={},d=new Uint8Array(r),h=d.length-4;l(d,h)!=101010256;)h--;c=h,c+=4;var f=a(d,c+=4);a(d,c+=2);var m=l(d,c+=2),p=l(d,c+=4);c+=4,c=p;for(var x=0;x<f;x++){l(d,c),c+=4,c+=4,c+=4,l(d,c+=4),m=l(d,c+=4);var v=l(d,c+=4),y=a(d,c+=4),_=a(d,c+2),N=a(d,c+4);c+=6;var P=l(d,c+=8);c+=4,c+=y+_+N,s._readLocal(d,P,u,m,v,i)}return u},s._readLocal=function(r,i,a,l,c,u){var d=s.bin.readUshort,h=s.bin.readUint;h(r,i),d(r,i+=4),d(r,i+=2);var f=d(r,i+=2);h(r,i+=2),h(r,i+=4),i+=4;var m=d(r,i+=8),p=d(r,i+=2);i+=2;var x=s.bin.readUTF8(r,i,m);if(i+=m,i+=p,u)a[x]={size:c,csize:l};else{var v=new Uint8Array(r.buffer,i);if(f==0)a[x]=new Uint8Array(v.buffer.slice(i,i+l));else{if(f!=8)throw"unknown compression method: "+f;var y=new Uint8Array(c);s.inflateRaw(v,y),a[x]=y}}},s.inflateRaw=function(r,i){return s.F.inflate(r,i)},s.inflate=function(r,i){return r[0],r[1],s.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),i)},s.deflate=function(r,i){i==null&&(i={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*r.length));l[a]=120,l[a+1]=156,a+=2,a=s.F.deflateRaw(r,l,a,i.level);var c=s.adler(r,0,r.length);return l[a+0]=c>>>24&255,l[a+1]=c>>>16&255,l[a+2]=c>>>8&255,l[a+3]=c>>>0&255,new Uint8Array(l.buffer,0,a+4)},s.deflateRaw=function(r,i){i==null&&(i={level:6});var a=new Uint8Array(50+Math.floor(1.1*r.length)),l=s.F.deflateRaw(r,a,l,i.level);return new Uint8Array(a.buffer,0,l)},s.encode=function(r,i){i==null&&(i=!1);var a=0,l=s.bin.writeUint,c=s.bin.writeUshort,u={};for(var d in r){var h=!s._noNeed(d)&&!i,f=r[d],m=s.crc.crc(f,0,f.length);u[d]={cpr:h,usize:f.length,crc:m,file:h?s.deflateRaw(f):f}}for(var d in u)a+=u[d].file.length+30+46+2*s.bin.sizeUTF8(d);a+=22;var p=new Uint8Array(a),x=0,v=[];for(var d in u){var y=u[d];v.push(x),x=s._writeHeader(p,x,d,y,0)}var _=0,N=x;for(var d in u)y=u[d],v.push(x),x=s._writeHeader(p,x,d,y,1,v[_++]);var P=x-N;return l(p,x,101010256),x+=4,c(p,x+=4,_),c(p,x+=2,_),l(p,x+=2,P),l(p,x+=4,N),x+=4,x+=2,p.buffer},s._noNeed=function(r){var i=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},s._writeHeader=function(r,i,a,l,c,u){var d=s.bin.writeUint,h=s.bin.writeUshort,f=l.file;return d(r,i,c==0?67324752:33639248),i+=4,c==1&&(i+=2),h(r,i,20),h(r,i+=2,0),h(r,i+=2,l.cpr?8:0),d(r,i+=2,0),d(r,i+=4,l.crc),d(r,i+=4,f.length),d(r,i+=4,l.usize),h(r,i+=4,s.bin.sizeUTF8(a)),h(r,i+=2,0),i+=2,c==1&&(i+=2,i+=2,d(r,i+=6,u),i+=4),i+=s.bin.writeUTF8(r,i,a),c==0&&(r.set(f,i),i+=f.length),i},s.crc={table:function(){for(var r=new Uint32Array(256),i=0;i<256;i++){for(var a=i,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;r[i]=a}return r}(),update:function(r,i,a,l){for(var c=0;c<l;c++)r=s.crc.table[255&(r^i[a+c])]^r>>>8;return r},crc:function(r,i,a){return 4294967295^s.crc.update(4294967295,r,i,a)}},s.adler=function(r,i,a){for(var l=1,c=0,u=i,d=i+a;u<d;){for(var h=Math.min(u+5552,d);u<h;)c+=l+=r[u++];l%=65521,c%=65521}return c<<16|l},s.bin={readUshort:function(r,i){return r[i]|r[i+1]<<8},writeUshort:function(r,i,a){r[i]=255&a,r[i+1]=a>>8&255},readUint:function(r,i){return 16777216*r[i+3]+(r[i+2]<<16|r[i+1]<<8|r[i])},writeUint:function(r,i,a){r[i]=255&a,r[i+1]=a>>8&255,r[i+2]=a>>16&255,r[i+3]=a>>24&255},readASCII:function(r,i,a){for(var l="",c=0;c<a;c++)l+=String.fromCharCode(r[i+c]);return l},writeASCII:function(r,i,a){for(var l=0;l<a.length;l++)r[i+l]=a.charCodeAt(l)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,i,a){for(var l,c="",u=0;u<a;u++)c+="%"+s.bin.pad(r[i+u].toString(16));try{l=decodeURIComponent(c)}catch{return s.bin.readASCII(r,i,a)}return l},writeUTF8:function(r,i,a){for(var l=a.length,c=0,u=0;u<l;u++){var d=a.charCodeAt(u);if(!(4294967168&d))r[i+c]=d,c++;else if(!(4294965248&d))r[i+c]=192|d>>6,r[i+c+1]=128|d>>0&63,c+=2;else if(!(4294901760&d))r[i+c]=224|d>>12,r[i+c+1]=128|d>>6&63,r[i+c+2]=128|d>>0&63,c+=3;else{if(4292870144&d)throw"e";r[i+c]=240|d>>18,r[i+c+1]=128|d>>12&63,r[i+c+2]=128|d>>6&63,r[i+c+3]=128|d>>0&63,c+=4}}return c},sizeUTF8:function(r){for(var i=r.length,a=0,l=0;l<i;l++){var c=r.charCodeAt(l);if(!(4294967168&c))a++;else if(!(4294965248&c))a+=2;else if(!(4294901760&c))a+=3;else{if(4292870144&c)throw"e";a+=4}}return a}},s.F={},s.F.deflateRaw=function(r,i,a,l){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],u=s.F.U,d=s.F._goodIndex;s.F._hash;var h=s.F._putsE,f=0,m=a<<3,p=0,x=r.length;if(l==0){for(;f<x;)h(i,m,f+(E=Math.min(65535,x-f))==x?1:0),m=s.F._copyExact(r,f,E,i,m+8),f+=E;return m>>>3}var v=u.lits,y=u.strt,_=u.prev,N=0,P=0,I=0,D=0,C=0,w=0;for(x>2&&(y[w=s.F._hash(r,0)]=0),f=0;f<x;f++){if(C=w,f+1<x-2){w=s.F._hash(r,f+1);var A=f+1&32767;_[A]=y[w],y[w]=A}if(p<=f){(N>14e3||P>26697)&&x-f>100&&(p<f&&(v[N]=f-p,N+=2,p=f),m=s.F._writeBlock(f==x-1||p==x?1:0,v,N,D,r,I,f-I,i,m),N=P=D=0,I=f);var R=0;f<x-2&&(R=s.F._bestMatch(r,f,_,C,Math.min(c[2],x-f),c[3]));var E=R>>>16,T=65535&R;if(R!=0){T=65535&R;var L=d(E=R>>>16,u.of0);u.lhst[257+L]++;var z=d(T,u.df0);u.dhst[z]++,D+=u.exb[L]+u.dxb[z],v[N]=E<<23|f-p,v[N+1]=T<<16|L<<8|z,N+=2,p=f+E}else u.lhst[r[f]]++;P++}}for(I==f&&r.length!=0||(p<f&&(v[N]=f-p,N+=2,p=f),m=s.F._writeBlock(1,v,N,D,r,I,f-I,i,m),N=0,P=0,N=P=D=0,I=f);7&m;)m++;return m>>>3},s.F._bestMatch=function(r,i,a,l,c,u){var d=32767&i,h=a[d],f=d-h+32768&32767;if(h==d||l!=s.F._hash(r,i-f))return 0;for(var m=0,p=0,x=Math.min(32767,i);f<=x&&--u!=0&&h!=d;){if(m==0||r[i+m]==r[i+m-f]){var v=s.F._howLong(r,i,f);if(v>m){if(p=f,(m=v)>=c)break;f+2<v&&(v=f+2);for(var y=0,_=0;_<v-2;_++){var N=i-f+_+32768&32767,P=N-a[N]+32768&32767;P>y&&(y=P,h=N)}}}f+=(d=h)-(h=a[d])+32768&32767}return m<<16|p},s.F._howLong=function(r,i,a){if(r[i]!=r[i-a]||r[i+1]!=r[i+1-a]||r[i+2]!=r[i+2-a])return 0;var l=i,c=Math.min(r.length,i+258);for(i+=3;i<c&&r[i]==r[i-a];)i++;return i-l},s.F._hash=function(r,i){return(r[i]<<8|r[i+1])+(r[i+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(r,i,a,l,c,u,d,h,f){var m,p,x,v,y,_,N,P,I,D=s.F.U,C=s.F._putsF,w=s.F._putsE;D.lhst[256]++,p=(m=s.F.getTrees())[0],x=m[1],v=m[2],y=m[3],_=m[4],N=m[5],P=m[6],I=m[7];var A=32+(f+3&7?8-(f+3&7):0)+(d<<3),R=l+s.F.contSize(D.fltree,D.lhst)+s.F.contSize(D.fdtree,D.dhst),E=l+s.F.contSize(D.ltree,D.lhst)+s.F.contSize(D.dtree,D.dhst);E+=14+3*N+s.F.contSize(D.itree,D.ihst)+(2*D.ihst[16]+3*D.ihst[17]+7*D.ihst[18]);for(var T=0;T<286;T++)D.lhst[T]=0;for(T=0;T<30;T++)D.dhst[T]=0;for(T=0;T<19;T++)D.ihst[T]=0;var L=A<R&&A<E?0:R<E?1:2;if(C(h,f,r),C(h,f+1,L),f+=3,L==0){for(;7&f;)f++;f=s.F._copyExact(c,u,d,h,f)}else{var z,$;if(L==1&&(z=D.fltree,$=D.fdtree),L==2){s.F.makeCodes(D.ltree,p),s.F.revCodes(D.ltree,p),s.F.makeCodes(D.dtree,x),s.F.revCodes(D.dtree,x),s.F.makeCodes(D.itree,v),s.F.revCodes(D.itree,v),z=D.ltree,$=D.dtree,w(h,f,y-257),w(h,f+=5,_-1),w(h,f+=5,N-4),f+=4;for(var O=0;O<N;O++)w(h,f+3*O,D.itree[1+(D.ordr[O]<<1)]);f+=3*N,f=s.F._codeTiny(P,D.itree,h,f),f=s.F._codeTiny(I,D.itree,h,f)}for(var F=u,Q=0;Q<a;Q+=2){for(var V=i[Q],W=V>>>23,Z=F+(8388607&V);F<Z;)f=s.F._writeLit(c[F++],z,h,f);if(W!=0){var U=i[Q+1],G=U>>16,Y=U>>8&255,J=255&U;w(h,f=s.F._writeLit(257+Y,z,h,f),W-D.of0[Y]),f+=D.exb[Y],C(h,f=s.F._writeLit(J,$,h,f),G-D.df0[J]),f+=D.dxb[J],F+=W}}f=s.F._writeLit(256,z,h,f)}return f},s.F._copyExact=function(r,i,a,l,c){var u=c>>>3;return l[u]=a,l[u+1]=a>>>8,l[u+2]=255-l[u],l[u+3]=255-l[u+1],u+=4,l.set(new Uint8Array(r.buffer,i,a),u),c+(a+4<<3)},s.F.getTrees=function(){for(var r=s.F.U,i=s.F._hufTree(r.lhst,r.ltree,15),a=s.F._hufTree(r.dhst,r.dtree,15),l=[],c=s.F._lenCodes(r.ltree,l),u=[],d=s.F._lenCodes(r.dtree,u),h=0;h<l.length;h+=2)r.ihst[l[h]]++;for(h=0;h<u.length;h+=2)r.ihst[u[h]]++;for(var f=s.F._hufTree(r.ihst,r.itree,7),m=19;m>4&&r.itree[1+(r.ordr[m-1]<<1)]==0;)m--;return[i,a,f,c,d,m,l,u]},s.F.getSecond=function(r){for(var i=[],a=0;a<r.length;a+=2)i.push(r[a+1]);return i},s.F.nonZero=function(r){for(var i="",a=0;a<r.length;a+=2)r[a+1]!=0&&(i+=(a>>1)+",");return i},s.F.contSize=function(r,i){for(var a=0,l=0;l<i.length;l++)a+=i[l]*r[1+(l<<1)];return a},s.F._codeTiny=function(r,i,a,l){for(var c=0;c<r.length;c+=2){var u=r[c],d=r[c+1];l=s.F._writeLit(u,i,a,l);var h=u==16?2:u==17?3:7;u>15&&(s.F._putsE(a,l,d,h),l+=h)}return l},s.F._lenCodes=function(r,i){for(var a=r.length;a!=2&&r[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var c=r[l+1],u=l+3<a?r[l+3]:-1,d=l+5<a?r[l+5]:-1,h=l==0?-1:r[l-1];if(c==0&&u==c&&d==c){for(var f=l+5;f+2<a&&r[f+2]==c;)f+=2;(m=Math.min(f+1-l>>>1,138))<11?i.push(17,m-3):i.push(18,m-11),l+=2*m-2}else if(c==h&&u==c&&d==c){for(f=l+5;f+2<a&&r[f+2]==c;)f+=2;var m=Math.min(f+1-l>>>1,6);i.push(16,m-3),l+=2*m-2}else i.push(c,0)}return a>>>1},s.F._hufTree=function(r,i,a){var l=[],c=r.length,u=i.length,d=0;for(d=0;d<u;d+=2)i[d]=0,i[d+1]=0;for(d=0;d<c;d++)r[d]!=0&&l.push({lit:d,f:r[d]});var h=l.length,f=l.slice(0);if(h==0)return 0;if(h==1){var m=l[0].lit;return f=m==0?1:0,i[1+(m<<1)]=1,i[1+(f<<1)]=1,1}l.sort(function(P,I){return P.f-I.f});var p=l[0],x=l[1],v=0,y=1,_=2;for(l[0]={lit:-1,f:p.f+x.f,l:p,r:x,d:0};y!=h-1;)p=v!=y&&(_==h||l[v].f<l[_].f)?l[v++]:l[_++],x=v!=y&&(_==h||l[v].f<l[_].f)?l[v++]:l[_++],l[y++]={lit:-1,f:p.f+x.f,l:p,r:x};var N=s.F.setDepth(l[y-1],0);for(N>a&&(s.F.restrictDepth(f,a,N),N=a),d=0;d<h;d++)i[1+(f[d].lit<<1)]=f[d].d;return N},s.F.setDepth=function(r,i){return r.lit!=-1?(r.d=i,i):Math.max(s.F.setDepth(r.l,i+1),s.F.setDepth(r.r,i+1))},s.F.restrictDepth=function(r,i,a){var l=0,c=1<<a-i,u=0;for(r.sort(function(h,f){return f.d==h.d?h.f-f.f:f.d-h.d}),l=0;l<r.length&&r[l].d>i;l++){var d=r[l].d;r[l].d=i,u+=c-(1<<a-d)}for(u>>>=a-i;u>0;)(d=r[l].d)<i?(r[l].d++,u-=1<<i-d-1):l++;for(;l>=0;l--)r[l].d==i&&u<0&&(r[l].d--,u++);u!=0&&console.log("debt left")},s.F._goodIndex=function(r,i){var a=0;return i[16|a]<=r&&(a|=16),i[8|a]<=r&&(a|=8),i[4|a]<=r&&(a|=4),i[2|a]<=r&&(a|=2),i[1|a]<=r&&(a|=1),a},s.F._writeLit=function(r,i,a,l){return s.F._putsF(a,l,i[r<<1]),l+i[1+(r<<1)]},s.F.inflate=function(r,i){var a=Uint8Array;if(r[0]==3&&r[1]==0)return i||new a(0);var l=s.F,c=l._bitsF,u=l._bitsE,d=l._decodeTiny,h=l.makeCodes,f=l.codes2map,m=l._get17,p=l.U,x=i==null;x&&(i=new a(r.length>>>2<<3));for(var v,y,_=0,N=0,P=0,I=0,D=0,C=0,w=0,A=0,R=0;_==0;)if(_=c(r,R,1),N=c(r,R+1,2),R+=3,N!=0){if(x&&(i=s.F._check(i,A+(1<<17))),N==1&&(v=p.flmap,y=p.fdmap,C=511,w=31),N==2){P=u(r,R,5)+257,I=u(r,R+5,5)+1,D=u(r,R+10,4)+4,R+=14;for(var E=0;E<38;E+=2)p.itree[E]=0,p.itree[E+1]=0;var T=1;for(E=0;E<D;E++){var L=u(r,R+3*E,3);p.itree[1+(p.ordr[E]<<1)]=L,L>T&&(T=L)}R+=3*D,h(p.itree,T),f(p.itree,T,p.imap),v=p.lmap,y=p.dmap,R=d(p.imap,(1<<T)-1,P+I,r,R,p.ttree);var z=l._copyOut(p.ttree,0,P,p.ltree);C=(1<<z)-1;var $=l._copyOut(p.ttree,P,I,p.dtree);w=(1<<$)-1,h(p.ltree,z),f(p.ltree,z,v),h(p.dtree,$),f(p.dtree,$,y)}for(;;){var O=v[m(r,R)&C];R+=15&O;var F=O>>>4;if(!(F>>>8))i[A++]=F;else{if(F==256)break;var Q=A+F-254;if(F>264){var V=p.ldef[F-257];Q=A+(V>>>3)+u(r,R,7&V),R+=7&V}var W=y[m(r,R)&w];R+=15&W;var Z=W>>>4,U=p.ddef[Z],G=(U>>>4)+c(r,R,15&U);for(R+=15&U,x&&(i=s.F._check(i,A+(1<<17)));A<Q;)i[A]=i[A++-G],i[A]=i[A++-G],i[A]=i[A++-G],i[A]=i[A++-G];A=Q}}}else{7&R&&(R+=8-(7&R));var Y=4+(R>>>3),J=r[Y-4]|r[Y-3]<<8;x&&(i=s.F._check(i,A+J)),i.set(new a(r.buffer,r.byteOffset+Y,J),A),R=Y+J<<3,A+=J}return i.length==A?i:i.slice(0,A)},s.F._check=function(r,i){var a=r.length;if(i<=a)return r;var l=new Uint8Array(Math.max(a<<1,i));return l.set(r,0),l},s.F._decodeTiny=function(r,i,a,l,c,u){for(var d=s.F._bitsE,h=s.F._get17,f=0;f<a;){var m=r[h(l,c)&i];c+=15&m;var p=m>>>4;if(p<=15)u[f]=p,f++;else{var x=0,v=0;p==16?(v=3+d(l,c,2),c+=2,x=u[f-1]):p==17?(v=3+d(l,c,3),c+=3):p==18&&(v=11+d(l,c,7),c+=7);for(var y=f+v;f<y;)u[f]=x,f++}}return c},s.F._copyOut=function(r,i,a,l){for(var c=0,u=0,d=l.length>>>1;u<a;){var h=r[u+i];l[u<<1]=0,l[1+(u<<1)]=h,h>c&&(c=h),u++}for(;u<d;)l[u<<1]=0,l[1+(u<<1)]=0,u++;return c},s.F.makeCodes=function(r,i){for(var a,l,c,u,d=s.F.U,h=r.length,f=d.bl_count,m=0;m<=i;m++)f[m]=0;for(m=1;m<h;m+=2)f[r[m]]++;var p=d.next_code;for(a=0,f[0]=0,l=1;l<=i;l++)a=a+f[l-1]<<1,p[l]=a;for(c=0;c<h;c+=2)(u=r[c+1])!=0&&(r[c]=p[u],p[u]++)},s.F.codes2map=function(r,i,a){for(var l=r.length,c=s.F.U.rev15,u=0;u<l;u+=2)if(r[u+1]!=0)for(var d=u>>1,h=r[u+1],f=d<<4|h,m=i-h,p=r[u]<<m,x=p+(1<<m);p!=x;)a[c[p]>>>15-i]=f,p++},s.F.revCodes=function(r,i){for(var a=s.F.U.rev15,l=15-i,c=0;c<r.length;c+=2){var u=r[c]<<i-r[c+1];r[c]=a[u]>>>l}},s.F._putsE=function(r,i,a){a<<=7&i;var l=i>>>3;r[l]|=a,r[l+1]|=a>>>8},s.F._putsF=function(r,i,a){a<<=7&i;var l=i>>>3;r[l]|=a,r[l+1]|=a>>>8,r[l+2]|=a>>>16},s.F._bitsE=function(r,i,a){return(r[i>>>3]|r[1+(i>>>3)]<<8)>>>(7&i)&(1<<a)-1},s.F._bitsF=function(r,i,a){return(r[i>>>3]|r[1+(i>>>3)]<<8|r[2+(i>>>3)]<<16)>>>(7&i)&(1<<a)-1},s.F._get17=function(r,i){return(r[i>>>3]|r[1+(i>>>3)]<<8|r[2+(i>>>3)]<<16)>>>(7&i)},s.F._get25=function(r,i){return(r[i>>>3]|r[1+(i>>>3)]<<8|r[2+(i>>>3)]<<16|r[3+(i>>>3)]<<24)>>>(7&i)},s.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var r=s.F.U,i=0;i<32768;i++){var a=i;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,r.rev15[i]=(a>>>16|a<<16)>>>17}function l(c,u,d){for(;u--!=0;)c.push(0,d)}for(i=0;i<32;i++)r.ldef[i]=r.of0[i]<<3|r.exb[i],r.ddef[i]=r.df0[i]<<4|r.dxb[i];l(r.fltree,144,8),l(r.fltree,112,9),l(r.fltree,24,7),l(r.fltree,8,8),s.F.makeCodes(r.fltree,9),s.F.codes2map(r.fltree,9,r.flmap),s.F.revCodes(r.fltree,9),l(r.fdtree,32,5),s.F.makeCodes(r.fdtree,5),s.F.codes2map(r.fdtree,5,r.fdmap),s.F.revCodes(r.fdtree,5),l(r.itree,19,0),l(r.ltree,286,0),l(r.dtree,30,0),l(r.ttree,320,0)}()})();var Eye=Nye({__proto__:null,default:lw},[lw]);const mo=function(){var t={nextZero(d,h){for(;d[h]!=0;)h++;return h},readUshort:(d,h)=>d[h]<<8|d[h+1],writeUshort(d,h,f){d[h]=f>>8&255,d[h+1]=255&f},readUint:(d,h)=>16777216*d[h]+(d[h+1]<<16|d[h+2]<<8|d[h+3]),writeUint(d,h,f){d[h]=f>>24&255,d[h+1]=f>>16&255,d[h+2]=f>>8&255,d[h+3]=255&f},readASCII(d,h,f){let m="";for(let p=0;p<f;p++)m+=String.fromCharCode(d[h+p]);return m},writeASCII(d,h,f){for(let m=0;m<f.length;m++)d[h+m]=f.charCodeAt(m)},readBytes(d,h,f){const m=[];for(let p=0;p<f;p++)m.push(d[h+p]);return m},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,h,f){let m,p="";for(let x=0;x<f;x++)p+=`%${t.pad(d[h+x].toString(16))}`;try{m=decodeURIComponent(p)}catch{return t.readASCII(d,h,f)}return m}};function e(d,h,f,m){const p=h*f,x=i(m),v=Math.ceil(h*x/8),y=new Uint8Array(4*p),_=new Uint32Array(y.buffer),{ctype:N}=m,{depth:P}=m,I=t.readUshort;if(N==6){const V=p<<2;if(P==8)for(var D=0;D<V;D+=4)y[D]=d[D],y[D+1]=d[D+1],y[D+2]=d[D+2],y[D+3]=d[D+3];if(P==16)for(D=0;D<V;D++)y[D]=d[D<<1]}else if(N==2){const V=m.tabs.tRNS;if(V==null){if(P==8)for(D=0;D<p;D++){var C=3*D;_[D]=255<<24|d[C+2]<<16|d[C+1]<<8|d[C]}if(P==16)for(D=0;D<p;D++)C=6*D,_[D]=255<<24|d[C+4]<<16|d[C+2]<<8|d[C]}else{var w=V[0];const W=V[1],Z=V[2];if(P==8)for(D=0;D<p;D++){var A=D<<2;C=3*D,_[D]=255<<24|d[C+2]<<16|d[C+1]<<8|d[C],d[C]==w&&d[C+1]==W&&d[C+2]==Z&&(y[A+3]=0)}if(P==16)for(D=0;D<p;D++)A=D<<2,C=6*D,_[D]=255<<24|d[C+4]<<16|d[C+2]<<8|d[C],I(d,C)==w&&I(d,C+2)==W&&I(d,C+4)==Z&&(y[A+3]=0)}}else if(N==3){const V=m.tabs.PLTE,W=m.tabs.tRNS,Z=W?W.length:0;if(P==1)for(var R=0;R<f;R++){var E=R*v,T=R*h;for(D=0;D<h;D++){A=T+D<<2;var L=3*(z=d[E+(D>>3)]>>7-((7&D)<<0)&1);y[A]=V[L],y[A+1]=V[L+1],y[A+2]=V[L+2],y[A+3]=z<Z?W[z]:255}}if(P==2)for(R=0;R<f;R++)for(E=R*v,T=R*h,D=0;D<h;D++)A=T+D<<2,L=3*(z=d[E+(D>>2)]>>6-((3&D)<<1)&3),y[A]=V[L],y[A+1]=V[L+1],y[A+2]=V[L+2],y[A+3]=z<Z?W[z]:255;if(P==4)for(R=0;R<f;R++)for(E=R*v,T=R*h,D=0;D<h;D++)A=T+D<<2,L=3*(z=d[E+(D>>1)]>>4-((1&D)<<2)&15),y[A]=V[L],y[A+1]=V[L+1],y[A+2]=V[L+2],y[A+3]=z<Z?W[z]:255;if(P==8)for(D=0;D<p;D++){var z;A=D<<2,L=3*(z=d[D]),y[A]=V[L],y[A+1]=V[L+1],y[A+2]=V[L+2],y[A+3]=z<Z?W[z]:255}}else if(N==4){if(P==8)for(D=0;D<p;D++){A=D<<2;var $=d[O=D<<1];y[A]=$,y[A+1]=$,y[A+2]=$,y[A+3]=d[O+1]}if(P==16)for(D=0;D<p;D++){var O;A=D<<2,$=d[O=D<<2],y[A]=$,y[A+1]=$,y[A+2]=$,y[A+3]=d[O+2]}}else if(N==0)for(w=m.tabs.tRNS?m.tabs.tRNS:-1,R=0;R<f;R++){const V=R*v,W=R*h;if(P==1)for(var F=0;F<h;F++){var Q=($=255*(d[V+(F>>>3)]>>>7-(7&F)&1))==255*w?0:255;_[W+F]=Q<<24|$<<16|$<<8|$}else if(P==2)for(F=0;F<h;F++)Q=($=85*(d[V+(F>>>2)]>>>6-((3&F)<<1)&3))==85*w?0:255,_[W+F]=Q<<24|$<<16|$<<8|$;else if(P==4)for(F=0;F<h;F++)Q=($=17*(d[V+(F>>>1)]>>>4-((1&F)<<2)&15))==17*w?0:255,_[W+F]=Q<<24|$<<16|$<<8|$;else if(P==8)for(F=0;F<h;F++)Q=($=d[V+F])==w?0:255,_[W+F]=Q<<24|$<<16|$<<8|$;else if(P==16)for(F=0;F<h;F++)$=d[V+(F<<1)],Q=I(d,V+(F<<1))==w?0:255,_[W+F]=Q<<24|$<<16|$<<8|$}return y}function n(d,h,f,m){const p=i(d),x=Math.ceil(f*p/8),v=new Uint8Array((x+1+d.interlace)*m);return h=d.tabs.CgBI?r(h,v):s(h,v),d.interlace==0?h=a(h,d,0,f,m):d.interlace==1&&(h=function(_,N){const P=N.width,I=N.height,D=i(N),C=D>>3,w=Math.ceil(P*D/8),A=new Uint8Array(I*w);let R=0;const E=[0,0,4,0,2,0,1],T=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],z=[8,8,4,4,2,2,1];let $=0;for(;$<7;){const F=L[$],Q=z[$];let V=0,W=0,Z=E[$];for(;Z<I;)Z+=F,W++;let U=T[$];for(;U<P;)U+=Q,V++;const G=Math.ceil(V*D/8);a(_,N,R,V,W);let Y=0,J=E[$];for(;J<I;){let re=T[$],le=R+Y*G<<3;for(;re<P;){var O;if(D==1&&(O=(O=_[le>>3])>>7-(7&le)&1,A[J*w+(re>>3)]|=O<<7-((7&re)<<0)),D==2&&(O=(O=_[le>>3])>>6-(7&le)&3,A[J*w+(re>>2)]|=O<<6-((3&re)<<1)),D==4&&(O=(O=_[le>>3])>>4-(7&le)&15,A[J*w+(re>>1)]|=O<<4-((1&re)<<2)),D>=8){const ue=J*w+re*C;for(let de=0;de<C;de++)A[ue+de]=_[(le>>3)+de]}le+=D,re+=Q}Y++,J+=F}V*W!=0&&(R+=W*(1+G)),$+=1}return A}(h,d)),h}function s(d,h){return r(new Uint8Array(d.buffer,2,d.length-6),h)}var r=function(){const d={H:{}};return d.H.N=function(h,f){const m=Uint8Array;let p,x,v=0,y=0,_=0,N=0,P=0,I=0,D=0,C=0,w=0;if(h[0]==3&&h[1]==0)return f||new m(0);const A=d.H,R=A.b,E=A.e,T=A.R,L=A.n,z=A.A,$=A.Z,O=A.m,F=f==null;for(F&&(f=new m(h.length>>>2<<5));v==0;)if(v=R(h,w,1),y=R(h,w+1,2),w+=3,y!=0){if(F&&(f=d.H.W(f,C+(1<<17))),y==1&&(p=O.J,x=O.h,I=511,D=31),y==2){_=E(h,w,5)+257,N=E(h,w+5,5)+1,P=E(h,w+10,4)+4,w+=14;let V=1;for(var Q=0;Q<38;Q+=2)O.Q[Q]=0,O.Q[Q+1]=0;for(Q=0;Q<P;Q++){const U=E(h,w+3*Q,3);O.Q[1+(O.X[Q]<<1)]=U,U>V&&(V=U)}w+=3*P,L(O.Q,V),z(O.Q,V,O.u),p=O.w,x=O.d,w=T(O.u,(1<<V)-1,_+N,h,w,O.v);const W=A.V(O.v,0,_,O.C);I=(1<<W)-1;const Z=A.V(O.v,_,N,O.D);D=(1<<Z)-1,L(O.C,W),z(O.C,W,p),L(O.D,Z),z(O.D,Z,x)}for(;;){const V=p[$(h,w)&I];w+=15&V;const W=V>>>4;if(!(W>>>8))f[C++]=W;else{if(W==256)break;{let Z=C+W-254;if(W>264){const re=O.q[W-257];Z=C+(re>>>3)+E(h,w,7&re),w+=7&re}const U=x[$(h,w)&D];w+=15&U;const G=U>>>4,Y=O.c[G],J=(Y>>>4)+R(h,w,15&Y);for(w+=15&Y;C<Z;)f[C]=f[C++-J],f[C]=f[C++-J],f[C]=f[C++-J],f[C]=f[C++-J];C=Z}}}}else{7&w&&(w+=8-(7&w));const V=4+(w>>>3),W=h[V-4]|h[V-3]<<8;F&&(f=d.H.W(f,C+W)),f.set(new m(h.buffer,h.byteOffset+V,W),C),w=V+W<<3,C+=W}return f.length==C?f:f.slice(0,C)},d.H.W=function(h,f){const m=h.length;if(f<=m)return h;const p=new Uint8Array(m<<1);return p.set(h,0),p},d.H.R=function(h,f,m,p,x,v){const y=d.H.e,_=d.H.Z;let N=0;for(;N<m;){const P=h[_(p,x)&f];x+=15&P;const I=P>>>4;if(I<=15)v[N]=I,N++;else{let D=0,C=0;I==16?(C=3+y(p,x,2),x+=2,D=v[N-1]):I==17?(C=3+y(p,x,3),x+=3):I==18&&(C=11+y(p,x,7),x+=7);const w=N+C;for(;N<w;)v[N]=D,N++}}return x},d.H.V=function(h,f,m,p){let x=0,v=0;const y=p.length>>>1;for(;v<m;){const _=h[v+f];p[v<<1]=0,p[1+(v<<1)]=_,_>x&&(x=_),v++}for(;v<y;)p[v<<1]=0,p[1+(v<<1)]=0,v++;return x},d.H.n=function(h,f){const m=d.H.m,p=h.length;let x,v,y,_;const N=m.j;for(var P=0;P<=f;P++)N[P]=0;for(P=1;P<p;P+=2)N[h[P]]++;const I=m.K;for(x=0,N[0]=0,v=1;v<=f;v++)x=x+N[v-1]<<1,I[v]=x;for(y=0;y<p;y+=2)_=h[y+1],_!=0&&(h[y]=I[_],I[_]++)},d.H.A=function(h,f,m){const p=h.length,x=d.H.m.r;for(let v=0;v<p;v+=2)if(h[v+1]!=0){const y=v>>1,_=h[v+1],N=y<<4|_,P=f-_;let I=h[v]<<P;const D=I+(1<<P);for(;I!=D;)m[x[I]>>>15-f]=N,I++}},d.H.l=function(h,f){const m=d.H.m.r,p=15-f;for(let x=0;x<h.length;x+=2){const v=h[x]<<f-h[x+1];h[x]=m[v]>>>p}},d.H.M=function(h,f,m){m<<=7&f;const p=f>>>3;h[p]|=m,h[p+1]|=m>>>8},d.H.I=function(h,f,m){m<<=7&f;const p=f>>>3;h[p]|=m,h[p+1]|=m>>>8,h[p+2]|=m>>>16},d.H.e=function(h,f,m){return(h[f>>>3]|h[1+(f>>>3)]<<8)>>>(7&f)&(1<<m)-1},d.H.b=function(h,f,m){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16)>>>(7&f)&(1<<m)-1},d.H.Z=function(h,f){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16)>>>(7&f)},d.H.i=function(h,f){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16|h[3+(f>>>3)]<<24)>>>(7&f)},d.H.m=function(){const h=Uint16Array,f=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=d.H.m;for(var f=0;f<32768;f++){let p=f;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,h.r[f]=(p>>>16|p<<16)>>>17}function m(p,x,v){for(;x--!=0;)p.push(0,v)}for(f=0;f<32;f++)h.q[f]=h.S[f]<<3|h.T[f],h.c[f]=h.p[f]<<4|h.z[f];m(h._,144,8),m(h._,112,9),m(h._,24,7),m(h._,8,8),d.H.n(h._,9),d.H.A(h._,9,h.J),d.H.l(h._,9),m(h.$,32,5),d.H.n(h.$,5),d.H.A(h.$,5,h.h),d.H.l(h.$,5),m(h.Q,19,0),m(h.C,286,0),m(h.D,30,0),m(h.v,320,0)}(),d.H.N}();function i(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function a(d,h,f,m,p){let x=i(h);const v=Math.ceil(m*x/8);let y,_;x=Math.ceil(x/8);let N=d[f],P=0;if(N>1&&(d[f]=[0,0,1][N-2]),N==3)for(P=x;P<v;P++)d[P+1]=d[P+1]+(d[P+1-x]>>>1)&255;for(let I=0;I<p;I++)if(y=f+I*v,_=y+I+1,N=d[_-1],P=0,N==0)for(;P<v;P++)d[y+P]=d[_+P];else if(N==1){for(;P<x;P++)d[y+P]=d[_+P];for(;P<v;P++)d[y+P]=d[_+P]+d[y+P-x]}else if(N==2)for(;P<v;P++)d[y+P]=d[_+P]+d[y+P-v];else if(N==3){for(;P<x;P++)d[y+P]=d[_+P]+(d[y+P-v]>>>1);for(;P<v;P++)d[y+P]=d[_+P]+(d[y+P-v]+d[y+P-x]>>>1)}else{for(;P<x;P++)d[y+P]=d[_+P]+l(0,d[y+P-v],0);for(;P<v;P++)d[y+P]=d[_+P]+l(d[y+P-x],d[y+P-v],d[y+P-x-v])}return d}function l(d,h,f){const m=d+h-f,p=m-d,x=m-h,v=m-f;return p*p<=x*x&&p*p<=v*v?d:x*x<=v*v?h:f}function c(d,h,f){f.width=t.readUint(d,h),h+=4,f.height=t.readUint(d,h),h+=4,f.depth=d[h],h++,f.ctype=d[h],h++,f.compress=d[h],h++,f.filter=d[h],h++,f.interlace=d[h],h++}function u(d,h,f,m,p,x,v,y,_){const N=Math.min(h,p),P=Math.min(f,x);let I=0,D=0;for(let $=0;$<P;$++)for(let O=0;O<N;O++)if(v>=0&&y>=0?(I=$*h+O<<2,D=(y+$)*p+v+O<<2):(I=(-y+$)*h-v+O<<2,D=$*p+O<<2),_==0)m[D]=d[I],m[D+1]=d[I+1],m[D+2]=d[I+2],m[D+3]=d[I+3];else if(_==1){var C=d[I+3]*.00392156862745098,w=d[I]*C,A=d[I+1]*C,R=d[I+2]*C,E=m[D+3]*(1/255),T=m[D]*E,L=m[D+1]*E,z=m[D+2]*E;const F=1-C,Q=C+E*F,V=Q==0?0:1/Q;m[D+3]=255*Q,m[D+0]=(w+T*F)*V,m[D+1]=(A+L*F)*V,m[D+2]=(R+z*F)*V}else if(_==2)C=d[I+3],w=d[I],A=d[I+1],R=d[I+2],E=m[D+3],T=m[D],L=m[D+1],z=m[D+2],C==E&&w==T&&A==L&&R==z?(m[D]=0,m[D+1]=0,m[D+2]=0,m[D+3]=0):(m[D]=w,m[D+1]=A,m[D+2]=R,m[D+3]=C);else if(_==3){if(C=d[I+3],w=d[I],A=d[I+1],R=d[I+2],E=m[D+3],T=m[D],L=m[D+1],z=m[D+2],C==E&&w==T&&A==L&&R==z)continue;if(C<220&&E>20)return!1}return!0}return{decode:function(h){const f=new Uint8Array(h);let m=8;const p=t,x=p.readUshort,v=p.readUint,y={tabs:{},frames:[]},_=new Uint8Array(f.length);let N,P=0,I=0;const D=[137,80,78,71,13,10,26,10];for(var C=0;C<8;C++)if(f[C]!=D[C])throw"The input is not a PNG file!";for(;m<f.length;){const $=p.readUint(f,m);m+=4;const O=p.readASCII(f,m,4);if(m+=4,O=="IHDR")c(f,m,y);else if(O=="iCCP"){for(var w=m;f[w]!=0;)w++;p.readASCII(f,m,w-m),f[w+1];const F=f.slice(w+2,m+$);let Q=null;try{Q=s(F)}catch{Q=r(F)}y.tabs[O]=Q}else if(O=="CgBI")y.tabs[O]=f.slice(m,m+4);else if(O=="IDAT"){for(C=0;C<$;C++)_[P+C]=f[m+C];P+=$}else if(O=="acTL")y.tabs[O]={num_frames:v(f,m),num_plays:v(f,m+4)},N=new Uint8Array(f.length);else if(O=="fcTL"){I!=0&&((z=y.frames[y.frames.length-1]).data=n(y,N.slice(0,I),z.rect.width,z.rect.height),I=0);const F={x:v(f,m+12),y:v(f,m+16),width:v(f,m+4),height:v(f,m+8)};let Q=x(f,m+22);Q=x(f,m+20)/(Q==0?100:Q);const V={rect:F,delay:Math.round(1e3*Q),dispose:f[m+24],blend:f[m+25]};y.frames.push(V)}else if(O=="fdAT"){for(C=0;C<$-4;C++)N[I+C]=f[m+C+4];I+=$-4}else if(O=="pHYs")y.tabs[O]=[p.readUint(f,m),p.readUint(f,m+4),f[m+8]];else if(O=="cHRM")for(y.tabs[O]=[],C=0;C<8;C++)y.tabs[O].push(p.readUint(f,m+4*C));else if(O=="tEXt"||O=="zTXt"){y.tabs[O]==null&&(y.tabs[O]={});var A=p.nextZero(f,m),R=p.readASCII(f,m,A-m),E=m+$-A-1;if(O=="tEXt")L=p.readASCII(f,A+1,E);else{var T=s(f.slice(A+2,A+2+E));L=p.readUTF8(T,0,T.length)}y.tabs[O][R]=L}else if(O=="iTXt"){y.tabs[O]==null&&(y.tabs[O]={}),A=0,w=m,A=p.nextZero(f,w),R=p.readASCII(f,w,A-w);const F=f[w=A+1];var L;f[w+1],w+=2,A=p.nextZero(f,w),p.readASCII(f,w,A-w),w=A+1,A=p.nextZero(f,w),p.readUTF8(f,w,A-w),E=$-((w=A+1)-m),F==0?L=p.readUTF8(f,w,E):(T=s(f.slice(w,w+E)),L=p.readUTF8(T,0,T.length)),y.tabs[O][R]=L}else if(O=="PLTE")y.tabs[O]=p.readBytes(f,m,$);else if(O=="hIST"){const F=y.tabs.PLTE.length/3;for(y.tabs[O]=[],C=0;C<F;C++)y.tabs[O].push(x(f,m+2*C))}else if(O=="tRNS")y.ctype==3?y.tabs[O]=p.readBytes(f,m,$):y.ctype==0?y.tabs[O]=x(f,m):y.ctype==2&&(y.tabs[O]=[x(f,m),x(f,m+2),x(f,m+4)]);else if(O=="gAMA")y.tabs[O]=p.readUint(f,m)/1e5;else if(O=="sRGB")y.tabs[O]=f[m];else if(O=="bKGD")y.ctype==0||y.ctype==4?y.tabs[O]=[x(f,m)]:y.ctype==2||y.ctype==6?y.tabs[O]=[x(f,m),x(f,m+2),x(f,m+4)]:y.ctype==3&&(y.tabs[O]=f[m]);else if(O=="IEND")break;m+=$,p.readUint(f,m),m+=4}var z;return I!=0&&((z=y.frames[y.frames.length-1]).data=n(y,N.slice(0,I),z.rect.width,z.rect.height)),y.data=n(y,_,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(h){const f=h.width,m=h.height;if(h.tabs.acTL==null)return[e(h.data,f,m,h).buffer];const p=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const x=f*m*4,v=new Uint8Array(x),y=new Uint8Array(x),_=new Uint8Array(x);for(let P=0;P<h.frames.length;P++){const I=h.frames[P],D=I.rect.x,C=I.rect.y,w=I.rect.width,A=I.rect.height,R=e(I.data,w,A,h);if(P!=0)for(var N=0;N<x;N++)_[N]=v[N];if(I.blend==0?u(R,w,A,v,f,m,D,C,0):I.blend==1&&u(R,w,A,v,f,m,D,C,1),p.push(v.buffer.slice(0)),I.dispose!=0){if(I.dispose==1)u(y,w,A,v,f,m,D,C,0);else if(I.dispose==2)for(N=0;N<x;N++)v[N]=_[N]}}return p},_paeth:l,_copyTile:u,_bin:t}}();(function(){const{_copyTile:t}=mo,{_bin:e}=mo,n=mo._paeth;var s={table:function(){const w=new Uint32Array(256);for(let A=0;A<256;A++){let R=A;for(let E=0;E<8;E++)1&R?R=3988292384^R>>>1:R>>>=1;w[A]=R}return w}(),update(w,A,R,E){for(let T=0;T<E;T++)w=s.table[255&(w^A[R+T])]^w>>>8;return w},crc:(w,A,R)=>4294967295^s.update(4294967295,w,A,R)};function r(w,A,R,E){A[R]+=w[0]*E>>4,A[R+1]+=w[1]*E>>4,A[R+2]+=w[2]*E>>4,A[R+3]+=w[3]*E>>4}function i(w){return Math.max(0,Math.min(255,w))}function a(w,A){const R=w[0]-A[0],E=w[1]-A[1],T=w[2]-A[2],L=w[3]-A[3];return R*R+E*E+T*T+L*L}function l(w,A,R,E,T,L,z){z==null&&(z=1);const $=E.length,O=[];for(var F=0;F<$;F++){const J=E[F];O.push([J>>>0&255,J>>>8&255,J>>>16&255,J>>>24&255])}for(F=0;F<$;F++){let J=4294967295;for(var Q=0,V=0;V<$;V++){var W=a(O[F],O[V]);V!=F&&W<J&&(J=W,Q=V)}}const Z=new Uint32Array(T.buffer),U=new Int16Array(A*R*4),G=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(F=0;F<G.length;F++)G[F]=255*((G[F]+.5)/16-.5);for(let J=0;J<R;J++)for(let re=0;re<A;re++){var Y;F=4*(J*A+re),z!=2?Y=[i(w[F]+U[F]),i(w[F+1]+U[F+1]),i(w[F+2]+U[F+2]),i(w[F+3]+U[F+3])]:(W=G[4*(3&J)+(3&re)],Y=[i(w[F]+W),i(w[F+1]+W),i(w[F+2]+W),i(w[F+3]+W)]),Q=0;let le=16777215;for(V=0;V<$;V++){const _e=a(Y,O[V]);_e<le&&(le=_e,Q=V)}const ue=O[Q],de=[Y[0]-ue[0],Y[1]-ue[1],Y[2]-ue[2],Y[3]-ue[3]];z==1&&(re!=A-1&&r(de,U,F+4,7),J!=R-1&&(re!=0&&r(de,U,F+4*A-4,3),r(de,U,F+4*A,5),re!=A-1&&r(de,U,F+4*A+4,1))),L[F>>2]=Q,Z[F>>2]=E[Q]}}function c(w,A,R,E,T){T==null&&(T={});const{crc:L}=s,z=e.writeUint,$=e.writeUshort,O=e.writeASCII;let F=8;const Q=w.frames.length>1;let V,W=!1,Z=33+(Q?20:0);if(T.sRGB!=null&&(Z+=13),T.pHYs!=null&&(Z+=21),T.iCCP!=null&&(V=pako.deflate(T.iCCP),Z+=21+V.length+4),w.ctype==3){for(var U=w.plte.length,G=0;G<U;G++)w.plte[G]>>>24!=255&&(W=!0);Z+=8+3*U+4+(W?8+1*U+4:0)}for(var Y=0;Y<w.frames.length;Y++)Q&&(Z+=38),Z+=(ue=w.frames[Y]).cimg.length+12,Y!=0&&(Z+=4);Z+=12;const J=new Uint8Array(Z),re=[137,80,78,71,13,10,26,10];for(G=0;G<8;G++)J[G]=re[G];if(z(J,F,13),F+=4,O(J,F,"IHDR"),F+=4,z(J,F,A),F+=4,z(J,F,R),F+=4,J[F]=w.depth,F++,J[F]=w.ctype,F++,J[F]=0,F++,J[F]=0,F++,J[F]=0,F++,z(J,F,L(J,F-17,17)),F+=4,T.sRGB!=null&&(z(J,F,1),F+=4,O(J,F,"sRGB"),F+=4,J[F]=T.sRGB,F++,z(J,F,L(J,F-5,5)),F+=4),T.iCCP!=null){const de=13+V.length;z(J,F,de),F+=4,O(J,F,"iCCP"),F+=4,O(J,F,"ICC profile"),F+=11,F+=2,J.set(V,F),F+=V.length,z(J,F,L(J,F-(de+4),de+4)),F+=4}if(T.pHYs!=null&&(z(J,F,9),F+=4,O(J,F,"pHYs"),F+=4,z(J,F,T.pHYs[0]),F+=4,z(J,F,T.pHYs[1]),F+=4,J[F]=T.pHYs[2],F++,z(J,F,L(J,F-13,13)),F+=4),Q&&(z(J,F,8),F+=4,O(J,F,"acTL"),F+=4,z(J,F,w.frames.length),F+=4,z(J,F,T.loop!=null?T.loop:0),F+=4,z(J,F,L(J,F-12,12)),F+=4),w.ctype==3){for(z(J,F,3*(U=w.plte.length)),F+=4,O(J,F,"PLTE"),F+=4,G=0;G<U;G++){const de=3*G,_e=w.plte[G],Ae=255&_e,Le=_e>>>8&255,Ie=_e>>>16&255;J[F+de+0]=Ae,J[F+de+1]=Le,J[F+de+2]=Ie}if(F+=3*U,z(J,F,L(J,F-3*U-4,3*U+4)),F+=4,W){for(z(J,F,U),F+=4,O(J,F,"tRNS"),F+=4,G=0;G<U;G++)J[F+G]=w.plte[G]>>>24&255;F+=U,z(J,F,L(J,F-U-4,U+4)),F+=4}}let le=0;for(Y=0;Y<w.frames.length;Y++){var ue=w.frames[Y];Q&&(z(J,F,26),F+=4,O(J,F,"fcTL"),F+=4,z(J,F,le++),F+=4,z(J,F,ue.rect.width),F+=4,z(J,F,ue.rect.height),F+=4,z(J,F,ue.rect.x),F+=4,z(J,F,ue.rect.y),F+=4,$(J,F,E[Y]),F+=2,$(J,F,1e3),F+=2,J[F]=ue.dispose,F++,J[F]=ue.blend,F++,z(J,F,L(J,F-30,30)),F+=4);const de=ue.cimg;z(J,F,(U=de.length)+(Y==0?0:4)),F+=4;const _e=F;O(J,F,Y==0?"IDAT":"fdAT"),F+=4,Y!=0&&(z(J,F,le++),F+=4),J.set(de,F),F+=U,z(J,F,L(J,_e,F-_e)),F+=4}return z(J,F,0),F+=4,O(J,F,"IEND"),F+=4,z(J,F,L(J,F-4,4)),F+=4,J.buffer}function u(w,A,R){for(let E=0;E<w.frames.length;E++){const T=w.frames[E];T.rect.width;const L=T.rect.height,z=new Uint8Array(L*T.bpl+L);T.cimg=m(T.img,L,T.bpp,T.bpl,z,A,R)}}function d(w,A,R,E,T){const L=T[0],z=T[1],$=T[2],O=T[3],F=T[4],Q=T[5];let V=6,W=8,Z=255;for(var U=0;U<w.length;U++){const ae=new Uint8Array(w[U]);for(var G=ae.length,Y=0;Y<G;Y+=4)Z&=ae[Y+3]}const J=Z!=255,re=function(nt,Je,Oe,Ne,ke,Ve){const $e=[];for(var Te=0;Te<nt.length;Te++){const we=new Uint8Array(nt[Te]),Me=new Uint32Array(we.buffer);var ze;let st=0,at=0,Et=Je,Ce=Oe,ft=Ne?1:0;if(Te!=0){const Ft=Ve||Ne||Te==1||$e[Te-2].dispose!=0?1:2;let ct=0,nn=1e9;for(let un=0;un<Ft;un++){var Ge=new Uint8Array(nt[Te-1-un]);const Ks=new Uint32Array(nt[Te-1-un]);let us=Je,en=Oe,vt=-1,Ut=-1;for(let kn=0;kn<Oe;kn++)for(let es=0;es<Je;es++)Me[xt=kn*Je+es]!=Ks[xt]&&(es<us&&(us=es),es>vt&&(vt=es),kn<en&&(en=kn),kn>Ut&&(Ut=kn));vt==-1&&(us=en=vt=Ut=0),ke&&((1&us)==1&&us--,(1&en)==1&&en--);const ii=(vt-us+1)*(Ut-en+1);ii<nn&&(nn=ii,ct=un,st=us,at=en,Et=vt-us+1,Ce=Ut-en+1)}Ge=new Uint8Array(nt[Te-1-ct]),ct==1&&($e[Te-1].dispose=2),ze=new Uint8Array(Et*Ce*4),t(Ge,Je,Oe,ze,Et,Ce,-st,-at,0),ft=t(we,Je,Oe,ze,Et,Ce,-st,-at,3)?1:0,ft==1?f(we,Je,Oe,ze,{x:st,y:at,width:Et,height:Ce}):t(we,Je,Oe,ze,Et,Ce,-st,-at,0)}else ze=we.slice(0);$e.push({rect:{x:st,y:at,width:Et,height:Ce},img:ze,blend:ft,dispose:0})}if(Ne)for(Te=0;Te<$e.length;Te++){if((Pe=$e[Te]).blend==1)continue;const we=Pe.rect,Me=$e[Te-1].rect,st=Math.min(we.x,Me.x),at=Math.min(we.y,Me.y),Et={x:st,y:at,width:Math.max(we.x+we.width,Me.x+Me.width)-st,height:Math.max(we.y+we.height,Me.y+Me.height)-at};$e[Te-1].dispose=1,Te-1!=0&&h(nt,Je,Oe,$e,Te-1,Et,ke),h(nt,Je,Oe,$e,Te,Et,ke)}let rt=0;if(nt.length!=1)for(var xt=0;xt<$e.length;xt++){var Pe;rt+=(Pe=$e[xt]).rect.width*Pe.rect.height}return $e}(w,A,R,L,z,$),le={},ue=[],de=[];if(E!=0){const ae=[];for(Y=0;Y<re.length;Y++)ae.push(re[Y].img.buffer);const nt=function(ke){let Ve=0;for(var $e=0;$e<ke.length;$e++)Ve+=ke[$e].byteLength;const Te=new Uint8Array(Ve);let ze=0;for($e=0;$e<ke.length;$e++){const Ge=new Uint8Array(ke[$e]),rt=Ge.length;for(let xt=0;xt<rt;xt+=4){let Pe=Ge[xt],we=Ge[xt+1],Me=Ge[xt+2];const st=Ge[xt+3];st==0&&(Pe=we=Me=0),Te[ze+xt]=Pe,Te[ze+xt+1]=we,Te[ze+xt+2]=Me,Te[ze+xt+3]=st}ze+=rt}return Te.buffer}(ae),Je=x(nt,E);for(Y=0;Y<Je.plte.length;Y++)ue.push(Je.plte[Y].est.rgba);let Oe=0;for(Y=0;Y<re.length;Y++){const Ne=(Ae=re[Y]).img.length;var _e=new Uint8Array(Je.inds.buffer,Oe>>2,Ne>>2);de.push(_e);const ke=new Uint8Array(Je.abuf,Oe,Ne);Q&&l(Ae.img,Ae.rect.width,Ae.rect.height,ue,ke,_e),Ae.img.set(ke),Oe+=Ne}}else for(U=0;U<re.length;U++){var Ae=re[U];const ae=new Uint32Array(Ae.img.buffer);var Le=Ae.rect.width;for(G=ae.length,_e=new Uint8Array(G),de.push(_e),Y=0;Y<G;Y++){const nt=ae[Y];if(Y!=0&&nt==ae[Y-1])_e[Y]=_e[Y-1];else if(Y>Le&&nt==ae[Y-Le])_e[Y]=_e[Y-Le];else{let Je=le[nt];if(Je==null&&(le[nt]=Je=ue.length,ue.push(nt),ue.length>=300))break;_e[Y]=Je}}}const Ie=ue.length;for(Ie<=256&&F==0&&(W=Ie<=2?1:Ie<=4?2:Ie<=16?4:8,W=Math.max(W,O)),U=0;U<re.length;U++){(Ae=re[U]).rect.x,Ae.rect.y,Le=Ae.rect.width;const ae=Ae.rect.height;let nt=Ae.img;new Uint32Array(nt.buffer);let Je=4*Le,Oe=4;if(Ie<=256&&F==0){Je=Math.ceil(W*Le/8);var Xe=new Uint8Array(Je*ae);const Ne=de[U];for(let ke=0;ke<ae;ke++){Y=ke*Je;const Ve=ke*Le;if(W==8)for(var ye=0;ye<Le;ye++)Xe[Y+ye]=Ne[Ve+ye];else if(W==4)for(ye=0;ye<Le;ye++)Xe[Y+(ye>>1)]|=Ne[Ve+ye]<<4-4*(1&ye);else if(W==2)for(ye=0;ye<Le;ye++)Xe[Y+(ye>>2)]|=Ne[Ve+ye]<<6-2*(3&ye);else if(W==1)for(ye=0;ye<Le;ye++)Xe[Y+(ye>>3)]|=Ne[Ve+ye]<<7-1*(7&ye)}nt=Xe,V=3,Oe=1}else if(J==0&&re.length==1){Xe=new Uint8Array(Le*ae*3);const Ne=Le*ae;for(Y=0;Y<Ne;Y++){const ke=3*Y,Ve=4*Y;Xe[ke]=nt[Ve],Xe[ke+1]=nt[Ve+1],Xe[ke+2]=nt[Ve+2]}nt=Xe,V=2,Oe=3,Je=3*Le}Ae.img=nt,Ae.bpl=Je,Ae.bpp=Oe}return{ctype:V,depth:W,plte:ue,frames:re}}function h(w,A,R,E,T,L,z){const $=Uint8Array,O=Uint32Array,F=new $(w[T-1]),Q=new O(w[T-1]),V=T+1<w.length?new $(w[T+1]):null,W=new $(w[T]),Z=new O(W.buffer);let U=A,G=R,Y=-1,J=-1;for(let le=0;le<L.height;le++)for(let ue=0;ue<L.width;ue++){const de=L.x+ue,_e=L.y+le,Ae=_e*A+de,Le=Z[Ae];Le==0||E[T-1].dispose==0&&Q[Ae]==Le&&(V==null||V[4*Ae+3]!=0)||(de<U&&(U=de),de>Y&&(Y=de),_e<G&&(G=_e),_e>J&&(J=_e))}Y==-1&&(U=G=Y=J=0),z&&((1&U)==1&&U--,(1&G)==1&&G--),L={x:U,y:G,width:Y-U+1,height:J-G+1};const re=E[T];re.rect=L,re.blend=1,re.img=new Uint8Array(L.width*L.height*4),E[T-1].dispose==0?(t(F,A,R,re.img,L.width,L.height,-L.x,-L.y,0),f(W,A,R,re.img,L)):t(W,A,R,re.img,L.width,L.height,-L.x,-L.y,0)}function f(w,A,R,E,T){t(w,A,R,E,T.width,T.height,-T.x,-T.y,2)}function m(w,A,R,E,T,L,z){const $=[];let O,F=[0,1,2,3,4];L!=-1?F=[L]:(A*E>5e5||R==1)&&(F=[0]),z&&(O={level:0});const Q=Eye;for(var V=0;V<F.length;V++){for(let U=0;U<A;U++)p(T,w,U,E,R,F[V]);$.push(Q.deflate(T,O))}let W,Z=1e9;for(V=0;V<$.length;V++)$[V].length<Z&&(W=V,Z=$[V].length);return $[W]}function p(w,A,R,E,T,L){const z=R*E;let $=z+R;if(w[$]=L,$++,L==0)if(E<500)for(var O=0;O<E;O++)w[$+O]=A[z+O];else w.set(new Uint8Array(A.buffer,z,E),$);else if(L==1){for(O=0;O<T;O++)w[$+O]=A[z+O];for(O=T;O<E;O++)w[$+O]=A[z+O]-A[z+O-T]+256&255}else if(R==0){for(O=0;O<T;O++)w[$+O]=A[z+O];if(L==2)for(O=T;O<E;O++)w[$+O]=A[z+O];if(L==3)for(O=T;O<E;O++)w[$+O]=A[z+O]-(A[z+O-T]>>1)+256&255;if(L==4)for(O=T;O<E;O++)w[$+O]=A[z+O]-n(A[z+O-T],0,0)+256&255}else{if(L==2)for(O=0;O<E;O++)w[$+O]=A[z+O]+256-A[z+O-E]&255;if(L==3){for(O=0;O<T;O++)w[$+O]=A[z+O]+256-(A[z+O-E]>>1)&255;for(O=T;O<E;O++)w[$+O]=A[z+O]+256-(A[z+O-E]+A[z+O-T]>>1)&255}if(L==4){for(O=0;O<T;O++)w[$+O]=A[z+O]+256-n(0,A[z+O-E],0)&255;for(O=T;O<E;O++)w[$+O]=A[z+O]+256-n(A[z+O-T],A[z+O-E],A[z+O-T-E])&255}}}function x(w,A){const R=new Uint8Array(w),E=R.slice(0),T=new Uint32Array(E.buffer),L=v(E,A),z=L[0],$=L[1],O=R.length,F=new Uint8Array(O>>2);let Q;if(R.length<2e7)for(var V=0;V<O;V+=4)Q=y(z,W=R[V]*(1/255),Z=R[V+1]*(1/255),U=R[V+2]*(1/255),G=R[V+3]*(1/255)),F[V>>2]=Q.ind,T[V>>2]=Q.est.rgba;else for(V=0;V<O;V+=4){var W=R[V]*.00392156862745098,Z=R[V+1]*(1/255),U=R[V+2]*(1/255),G=R[V+3]*(1/255);for(Q=z;Q.left;)Q=_(Q.est,W,Z,U,G)<=0?Q.left:Q.right;F[V>>2]=Q.ind,T[V>>2]=Q.est.rgba}return{abuf:E.buffer,inds:F,plte:$}}function v(w,A,R){R==null&&(R=1e-4);const E=new Uint32Array(w.buffer),T={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};T.bst=I(w,T.i0,T.i1),T.est=D(T.bst);const L=[T];for(;L.length<A;){let $=0,O=0;for(var z=0;z<L.length;z++)L[z].est.L>$&&($=L[z].est.L,O=z);if($<R)break;const F=L[O],Q=N(w,E,F.i0,F.i1,F.est.e,F.est.eMq255);if(F.i0>=Q||F.i1<=Q){F.est.L=0;continue}const V={i0:F.i0,i1:Q,bst:null,est:null,tdst:0,left:null,right:null};V.bst=I(w,V.i0,V.i1),V.est=D(V.bst);const W={i0:Q,i1:F.i1,bst:null,est:null,tdst:0,left:null,right:null};for(W.bst={R:[],m:[],N:F.bst.N-V.bst.N},z=0;z<16;z++)W.bst.R[z]=F.bst.R[z]-V.bst.R[z];for(z=0;z<4;z++)W.bst.m[z]=F.bst.m[z]-V.bst.m[z];W.est=D(W.bst),F.left=V,F.right=W,L[O]=V,L.push(W)}for(L.sort(($,O)=>O.bst.N-$.bst.N),z=0;z<L.length;z++)L[z].ind=z;return[T,L]}function y(w,A,R,E,T){if(w.left==null)return w.tdst=function(V,W,Z,U,G){const Y=W-V[0],J=Z-V[1],re=U-V[2],le=G-V[3];return Y*Y+J*J+re*re+le*le}(w.est.q,A,R,E,T),w;const L=_(w.est,A,R,E,T);let z=w.left,$=w.right;L>0&&(z=w.right,$=w.left);const O=y(z,A,R,E,T);if(O.tdst<=L*L)return O;const F=y($,A,R,E,T);return F.tdst<O.tdst?F:O}function _(w,A,R,E,T){const{e:L}=w;return L[0]*A+L[1]*R+L[2]*E+L[3]*T-w.eMq}function N(w,A,R,E,T,L){for(E-=4;R<E;){for(;P(w,R,T)<=L;)R+=4;for(;P(w,E,T)>L;)E-=4;if(R>=E)break;const z=A[R>>2];A[R>>2]=A[E>>2],A[E>>2]=z,R+=4,E-=4}for(;P(w,R,T)>L;)R-=4;return R+4}function P(w,A,R){return w[A]*R[0]+w[A+1]*R[1]+w[A+2]*R[2]+w[A+3]*R[3]}function I(w,A,R){const E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=[0,0,0,0],L=R-A>>2;for(let z=A;z<R;z+=4){const $=w[z]*.00392156862745098,O=w[z+1]*(1/255),F=w[z+2]*(1/255),Q=w[z+3]*(1/255);T[0]+=$,T[1]+=O,T[2]+=F,T[3]+=Q,E[0]+=$*$,E[1]+=$*O,E[2]+=$*F,E[3]+=$*Q,E[5]+=O*O,E[6]+=O*F,E[7]+=O*Q,E[10]+=F*F,E[11]+=F*Q,E[15]+=Q*Q}return E[4]=E[1],E[8]=E[2],E[9]=E[6],E[12]=E[3],E[13]=E[7],E[14]=E[11],{R:E,m:T,N:L}}function D(w){const{R:A}=w,{m:R}=w,{N:E}=w,T=R[0],L=R[1],z=R[2],$=R[3],O=E==0?0:1/E,F=[A[0]-T*T*O,A[1]-T*L*O,A[2]-T*z*O,A[3]-T*$*O,A[4]-L*T*O,A[5]-L*L*O,A[6]-L*z*O,A[7]-L*$*O,A[8]-z*T*O,A[9]-z*L*O,A[10]-z*z*O,A[11]-z*$*O,A[12]-$*T*O,A[13]-$*L*O,A[14]-$*z*O,A[15]-$*$*O],Q=F,V=C;let W=[Math.random(),Math.random(),Math.random(),Math.random()],Z=0,U=0;if(E!=0)for(let Y=0;Y<16&&(W=V.multVec(Q,W),U=Math.sqrt(V.dot(W,W)),W=V.sml(1/U,W),!(Y!=0&&Math.abs(U-Z)<1e-9));Y++)Z=U;const G=[T*O,L*O,z*O,$*O];return{Cov:F,q:G,e:W,L:Z,eMq255:V.dot(V.sml(255,G),W),eMq:V.dot(W,G),rgba:(Math.round(255*G[3])<<24|Math.round(255*G[2])<<16|Math.round(255*G[1])<<8|Math.round(255*G[0])<<0)>>>0}}var C={multVec:(w,A)=>[w[0]*A[0]+w[1]*A[1]+w[2]*A[2]+w[3]*A[3],w[4]*A[0]+w[5]*A[1]+w[6]*A[2]+w[7]*A[3],w[8]*A[0]+w[9]*A[1]+w[10]*A[2]+w[11]*A[3],w[12]*A[0]+w[13]*A[1]+w[14]*A[2]+w[15]*A[3]],dot:(w,A)=>w[0]*A[0]+w[1]*A[1]+w[2]*A[2]+w[3]*A[3],sml:(w,A)=>[w*A[0],w*A[1],w*A[2],w*A[3]]};mo.encode=function(A,R,E,T,L,z,$){T==null&&(T=0),$==null&&($=!1);const O=d(A,R,E,T,[!1,!1,!1,0,$,!1]);return u(O,-1),c(O,R,E,L,z)},mo.encodeLL=function(A,R,E,T,L,z,$,O){const F={ctype:0+(T==1?0:2)+(L==0?0:4),depth:z,frames:[]},Q=(T+L)*z,V=Q*R;for(let W=0;W<A.length;W++)F.frames.push({rect:{x:0,y:0,width:R,height:E},img:new Uint8Array(A[W]),blend:0,dispose:1,bpp:Math.ceil(Q/8),bpl:Math.ceil(V/8)});return u(F,0,!0),c(F,R,E,$,O)},mo.encode.compress=d,mo.encode.dither=l,mo.quantize=x,mo.quantize.getKDtree=v,mo.quantize.getNearest=y})();const o$={toArrayBuffer(t,e){const n=t.width,s=t.height,r=n<<2,i=t.getContext("2d").getImageData(0,0,n,s),a=new Uint32Array(i.data.buffer),l=(32*n+31)/32<<2,c=l*s,u=122+c,d=new ArrayBuffer(u),h=new DataView(d),f=1<<20;let m,p,x,v,y=f,_=0,N=0,P=0;function I(w){h.setUint16(N,w,!0),N+=2}function D(w){h.setUint32(N,w,!0),N+=4}function C(w){N+=w}I(19778),D(u),C(4),D(122),D(108),D(n),D(-s>>>0),I(1),I(32),D(3),D(c),D(2835),D(2835),C(8),D(16711680),D(65280),D(255),D(4278190080),D(1466527264),function w(){for(;_<s&&y>0;){for(v=122+_*l,m=0;m<r;)y--,p=a[P++],x=p>>>24,h.setUint32(v+m,p<<8|x),m+=4;_++}P<a.length?(y=f,setTimeout(w,o$._dly)):e(d)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Oi={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Aye={[Oi.CHROME]:16384,[Oi.FIREFOX]:11180,[Oi.DESKTOP_SAFARI]:16384,[Oi.IE]:8192,[Oi.IOS]:4096,[Oi.ETC]:8192};const X6=typeof window<"u",l$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,cw=X6&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Tye=(X6||l$)&&(cw&&cw.getOriginalSymbol(window,"File")||typeof File<"u"&&File),c$=(X6||l$)&&(cw&&cw.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function J6(t,e,n=Date.now()){return new Promise(s=>{const r=t.split(","),i=r[0].match(/:(.*?);/)[1],a=globalThis.atob(r[1]);let l=a.length;const c=new Uint8Array(l);for(;l--;)c[l]=a.charCodeAt(l);const u=new Blob([c],{type:i});u.name=e,u.lastModified=n,s(u)})}function u$(t){return new Promise((e,n)=>{const s=new c$;s.onload=()=>e(s.result),s.onerror=r=>n(r),s.readAsDataURL(t)})}function d$(t){return new Promise((e,n)=>{const s=new Image;s.onload=()=>e(s),s.onerror=r=>n(r),s.src=t})}function ef(){if(ef.cachedResult!==void 0)return ef.cachedResult;let t=Oi.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Oi.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Oi.IOS:/Safari/i.test(e)?t=Oi.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Oi.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Oi.IE),ef.cachedResult=t,ef.cachedResult}function h$(t,e){const n=ef(),s=Aye[n];let r=t,i=e,a=r*i;const l=r>i?i/r:r/i;for(;a>s*s;){const c=(s+r)/2,u=(s+i)/2;c<u?(i=u,r=u*l):(i=c*l,r=c),a=r*i}return{width:r,height:i}}function Z5(t,e){let n,s;try{if(n=new OffscreenCanvas(t,e),s=n.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),s=n.getContext("2d")}return n.width=t,n.height=e,[n,s]}function f$(t,e){const{width:n,height:s}=h$(t.width,t.height),[r,i]=Z5(n,s);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,r.width,r.height)),i.drawImage(t,0,0,r.width,r.height),r}function I2(){return I2.cachedResult!==void 0||(I2.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),I2.cachedResult}function uw(t,e={}){return new Promise(function(n,s){let r,i;var a=function(){try{return i=f$(r,e.fileType||t.type),n([r,i])}catch(c){return s(c)}},l=function(c){try{var u=function(d){try{throw d}catch(h){return s(h)}};try{let d;return u$(t).then(function(h){try{return d=h,d$(d).then(function(f){try{return r=f,function(){try{return a()}catch(m){return s(m)}}()}catch(m){return u(m)}},u)}catch(f){return u(f)}},u)}catch(d){u(d)}}catch(d){return s(d)}};try{if(I2()||[Oi.DESKTOP_SAFARI,Oi.MOBILE_SAFARI].includes(ef()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(c){try{return r=c,a()}catch{return l()}},l)}catch{l()}})}function dw(t,e,n,s,r=1){return new Promise(function(i,a){let l;if(e==="image/png"){let u,d,h;return u=t.getContext("2d"),{data:d}=u.getImageData(0,0,t.width,t.height),h=mo.encode([d.buffer],t.width,t.height,4096*r),l=new Blob([h],{type:e}),l.name=n,l.lastModified=s,c.call(this)}{let u=function(){return c.call(this)};if(e==="image/bmp")return new Promise(d=>o$.toBlob(t,d)).then((function(d){try{return l=d,l.name=n,l.lastModified=s,u.call(this)}catch(h){return a(h)}}).bind(this),a);{let d=function(){return u.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:r}).then((function(h){try{return l=h,l.name=n,l.lastModified=s,d.call(this)}catch(f){return a(f)}}).bind(this),a);{let h;return h=t.toDataURL(e,r),J6(h,n,s).then((function(f){try{return l=f,d.call(this)}catch(m){return a(m)}}).bind(this),a)}}}function c(){return i(l)}})}function ul(t){t.width=0,t.height=0}function hp(){return new Promise(function(t,e){let n,s,r,i;return hp.cachedResult!==void 0?t(hp.cachedResult):J6("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return n=a,uw(n).then(function(l){try{return s=l[1],dw(s,n.type,n.name,n.lastModified).then(function(c){try{return r=c,ul(s),uw(r).then(function(u){try{return i=u[0],hp.cachedResult=i.width===1&&i.height===2,t(hp.cachedResult)}catch(d){return e(d)}},e)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)})}function m$(t){return new Promise((e,n)=>{const s=new c$;s.onload=r=>{const i=new DataView(r.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const a=i.byteLength;let l=2;for(;l<a;){if(i.getUint16(l+2,!1)<=8)return e(-1);const c=i.getUint16(l,!1);if(l+=2,c==65505){if(i.getUint32(l+=2,!1)!=1165519206)return e(-1);const u=i.getUint16(l+=6,!1)==18761;l+=i.getUint32(l+4,u);const d=i.getUint16(l,u);l+=2;for(let h=0;h<d;h++)if(i.getUint16(l+12*h,u)==274)return e(i.getUint16(l+12*h+8,u))}else{if((65280&c)!=65280)break;l+=i.getUint16(l,!1)}}return e(-1)},s.onerror=r=>n(r),s.readAsArrayBuffer(t)})}function p$(t,e){const{width:n}=t,{height:s}=t,{maxWidthOrHeight:r}=e;let i,a=t;return isFinite(r)&&(n>r||s>r)&&([a,i]=Z5(n,s),n>s?(a.width=r,a.height=s/n*r):(a.width=n/s*r,a.height=r),i.drawImage(t,0,0,a.width,a.height),ul(t)),a}function g$(t,e){const{width:n}=t,{height:s}=t,[r,i]=Z5(n,s);switch(e>4&&e<9?(r.width=s,r.height=n):(r.width=n,r.height=s),e){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,s);break;case 4:i.transform(1,0,0,-1,0,s);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,s,0);break;case 7:i.transform(0,-1,-1,0,s,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(t,0,0,n,s),ul(t),r}function UI(t,e,n=0){return new Promise(function(s,r){let i,a,l,c,u,d,h,f,m,p,x,v,y,_,N,P,I,D,C,w;function A(E=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=E,e.onProgress(Math.min(i,100))}function R(E){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(E,i),100),e.onProgress(i)}return i=n,a=e.maxIteration||10,l=1024*e.maxSizeMB*1024,A(),uw(t,e).then((function(E){try{return[,c]=E,A(),u=p$(c,e),A(),new Promise(function(T,L){var z;if(!(z=e.exifOrientation))return m$(t).then((function(O){try{return z=O,$.call(this)}catch(F){return L(F)}}).bind(this),L);function $(){return T(z)}return $.call(this)}).then((function(T){try{return d=T,A(),hp().then((function(L){try{return h=L?u:g$(u,d),A(),f=e.initialQuality||1,m=e.fileType||t.type,dw(h,m,t.name,t.lastModified,f).then((function(z){try{{let O=function(){if(a--&&(N>l||N>y)){let Q,V;return Q=w?.95*C.width:C.width,V=w?.95*C.height:C.height,[I,D]=Z5(Q,V),D.drawImage(C,0,0,Q,V),f*=m==="image/png"?.85:.95,dw(I,m,t.name,t.lastModified,f).then(function(W){try{return P=W,ul(C),C=I,N=P.size,R(Math.min(99,Math.floor((_-N)/(_-l)*100))),O}catch(Z){return r(Z)}},r)}return[1]},F=function(){return ul(C),ul(I),ul(u),ul(h),ul(c),R(100),s(P)};if(p=z,A(),x=p.size>l,v=p.size>t.size,!x&&!v)return R(100),s(p);var $;return y=t.size,_=p.size,N=_,C=h,w=!e.alwaysKeepResolution&&x,($=(function(Q){for(;Q;){if(Q.then)return void Q.then($,r);try{if(Q.pop){if(Q.length)return Q.pop()?F.call(this):Q;Q=O}else Q=Q.call(this)}catch(V){return r(V)}}}).bind(this))(O)}}catch(O){return r(O)}}).bind(this),r)}catch(z){return r(z)}}).bind(this),r)}catch(L){return r(L)}}).bind(this),r)}catch(T){return r(T)}}).bind(this),r)})}const Cye=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let l4;function kye(t,e){return new Promise((n,s)=>{l4||(l4=function(a){const l=[];return l.push(a),URL.createObjectURL(new Blob(l))}(Cye));const r=new Worker(l4);r.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)r.terminate();else if(a.data.progress===void 0){if(a.data.error)return s(new Error(a.data.error)),void r.terminate();n(a.data.file),r.terminate()}else e.onProgress(a.data.progress)}),r.addEventListener("error",s),e.signal&&e.signal.addEventListener("abort",()=>{s(e.signal.reason),r.terminate()}),r.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Qr(t,e){return new Promise(function(n,s){let r,i,a,l,c,u;if(r={...e},a=0,{onProgress:l}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=m=>{a=m,typeof l=="function"&&l(a)},!(t instanceof Blob||t instanceof Tye))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return s(new Error("The file given is not an image"));if(u=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||u)return UI(t,r).then((function(m){try{return i=m,f.call(this)}catch(p){return s(p)}}).bind(this),s);var d=(function(){try{return f.call(this)}catch(m){return s(m)}}).bind(this),h=function(m){try{return UI(t,r).then(function(p){try{return i=p,d()}catch(x){return s(x)}},s)}catch(p){return s(p)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",kye(t,r).then(function(m){try{return i=m,d()}catch{return h()}},h)}catch{h()}function f(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{r.preserveExif&&t.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===t.type)&&(i=a$(t,i))}catch{}return n(i)}})}Qr.getDataUrlFromFile=u$,Qr.getFilefromDataUrl=J6,Qr.loadImage=d$,Qr.drawImageInCanvas=f$,Qr.drawFileInCanvas=uw,Qr.canvasToFile=dw,Qr.getExifOrientation=m$,Qr.handleMaxWidthOrHeight=p$,Qr.followExifOrientation=g$,Qr.cleanupCanvasMemory=ul,Qr.isAutoOrientationInBrowser=hp,Qr.approximateBelowMaximumCanvasSizeOfBrowser=h$,Qr.copyExifWithoutOrientation=a$,Qr.getBrowserName=ef,Qr.version="2.0.2";const GS=t=>t.trim().toLowerCase(),Pye=1e3*60*60*24,Rye=t=>jl.findIndex(e=>GS(e.name)===GS(t)),Iye=(t,e)=>e?"Free":t,Th=t=>{switch(t){case"history":return"QR Code History";case"collections":return"Collections";case"bulk":return"Bulk Generation";case"advanced":return"Advanced Export features"}},Lye=t=>t==="history"?"historyStorage":t==="collections"?"collections":null,Mye=t=>t==="bulk"?"bulkGeneration":t==="advanced"?"advancedExport":null,Dye=(t,e)=>{const n=Rye(t);if(n===-1)return null;const s=jl[n];for(let r=n+1;r<jl.length;r++){const i=jl[r];if(i.features[e]>s.features[e])return i}return null},Oye=t=>jl.find(e=>e.features[t])||null,v1=(t,e)=>{const n=new Date,s=e?new Date(e):null,r=s?n>s:!1,i=GS(t)==="free"?!0:!r,a=s?Math.max(0,Math.ceil((s.getTime()-n.getTime())/Pye)):0,l=Iye(t,r);return{isActive:i,isExpired:r,daysRemaining:a,planName:l,features:{qrCodes:Hd(l),historyStorage:Tge(l),collections:K6(l),bulkGeneration:Cge(),advancedExport:kge(),prioritySupport:Pge(l),canAccessHistory:Hz(l),canAccessCollections:qz(l)}}},y$=(t,e)=>{const n=kl(t);return n?e.needsBulk&&!n.features.bulkGeneration?{show:!0,reason:"Bulk generation is locked on your plan."}:e.needsAdvanced&&!n.features.advancedExport?{show:!0,reason:"Advanced export is locked on your plan."}:typeof e.historyUsed=="number"&&e.historyUsed>=n.features.historyStorage?{show:!0,reason:`History storage limit reached (${n.features.historyStorage}).`}:typeof e.collectionsUsed=="number"&&e.collectionsUsed>=n.features.collections?{show:!0,reason:`Collections limit reached (${n.features.collections}).`}:{show:!1}:{show:!1}},hw=(t,e)=>{const n=kl(t);if(!n)return"Unknown plan";const s=Lye(e);if(s){if(n.features[s]>0){const l=Dye(n.name,s);if(l){const c=l.features[s];return`${Th(e)} limit reached. Upgrade to ${l.name} to manage up to ${c}.`}return`${Th(e)} limit reached. Free up space or contact support.`}const a=jl.find(l=>l.features[s]>0);return a?`${Th(e)} is available on the ${a.name} plan.`:`${Th(e)} is not available on any plan.`}const r=Mye(e);if(r){if(n.features[r])return`You already have ${Th(e)}.`;const i=Oye(r);return i?`${Th(e)} is available on the ${i.name} plan.`:`${Th(e)} is not available on any plan.`}return"Upgrade your plan to unlock this feature."},Z6=(t,e)=>{const n=Math.max(0,t),s=Math.max(0,e-n),r=e>0?n/e*100:0;return{used:n,remaining:s,percentage:r,isLow:r>=80,isCritical:r>=95}},Fye={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.1}}},Ch={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},c4={hidden:{opacity:0,x:20},visible:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2,ease:"easeIn"}}},zI={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.8,transition:{duration:.2,ease:"easeIn"}}},$I="bg-white rounded-2xl shadow-lg border border-gray-100 transition-all duration-300 hover:shadow-xl hover:border-gray-200",kh="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm bg-white hover:border-gray-300",eT="px-6 py-3 rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transform active:scale-95",Pb=`${eT} bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl hover:scale-105`,Bye=`${eT} bg-white hover:bg-gray-50 border border-gray-200 text-gray-700 shadow-md hover:shadow-lg hover:scale-105`,Vye=()=>{const{user:t}=_s(),e=j.useRef(null),[n,s]=j.useState("storage"),[r,i]=j.useState(""),[a,l]=j.useState(""),[c,u]=j.useState(""),[d,h]=j.useState(""),[f,m]=j.useState(!1),[p,x]=j.useState(!1),[v,y]=j.useState(""),[_,N]=j.useState(""),[P,I]=j.useState(""),[D,C]=j.useState(""),[w,A]=j.useState(""),[R,E]=j.useState(!1),[T,L]=j.useState(!1),[z,$]=j.useState(!1),[O,F]=j.useState(!1),[Q,V]=j.useState("Free"),[W,Z]=j.useState(null),[U,G]=j.useState(0),[Y,J]=j.useState(0);j.useEffect(()=>{t&&(async()=>{try{const Ie=await ws(Lt(dt,"users",t.uid));if(Ie.exists()){const Xe=Ie.data();i(Xe.username||t.displayName||"");const ye=Xe.createdAt||t.metadata.creationTime;u($s(new Date(ye),"MMM dd, yyyy")),l(Xe.photoURL||t.photoURL||""),h(t.email||""),V(Xe.subscriptionPlan||"Free"),Z(Xe.subscriptionExpiry||null);const ae=Qs(Vn(dt,"qrcodes"),Kn("userId","==",t.uid)),nt=await Qv(ae);G(nt.data().count);const Je=Qs(Vn(dt,"userCollections"),Kn("userId","==",t.uid)),Oe=await Qv(Je);J(Oe.data().count)}}catch{We.error("Failed to fetch profile")}})()},[t]);const re=async Ie=>{var ye;const Xe=(ye=Ie.target.files)==null?void 0:ye[0];if(Xe){if(!Xe.type.startsWith("image/")){We.error("Please select an image file");return}if(Xe.size>5*1024*1024){We.error("Image must be less than 5MB");return}try{const ae=await Qr(Xe,{maxSizeMB:.7,maxWidthOrHeight:600,useWebWorker:!0}),nt=new FileReader;nt.onload=()=>{const Je=nt.result;N(Je),We.success("Image ready!")},nt.readAsDataURL(ae)}catch{We.error("Image processing failed")}}},le=()=>{_&&(l(_),x(!1),N(""),We.success("Profile picture updated!"))},ue=()=>{v&&v.trim()?(l(v.trim()),y(""),x(!1),We.success("Image link applied!")):We.error("Enter a valid URL")},de=()=>{l(""),N(""),y(""),x(!1),We.success("Profile picture removed!")},_e=async()=>{if(t){if(!r.trim()){We.error("Display name required");return}m(!0);try{await Lee(t,{displayName:r.trim(),photoURL:a}),await pi(Lt(dt,"users",t.uid),{username:r.trim(),photoURL:a,updatedAt:new Date().toISOString()}),We.success("Profile updated successfully!")}catch{We.error("Failed to update profile")}finally{m(!1)}}},Ae=async()=>{if(t){if(!P||!D||!w){We.error("Fill all fields");return}if(D!==w){We.error("Passwords do not match");return}if(D.length<6){We.error("Password must be at least 6 characters");return}F(!0);try{const Ie=Qf.credential(t.email||"",P);await Pee(t,Ie),await Mee(t,D),I(""),C(""),A(""),We.success("Password changed successfully!")}catch(Ie){Ie.code==="auth/wrong-password"?We.error("Current password is incorrect"):We.error("Failed to change password")}finally{F(!1)}}},Le=()=>{x(!1),N(""),y("")};return v1(Q,W),o.jsxs("div",{className:"min-h-screen py-4 sm:py-8 px-4",children:[o.jsx(Jf,{position:"bottom-center",theme:"colored",autoClose:3e3,className:"mb-4",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),o.jsxs(he.div,{className:"max-w-4xl mx-auto",variants:Fye,initial:"hidden",animate:"visible",children:[o.jsxs(he.nav,{className:"w-full mb-4 p-2 bg-white rounded-2xl shadow-md border border-gray-100 flex justify-center md:justify-between",variants:Ch,children:[o.jsx(he.button,{onClick:()=>s("storage"),className:`inline-flex text-xs items-center gap-2 px-4 py-2 text-sm font-medium rounded-xl transition-all duration-300 w-full md:w-[120px] justify-center ${n==="storage"?"bg-indigo-600 text-white shadow-md":"bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-indigo-600"}`,whileHover:{scale:1.02},whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},children:o.jsx(C2,{className:"w-4 h-4"})}),o.jsx(he.button,{onClick:()=>s("profile"),className:`inline-flex text-xs items-center gap-2 px-4 py-2 text-sm font-medium rounded-xl transition-all duration-300 w-full md:w-[120px] justify-center ${n==="profile"?"bg-indigo-600 text-white shadow-md":"bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-indigo-600"}`,whileHover:{scale:1.02},whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},children:o.jsx(Ud,{className:"w-4 h-4"})}),o.jsx(he.button,{onClick:()=>s("security"),className:`inline-flex text-xs items-center gap-2 px-4 py-2 text-sm font-medium rounded-xl transition-all duration-300 w-full md:w-[120px] justify-center ${n==="security"?"bg-indigo-600 text-white shadow-md":"bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-indigo-600"}`,whileHover:{scale:1.02},whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:17},children:o.jsx(Ro,{className:"w-4 h-4"})})]}),o.jsxs(Zt,{mode:"wait",children:[n==="profile"&&o.jsx(he.section,{variants:c4,initial:"hidden",animate:"visible",exit:"exit",children:o.jsx("div",{className:`${$I} p-6 sm:p-8`,children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[o.jsxs(he.div,{className:"flex-shrink-0 text-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:17},children:[o.jsx("div",{className:"relative inline-block",children:o.jsxs(he.div,{className:"relative w-32 h-32 sm:w-40 sm:h-40 rounded-2xl overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-xl cursor-pointer mx-auto group",onClick:()=>x(!0),whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:[a?o.jsx("img",{src:a,alt:"Profile",className:"w-full h-full object-cover"}):o.jsx(Ud,{className:"w-16 h-16 sm:w-20 sm:h-20 text-white"}),o.jsx(he.div,{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2},children:o.jsxs("div",{className:"text-white text-center",children:[o.jsx(iae,{className:"w-8 h-8 mx-auto mb-1"}),o.jsx("span",{className:"text-sm font-medium",children:"Edit"})]})})]})}),o.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Click to change your profile picture"})]}),o.jsxs("div",{className:"flex-grow space-y-6",children:[o.jsxs(he.div,{variants:Ch,children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),o.jsx(he.input,{type:"text",value:r,onChange:Ie=>i(Ie.target.value),className:kh,placeholder:"Enter your display name",whileFocus:{scale:1.01},transition:{type:"spring",stiffness:400,damping:17}})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[o.jsxs(he.div,{variants:Ch,children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[o.jsx(jd,{className:"inline w-4 h-4 mr-1"}),"Email Address"]}),o.jsx("input",{type:"email",value:d,disabled:!0,className:`${kh} bg-gray-50 text-gray-500 cursor-not-allowed`})]}),o.jsxs(he.div,{variants:Ch,children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[o.jsx(fl,{className:"inline w-4 h-4 mr-1"}),"Member Since"]}),o.jsx("input",{type:"text",value:c,disabled:!0,className:`${kh} bg-gray-50 text-gray-500 cursor-not-allowed`})]})]}),o.jsxs(he.button,{onClick:_e,disabled:f||!r.trim(),className:Pb,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},children:[f?o.jsx(hS,{className:"w-5 h-5 animate-spin"}):o.jsx(fS,{className:"w-5 h-5"}),f?"Saving Changes...":"Save Changes"]})]})]})})},"profile"),n==="security"&&o.jsx(he.section,{variants:c4,initial:"hidden",animate:"visible",exit:"exit",children:o.jsx("div",{className:`${$I} p-6 sm:p-8`,children:o.jsxs("div",{className:"space-y-6 max-w-2xl",children:[o.jsxs(he.div,{variants:Ch,children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(he.input,{type:R?"text":"password",value:P,onChange:Ie=>I(Ie.target.value),className:`${kh} pr-12`,placeholder:"Enter your current password",whileFocus:{scale:1.01},transition:{type:"spring",stiffness:400,damping:17}}),o.jsx(he.button,{type:"button",onClick:()=>E(!R),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:R?o.jsx(wl,{className:"w-5 h-5"}):o.jsx(os,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[o.jsxs(he.div,{variants:Ch,children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(he.input,{type:T?"text":"password",value:D,onChange:Ie=>C(Ie.target.value),className:`${kh} pr-12`,placeholder:"Enter new password",whileFocus:{scale:1.01},transition:{type:"spring",stiffness:400,damping:17}}),o.jsx(he.button,{type:"button",onClick:()=>L(!T),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:T?o.jsx(wl,{className:"w-5 h-5"}):o.jsx(os,{className:"w-5 h-5"})})]})]}),o.jsxs(he.div,{variants:Ch,children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(he.input,{type:z?"text":"password",value:w,onChange:Ie=>A(Ie.target.value),className:`${kh} pr-12`,placeholder:"Confirm new password",whileFocus:{scale:1.01},transition:{type:"spring",stiffness:400,damping:17}}),o.jsx(he.button,{type:"button",onClick:()=>$(!z),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:z?o.jsx(wl,{className:"w-5 h-5"}):o.jsx(os,{className:"w-5 h-5"})})]})]})]}),o.jsxs(he.button,{onClick:Ae,disabled:O||!P||!D||!w||D!==w,className:Pb,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},children:[O?o.jsx(hS,{className:"w-5 h-5 animate-spin"}):o.jsx(Ro,{className:"w-5 h-5"}),O?"Changing Password...":"Change Password"]})]})})},"security"),n==="storage"&&o.jsx(he.section,{variants:c4,initial:"hidden",animate:"visible",exit:"exit",children:o.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25},className:"px-4 sm:px-6 mb-12",children:o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-gray-200 bg-white shadow-sm",children:[o.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(60%_50%_at_10%_-10%,rgba(59,130,246,0.12),transparent_60%),radial-gradient(40%_35%_at_80%_-10%,rgba(147,51,234,0.10),transparent_60%)]"}),o.jsxs("div",{className:"relative p-5 sm:p-6",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200 bg-gray-50 px-3 py-1 text-xs text-gray-700",children:["Plan: ",o.jsx("strong",{className:"font-medium",children:Q})]}),W&&o.jsxs("span",{className:"hidden sm:inline-flex rounded-full bg-gray-100 px-3 py-1 text-xs text-gray-600",children:["Expires ",new Date(W).toLocaleDateString()]})]})}),(()=>{const Ie=Math.max(1,Hd(Q)),Xe=Math.max(1,K6(Q)),ye=Math.min(100,Math.round(U/Ie*100)),ae=Math.min(100,Math.round(Y/Xe*100)),nt=$e=>$e<70?"safe":$e<90?"warn":"crit",Je=$e=>nt($e)==="safe"?"bg-emerald-500":nt($e)==="warn"?"bg-amber-500":"bg-rose-600",Oe=$e=>nt($e)==="safe"?"text-emerald-500":nt($e)==="warn"?"text-amber-500":"text-rose-600",Ne=40,ke=2*Math.PI*Ne,Ve=ke-ye/100*ke;return o.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-[auto,1fr,auto] gap-6",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsxs("svg",{className:"w-28 h-28 sm:w-32 sm:h-32",viewBox:"0 0 96 96",role:"img","aria-label":`QR usage ${ye}%`,children:[o.jsx("circle",{className:"text-gray-200",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:Ne,cx:"48",cy:"48"}),o.jsx("circle",{className:`${Oe(ye)} transition-all duration-700 ease-in-out`,strokeWidth:"10",strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:Ne,cx:"48",cy:"48",strokeDasharray:ke,strokeDashoffset:Ve,style:{transform:"rotate(-90deg)",transformOrigin:"center"}})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[ye,"%"]}),o.jsx("div",{className:"text-[11px] text-gray-500 -mt-0.5",children:"QR Used"})]})})]})}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-end justify-between gap-3 mb-1.5",children:[o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("span",{className:"font-medium",children:"QR Codes"})," ",o.jsxs("span",{className:"text-gray-500",children:["(",U," / ",Ie,")"]})]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Left: ",o.jsx("span",{className:"font-medium",children:Math.max(0,Ie-U)})]})]}),o.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 overflow-hidden",children:o.jsx("div",{className:`h-3 ${Je(ye)} transition-all duration-700 ease-in-out`,style:{width:`${ye}%`},"aria-valuenow":ye,"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"})}),o.jsxs("div",{className:"mt-1 flex justify-between text-[9px]",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-500"}),o.jsx("span",{className:"mt-1",children:"Normal"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-amber-500"}),o.jsx("span",{className:"mt-1",children:"Approaching Limit"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-rose-600"}),o.jsx("span",{className:"mt-1",children:"Limit Reached"})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-end justify-between gap-3 mb-1.5",children:[o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("span",{className:"font-medium",children:"Collections"})," ",o.jsxs("span",{className:"text-gray-500",children:["(",Y," / ",Xe,")"]})]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Left: ",o.jsx("span",{className:"font-medium",children:Math.max(0,Xe-Y)})]})]}),o.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 overflow-hidden",children:o.jsx("div",{className:`h-3 ${Je(ae)} transition-all duration-700 ease-in-out`,style:{width:`${ae}%`},"aria-valuenow":ae,"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"})})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mt-3",children:[o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50 px-3 py-2 text-center",children:[o.jsx("div",{className:"text-[10px] text-gray-500",children:"QR Used"}),o.jsx("div",{className:"text-sm font-semibold text-gray-900",children:U})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50 px-3 py-2 text-center",children:[o.jsx("div",{className:"text-[10px] text-gray-500",children:"QR Limit"}),o.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Ie})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50 px-3 py-2 text-center",children:[o.jsx("div",{className:"text-[10px] text-gray-500",children:"Collections"}),o.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Y})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50 px-3 py-2 text-center",children:[o.jsx("div",{className:"text-[10px] text-gray-500",children:"Collections Limit"}),o.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Xe})]})]})]})]})})()]})]})})},"storage")]})]}),o.jsx(Zt,{children:p&&o.jsx(he.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:Le,variants:zI,initial:"hidden",animate:"visible",exit:"exit",children:o.jsxs(he.div,{className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:Ie=>Ie.stopPropagation(),variants:zI,children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Update Profile Picture"}),o.jsx(he.button,{onClick:Le,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(bs,{className:"w-5 h-5 text-gray-500"})})]}),_&&o.jsxs(he.div,{className:"mb-6 text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:[o.jsx("div",{className:"w-32 h-32 rounded-xl overflow-hidden mx-auto mb-4 shadow-lg",children:o.jsx("img",{src:_,alt:"Preview",className:"w-full h-full object-cover"})}),o.jsxs(he.button,{onClick:le,className:Pb,whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(fS,{className:"w-4 h-4"}),"Apply Image"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(he.button,{onClick:()=>{var Ie;return(Ie=e.current)==null?void 0:Ie.click()},className:`${Bye} w-full justify-start text-left`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(a6,{className:"w-5 h-5 text-blue-600"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Upload from Device"}),o.jsx("div",{className:"text-sm text-gray-500",children:"Choose an image file (max 5MB)"})]})]}),o.jsx("input",{ref:e,type:"file",accept:"image/*",onChange:re,className:"hidden"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Or enter image URL"}),o.jsx(he.input,{type:"url",value:v,onChange:Ie=>y(Ie.target.value),placeholder:"https://example.com/avatar.jpg",className:kh,whileFocus:{scale:1.01},transition:{type:"spring",stiffness:400,damping:17}}),o.jsxs(he.button,{onClick:ue,disabled:!v.trim(),className:Pb,whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(Zae,{className:"w-4 h-4"}),"Apply URL"]})]}),a&&o.jsxs(he.button,{onClick:de,className:`${eT} bg-red-50 hover:bg-red-100 border border-red-200 text-red-700 w-full`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(ma,{className:"w-4 h-4"}),"Remove Profile Picture"]})]})]})})})]})},bo=t=>t.type==="static",_o=t=>t.type==="dynamic",Qu=t=>bo(t)?t.url:`${window.location.origin}/r/${t.shortId}`;var Zf={},Uye=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},x$={},ba={};let tT;const zye=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ba.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ba.getSymbolTotalCodewords=function(e){return zye[e]};ba.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ba.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');tT=e};ba.isKanjiModeEnabled=function(){return typeof tT<"u"};ba.toSJIS=function(e){return tT(e)};var e_={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},t.from=function(s,r){if(t.isValid(s))return s;try{return e(s)}catch{return r}}})(e_);function b$(){this.buffer=[],this.length=0}b$.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var $ye=b$;function w1(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}w1.prototype.set=function(t,e,n,s){const r=t*this.size+e;this.data[r]=n,s&&(this.reservedBit[r]=!0)};w1.prototype.get=function(t,e){return this.data[t*this.size+e]};w1.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};w1.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var qye=w1,v$={};(function(t){const e=ba.getSymbolSize;t.getRowColCoords=function(s){if(s===1)return[];const r=Math.floor(s/7)+2,i=e(s),a=i===145?26:Math.ceil((i-13)/(2*r-2))*2,l=[i-7];for(let c=1;c<r-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},t.getPositions=function(s){const r=[],i=t.getRowColCoords(s),a=i.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||r.push([i[l],i[c]]);return r}})(v$);var w$={};const Hye=ba.getSymbolSize,qI=7;w$.getPositions=function(e){const n=Hye(e);return[[0,0],[n-qI,0],[0,n-qI]]};var _$={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},t.from=function(r){return t.isValid(r)?parseInt(r,10):void 0},t.getPenaltyN1=function(r){const i=r.size;let a=0,l=0,c=0,u=null,d=null;for(let h=0;h<i;h++){l=c=0,u=d=null;for(let f=0;f<i;f++){let m=r.get(h,f);m===u?l++:(l>=5&&(a+=e.N1+(l-5)),u=m,l=1),m=r.get(f,h),m===d?c++:(c>=5&&(a+=e.N1+(c-5)),d=m,c=1)}l>=5&&(a+=e.N1+(l-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(r){const i=r.size;let a=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=r.get(l,c)+r.get(l,c+1)+r.get(l+1,c)+r.get(l+1,c+1);(u===4||u===0)&&a++}return a*e.N2},t.getPenaltyN3=function(r){const i=r.size;let a=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|r.get(u,d),d>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|r.get(d,u),d>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(r){let i=0;const a=r.data.length;for(let c=0;c<a;c++)i+=r.data[c];return Math.abs(Math.ceil(i*100/a/5)-10)*e.N4};function n(s,r,i){switch(s){case t.Patterns.PATTERN000:return(r+i)%2===0;case t.Patterns.PATTERN001:return r%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(r+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return r*i%2+r*i%3===0;case t.Patterns.PATTERN110:return(r*i%2+r*i%3)%2===0;case t.Patterns.PATTERN111:return(r*i%3+(r+i)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}t.applyMask=function(r,i){const a=i.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)i.isReserved(c,l)||i.xor(c,l,n(r,c,l))},t.getBestMask=function(r,i){const a=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let u=0;u<a;u++){i(u),t.applyMask(u,r);const d=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(u,r),d<c&&(c=d,l=u)}return l}})(_$);var t_={};const nd=e_,Rb=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ib=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t_.getBlocksCount=function(e,n){switch(n){case nd.L:return Rb[(e-1)*4+0];case nd.M:return Rb[(e-1)*4+1];case nd.Q:return Rb[(e-1)*4+2];case nd.H:return Rb[(e-1)*4+3];default:return}};t_.getTotalCodewordsCount=function(e,n){switch(n){case nd.L:return Ib[(e-1)*4+0];case nd.M:return Ib[(e-1)*4+1];case nd.Q:return Ib[(e-1)*4+2];case nd.H:return Ib[(e-1)*4+3];default:return}};var N$={},n_={};const jy=new Uint8Array(512),fw=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)jy[n]=e,fw[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)jy[n]=jy[n-255]})();n_.log=function(e){if(e<1)throw new Error("log("+e+")");return fw[e]};n_.exp=function(e){return jy[e]};n_.mul=function(e,n){return e===0||n===0?0:jy[fw[e]+fw[n]]};(function(t){const e=n_;t.mul=function(s,r){const i=new Uint8Array(s.length+r.length-1);for(let a=0;a<s.length;a++)for(let l=0;l<r.length;l++)i[a+l]^=e.mul(s[a],r[l]);return i},t.mod=function(s,r){let i=new Uint8Array(s);for(;i.length-r.length>=0;){const a=i[0];for(let c=0;c<r.length;c++)i[c]^=e.mul(r[c],a);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},t.generateECPolynomial=function(s){let r=new Uint8Array([1]);for(let i=0;i<s;i++)r=t.mul(r,new Uint8Array([1,e.exp(i)]));return r}})(N$);const S$=N$;function nT(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}nT.prototype.initialize=function(e){this.degree=e,this.genPoly=S$.generateECPolynomial(this.degree)};nT.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const s=S$.mod(n,this.genPoly),r=this.degree-s.length;if(r>0){const i=new Uint8Array(this.degree);return i.set(s,r),i}return s};var Qye=nT,j$={},sh={},sT={};sT.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Dl={};const E$="[0-9]+",Gye="[A-Z $%*+\\-./:]+";let yx="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";yx=yx.replace(/u/g,"\\u");const Wye="(?:(?![A-Z0-9 $%*+\\-./:]|"+yx+`)(?:.|[\r
]))+`;Dl.KANJI=new RegExp(yx,"g");Dl.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Dl.BYTE=new RegExp(Wye,"g");Dl.NUMERIC=new RegExp(E$,"g");Dl.ALPHANUMERIC=new RegExp(Gye,"g");const Yye=new RegExp("^"+yx+"$"),Kye=new RegExp("^"+E$+"$"),Xye=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Dl.testKanji=function(e){return Yye.test(e)};Dl.testNumeric=function(e){return Kye.test(e)};Dl.testAlphanumeric=function(e){return Xye.test(e)};(function(t){const e=sT,n=Dl;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function s(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+r)}}t.from=function(i,a){if(t.isValid(i))return i;try{return s(i)}catch{return a}}})(sh);(function(t){const e=ba,n=t_,s=e_,r=sh,i=sT,a=7973,l=e.getBCHDigit(a);function c(f,m,p){for(let x=1;x<=40;x++)if(m<=t.getCapacity(x,p,f))return x}function u(f,m){return r.getCharCountIndicator(f,m)+4}function d(f,m){let p=0;return f.forEach(function(x){const v=u(x.mode,m);p+=v+x.getBitsLength()}),p}function h(f,m){for(let p=1;p<=40;p++)if(d(f,p)<=t.getCapacity(p,m,r.MIXED))return p}t.from=function(m,p){return i.isValid(m)?parseInt(m,10):p},t.getCapacity=function(m,p,x){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=r.BYTE);const v=e.getSymbolTotalCodewords(m),y=n.getTotalCodewordsCount(m,p),_=(v-y)*8;if(x===r.MIXED)return _;const N=_-u(x,m);switch(x){case r.NUMERIC:return Math.floor(N/10*3);case r.ALPHANUMERIC:return Math.floor(N/11*2);case r.KANJI:return Math.floor(N/13);case r.BYTE:default:return Math.floor(N/8)}},t.getBestVersionForData=function(m,p){let x;const v=s.from(p,s.M);if(Array.isArray(m)){if(m.length>1)return h(m,v);if(m.length===0)return 1;x=m[0]}else x=m;return c(x.mode,x.getLength(),v)},t.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let p=m<<12;for(;e.getBCHDigit(p)-l>=0;)p^=a<<e.getBCHDigit(p)-l;return m<<12|p}})(j$);var A$={};const WS=ba,T$=1335,Jye=21522,HI=WS.getBCHDigit(T$);A$.getEncodedBits=function(e,n){const s=e.bit<<3|n;let r=s<<10;for(;WS.getBCHDigit(r)-HI>=0;)r^=T$<<WS.getBCHDigit(r)-HI;return(s<<10|r)^Jye};var C$={};const Zye=sh;function ug(t){this.mode=Zye.NUMERIC,this.data=t.toString()}ug.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ug.prototype.getLength=function(){return this.data.length};ug.prototype.getBitsLength=function(){return ug.getBitsLength(this.data.length)};ug.prototype.write=function(e){let n,s,r;for(n=0;n+3<=this.data.length;n+=3)s=this.data.substr(n,3),r=parseInt(s,10),e.put(r,10);const i=this.data.length-n;i>0&&(s=this.data.substr(n),r=parseInt(s,10),e.put(r,i*3+1))};var exe=ug;const txe=sh,u4=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function dg(t){this.mode=txe.ALPHANUMERIC,this.data=t}dg.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};dg.prototype.getLength=function(){return this.data.length};dg.prototype.getBitsLength=function(){return dg.getBitsLength(this.data.length)};dg.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let s=u4.indexOf(this.data[n])*45;s+=u4.indexOf(this.data[n+1]),e.put(s,11)}this.data.length%2&&e.put(u4.indexOf(this.data[n]),6)};var nxe=dg;const sxe=sh;function hg(t){this.mode=sxe.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}hg.getBitsLength=function(e){return e*8};hg.prototype.getLength=function(){return this.data.length};hg.prototype.getBitsLength=function(){return hg.getBitsLength(this.data.length)};hg.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var rxe=hg;const ixe=sh,axe=ba;function fg(t){this.mode=ixe.KANJI,this.data=t}fg.getBitsLength=function(e){return e*13};fg.prototype.getLength=function(){return this.data.length};fg.prototype.getBitsLength=function(){return fg.getBitsLength(this.data.length)};fg.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=axe.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var oxe=fg,k$={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,s,r){var i={},a={};a[s]=0;var l=e.PriorityQueue.make();l.push(s,0);for(var c,u,d,h,f,m,p,x,v;!l.empty();){c=l.pop(),u=c.value,h=c.cost,f=n[u]||{};for(d in f)f.hasOwnProperty(d)&&(m=f[d],p=h+m,x=a[d],v=typeof a[d]>"u",(v||x>p)&&(a[d]=p,l.push(d,p),i[d]=u))}if(typeof r<"u"&&typeof a[r]>"u"){var y=["Could not find a path from ",s," to ",r,"."].join("");throw new Error(y)}return i},extract_shortest_path_from_predecessor_list:function(n,s){for(var r=[],i=s;i;)r.push(i),n[i],i=n[i];return r.reverse(),r},find_path:function(n,s,r){var i=e.single_source_shortest_paths(n,s,r);return e.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(n){var s=e.PriorityQueue,r={},i;n=n||{};for(i in s)s.hasOwnProperty(i)&&(r[i]=s[i]);return r.queue=[],r.sorter=n.sorter||s.default_sorter,r},default_sorter:function(n,s){return n.cost-s.cost},push:function(n,s){var r={value:n,cost:s};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(k$);var lxe=k$.exports;(function(t){const e=sh,n=exe,s=nxe,r=rxe,i=oxe,a=Dl,l=ba,c=lxe;function u(y){return unescape(encodeURIComponent(y)).length}function d(y,_,N){const P=[];let I;for(;(I=y.exec(N))!==null;)P.push({data:I[0],index:I.index,mode:_,length:I[0].length});return P}function h(y){const _=d(a.NUMERIC,e.NUMERIC,y),N=d(a.ALPHANUMERIC,e.ALPHANUMERIC,y);let P,I;return l.isKanjiModeEnabled()?(P=d(a.BYTE,e.BYTE,y),I=d(a.KANJI,e.KANJI,y)):(P=d(a.BYTE_KANJI,e.BYTE,y),I=[]),_.concat(N,P,I).sort(function(C,w){return C.index-w.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function f(y,_){switch(_){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return s.getBitsLength(y);case e.KANJI:return i.getBitsLength(y);case e.BYTE:return r.getBitsLength(y)}}function m(y){return y.reduce(function(_,N){const P=_.length-1>=0?_[_.length-1]:null;return P&&P.mode===N.mode?(_[_.length-1].data+=N.data,_):(_.push(N),_)},[])}function p(y){const _=[];for(let N=0;N<y.length;N++){const P=y[N];switch(P.mode){case e.NUMERIC:_.push([P,{data:P.data,mode:e.ALPHANUMERIC,length:P.length},{data:P.data,mode:e.BYTE,length:P.length}]);break;case e.ALPHANUMERIC:_.push([P,{data:P.data,mode:e.BYTE,length:P.length}]);break;case e.KANJI:_.push([P,{data:P.data,mode:e.BYTE,length:u(P.data)}]);break;case e.BYTE:_.push([{data:P.data,mode:e.BYTE,length:u(P.data)}])}}return _}function x(y,_){const N={},P={start:{}};let I=["start"];for(let D=0;D<y.length;D++){const C=y[D],w=[];for(let A=0;A<C.length;A++){const R=C[A],E=""+D+A;w.push(E),N[E]={node:R,lastCount:0},P[E]={};for(let T=0;T<I.length;T++){const L=I[T];N[L]&&N[L].node.mode===R.mode?(P[L][E]=f(N[L].lastCount+R.length,R.mode)-f(N[L].lastCount,R.mode),N[L].lastCount+=R.length):(N[L]&&(N[L].lastCount=R.length),P[L][E]=f(R.length,R.mode)+4+e.getCharCountIndicator(R.mode,_))}}I=w}for(let D=0;D<I.length;D++)P[I[D]].end=0;return{map:P,table:N}}function v(y,_){let N;const P=e.getBestModeForData(y);if(N=e.from(_,P),N!==e.BYTE&&N.bit<P.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(N)+`.
 Suggested mode is: `+e.toString(P));switch(N===e.KANJI&&!l.isKanjiModeEnabled()&&(N=e.BYTE),N){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new s(y);case e.KANJI:return new i(y);case e.BYTE:return new r(y)}}t.fromArray=function(_){return _.reduce(function(N,P){return typeof P=="string"?N.push(v(P,null)):P.data&&N.push(v(P.data,P.mode)),N},[])},t.fromString=function(_,N){const P=h(_,l.isKanjiModeEnabled()),I=p(P),D=x(I,N),C=c.find_path(D.map,"start","end"),w=[];for(let A=1;A<C.length-1;A++)w.push(D.table[C[A]].node);return t.fromArray(m(w))},t.rawSplit=function(_){return t.fromArray(h(_,l.isKanjiModeEnabled()))}})(C$);const s_=ba,d4=e_,cxe=$ye,uxe=qye,dxe=v$,hxe=w$,YS=_$,KS=t_,fxe=Qye,mw=j$,mxe=A$,pxe=sh,h4=C$;function gxe(t,e){const n=t.size,s=hxe.getPositions(e);for(let r=0;r<s.length;r++){const i=s[r][0],a=s[r][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||n<=i+l))for(let c=-1;c<=7;c++)a+c<=-1||n<=a+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(i+l,a+c,!0,!0):t.set(i+l,a+c,!1,!0))}}function yxe(t){const e=t.size;for(let n=8;n<e-8;n++){const s=n%2===0;t.set(n,6,s,!0),t.set(6,n,s,!0)}}function xxe(t,e){const n=dxe.getPositions(e);for(let s=0;s<n.length;s++){const r=n[s][0],i=n[s][1];for(let a=-2;a<=2;a++)for(let l=-2;l<=2;l++)a===-2||a===2||l===-2||l===2||a===0&&l===0?t.set(r+a,i+l,!0,!0):t.set(r+a,i+l,!1,!0)}}function bxe(t,e){const n=t.size,s=mw.getEncodedBits(e);let r,i,a;for(let l=0;l<18;l++)r=Math.floor(l/3),i=l%3+n-8-3,a=(s>>l&1)===1,t.set(r,i,a,!0),t.set(i,r,a,!0)}function f4(t,e,n){const s=t.size,r=mxe.getEncodedBits(e,n);let i,a;for(i=0;i<15;i++)a=(r>>i&1)===1,i<6?t.set(i,8,a,!0):i<8?t.set(i+1,8,a,!0):t.set(s-15+i,8,a,!0),i<8?t.set(8,s-i-1,a,!0):i<9?t.set(8,15-i-1+1,a,!0):t.set(8,15-i-1,a,!0);t.set(s-8,8,1,!0)}function vxe(t,e){const n=t.size;let s=-1,r=n-1,i=7,a=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(r,l-c)){let u=!1;a<e.length&&(u=(e[a]>>>i&1)===1),t.set(r,l-c,u),i--,i===-1&&(a++,i=7)}if(r+=s,r<0||n<=r){r-=s,s=-s;break}}}function wxe(t,e,n){const s=new cxe;n.forEach(function(c){s.put(c.mode.bit,4),s.put(c.getLength(),pxe.getCharCountIndicator(c.mode,t)),c.write(s)});const r=s_.getSymbolTotalCodewords(t),i=KS.getTotalCodewordsCount(t,e),a=(r-i)*8;for(s.getLengthInBits()+4<=a&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(0);const l=(a-s.getLengthInBits())/8;for(let c=0;c<l;c++)s.put(c%2?17:236,8);return _xe(s,t,e)}function _xe(t,e,n){const s=s_.getSymbolTotalCodewords(e),r=KS.getTotalCodewordsCount(e,n),i=s-r,a=KS.getBlocksCount(e,n),l=s%a,c=a-l,u=Math.floor(s/a),d=Math.floor(i/a),h=d+1,f=u-d,m=new fxe(f);let p=0;const x=new Array(a),v=new Array(a);let y=0;const _=new Uint8Array(t.buffer);for(let C=0;C<a;C++){const w=C<c?d:h;x[C]=_.slice(p,p+w),v[C]=m.encode(x[C]),p+=w,y=Math.max(y,w)}const N=new Uint8Array(s);let P=0,I,D;for(I=0;I<y;I++)for(D=0;D<a;D++)I<x[D].length&&(N[P++]=x[D][I]);for(I=0;I<f;I++)for(D=0;D<a;D++)N[P++]=v[D][I];return N}function Nxe(t,e,n,s){let r;if(Array.isArray(t))r=h4.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const d=h4.rawSplit(t);u=mw.getBestVersionForData(d,n)}r=h4.fromString(t,u||40)}else throw new Error("Invalid data");const i=mw.getBestVersionForData(r,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=wxe(e,n,r),l=s_.getSymbolSize(e),c=new uxe(l);return gxe(c,e),yxe(c),xxe(c,e),f4(c,n,0),e>=7&&bxe(c,e),vxe(c,a),isNaN(s)&&(s=YS.getBestMask(c,f4.bind(null,c,n))),YS.applyMask(s,c),f4(c,n,s),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:s,segments:r}}x$.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let s=d4.M,r,i;return typeof n<"u"&&(s=d4.from(n.errorCorrectionLevel,d4.M),r=mw.from(n.version),i=YS.from(n.maskPattern),n.toSJISFunc&&s_.setToSJISFunction(n.toSJISFunc)),Nxe(e,r,s,i)};var P$={},rT={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let s=n.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+n);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(i){return[i,i]}))),s.length===6&&s.push("F","F");const r=parseInt(s.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+s.slice(0,6).join("")}}t.getOptions=function(s){s||(s={}),s.color||(s.color={});const r=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,i=s.width&&s.width>=21?s.width:void 0,a=s.scale||4;return{width:i,scale:i?4:a,margin:r,color:{dark:e(s.color.dark||"#000000ff"),light:e(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},t.getScale=function(s,r){return r.width&&r.width>=s+r.margin*2?r.width/(s+r.margin*2):r.scale},t.getImageWidth=function(s,r){const i=t.getScale(s,r);return Math.floor((s+r.margin*2)*i)},t.qrToImageData=function(s,r,i){const a=r.modules.size,l=r.modules.data,c=t.getScale(a,i),u=Math.floor((a+i.margin*2)*c),d=i.margin*c,h=[i.color.light,i.color.dark];for(let f=0;f<u;f++)for(let m=0;m<u;m++){let p=(f*u+m)*4,x=i.color.light;if(f>=d&&m>=d&&f<u-d&&m<u-d){const v=Math.floor((f-d)/c),y=Math.floor((m-d)/c);x=h[l[v*a+y]?1:0]}s[p++]=x.r,s[p++]=x.g,s[p++]=x.b,s[p]=x.a}}})(rT);(function(t){const e=rT;function n(r,i,a){r.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,a,l){let c=l,u=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(u=s()),c=e.getOptions(c);const d=e.getImageWidth(i.modules.size,c),h=u.getContext("2d"),f=h.createImageData(d,d);return e.qrToImageData(f.data,i,c),n(h,u,d),h.putImageData(f,0,0),u},t.renderToDataURL=function(i,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const u=t.render(i,a,c),d=c.type||"image/png",h=c.rendererOpts||{};return u.toDataURL(d,h.quality)}})(P$);var R$={};const Sxe=rT;function QI(t,e){const n=t.a/255,s=e+'="'+t.hex+'"';return n<1?s+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':s}function m4(t,e,n){let s=t+e;return typeof n<"u"&&(s+=" "+n),s}function jxe(t,e,n){let s="",r=0,i=!1,a=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),u=Math.floor(l/e);!c&&!i&&(i=!0),t[l]?(a++,l>0&&c>0&&t[l-1]||(s+=i?m4("M",c+n,.5+u+n):m4("m",r,0),r=0,i=!1),c+1<e&&t[l+1]||(s+=m4("h",a),a=0)):r++}return s}R$.render=function(e,n,s){const r=Sxe.getOptions(n),i=e.modules.size,a=e.modules.data,l=i+r.margin*2,c=r.color.light.a?"<path "+QI(r.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+QI(r.color.dark,"stroke")+' d="'+jxe(a,i,r.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof s=="function"&&s(null,f),f};const Exe=Uye,XS=x$,I$=P$,Axe=R$;function iT(t,e,n,s,r){const i=[].slice.call(arguments,1),a=i.length,l=typeof i[a-1]=="function";if(!l&&!Exe())throw new Error("Callback required as last argument");if(l){if(a<2)throw new Error("Too few arguments provided");a===2?(r=n,n=e,e=s=void 0):a===3&&(e.getContext&&typeof r>"u"?(r=s,s=void 0):(r=s,s=n,n=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=e,e=s=void 0):a===2&&!e.getContext&&(s=n,n=e,e=void 0),new Promise(function(c,u){try{const d=XS.create(n,s);c(t(d,e,s))}catch(d){u(d)}})}try{const c=XS.create(n,s);r(null,t(c,e,s))}catch(c){r(c)}}Zf.create=XS.create;Zf.toCanvas=iT.bind(null,I$.render);Zf.toDataURL=iT.bind(null,I$.renderToDataURL);Zf.toString=iT.bind(null,function(t,e,n){return Axe.render(t,n)});const r_=({qrCodeData:t,onClose:e,loading:n,error:s})=>{const[r,i]=j.useState(null),a=j.useRef(null),l=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=j.useCallback(async(u,d,h)=>{const f=Math.min(d,h),m=document.createElement("canvas");m.width=f,m.height=f;const p=m.getContext("2d");if(!p)throw new Error("Could not create image. Please try again.");const x=Math.max(5,f*.02);p.fillStyle=u.containerBackgroundColor||"#FFFFFF",p.fillRect(0,0,f,f);const v=f-2*x,y=document.createElement("canvas");y.width=v,y.height=v;const _=Qu(u);if(!_)throw new Error("No URL available for QR generation");try{await Zf.toCanvas(y,_,{errorCorrectionLevel:u.errorCorrectionLevel,width:v,height:v,margin:0,color:{dark:u.color,light:u.backgroundColor||"#FFFFFF"}})}catch(I){throw console.error("QR Code generation error:",I),new Error("Failed to generate QR Code.")}const N=(f-v)/2,P=(f-v)/2;if(p.imageSmoothingEnabled=!1,p.drawImage(y,N,P,v,v),u.logoDataUrl){const I=new Image;I.crossOrigin="anonymous",await new Promise((D,C)=>{I.onload=()=>{const w=v*.2,A=(f-w)/2,R=(f-w)/2,E=w*.1,T=w/2;p.beginPath(),p.arc(A+T,R+T,T+E,0,2*Math.PI),p.fillStyle="#FFFFFF",p.fill(),p.beginPath(),p.arc(A+T,R+T,T,0,2*Math.PI),p.closePath(),p.clip(),p.imageSmoothingEnabled=!0,p.imageSmoothingQuality="high",p.drawImage(I,A,R,w,w),D()},I.onerror=w=>{console.error("Logo load error:",w),C(w)},I.src=u.logoDataUrl})}return m.toDataURL("image/png")},[]);return j.useEffect(()=>{t&&(async()=>{try{const d=await c(t,256,256);i(d)}catch(d){console.error("Error generating QR code:",d)}})()},[t,c]),j.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),j.useEffect(()=>{const u=d=>{a.current&&!a.current.contains(d.target)&&e()};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[e]),t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 pt-[80px]",onClick:e,children:o.jsxs("div",{ref:a,className:"relative rounded-3xl shadow-2xl w-full max-w-[calc(85%)] max-h-[calc(75vh)] flex flex-col overflow-hidden bg-gradient-to-br from-gray-50 to-white border border-gray-200",onClick:u=>u.stopPropagation(),children:[o.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none rounded-full p-2 transition-colors duration-200 z-30","aria-label":"Close",children:o.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("div",{className:"flex items-center justify-center gap-3 mt-6 relative z-10",children:o.jsx("div",{className:"bg-blue-100 rounded-2xl py-2 px-4",children:o.jsx("h3",{className:"text-lg font-semibold text-blue-800 text-center break-words",children:t.name})})}),o.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter blur-md opacity-40 rounded-3xl",style:{backgroundImage:'url("https://source.unsplash.com/random/800x600")'}}),o.jsx("div",{className:"relative z-20 p-4 flex justify-center items-center mt-2",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-3 relative",children:n?o.jsx("div",{className:"text-center",children:"Loading QR Code..."}):s?o.jsxs("div",{className:"text-center text-red-500",children:["Error: ",s]}):r?o.jsx("img",{src:r,alt:"QR Code",style:{maxWidth:"200px",maxHeight:"200px"}}):o.jsx("div",{className:"text-center",children:"Failed to generate QR Code."})})}),o.jsxs("div",{className:"p-4 text-center text-gray-500 text-xs",children:["Created on ",l(t.createdAt),t.type==="dynamic"&&t.visits!==void 0&&o.jsxs("span",{className:"block mt-1",children:[t.visits," visit",t.visits!==1?"s":""]})]})]})}):null},Txe=({status:t,error:e,progress:n=0,onDownloadAgain:s,onClose:r,onMinimize:i,onCancel:a,fileName:l,fileType:c,fileSize:u})=>{const d={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:20,transition:{duration:.2}}};return t==="processing"?o.jsx(Zt,{children:o.jsxs(he.div,{className:"text-center py-6 px-4",variants:d,initial:"initial",animate:"animate",exit:"exit",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Generating PDF..."}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Please wait while we create your collection PDF."}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:o.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${n}%`}})}),o.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[n,"% complete"]}),o.jsxs("div",{className:"flex justify-center space-x-3",children:[i&&o.jsx("button",{onClick:i,className:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm",children:"Hide"}),a&&o.jsx("button",{onClick:a,className:"inline-flex items-center px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition-colors text-sm",children:"Cancel"})]})]})}):t==="success"?o.jsx(Zt,{children:o.jsxs(he.div,{className:"text-center py-6 px-4",variants:d,initial:"initial",animate:"animate",exit:"exit",children:[o.jsx(Jn,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Collection Downloaded!"}),o.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Check your downloads folder.",l&&c&&o.jsxs("span",{className:"block mt-1",children:["Downloaded: ",o.jsxs("span",{className:"font-medium",children:[l,".",c]}),u&&o.jsxs(o.Fragment,{children:[", Size: ",u]})]})]}),o.jsxs("div",{className:"flex justify-center space-x-3 flex-wrap gap-2",children:[o.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 px-3 rounded-md focus:outline-none transition-colors duration-200 text-sm",onClick:s,"aria-label":"Download collection again",children:"Download Again"}),o.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-3 rounded-md focus:outline-none transition-colors duration-200 text-sm",onClick:r,"aria-label":"Close download status",children:"Close"})]})]})}):null},Cxe=({onStyleSelect:t})=>{const e=[{id:"standard",title:"Standard",description:"Ideal for archiving — includes QR name, URL, timestamp, and more."},{id:"grid",title:"Grid Layout",description:"Best for bulk sharing — multiple QR codes per page in a clean grid layout."}];return o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-center text-gray-800",children:"Choose Export Style"}),o.jsx("ul",{children:e.map(n=>o.jsxs("li",{className:"py-4 px-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>t(n.id),children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n.title}),o.jsx("p",{className:"text-sm text-gray-600",children:n.description})]},n.id))})]})},kxe={72:{A4:[595,842],A5:[420,595],A6:[298,420]},150:{A4:[1240,1754],A5:[877,1240],A6:[620,877]},300:{A4:[2480,3508],A5:[1754,2480],A6:[1240,1754]}},aT=(t,e=300)=>{const n=kxe[e];return n&&n[t]||null},pw=(t,e,n)=>e==="mm"?t/25.4*n:t*n,L$=(t,e,n)=>{const s=parseFloat(t),r=parseFloat(e);return isNaN(s)||isNaN(r)||s<=0||r<=0?{isValid:!1,error:"Invalid custom dimensions. Please enter valid positive numbers."}:n<=0?{isValid:!1,error:"Invalid DPI. Please enter a valid positive number."}:{isValid:!0}},Pxe=[72,150,300],oT=()=>["A4","A5","A6"],lT=t=>Pxe,i_=150,GI="A4",Rxe=({selectedSize:t,onSizeChange:e,dpi:n,onDpiChange:s,autoLayoutOptimization:r,onAutoLayoutChange:i})=>{const a=oT(),l=lT();return o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Options"}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"standard-size",className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Size:"}),o.jsx("select",{id:"standard-size",className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm py-2 px-3",value:t,onChange:c=>e(c.target.value),children:a.map(c=>o.jsx("option",{value:c,children:c},c))})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"standard-dpi",className:"block text-sm font-medium text-gray-700 mb-1",children:"DPI"}),o.jsx("select",{id:"standard-dpi",className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm py-2 px-3",value:n,onChange:c=>s(parseInt(c.target.value,10)),children:l.map(c=>o.jsxs("option",{value:c,children:[c," DPI ",c===i_?"(Recommended)":""]},c))})]}),o.jsx("div",{className:"mb-3",children:o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-green-500 rounded transition duration-150 ease-in-out",checked:r,onChange:c=>i(c.target.checked)}),o.jsx("span",{className:"ml-2 text-gray-700 text-sm",children:"Auto Layout Optimization"})]})}),o.jsx("p",{className:"text-sm text-gray-500",children:"Optimizes one QR code per page with all details, perfect for archiving."})]})},Ixe=({enableCustomLayout:t,onEnableCustomLayoutChange:e,sizeUnit:n,onSizeUnitChange:s,customWidth:r,onCustomWidthChange:i,customHeight:a,onCustomHeightChange:l,dpi:c,onDpiChange:u})=>{const d=f=>{const m=f.target.value;/^\d*\.?\d*$/.test(m)&&i(m)},h=f=>{const m=f.target.value;/^\d*\.?\d*$/.test(m)&&l(m)};return o.jsxs("div",{className:"mb-3",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-green-500 rounded transition duration-150 ease-in-out",checked:t,onChange:f=>e(f.target.checked)}),o.jsx("span",{className:"ml-2 text-gray-700 text-sm",children:"Enable Custom Layout"})]}),t&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("label",{htmlFor:"size-unit",className:"block text-sm font-medium text-gray-700",children:"Unit:"}),o.jsxs("select",{id:"size-unit",className:"border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm py-2 px-3",value:n,onChange:f=>s(f.target.value),children:[o.jsx("option",{value:"in",children:"in"}),o.jsx("option",{value:"mm",children:"mm"})]})]}),o.jsxs("label",{htmlFor:"custom-width",className:"block text-sm font-medium text-gray-700 mb-1",children:["Width (",n,"):"]}),o.jsx("input",{type:"number",id:"custom-width",className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm py-2 px-3",value:r,onChange:d}),o.jsxs("label",{htmlFor:"custom-height",className:"block text-sm font-medium text-gray-700 mt-2 mb-1",children:["Height (",n,"):"]}),o.jsx("input",{type:"number",id:"custom-height",className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm py-2 px-3",value:a,onChange:h})]})]})},Lxe=({pdfSizeMinimal:t,onPdfSizeMinimalChange:e,dpi:n,onDpiChange:s,enableCustomLayout:r,onEnableCustomLayoutChange:i,sizeUnit:a,onSizeUnitChange:l,customWidth:c,onCustomWidthChange:u,customHeight:d,onCustomHeightChange:h,showQrCodeName:f,onShowQrCodeNameChange:m})=>{const p=oT(),x=lT();return o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Options"}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"minimal-size",className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Size:"}),o.jsx("select",{id:"minimal-size",className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm py-2 px-3",value:t,onChange:v=>e(v.target.value),children:p.map(v=>o.jsx("option",{value:v,children:v},v))})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"minimal-dpi",className:"block text-sm font-medium text-gray-700 mb-1",children:"DPI"}),o.jsx("select",{id:"minimal-dpi",className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm py-2 px-3",value:n,onChange:v=>s(parseInt(v.target.value,10)),children:x.map(v=>o.jsxs("option",{value:v,children:[v," DPI ",v===i_?"(Recommended)":""]},v))})]}),o.jsx(Ixe,{enableCustomLayout:r,onEnableCustomLayoutChange:i,sizeUnit:a,onSizeUnitChange:l,customWidth:c,onCustomWidthChange:u,customHeight:d,onCustomHeightChange:h,dpi:n,onDpiChange:s}),o.jsx("div",{className:"mb-3",children:o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-green-500 rounded transition duration-150 ease-in-out",checked:f,onChange:v=>m(v.target.checked)}),o.jsx("span",{className:"ml-2 text-gray-700 text-sm",children:"Show QR Code Name"})]})}),o.jsx("p",{className:"text-sm text-gray-500",children:"Clean design with optional name and custom dimensions."})]})},Mxe=({selectedSize:t,onSizeChange:e,dpi:n,onDpiChange:s,qrCodesPerPage:r,onQrCodesPerPageChange:i,showQrCodeName:a,onShowQrCodeNameChange:l,addCutLineGuides:c,onAddCutLineGuidesChange:u,qrCodeData:d})=>{const h=oT(),f=lT(),m=[2,4,6,8,12,15,20,24,30],p=(t==="A4"||t==="A3")&&d.some(x=>x.logoDataUrl);return o.jsxs("div",{children:[p&&o.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative mb-4\\",role:"alert",children:[o.jsx("strong",{className:"font-bold",children:"Tip!"}),o.jsx("span",{className:"block sm:inline",children:"Enable cut lines to help separate QR codes on the PDF."})]}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Options"}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"grid-size",className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Size:"}),o.jsx("select",{id:"grid-size",className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm py-2 px-3",value:t,onChange:x=>e(x.target.value),children:h.map(x=>o.jsx("option",{value:x,children:x},x))})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"grid-dpi",className:"block text-sm font-medium text-gray-700 mb-1",children:"DPI"}),o.jsx("select",{id:"grid-dpi",className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm py-2 px-3",value:n,onChange:x=>s(parseInt(x.target.value,10)),children:f.map(x=>o.jsxs("option",{value:x,children:[x," DPI ",x===i_?"(Recommended)":""]},x))})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"qr-codes-per-page",className:"block text-sm font-medium text-gray-700 mb-1",children:"QR Codes Per Page:"}),o.jsx("select",{id:"qr-codes-per-page",className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm py-2 px-3",value:r,onChange:x=>i(parseInt(x.target.value,10)),children:m.map(x=>o.jsx("option",{value:x,children:x},x))})]}),o.jsx("div",{className:"mb-3",children:o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-green-500 rounded transition duration-150 ease-in-out",checked:a,onChange:x=>l(x.target.checked)}),o.jsx("span",{className:"ml-2 text-gray-700 text-sm",children:"Show QR Code Name"})]})}),o.jsx("div",{className:"mb-3",children:o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-green-500 rounded transition duration-150 ease-in-out",checked:c,onChange:x=>u(x.target.checked)}),o.jsx("span",{className:"ml-2 text-gray-700 text-sm",children:"Add Cut Line Guides"})]})}),o.jsx("p",{className:"text-sm text-gray-500",children:"Optimized for bulk sharing or printing, grid layout arranges multiple QR codes per page efficiently."})]})},Dxe="modulepreload",Oxe=function(t){return"/"+t},WI={},Qd=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=Oxe(c),c in WI)return;WI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Dxe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function Tn(t){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(t)}var Xr=Uint8Array,oa=Uint16Array,cT=Int32Array,a_=new Xr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o_=new Xr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),JS=new Xr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M$=function(t,e){for(var n=new oa(31),s=0;s<31;++s)n[s]=e+=1<<t[s-1];for(var r=new cT(n[30]),s=1;s<30;++s)for(var i=n[s];i<n[s+1];++i)r[i]=i-n[s]<<5|s;return{b:n,r}},D$=M$(a_,2),O$=D$.b,ZS=D$.r;O$[28]=258,ZS[258]=28;var F$=M$(o_,0),Fxe=F$.b,YI=F$.r,ej=new oa(32768);for(var Xn=0;Xn<32768;++Xn){var ku=(Xn&43690)>>1|(Xn&21845)<<1;ku=(ku&52428)>>2|(ku&13107)<<2,ku=(ku&61680)>>4|(ku&3855)<<4,ej[Xn]=((ku&65280)>>8|(ku&255)<<8)>>1}var El=function(t,e,n){for(var s=t.length,r=0,i=new oa(e);r<s;++r)t[r]&&++i[t[r]-1];var a=new oa(e);for(r=1;r<e;++r)a[r]=a[r-1]+i[r-1]<<1;var l;if(n){l=new oa(1<<e);var c=15-e;for(r=0;r<s;++r)if(t[r])for(var u=r<<4|t[r],d=e-t[r],h=a[t[r]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)l[ej[h]>>c]=u}else for(l=new oa(s),r=0;r<s;++r)t[r]&&(l[r]=ej[a[t[r]-1]++]>>15-t[r]);return l},Gd=new Xr(288);for(var Xn=0;Xn<144;++Xn)Gd[Xn]=8;for(var Xn=144;Xn<256;++Xn)Gd[Xn]=9;for(var Xn=256;Xn<280;++Xn)Gd[Xn]=7;for(var Xn=280;Xn<288;++Xn)Gd[Xn]=8;var xx=new Xr(32);for(var Xn=0;Xn<32;++Xn)xx[Xn]=5;var Bxe=El(Gd,9,0),Vxe=El(Gd,9,1),Uxe=El(xx,5,0),zxe=El(xx,5,1),p4=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},uo=function(t,e,n){var s=e/8|0;return(t[s]|t[s+1]<<8)>>(e&7)&n},g4=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},uT=function(t){return(t+7)/8|0},B$=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Xr(t.subarray(e,n))},$xe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yo=function(t,e,n){var s=new Error(e||$xe[t]);if(s.code=t,Error.captureStackTrace&&Error.captureStackTrace(s,yo),!n)throw s;return s},qxe=function(t,e,n,s){var r=t.length,i=0;if(!r||e.f&&!e.l)return n||new Xr(0);var a=!n,l=a||e.i!=2,c=e.i;a&&(n=new Xr(r*3));var u=function(Ae){var Le=n.length;if(Ae>Le){var Ie=new Xr(Math.max(Le*2,Ae));Ie.set(n),n=Ie}},d=e.f||0,h=e.p||0,f=e.b||0,m=e.l,p=e.d,x=e.m,v=e.n,y=r*8;do{if(!m){d=uo(t,h,1);var _=uo(t,h+1,3);if(h+=3,_)if(_==1)m=Vxe,p=zxe,x=9,v=5;else if(_==2){var D=uo(t,h,31)+257,C=uo(t,h+10,15)+4,w=D+uo(t,h+5,31)+1;h+=14;for(var A=new Xr(w),R=new Xr(19),E=0;E<C;++E)R[JS[E]]=uo(t,h+E*3,7);h+=C*3;for(var T=p4(R),L=(1<<T)-1,z=El(R,T,1),E=0;E<w;){var $=z[uo(t,h,L)];h+=$&15;var N=$>>4;if(N<16)A[E++]=N;else{var O=0,F=0;for(N==16?(F=3+uo(t,h,3),h+=2,O=A[E-1]):N==17?(F=3+uo(t,h,7),h+=3):N==18&&(F=11+uo(t,h,127),h+=7);F--;)A[E++]=O}}var Q=A.subarray(0,D),V=A.subarray(D);x=p4(Q),v=p4(V),m=El(Q,x,1),p=El(V,v,1)}else yo(1);else{var N=uT(h)+4,P=t[N-4]|t[N-3]<<8,I=N+P;if(I>r){c&&yo(0);break}l&&u(f+P),n.set(t.subarray(N,I),f),e.b=f+=P,e.p=h=I*8,e.f=d;continue}if(h>y){c&&yo(0);break}}l&&u(f+131072);for(var W=(1<<x)-1,Z=(1<<v)-1,U=h;;U=h){var O=m[g4(t,h)&W],G=O>>4;if(h+=O&15,h>y){c&&yo(0);break}if(O||yo(2),G<256)n[f++]=G;else if(G==256){U=h,m=null;break}else{var Y=G-254;if(G>264){var E=G-257,J=a_[E];Y=uo(t,h,(1<<J)-1)+O$[E],h+=J}var re=p[g4(t,h)&Z],le=re>>4;re||yo(3),h+=re&15;var V=Fxe[le];if(le>3){var J=o_[le];V+=g4(t,h)&(1<<J)-1,h+=J}if(h>y){c&&yo(0);break}l&&u(f+131072);var ue=f+Y;if(f<V){var de=i-V,_e=Math.min(V,ue);for(de+f<0&&yo(3);f<_e;++f)n[f]=s[de+f]}for(;f<ue;++f)n[f]=n[f-V]}}e.l=m,e.p=U,e.b=f,e.f=d,m&&(d=1,e.m=x,e.d=p,e.n=v)}while(!d);return f!=n.length&&a?B$(n,0,f):n.subarray(0,f)},ic=function(t,e,n){n<<=e&7;var s=e/8|0;t[s]|=n,t[s+1]|=n>>8},_0=function(t,e,n){n<<=e&7;var s=e/8|0;t[s]|=n,t[s+1]|=n>>8,t[s+2]|=n>>16},y4=function(t,e){for(var n=[],s=0;s<t.length;++s)t[s]&&n.push({s,f:t[s]});var r=n.length,i=n.slice();if(!r)return{t:U$,l:0};if(r==1){var a=new Xr(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(I,D){return I.f-D.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,h=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=r-1;)l=n[n[u].f<n[h].f?u++:h++],c=n[u!=d&&n[u].f<n[h].f?u++:h++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var f=i[0].s,s=1;s<r;++s)i[s].s>f&&(f=i[s].s);var m=new oa(f+1),p=tj(n[d-1],m,0);if(p>e){var s=0,x=0,v=p-e,y=1<<v;for(i.sort(function(D,C){return m[C.s]-m[D.s]||D.f-C.f});s<r;++s){var _=i[s].s;if(m[_]>e)x+=y-(1<<p-m[_]),m[_]=e;else break}for(x>>=v;x>0;){var N=i[s].s;m[N]<e?x-=1<<e-m[N]++-1:++s}for(;s>=0&&x;--s){var P=i[s].s;m[P]==e&&(--m[P],++x)}p=e}return{t:new Xr(m),l:p}},tj=function(t,e,n){return t.s==-1?Math.max(tj(t.l,e,n+1),tj(t.r,e,n+1)):e[t.s]=n},KI=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new oa(++e),s=0,r=t[0],i=1,a=function(c){n[s++]=c},l=1;l<=e;++l)if(t[l]==r&&l!=e)++i;else{if(!r&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(r),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(r);i=1,r=t[l]}return{c:n.subarray(0,s),n:e}},N0=function(t,e){for(var n=0,s=0;s<e.length;++s)n+=t[s]*e[s];return n},V$=function(t,e,n){var s=n.length,r=uT(e+2);t[r]=s&255,t[r+1]=s>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var i=0;i<s;++i)t[r+i+4]=n[i];return(r+4+s)*8},XI=function(t,e,n,s,r,i,a,l,c,u,d){ic(e,d++,n),++r[256];for(var h=y4(r,15),f=h.t,m=h.l,p=y4(i,15),x=p.t,v=p.l,y=KI(f),_=y.c,N=y.n,P=KI(x),I=P.c,D=P.n,C=new oa(19),w=0;w<_.length;++w)++C[_[w]&31];for(var w=0;w<I.length;++w)++C[I[w]&31];for(var A=y4(C,7),R=A.t,E=A.l,T=19;T>4&&!R[JS[T-1]];--T);var L=u+5<<3,z=N0(r,Gd)+N0(i,xx)+a,$=N0(r,f)+N0(i,x)+a+14+3*T+N0(C,R)+2*C[16]+3*C[17]+7*C[18];if(c>=0&&L<=z&&L<=$)return V$(e,d,t.subarray(c,c+u));var O,F,Q,V;if(ic(e,d,1+($<z)),d+=2,$<z){O=El(f,m,0),F=f,Q=El(x,v,0),V=x;var W=El(R,E,0);ic(e,d,N-257),ic(e,d+5,D-1),ic(e,d+10,T-4),d+=14;for(var w=0;w<T;++w)ic(e,d+3*w,R[JS[w]]);d+=3*T;for(var Z=[_,I],U=0;U<2;++U)for(var G=Z[U],w=0;w<G.length;++w){var Y=G[w]&31;ic(e,d,W[Y]),d+=R[Y],Y>15&&(ic(e,d,G[w]>>5&127),d+=G[w]>>12)}}else O=Bxe,F=Gd,Q=Uxe,V=xx;for(var w=0;w<l;++w){var J=s[w];if(J>255){var Y=J>>18&31;_0(e,d,O[Y+257]),d+=F[Y+257],Y>7&&(ic(e,d,J>>23&31),d+=a_[Y]);var re=J&31;_0(e,d,Q[re]),d+=V[re],re>3&&(_0(e,d,J>>5&8191),d+=o_[re])}else _0(e,d,O[J]),d+=F[J]}return _0(e,d,O[256]),d+F[256]},Hxe=new cT([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),U$=new Xr(0),Qxe=function(t,e,n,s,r,i){var a=i.z||t.length,l=new Xr(s+a+5*(1+Math.ceil(a/7e3))+r),c=l.subarray(s,l.length-r),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var h=Hxe[e-1],f=h>>13,m=h&8191,p=(1<<n)-1,x=i.p||new oa(32768),v=i.h||new oa(p+1),y=Math.ceil(n/3),_=2*y,N=function(Xe){return(t[Xe]^t[Xe+1]<<y^t[Xe+2]<<_)&p},P=new cT(25e3),I=new oa(288),D=new oa(32),C=0,w=0,A=i.i||0,R=0,E=i.w||0,T=0;A+2<a;++A){var L=N(A),z=A&32767,$=v[L];if(x[z]=$,v[L]=z,E<=A){var O=a-A;if((C>7e3||R>24576)&&(O>423||!u)){d=XI(t,c,0,P,I,D,w,R,T,A-T,d),R=C=w=0,T=A;for(var F=0;F<286;++F)I[F]=0;for(var F=0;F<30;++F)D[F]=0}var Q=2,V=0,W=m,Z=z-$&32767;if(O>2&&L==N(A-Z))for(var U=Math.min(f,O)-1,G=Math.min(32767,A),Y=Math.min(258,O);Z<=G&&--W&&z!=$;){if(t[A+Q]==t[A+Q-Z]){for(var J=0;J<Y&&t[A+J]==t[A+J-Z];++J);if(J>Q){if(Q=J,V=Z,J>U)break;for(var re=Math.min(Z,J-2),le=0,F=0;F<re;++F){var ue=A-Z+F&32767,de=x[ue],_e=ue-de&32767;_e>le&&(le=_e,$=ue)}}}z=$,$=x[z],Z+=z-$&32767}if(V){P[R++]=268435456|ZS[Q]<<18|YI[V];var Ae=ZS[Q]&31,Le=YI[V]&31;w+=a_[Ae]+o_[Le],++I[257+Ae],++D[Le],E=A+Q,++C}else P[R++]=t[A],++I[t[A]]}}for(A=Math.max(A,E);A<a;++A)P[R++]=t[A],++I[t[A]];d=XI(t,c,u,P,I,D,w,R,T,A-T,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=x,i.i=A,i.w=E)}else{for(var A=i.w||0;A<a+u;A+=65535){var Ie=A+65535;Ie>=a&&(c[d/8|0]=u,Ie=a),d=V$(c,d+1,t.subarray(A,Ie))}i.i=a}return B$(l,0,s+uT(d)+r)},z$=function(){var t=1,e=0;return{p:function(n){for(var s=t,r=e,i=n.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)r+=s+=n[a];s=(s&65535)+15*(s>>16),r=(r&65535)+15*(r>>16)}t=s,e=r},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Gxe=function(t,e,n,s,r){if(!r&&(r={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new Xr(i.length+t.length);a.set(i),a.set(t,i.length),t=a,r.w=i.length}return Qxe(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,s,r)},$$=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Wxe=function(t,e){var n=e.level,s=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=s<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=z$();r.p(e.dictionary),$$(t,2,r.d())}},Yxe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&yo(6,"invalid zlib data"),(t[1]>>5&1)==1&&yo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function nj(t,e){e||(e={});var n=z$();n.p(t);var s=Gxe(t,e,e.dictionary?6:2,4);return Wxe(s,e),$$(s,s.length-4,n.d()),s}function Kxe(t,e){return qxe(t.subarray(Yxe(t),-4),{i:2},e,e)}var Xxe=typeof TextDecoder<"u"&&new TextDecoder,Jxe=0;try{Xxe.decode(U$,{stream:!0}),Jxe=1}catch{}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function x4(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var Dn={log:x4,warn:function(t){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):x4.call(null,arguments))},error:function(t){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):x4(t))}};function b4(t,e,n){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){zh(s.response,e,n)},s.onerror=function(){Dn.error("could not download file")},s.send()}function JI(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lb(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ey,sj,zh=At.saveAs||((typeof window>"u"?"undefined":Tn(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var s=At.URL||At.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?JI(r.href)?b4(t,e,n):Lb(r,r.target="_blank"):Lb(r)):(r.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(r.href)},4e4),setTimeout(function(){Lb(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(JI(t))b4(t,e,n);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){Lb(s)})}else navigator.msSaveOrOpenBlob(function(r,i){return i===void 0?i={autoBom:!1}:Tn(i)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,n),e)}:function(t,e,n,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return b4(t,e,n);var r=t.type==="application/octet-stream",i=/constructor/i.test(At.HTMLElement)||At.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&i)&&(typeof FileReader>"u"?"undefined":Tn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=d:location=d,s=null},l.readAsDataURL(t)}else{var c=At.URL||At.webkitURL,u=c.createObjectURL(t);s?s.location=u:location.href=u,s=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function q$(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<n.length;s++){var r=n[s].re,i=n[s].process,a=r.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function v4(t,e){var n=t[0],s=t[1],r=t[2],i=t[3];n=zr(n,s,r,i,e[0],7,-680876936),i=zr(i,n,s,r,e[1],12,-389564586),r=zr(r,i,n,s,e[2],17,606105819),s=zr(s,r,i,n,e[3],22,-1044525330),n=zr(n,s,r,i,e[4],7,-176418897),i=zr(i,n,s,r,e[5],12,1200080426),r=zr(r,i,n,s,e[6],17,-1473231341),s=zr(s,r,i,n,e[7],22,-45705983),n=zr(n,s,r,i,e[8],7,1770035416),i=zr(i,n,s,r,e[9],12,-1958414417),r=zr(r,i,n,s,e[10],17,-42063),s=zr(s,r,i,n,e[11],22,-1990404162),n=zr(n,s,r,i,e[12],7,1804603682),i=zr(i,n,s,r,e[13],12,-40341101),r=zr(r,i,n,s,e[14],17,-1502002290),n=$r(n,s=zr(s,r,i,n,e[15],22,1236535329),r,i,e[1],5,-165796510),i=$r(i,n,s,r,e[6],9,-1069501632),r=$r(r,i,n,s,e[11],14,643717713),s=$r(s,r,i,n,e[0],20,-373897302),n=$r(n,s,r,i,e[5],5,-701558691),i=$r(i,n,s,r,e[10],9,38016083),r=$r(r,i,n,s,e[15],14,-660478335),s=$r(s,r,i,n,e[4],20,-405537848),n=$r(n,s,r,i,e[9],5,568446438),i=$r(i,n,s,r,e[14],9,-1019803690),r=$r(r,i,n,s,e[3],14,-187363961),s=$r(s,r,i,n,e[8],20,1163531501),n=$r(n,s,r,i,e[13],5,-1444681467),i=$r(i,n,s,r,e[2],9,-51403784),r=$r(r,i,n,s,e[7],14,1735328473),n=qr(n,s=$r(s,r,i,n,e[12],20,-1926607734),r,i,e[5],4,-378558),i=qr(i,n,s,r,e[8],11,-2022574463),r=qr(r,i,n,s,e[11],16,1839030562),s=qr(s,r,i,n,e[14],23,-35309556),n=qr(n,s,r,i,e[1],4,-1530992060),i=qr(i,n,s,r,e[4],11,1272893353),r=qr(r,i,n,s,e[7],16,-155497632),s=qr(s,r,i,n,e[10],23,-1094730640),n=qr(n,s,r,i,e[13],4,681279174),i=qr(i,n,s,r,e[0],11,-358537222),r=qr(r,i,n,s,e[3],16,-722521979),s=qr(s,r,i,n,e[6],23,76029189),n=qr(n,s,r,i,e[9],4,-640364487),i=qr(i,n,s,r,e[12],11,-421815835),r=qr(r,i,n,s,e[15],16,530742520),n=Hr(n,s=qr(s,r,i,n,e[2],23,-995338651),r,i,e[0],6,-198630844),i=Hr(i,n,s,r,e[7],10,1126891415),r=Hr(r,i,n,s,e[14],15,-1416354905),s=Hr(s,r,i,n,e[5],21,-57434055),n=Hr(n,s,r,i,e[12],6,1700485571),i=Hr(i,n,s,r,e[3],10,-1894986606),r=Hr(r,i,n,s,e[10],15,-1051523),s=Hr(s,r,i,n,e[1],21,-2054922799),n=Hr(n,s,r,i,e[8],6,1873313359),i=Hr(i,n,s,r,e[15],10,-30611744),r=Hr(r,i,n,s,e[6],15,-1560198380),s=Hr(s,r,i,n,e[13],21,1309151649),n=Hr(n,s,r,i,e[4],6,-145523070),i=Hr(i,n,s,r,e[11],10,-1120210379),r=Hr(r,i,n,s,e[2],15,718787259),s=Hr(s,r,i,n,e[9],21,-343485551),t[0]=sd(n,t[0]),t[1]=sd(s,t[1]),t[2]=sd(r,t[2]),t[3]=sd(i,t[3])}function l_(t,e,n,s,r,i){return e=sd(sd(e,t),sd(s,i)),sd(e<<r|e>>>32-r,n)}function zr(t,e,n,s,r,i,a){return l_(e&n|~e&s,t,e,r,i,a)}function $r(t,e,n,s,r,i,a){return l_(e&s|n&~s,t,e,r,i,a)}function qr(t,e,n,s,r,i,a){return l_(e^n^s,t,e,r,i,a)}function Hr(t,e,n,s,r,i,a){return l_(n^(e|~s),t,e,r,i,a)}function H$(t){var e,n=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)v4(s,Zxe(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(v4(s,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,v4(s,r),s}function Zxe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Ey=At.atob.bind(At),sj=At.btoa.bind(At);var ZI="0123456789abcdef".split("");function e1e(t){for(var e="",n=0;n<4;n++)e+=ZI[t>>8*n+4&15]+ZI[t>>8*n&15];return e}function t1e(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function rj(t){return H$(t).map(t1e).join("")}var n1e=function(t){for(var e=0;e<t.length;e++)t[e]=e1e(t[e]);return t.join("")}(H$("hello"))!="5d41402abc4b2a76b9719d911017c592";function sd(t,e){if(n1e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ij(t,e){var n,s,r,i;if(t!==n){for(var a=(r=t,i=1+(256/t.length>>0),new Array(i+1).join(r)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+a.charCodeAt(c))%256,l[c]=l[u],l[u]=d}n=t,s=l}else l=s;var h=e.length,f=0,m=0,p="";for(c=0;c<h;c++)m=(m+(d=l[f=(f+1)%256]))%256,l[f]=l[m],l[m]=d,a=l[(l[f]+l[m])%256],p+=String.fromCharCode(e.charCodeAt(c)^a);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var e7={print:4,modify:8,copy:16,"annot-forms":32};function qm(t,e,n,s){this.v=1,this.r=2;var r=192;t.forEach(function(l){if(e7.perm!==void 0)throw new Error("Invalid permission: "+l);r+=e7[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^r)),this.encryptionKey=rj(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=ij(this.encryptionKey,this.padding)}function Hm(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,s=0;s<n;s++){var r=t.charCodeAt(s);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=t[s]}return e}function t7(t){if(Tn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,s,r){if(r=r||!1,typeof n!="string"||typeof s!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[s,!!r],i},this.unsubscribe=function(n){for(var s in e)if(e[s][n])return delete e[s][n],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var s=Array.prototype.slice.call(arguments,1),r=[];for(var i in e[n]){var a=e[n][i];try{a[0].apply(t,s)}catch(l){At.console&&Dn.error("jsPDF PubSub Error",l.message,l)}a[1]&&r.push(i)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function gw(t){if(!(this instanceof gw))return new gw(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Q$(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Qh(t,e,n,s,r){if(!(this instanceof Qh))return new Qh(t,e,n,s,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Q$.call(this,s,r)}function fp(t,e,n,s,r){if(!(this instanceof fp))return new fp(t,e,n,s,r);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Q$.call(this,s,r)}function wt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],r=arguments[2],i=arguments[3],a=[],l=1,c=16,u="S",d=null;Tn(t=t||{})==="object"&&(n=t.orientation,s=t.unit||s,r=t.format||r,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),s=s||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,f={},m={internal:{},__private__:{}};m.__private__.PubSub=t7;var p="1.3",x=m.__private__.getPdfVersion=function(){return p};m.__private__.setPdfVersion=function(k){p=k};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var y=m.__private__.getPageFormat=function(k){return v[k]};r=r||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},N=_.COMPAT;function P(){this.saveGraphicsState(),ae(new gt(Me,0,0,-Me,0,Vr()*Me).toString()+" cm"),this.setFontSize(this.getFontSize()/Me),u="n",N=_.ADVANCED}function I(){this.restoreGraphicsState(),u="S",N=_.COMPAT}var D=m.__private__.combineFontStyleAndFontWeight=function(k,K){if(k=="bold"&&K=="normal"||k=="bold"&&K==400||k=="normal"&&K=="italic"||k=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(k=K==400||K==="normal"?k==="italic"?"italic":"normal":K!=700&&K!=="bold"||k!=="normal"?(K==700?"bold":K)+""+k:"bold"),k};m.advancedAPI=function(k){var K=N===_.COMPAT;return K&&P.call(this),typeof k!="function"||(k(this),K&&I.call(this)),this},m.compatAPI=function(k){var K=N===_.ADVANCED;return K&&I.call(this),typeof k!="function"||(k(this),K&&P.call(this)),this},m.isAdvancedAPI=function(){return N===_.ADVANCED};var C,w=function(k){if(N!==_.ADVANCED)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=m.roundToPrecision=m.__private__.roundToPrecision=function(k,K){var ce=e||K;if(isNaN(k)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(ce).replace(/0+$/,"")};C=m.hpf=m.__private__.hpf=typeof c=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return A(k,c)}:c==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return A(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return A(k,16)};var R=m.f2=m.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return A(k,2)},E=m.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return A(k,3)},T=m.scale=m.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return N===_.COMPAT?k*Me:N===_.ADVANCED?k:void 0},L=function(k){return N===_.COMPAT?Vr()-k:N===_.ADVANCED?k:void 0},z=function(k){return T(L(k))};m.__private__.setPrecision=m.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var $,O="00000000000000000000000000000000",F=m.__private__.getFileId=function(){return O},Q=m.__private__.setFileId=function(k){return O=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():O.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Wn=new qm(d.userPermissions,d.userPassword,d.ownerPassword,O)),O};m.setFileId=function(k){return Q(k),this},m.getFileId=function(){return F()};var V=m.__private__.convertDateToPDFDate=function(k){var K=k.getTimezoneOffset(),ce=K<0?"+":"-",fe=Math.floor(Math.abs(K/60)),be=Math.abs(K%60),Fe=[ce,Y(fe),"'",Y(be),"'"].join("");return["D:",k.getFullYear(),Y(k.getMonth()+1),Y(k.getDate()),Y(k.getHours()),Y(k.getMinutes()),Y(k.getSeconds()),Fe].join("")},W=m.__private__.convertPDFDateToDate=function(k){var K=parseInt(k.substr(2,4),10),ce=parseInt(k.substr(6,2),10)-1,fe=parseInt(k.substr(8,2),10),be=parseInt(k.substr(10,2),10),Fe=parseInt(k.substr(12,2),10),et=parseInt(k.substr(14,2),10);return new Date(K,ce,fe,be,Fe,et,0)},Z=m.__private__.setCreationDate=function(k){var K;if(k===void 0&&(k=new Date),k instanceof Date)K=V(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=k}return $=K},U=m.__private__.getCreationDate=function(k){var K=$;return k==="jsDate"&&(K=W($)),K};m.setCreationDate=function(k){return Z(k),this},m.getCreationDate=function(k){return U(k)};var G,Y=m.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},J=m.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},re=0,le=[],ue=[],de=0,_e=[],Ae=[],Le=!1,Ie=ue,Xe=function(){re=0,de=0,ue=[],le=[],_e=[],Za=ds(),Br=ds()};m.__private__.setCustomOutputDestination=function(k){Le=!0,Ie=k};var ye=function(k){Le||(Ie=k)};m.__private__.resetCustomOutputDestination=function(){Le=!1,Ie=ue};var ae=m.__private__.out=function(k){return k=k.toString(),de+=k.length+1,Ie.push(k),Ie},nt=m.__private__.write=function(k){return ae(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},Je=m.__private__.getArrayBuffer=function(k){for(var K=k.length,ce=new ArrayBuffer(K),fe=new Uint8Array(ce);K--;)fe[K]=k.charCodeAt(K);return ce},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Oe};var Ne=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(k){return Ne=N===_.ADVANCED?k/Me:k,this};var ke,Ve=m.__private__.getFontSize=m.getFontSize=function(){return N===_.COMPAT?Ne:Ne*Me},$e=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(k){return $e=k,this},m.__private__.getR2L=m.getR2L=function(){return $e};var Te,ze=m.__private__.setZoomMode=function(k){var K=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))ke=k;else if(isNaN(k)){if(K.indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');ke=k}else ke=parseInt(k,10)};m.__private__.getZoomMode=function(){return ke};var Ge,rt=m.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');Te=k};m.__private__.getPageMode=function(){return Te};var xt=m.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Ge=k};m.__private__.getLayoutMode=function(){return Ge},m.__private__.setDisplayMode=m.setDisplayMode=function(k,K,ce){return ze(k),xt(K),rt(ce),this};var Pe={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(k){if(Object.keys(Pe).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pe[k]},m.__private__.getDocumentProperties=function(){return Pe},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(k){for(var K in Pe)Pe.hasOwnProperty(K)&&k[K]&&(Pe[K]=k[K]);return this},m.__private__.setDocumentProperty=function(k,K){if(Object.keys(Pe).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pe[k]=K};var we,Me,st,at,Et,Ce={},ft={},Ft=[],ct={},nn={},un={},Ks={},us=null,en=0,vt=[],Ut=new t7(m),ii=t.hotfixes||[],kn={},es={},Gi=[],gt=function k(K,ce,fe,be,Fe,et){if(!(this instanceof k))return new k(K,ce,fe,be,Fe,et);isNaN(K)&&(K=1),isNaN(ce)&&(ce=0),isNaN(fe)&&(fe=0),isNaN(be)&&(be=1),isNaN(Fe)&&(Fe=0),isNaN(et)&&(et=0),this._matrix=[K,ce,fe,be,Fe,et]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(k)},gt.prototype.multiply=function(k){var K=k.sx*this.sx+k.shy*this.shx,ce=k.sx*this.shy+k.shy*this.sy,fe=k.shx*this.sx+k.sy*this.shx,be=k.shx*this.shy+k.sy*this.sy,Fe=k.tx*this.sx+k.ty*this.shx+this.tx,et=k.tx*this.shy+k.ty*this.sy+this.ty;return new gt(K,ce,fe,be,Fe,et)},gt.prototype.decompose=function(){var k=this.sx,K=this.shy,ce=this.shx,fe=this.sy,be=this.tx,Fe=this.ty,et=Math.sqrt(k*k+K*K),lt=(k/=et)*ce+(K/=et)*fe;ce-=k*lt,fe-=K*lt;var b=Math.sqrt(ce*ce+fe*fe);return lt/=b,k*(fe/=b)<K*(ce/=b)&&(k=-k,K=-K,lt=-lt,et=-et),{scale:new gt(et,0,0,b,0,0),translate:new gt(1,0,0,1,be,Fe),rotate:new gt(k,K,-K,k,0,0),skew:new gt(1,0,lt,1,0,0)}},gt.prototype.toString=function(k){return this.join(" ")},gt.prototype.inversed=function(){var k=this.sx,K=this.shy,ce=this.shx,fe=this.sy,be=this.tx,Fe=this.ty,et=1/(k*fe-K*ce),lt=fe*et,b=-K*et,B=-ce*et,H=k*et;return new gt(lt,b,B,H,-lt*be-B*Fe,-b*be-H*Fe)},gt.prototype.applyToPoint=function(k){var K=k.x*this.sx+k.y*this.shx+this.tx,ce=k.x*this.shy+k.y*this.sy+this.ty;return new Gl(K,ce)},gt.prototype.applyToRectangle=function(k){var K=this.applyToPoint(k),ce=this.applyToPoint(new Gl(k.x+k.w,k.y+k.h));return new du(K.x,K.y,ce.x-K.x,ce.y-K.y)},gt.prototype.clone=function(){var k=this.sx,K=this.shy,ce=this.shx,fe=this.sy,be=this.tx,Fe=this.ty;return new gt(k,K,ce,fe,be,Fe)},m.Matrix=gt;var _i=m.matrixMult=function(k,K){return K.multiply(k)},Fr=new gt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Fr;var Os=function(k,K){if(!nn[k]){var ce=(K instanceof Qh?"Sh":"P")+(Object.keys(ct).length+1).toString(10);K.id=ce,nn[k]=ce,ct[ce]=K,Ut.publish("addPattern",K)}};m.ShadingPattern=Qh,m.TilingPattern=fp,m.addShadingPattern=function(k,K){return w("addShadingPattern()"),Os(k,K),this},m.beginTilingPattern=function(k){w("beginTilingPattern()"),hu(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},m.endTilingPattern=function(k,K){w("endTilingPattern()"),K.stream=Ae[G].join(`
`),Os(k,K),Ut.publish("endTilingPattern",K),Gi.pop().restore()};var Ns=m.__private__.newObject=function(){var k=ds();return Fs(k,!0),k},ds=m.__private__.newObjectDeferred=function(){return re++,le[re]=function(){return de},re},Fs=function(k,K){return K=typeof K=="boolean"&&K,le[k]=de,K&&ae(k+" 0 obj"),k},Xc=m.__private__.newAdditionalObject=function(){var k={objId:ds(),content:""};return _e.push(k),k},Za=ds(),Br=ds(),Ni=m.__private__.decodeColorString=function(k){var K=k.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length===5&&(K[4]==="k"||K[4]==="K")&&(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var ce=parseFloat(K[0]);K=[ce,ce,ce,"r"]}for(var fe="#",be=0;be<3;be++)fe+=("0"+Math.floor(255*parseFloat(K[be])).toString(16)).slice(-2);return fe},ai=m.__private__.encodeColorString=function(k){var K;typeof k=="string"&&(k={ch1:k});var ce=k.ch1,fe=k.ch2,be=k.ch3,Fe=k.ch4,et=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var lt=new q$(ce);if(lt.ok)ce=lt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var b=parseInt(ce.substr(1),16);ce=b>>16&255,fe=b>>8&255,be=255&b}if(fe===void 0||Fe===void 0&&ce===fe&&fe===be)if(typeof ce=="string")K=ce+" "+et[0];else switch(k.precision){case 2:K=R(ce/255)+" "+et[0];break;case 3:default:K=E(ce/255)+" "+et[0]}else if(Fe===void 0||Tn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return K=["1.","1.","1.",et[1]].join(" ");if(typeof ce=="string")K=[ce,fe,be,et[1]].join(" ");else switch(k.precision){case 2:K=[R(ce/255),R(fe/255),R(be/255),et[1]].join(" ");break;default:case 3:K=[E(ce/255),E(fe/255),E(be/255),et[1]].join(" ")}}else if(typeof ce=="string")K=[ce,fe,be,Fe,et[2]].join(" ");else switch(k.precision){case 2:K=[R(ce),R(fe),R(be),R(Fe),et[2]].join(" ");break;case 3:default:K=[E(ce),E(fe),E(be),E(Fe),et[2]].join(" ")}return K},oi=m.__private__.getFilters=function(){return a},Ss=m.__private__.putStream=function(k){var K=(k=k||{}).data||"",ce=k.filters||oi(),fe=k.alreadyAppliedFilters||[],be=k.addLength1||!1,Fe=K.length,et=k.objectId,lt=function(Mt){return Mt};if(d!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(lt=Wn.encryptor(et,0));var b={};ce===!0&&(ce=["FlateEncode"]);var B=k.additionalKeyValues||[],H=(b=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(K,ce):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(b.data.length!==0&&(B.push({key:"Length",value:b.data.length}),be===!0&&B.push({key:"Length1",value:Fe})),H.length!=0)if(H.split("/").length-1==1)B.push({key:"Filter",value:H});else{B.push({key:"Filter",value:"["+H+"]"});for(var ne=0;ne<B.length;ne+=1)if(B[ne].key==="DecodeParms"){for(var xe=[],Ee=0;Ee<b.reverseChain.split("/").length-1;Ee+=1)xe.push("null");xe.push(B[ne].value),B[ne].value="["+xe.join(" ")+"]"}}ae("<<");for(var tt=0;tt<B.length;tt++)ae("/"+B[tt].key+" "+B[tt].value);ae(">>"),b.data.length!==0&&(ae("stream"),ae(lt(b.data)),ae("endstream"))},Wi=m.__private__.putPage=function(k){var K=k.number,ce=k.data,fe=k.objId,be=k.contentsObjId;Fs(fe,!0),ae("<</Type /Page"),ae("/Parent "+k.rootDictionaryObjId+" 0 R"),ae("/Resources "+k.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(C(k.mediaBox.bottomLeftX))+" "+parseFloat(C(k.mediaBox.bottomLeftY))+" "+C(k.mediaBox.topRightX)+" "+C(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&ae("/CropBox ["+C(k.cropBox.bottomLeftX)+" "+C(k.cropBox.bottomLeftY)+" "+C(k.cropBox.topRightX)+" "+C(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&ae("/BleedBox ["+C(k.bleedBox.bottomLeftX)+" "+C(k.bleedBox.bottomLeftY)+" "+C(k.bleedBox.topRightX)+" "+C(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&ae("/TrimBox ["+C(k.trimBox.bottomLeftX)+" "+C(k.trimBox.bottomLeftY)+" "+C(k.trimBox.topRightX)+" "+C(k.trimBox.topRightY)+"]"),k.artBox!==null&&ae("/ArtBox ["+C(k.artBox.bottomLeftX)+" "+C(k.artBox.bottomLeftY)+" "+C(k.artBox.topRightX)+" "+C(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&ae("/UserUnit "+k.userUnit),Ut.publish("putPage",{objId:fe,pageContext:vt[K],pageNumber:K,page:ce}),ae("/Contents "+be+" 0 R"),ae(">>"),ae("endobj");var Fe=ce.join(`
`);return N===_.ADVANCED&&(Fe+=`
Q`),Fs(be,!0),Ss({data:Fe,filters:oi(),objectId:be}),ae("endobj"),fe},zo=m.__private__.putPages=function(){var k,K,ce=[];for(k=1;k<=en;k++)vt[k].objId=ds(),vt[k].contentsObjId=ds();for(k=1;k<=en;k++)ce.push(Wi({number:k,data:Ae[k],objId:vt[k].objId,contentsObjId:vt[k].contentsObjId,mediaBox:vt[k].mediaBox,cropBox:vt[k].cropBox,bleedBox:vt[k].bleedBox,trimBox:vt[k].trimBox,artBox:vt[k].artBox,userUnit:vt[k].userUnit,rootDictionaryObjId:Za,resourceDictionaryObjId:Br}));Fs(Za,!0),ae("<</Type /Pages");var fe="/Kids [";for(K=0;K<en;K++)fe+=ce[K]+" 0 R ";ae(fe+"]"),ae("/Count "+en),ae(">>"),ae("endobj"),Ut.publish("postPutPages")},$o=function(k){Ut.publish("putFont",{font:k,out:ae,newObject:Ns,putStream:Ss}),k.isAlreadyPutted!==!0&&(k.objectNumber=Ns(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Hm(k.postScriptName)),ae("/Subtype /Type1"),typeof k.encoding=="string"&&ae("/Encoding /"+k.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},qo=function(){for(var k in Ce)Ce.hasOwnProperty(k)&&(h===!1||h===!0&&f.hasOwnProperty(k))&&$o(Ce[k])},Fl=function(k){k.objectNumber=Ns();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[C(k.x),C(k.y),C(k.x+k.width),C(k.y+k.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var ce=k.pages[1].join(`
`);Ss({data:ce,additionalKeyValues:K,objectId:k.objectNumber}),ae("endobj")},Bl=function(){for(var k in kn)kn.hasOwnProperty(k)&&Fl(kn[k])},im=function(k,K){var ce,fe=[],be=1/(K-1);for(ce=0;ce<1;ce+=be)fe.push(ce);if(fe.push(1),k[0].offset!=0){var Fe={offset:0,color:k[0].color};k.unshift(Fe)}if(k[k.length-1].offset!=1){var et={offset:1,color:k[k.length-1].color};k.push(et)}for(var lt="",b=0,B=0;B<fe.length;B++){for(ce=fe[B];ce>k[b+1].offset;)b++;var H=k[b].offset,ne=(ce-H)/(k[b+1].offset-H),xe=k[b].color,Ee=k[b+1].color;lt+=J(Math.round((1-ne)*xe[0]+ne*Ee[0]).toString(16))+J(Math.round((1-ne)*xe[1]+ne*Ee[1]).toString(16))+J(Math.round((1-ne)*xe[2]+ne*Ee[2]).toString(16))}return lt.trim()},Jc=function(k,K){K||(K=21);var ce=Ns(),fe=im(k.colors,K),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+K+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ss({data:fe,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),ae("endobj"),k.objectNumber=Ns(),ae("<< /ShadingType "+k.type),ae("/ColorSpace /DeviceRGB");var Fe="/Coords ["+C(parseFloat(k.coords[0]))+" "+C(parseFloat(k.coords[1]))+" ";k.type===2?Fe+=C(parseFloat(k.coords[2]))+" "+C(parseFloat(k.coords[3])):Fe+=C(parseFloat(k.coords[2]))+" "+C(parseFloat(k.coords[3]))+" "+C(parseFloat(k.coords[4]))+" "+C(parseFloat(k.coords[5])),ae(Fe+="]"),k.matrix&&ae("/Matrix ["+k.matrix.toString()+"]"),ae("/Function "+ce+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},am=function(k,K){var ce=ds(),fe=Ns();K.push({resourcesOid:ce,objectOid:fe}),k.objectNumber=fe;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+k.boundingBox.map(C).join(" ")+"]"}),be.push({key:"XStep",value:C(k.xStep)}),be.push({key:"YStep",value:C(k.yStep)}),be.push({key:"Resources",value:ce+" 0 R"}),k.matrix&&be.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),Ss({data:k.stream,additionalKeyValues:be,objectId:k.objectNumber}),ae("endobj")},Ho=function(k){var K;for(K in ct)ct.hasOwnProperty(K)&&(ct[K]instanceof Qh?Jc(ct[K]):ct[K]instanceof fp&&am(ct[K],k))},Qo=function(k){for(var K in k.objectNumber=Ns(),ae("<<"),k)switch(K){case"opacity":ae("/ca "+R(k[K]));break;case"stroke-opacity":ae("/CA "+R(k[K]))}ae(">>"),ae("endobj")},eo=function(){var k;for(k in un)un.hasOwnProperty(k)&&Qo(un[k])},Vl=function(){for(var k in ae("/XObject <<"),kn)kn.hasOwnProperty(k)&&kn[k].objectNumber>=0&&ae("/"+k+" "+kn[k].objectNumber+" 0 R");Ut.publish("putXobjectDict"),ae(">>")},Hg=function(){Wn.oid=Ns(),ae("<<"),ae("/Filter /Standard"),ae("/V "+Wn.v),ae("/R "+Wn.r),ae("/U <"+Wn.toHexString(Wn.U)+">"),ae("/O <"+Wn.toHexString(Wn.O)+">"),ae("/P "+Wn.P),ae(">>"),ae("endobj")},ih=function(){for(var k in ae("/Font <<"),Ce)Ce.hasOwnProperty(k)&&(h===!1||h===!0&&f.hasOwnProperty(k))&&ae("/"+k+" "+Ce[k].objectNumber+" 0 R");ae(">>")},om=function(){if(Object.keys(ct).length>0){for(var k in ae("/Shading <<"),ct)ct.hasOwnProperty(k)&&ct[k]instanceof Qh&&ct[k].objectNumber>=0&&ae("/"+k+" "+ct[k].objectNumber+" 0 R");Ut.publish("putShadingPatternDict"),ae(">>")}},Ul=function(k){if(Object.keys(ct).length>0){for(var K in ae("/Pattern <<"),ct)ct.hasOwnProperty(K)&&ct[K]instanceof m.TilingPattern&&ct[K].objectNumber>=0&&ct[K].objectNumber<k&&ae("/"+K+" "+ct[K].objectNumber+" 0 R");Ut.publish("putTilingPatternDict"),ae(">>")}},ah=function(){if(Object.keys(un).length>0){var k;for(k in ae("/ExtGState <<"),un)un.hasOwnProperty(k)&&un[k].objectNumber>=0&&ae("/"+k+" "+un[k].objectNumber+" 0 R");Ut.publish("putGStateDict"),ae(">>")}},Gn=function(k){Fs(k.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ih(),om(),Ul(k.objectOid),ah(),Vl(),ae(">>"),ae("endobj")},oh=function(){var k=[];qo(),eo(),Bl(),Ho(k),Ut.publish("putResources"),k.forEach(Gn),Gn({resourcesOid:Br,objectOid:Number.MAX_SAFE_INTEGER}),Ut.publish("postPutResources")},lh=function(){Ut.publish("putAdditionalObjects");for(var k=0;k<_e.length;k++){var K=_e[k];Fs(K.objId,!0),ae(K.content),ae("endobj")}Ut.publish("postPutAdditionalObjects")},lm=function(k){ft[k.fontName]=ft[k.fontName]||{},ft[k.fontName][k.fontStyle]=k.id},ch=function(k,K,ce,fe,be){var Fe={id:"F"+(Object.keys(Ce).length+1).toString(10),postScriptName:k,fontName:K,fontStyle:ce,encoding:fe,isStandardFont:be||!1,metadata:{}};return Ut.publish("addFont",{font:Fe,instance:this}),Ce[Fe.id]=Fe,lm(Fe),Fe.id},cm=function(k){for(var K=0,ce=Oe.length;K<ce;K++){var fe=ch.call(this,k[K][0],k[K][1],k[K][2],Oe[K][3],!0);h===!1&&(f[fe]=!0);var be=k[K][0].split("-");lm({id:fe,fontName:be[0],fontStyle:be[1]||""})}Ut.publish("addFonts",{fonts:Ce,dictionary:ft})},Si=function(k){return k.foo=function(){try{return k.apply(this,arguments)}catch(fe){var K=fe.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var ce="Error in function "+K.split(`
`)[0].split("<")[0]+": "+fe.message;if(!At.console)throw new Error(ce);At.console.error(ce,fe),At.alert&&alert(ce)}},k.foo.bar=k,k.foo},Zc=function(k,K){var ce,fe,be,Fe,et,lt,b,B,H;if(be=(K=K||{}).sourceEncoding||"Unicode",et=K.outputEncoding,(K.autoencode||et)&&Ce[we].metadata&&Ce[we].metadata[be]&&Ce[we].metadata[be].encoding&&(Fe=Ce[we].metadata[be].encoding,!et&&Ce[we].encoding&&(et=Ce[we].encoding),!et&&Fe.codePages&&(et=Fe.codePages[0]),typeof et=="string"&&(et=Fe[et]),et)){for(b=!1,lt=[],ce=0,fe=k.length;ce<fe;ce++)(B=et[k.charCodeAt(ce)])?lt.push(String.fromCharCode(B)):lt.push(k[ce]),lt[ce].charCodeAt(0)>>8&&(b=!0);k=lt.join("")}for(ce=k.length;b===void 0&&ce!==0;)k.charCodeAt(ce-1)>>8&&(b=!0),ce--;if(!b)return k;for(lt=K.noBOM?[]:[254,255],ce=0,fe=k.length;ce<fe;ce++){if((H=(B=k.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+k+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");lt.push(H),lt.push(B-(H<<8))}return String.fromCharCode.apply(void 0,lt)},hs=m.__private__.pdfEscape=m.pdfEscape=function(k,K){return Zc(k,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},li=m.__private__.beginPage=function(k){Ae[++en]=[],vt[en]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},uh(en),ye(Ae[G])},zl=function(k,K){var ce,fe,be;switch(n=K||n,typeof k=="string"&&(ce=y(k.toLowerCase()),Array.isArray(ce)&&(fe=ce[0],be=ce[1])),Array.isArray(k)&&(fe=k[0]*Me,be=k[1]*Me),isNaN(fe)&&(fe=r[0],be=r[1]),(fe>14400||be>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),be=Math.min(14400,be)),r=[fe,be],n.substr(0,1)){case"l":be>fe&&(r=[be,fe]);break;case"p":fe>be&&(r=[be,fe])}li(r),ph(mh),ae(_r),xh!==0&&ae(xh+" J"),uu!==0&&ae(uu+" j"),Ut.publish("addPage",{pageNumber:en})},eu=function(k){k>0&&k<=en&&(Ae.splice(k,1),vt.splice(k,1),en--,G>en&&(G=en),this.setPage(G))},uh=function(k){k>0&&k<=en&&(G=k)},xn=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ae.length-1},$l=function(k,K,ce){var fe,be=void 0;return ce=ce||{},k=k!==void 0?k:Ce[we].fontName,K=K!==void 0?K:Ce[we].fontStyle,fe=k.toLowerCase(),ft[fe]!==void 0&&ft[fe][K]!==void 0?be=ft[fe][K]:ft[k]!==void 0&&ft[k][K]!==void 0?be=ft[k][K]:ce.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+k+"', '"+K+"'. Refer to getFontList() for available fonts."),be||ce.noFallback||(be=ft.times[K])==null&&(be=ft.times.normal),be},ql=m.__private__.putInfo=function(){var k=Ns(),K=function(fe){return fe};for(var ce in d!==null&&(K=Wn.encryptor(k,0)),ae("<<"),ae("/Producer ("+hs(K("jsPDF "+wt.version))+")"),Pe)Pe.hasOwnProperty(ce)&&Pe[ce]&&ae("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+hs(K(Pe[ce]))+")");ae("/CreationDate ("+hs(K($))+")"),ae(">>"),ae("endobj")},to=m.__private__.putCatalog=function(k){var K=(k=k||{}).rootDictionaryObjId||Za;switch(Ns(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+K+" 0 R"),ke||(ke="fullwidth"),ke){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+ke;ce.substr(ce.length-1)==="%"&&(ke=parseInt(ke)/100),typeof ke=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+R(ke)+"]")}switch(Ge||(Ge="continuous"),Ge){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Te&&ae("/PageMode /"+Te),Ut.publish("putCatalog"),ae(">>"),ae("endobj")},Qg=m.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(re+1)),ae("/Root "+re+" 0 R"),ae("/Info "+(re-1)+" 0 R"),d!==null&&ae("/Encrypt "+Wn.oid+" 0 R"),ae("/ID [ <"+O+"> <"+O+"> ]"),ae(">>")},um=m.__private__.putHeader=function(){ae("%PDF-"+p),ae("%ºß¬à")},Gg=m.__private__.putXRef=function(){var k="0000000000";ae("xref"),ae("0 "+(re+1)),ae("0000000000 65535 f ");for(var K=1;K<=re;K++)typeof le[K]=="function"?ae((k+le[K]()).slice(-10)+" 00000 n "):le[K]!==void 0?ae((k+le[K]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},no=m.__private__.buildDocument=function(){Xe(),ye(ue),Ut.publish("buildDocument"),um(),zo(),lh(),oh(),d!==null&&Hg(),ql(),to();var k=de;return Gg(),Qg(),ae("startxref"),ae(""+k),ae("%%EOF"),ye(Ae[G]),ue.join(`
`)},tu=m.__private__.getBlob=function(k){return new Blob([Je(k)],{type:"application/pdf"})},nu=m.output=m.__private__.output=Si(function(k,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",k){case void 0:return no();case"save":m.save(K.filename);break;case"arraybuffer":return Je(no());case"blob":return tu(no());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(tu(no()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",fe=no();try{ce=sj(fe)}catch{ce=sj(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+K.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(be=K.pdfObjectUrl,Fe="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",lt=At.open();return lt!==null&&lt.document.write(et),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var b='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',B=At.open();if(B!==null){B.document.write(b);var H=this;B.document.documentElement.querySelector("#pdfViewer").onload=function(){B.document.title=K.filename,B.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(H.output("bloburl"))}}return B}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',xe=At.open();if(xe!==null&&(xe.document.write(ne),xe.document.title=K.filename),xe||typeof safari>"u")return xe;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",K);default:return null}}),Go=function(k){return Array.isArray(ii)===!0&&ii.indexOf(k)>-1};switch(s){case"pt":Me=1;break;case"mm":Me=72/25.4;break;case"cm":Me=72/2.54;break;case"in":Me=72;break;case"px":Me=Go("px_scaling")==1?.75:96/72;break;case"pc":case"em":Me=12;break;case"ex":Me=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Me=s}var Wn=null;Z(),Q();var dm=function(k){return d!==null?Wn.encryptor(k,0):function(K){return K}},dh=m.__private__.getPageInfo=m.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[k].objId,pageNumber:k,pageContext:vt[k]}},kt=m.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in vt)if(vt[K].objId===k)break;return dh(K)},Wo=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:vt[G].objId,pageNumber:G,pageContext:vt[G]}};m.addPage=function(){return zl.apply(this,arguments),this},m.setPage=function(){return uh.apply(this,arguments),ye.call(this,Ae[G]),this},m.insertPage=function(k){return this.addPage(),this.movePage(G,k),this},m.movePage=function(k,K){var ce,fe;if(k>K){ce=Ae[k],fe=vt[k];for(var be=k;be>K;be--)Ae[be]=Ae[be-1],vt[be]=vt[be-1];Ae[K]=ce,vt[K]=fe,this.setPage(K)}else if(k<K){ce=Ae[k],fe=vt[k];for(var Fe=k;Fe<K;Fe++)Ae[Fe]=Ae[Fe+1],vt[Fe]=vt[Fe+1];Ae[K]=ce,vt[K]=fe,this.setPage(K)}return this},m.deletePage=function(){return eu.apply(this,arguments),this},m.__private__.text=m.text=function(k,K,ce,fe,be){var Fe,et,lt,b,B,H,ne,xe,Ee,tt=(fe=fe||{}).scope||this;if(typeof k=="number"&&typeof K=="number"&&(typeof ce=="string"||Array.isArray(ce))){var Mt=ce;ce=K,K=k,k=Mt}if(arguments[3]instanceof gt?(w("The transform parameter of text() with a Matrix value"),Ee=be):(lt=arguments[4],b=arguments[5],Tn(ne=arguments[3])==="object"&&ne!==null||(typeof lt=="string"&&(b=lt,lt=null),typeof ne=="string"&&(b=ne,ne=null),typeof ne=="number"&&(lt=ne,ne=null),fe={flags:ne,angle:lt,align:b})),isNaN(K)||isNaN(ce)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return tt;var Wt="",Dt=!1,gn=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:pn,Ln=tt.internal.scaleFactor;function oo(zn){return zn=zn.split("	").join(Array(fe.TabLen||9).join(" ")),hs(zn,ne)}function Nr(zn){for(var $n,Es=zn.concat(),Js=[],Jl=Es.length;Jl--;)typeof($n=Es.shift())=="string"?Js.push($n):Array.isArray(zn)&&($n.length===1||$n[1]===void 0&&$n[2]===void 0)?Js.push($n[0]):Js.push([$n[0],$n[1],$n[2]]);return Js}function Jo(zn,$n){var Es;if(typeof zn=="string")Es=$n(zn)[0];else if(Array.isArray(zn)){for(var Js,Jl,n0=zn.concat(),Sm=[],L1=n0.length;L1--;)typeof(Js=n0.shift())=="string"?Sm.push($n(Js)[0]):Array.isArray(Js)&&typeof Js[0]=="string"&&(Jl=$n(Js[0],Js[1],Js[2]),Sm.push([Jl[0],Jl[1],Jl[2]]));Es=Sm}return Es}var Zo=!1,Yg=!0;if(typeof k=="string")Zo=!0;else if(Array.isArray(k)){var Kg=k.concat();et=[];for(var gm,Sr=Kg.length;Sr--;)(typeof(gm=Kg.shift())!="string"||Array.isArray(gm)&&typeof gm[0]!="string")&&(Yg=!1);Zo=Yg}if(Zo===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var ym=Ne/tt.internal.scaleFactor,xm=ym*(gn-1);switch(fe.baseline){case"bottom":ce-=xm;break;case"top":ce+=ym-xm;break;case"hanging":ce+=ym-2*xm;break;case"middle":ce+=ym/2-xm}if((H=fe.maxWidth||0)>0&&(typeof k=="string"?k=tt.splitTextToSize(k,H):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(zn,$n){return zn.concat(tt.splitTextToSize($n,H))},[]))),Fe={text:k,x:K,y:ce,options:fe,mutex:{pdfEscape:hs,activeFontKey:we,fonts:Ce,activeFontSize:Ne}},Ut.publish("preProcessText",Fe),k=Fe.text,lt=(fe=Fe.options).angle,!(Ee instanceof gt)&&lt&&typeof lt=="number"){lt*=Math.PI/180,fe.rotationDirection===0&&(lt=-lt),N===_.ADVANCED&&(lt=-lt);var bm=Math.cos(lt),Xg=Math.sin(lt);Ee=new gt(bm,Xg,-Xg,bm,0,0)}else lt&&lt instanceof gt&&(Ee=lt);N!==_.ADVANCED||Ee||(Ee=Fr),(B=fe.charSpace||Ql)!==void 0&&(Wt+=C(T(B))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xe=fe.horizontalScale)!==void 0&&(Wt+=C(100*xe)+` Tz
`),fe.lang;var ji=-1,P_=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Jg=tt.internal.getCurrentPageInfo().pageContext;switch(P_){case 0:case!1:case"fill":ji=0;break;case 1:case!0:case"stroke":ji=1;break;case 2:case"fillThenStroke":ji=2;break;case 3:case"invisible":ji=3;break;case 4:case"fillAndAddForClipping":ji=4;break;case 5:case"strokeAndAddPathForClipping":ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ji=6;break;case 7:case"addToPathForClipping":ji=7}var k1=Jg.usedRenderingMode!==void 0?Jg.usedRenderingMode:-1;ji!==-1?Wt+=ji+` Tr
`:k1!==-1&&(Wt+=`0 Tr
`),ji!==-1&&(Jg.usedRenderingMode=ji),b=fe.align||"left";var Sa,vm=Ne*gn,P1=tt.internal.pageSize.getWidth(),R1=Ce[we];B=fe.charSpace||Ql,H=fe.maxWidth||0,ne=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var pu=[],bh=function(zn){return tt.getStringUnitWidth(zn,{font:R1,charSpace:B,fontSize:Ne,doKerning:!1})*Ne/Ln};if(Object.prototype.toString.call(k)==="[object Array]"){var Ei;et=Nr(k),b!=="left"&&(Sa=et.map(bh));var ci,gu=0;if(b==="right"){K-=Sa[0],k=[],Sr=et.length;for(var Yl=0;Yl<Sr;Yl++)Yl===0?(ci=Xi(K),Ei=Xs(ce)):(ci=T(gu-Sa[Yl]),Ei=-vm),k.push([et[Yl],ci,Ei]),gu=Sa[Yl]}else if(b==="center"){K-=Sa[0]/2,k=[],Sr=et.length;for(var Kl=0;Kl<Sr;Kl++)Kl===0?(ci=Xi(K),Ei=Xs(ce)):(ci=T((gu-Sa[Kl])/2),Ei=-vm),k.push([et[Kl],ci,Ei]),gu=Sa[Kl]}else if(b==="left"){k=[],Sr=et.length;for(var wm=0;wm<Sr;wm++)k.push(et[wm])}else if(b==="justify"&&R1.encoding==="Identity-H"){k=[],Sr=et.length,H=H!==0?H:P1;for(var Xl=0,js=0;js<Sr;js++)if(Ei=js===0?Xs(ce):-vm,ci=js===0?Xi(K):Xl,js<Sr-1){var Zg=T((H-Sa[js])/(et[js].split(" ").length-1)),ui=et[js].split(" ");k.push([ui[0]+" ",ci,Ei]),Xl=0;for(var ja=1;ja<ui.length;ja++){var _m=(bh(ui[ja-1]+" "+ui[ja])-bh(ui[ja]))*Ln+Zg;ja==ui.length-1?k.push([ui[ja],_m,0]):k.push([ui[ja]+" ",_m,0]),Xl-=_m}}else k.push([et[js],ci,Ei]);k.push(["",Xl,0])}else{if(b!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],Sr=et.length,H=H!==0?H:P1,js=0;js<Sr;js++)Ei=js===0?Xs(ce):-vm,ci=js===0?Xi(K):0,js<Sr-1?pu.push(C(T((H-Sa[js])/(et[js].split(" ").length-1)))):pu.push(0),k.push([et[js],ci,Ei])}}var I1=typeof fe.R2L=="boolean"?fe.R2L:$e;I1===!0&&(k=Jo(k,function(zn,$n,Es){return[zn.split("").reverse().join(""),$n,Es]})),Fe={text:k,x:K,y:ce,options:fe,mutex:{pdfEscape:hs,activeFontKey:we,fonts:Ce,activeFontSize:Ne}},Ut.publish("postProcessText",Fe),k=Fe.text,Dt=Fe.mutex.isHex||!1;var e0=Ce[we].encoding;e0!=="WinAnsiEncoding"&&e0!=="StandardEncoding"||(k=Jo(k,function(zn,$n,Es){return[oo(zn),$n,Es]})),et=Nr(k),k=[];for(var vh,wh,yu,_h=0,Nm=1,Nh=Array.isArray(et[0])?Nm:_h,xu="",t0=function(zn,$n,Es){var Js="";return Es instanceof gt?(Es=typeof fe.angle=="number"?_i(Es,new gt(1,0,0,1,zn,$n)):_i(new gt(1,0,0,1,zn,$n),Es),N===_.ADVANCED&&(Es=_i(new gt(1,0,0,-1,0,0),Es)),Js=Es.join(" ")+` Tm
`):Js=C(zn)+" "+C($n)+` Td
`,Js},Ea=0;Ea<et.length;Ea++){switch(xu="",Nh){case Nm:yu=(Dt?"<":"(")+et[Ea][0]+(Dt?">":")"),vh=parseFloat(et[Ea][1]),wh=parseFloat(et[Ea][2]);break;case _h:yu=(Dt?"<":"(")+et[Ea]+(Dt?">":")"),vh=Xi(K),wh=Xs(ce)}pu!==void 0&&pu[Ea]!==void 0&&(xu=pu[Ea]+` Tw
`),Ea===0?k.push(xu+t0(vh,wh,Ee)+yu):Nh===_h?k.push(xu+yu):Nh===Nm&&k.push(xu+t0(vh,wh,Ee)+yu)}k=Nh===_h?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var Aa=`BT
/`;return Aa+=we+" "+Ne+` Tf
`,Aa+=C(Ne*gn)+` TL
`,Aa+=io+`
`,Aa+=Wt,Aa+=k,ae(Aa+="ET"),f[we]=!0,tt};var Wg=m.__private__.clip=m.clip=function(k){return ae(k==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Wg("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ae("n"),this};var Na=m.__private__.isValidStyle=function(k){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(K=!0),K};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(k){return Na(k)&&(u=k),this};var hm=m.__private__.getStyle=m.getStyle=function(k){var K=u;switch(k){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=k}return K},Yi=m.close=function(){return ae("h"),this};m.stroke=function(){return ae("S"),this},m.fill=function(k){return su("f",k),this},m.fillEvenOdd=function(k){return su("f*",k),this},m.fillStroke=function(k){return su("B",k),this},m.fillStrokeEvenOdd=function(k){return su("B*",k),this};var su=function(k,K){Tn(K)==="object"?iu(K,k):ae(k)},hh=function(k){k===null||N===_.ADVANCED&&k===void 0||(k=hm(k),ae(k))};function ru(k,K,ce,fe,be){var Fe=new fp(K||this.boundingBox,ce||this.xStep,fe||this.yStep,this.gState,be||this.matrix);Fe.stream=this.stream;var et=k+"$$"+this.cloneIndex+++"$$";return Os(et,Fe),Fe}var iu=function(k,K){var ce=nn[k.key],fe=ct[ce];if(fe instanceof Qh)ae("q"),ae(fm(K)),fe.gState&&m.setGState(fe.gState),ae(k.matrix.toString()+" cm"),ae("/"+ce+" sh"),ae("Q");else if(fe instanceof fp){var be=new gt(1,0,0,-1,0,Vr());k.matrix&&(be=be.multiply(k.matrix||Fr),ce=ru.call(fe,k.key,k.boundingBox,k.xStep,k.yStep,be).id),ae("q"),ae("/Pattern cs"),ae("/"+ce+" scn"),fe.gState&&m.setGState(fe.gState),ae(K),ae("Q")}},fm=function(k){switch(k){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},so=m.moveTo=function(k,K){return ae(C(T(k))+" "+C(z(K))+" m"),this},Ki=m.lineTo=function(k,K){return ae(C(T(k))+" "+C(z(K))+" l"),this},ro=m.curveTo=function(k,K,ce,fe,be,Fe){return ae([C(T(k)),C(z(K)),C(T(ce)),C(z(fe)),C(T(be)),C(z(Fe)),"c"].join(" ")),this};m.__private__.line=m.line=function(k,K,ce,fe,be){if(isNaN(k)||isNaN(K)||isNaN(ce)||isNaN(fe)||!Na(be))throw new Error("Invalid arguments passed to jsPDF.line");return N===_.COMPAT?this.lines([[ce-k,fe-K]],k,K,[1,1],be||"S"):this.lines([[ce-k,fe-K]],k,K,[1,1]).stroke()},m.__private__.lines=m.lines=function(k,K,ce,fe,be,Fe){var et,lt,b,B,H,ne,xe,Ee,tt,Mt,Wt,Dt;if(typeof k=="number"&&(Dt=ce,ce=K,K=k,k=Dt),fe=fe||[1,1],Fe=Fe||!1,isNaN(K)||isNaN(ce)||!Array.isArray(k)||!Array.isArray(fe)||!Na(be)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(so(K,ce),et=fe[0],lt=fe[1],B=k.length,Mt=K,Wt=ce,b=0;b<B;b++)(H=k[b]).length===2?(Mt=H[0]*et+Mt,Wt=H[1]*lt+Wt,Ki(Mt,Wt)):(ne=H[0]*et+Mt,xe=H[1]*lt+Wt,Ee=H[2]*et+Mt,tt=H[3]*lt+Wt,Mt=H[4]*et+Mt,Wt=H[5]*lt+Wt,ro(ne,xe,Ee,tt,Mt,Wt));return Fe&&Yi(),hh(be),this},m.path=function(k){for(var K=0;K<k.length;K++){var ce=k[K],fe=ce.c;switch(ce.op){case"m":so(fe[0],fe[1]);break;case"l":Ki(fe[0],fe[1]);break;case"c":ro.apply(this,fe);break;case"h":Yi()}}return this},m.__private__.rect=m.rect=function(k,K,ce,fe,be){if(isNaN(k)||isNaN(K)||isNaN(ce)||isNaN(fe)||!Na(be))throw new Error("Invalid arguments passed to jsPDF.rect");return N===_.COMPAT&&(fe=-fe),ae([C(T(k)),C(z(K)),C(T(ce)),C(T(fe)),"re"].join(" ")),hh(be),this},m.__private__.triangle=m.triangle=function(k,K,ce,fe,be,Fe,et){if(isNaN(k)||isNaN(K)||isNaN(ce)||isNaN(fe)||isNaN(be)||isNaN(Fe)||!Na(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-k,fe-K],[be-ce,Fe-fe],[k-be,K-Fe]],k,K,[1,1],et,!0),this},m.__private__.roundedRect=m.roundedRect=function(k,K,ce,fe,be,Fe,et){if(isNaN(k)||isNaN(K)||isNaN(ce)||isNaN(fe)||isNaN(be)||isNaN(Fe)||!Na(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*ce),Fe=Math.min(Fe,.5*fe),this.lines([[ce-2*be,0],[be*lt,0,be,Fe-Fe*lt,be,Fe],[0,fe-2*Fe],[0,Fe*lt,-be*lt,Fe,-be,Fe],[2*be-ce,0],[-be*lt,0,-be,-Fe*lt,-be,-Fe],[0,2*Fe-fe],[0,-Fe*lt,be*lt,-Fe,be,-Fe]],k+be,K,[1,1],et,!0),this},m.__private__.ellipse=m.ellipse=function(k,K,ce,fe,be){if(isNaN(k)||isNaN(K)||isNaN(ce)||isNaN(fe)||!Na(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*ce,et=4/3*(Math.SQRT2-1)*fe;return so(k+ce,K),ro(k+ce,K-et,k+Fe,K-fe,k,K-fe),ro(k-Fe,K-fe,k-ce,K-et,k-ce,K),ro(k-ce,K+et,k-Fe,K+fe,k,K+fe),ro(k+Fe,K+fe,k+ce,K+et,k+ce,K),hh(be),this},m.__private__.circle=m.circle=function(k,K,ce,fe){if(isNaN(k)||isNaN(K)||isNaN(ce)||!Na(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,K,ce,ce,fe)},m.setFont=function(k,K,ce){return ce&&(K=D(K,ce)),we=$l(k,K,{disableWarning:!1}),this};var fh=m.__private__.getFont=m.getFont=function(){return Ce[$l.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var k,K,ce={};for(k in ft)if(ft.hasOwnProperty(k))for(K in ce[k]=[],ft[k])ft[k].hasOwnProperty(K)&&ce[k].push(K);return ce},m.addFont=function(k,K,ce,fe,be){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(ce=D(ce,fe)),be=be||"Identity-H",ch.call(this,k,K,ce,be)};var pn,mh=t.lineWidth||.200025,au=m.__private__.getLineWidth=m.getLineWidth=function(){return mh},ph=m.__private__.setLineWidth=m.setLineWidth=function(k){return mh=k,ae(C(T(k))+" w"),this};m.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(k,K){if(k=k||[],K=K||0,isNaN(K)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(ce){return C(T(ce))}).join(" "),K=C(T(K)),ae("["+k+"] "+K+" d"),this};var gh=m.__private__.getLineHeight=m.getLineHeight=function(){return Ne*pn};m.__private__.getLineHeight=m.getLineHeight=function(){return Ne*pn};var yh=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(pn=k),this},Hl=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return pn};yh(t.lineHeight);var Xi=m.__private__.getHorizontalCoordinate=function(k){return T(k)},Xs=m.__private__.getVerticalCoordinate=function(k){return N===_.ADVANCED?k:vt[G].mediaBox.topRightY-vt[G].mediaBox.bottomLeftY-T(k)},mm=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(k){return C(Xi(k))},Yo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(k){return C(Xs(k))},_r=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Ni(_r)},m.__private__.setStrokeColor=m.setDrawColor=function(k,K,ce,fe){return _r=ai({ch1:k,ch2:K,ch3:ce,ch4:fe,pdfColorType:"draw",precision:2}),ae(_r),this};var ou=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Ni(ou)},m.__private__.setFillColor=m.setFillColor=function(k,K,ce,fe){return ou=ai({ch1:k,ch2:K,ch3:ce,ch4:fe,pdfColorType:"fill",precision:2}),ae(ou),this};var io=t.textColor||"0 g",lu=m.__private__.getTextColor=m.getTextColor=function(){return Ni(io)};m.__private__.setTextColor=m.setTextColor=function(k,K,ce,fe){return io=ai({ch1:k,ch2:K,ch3:ce,ch4:fe,pdfColorType:"text",precision:3}),this};var Ql=t.charSpace,cu=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Ql||0)};m.__private__.setCharSpace=m.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ql=k,this};var xh=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(k){var K=m.CapJoinStyles[k];if(K===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xh=K,ae(K+" J"),this};var uu=0;m.__private__.setLineJoin=m.setLineJoin=function(k){var K=m.CapJoinStyles[k];if(K===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uu=K,ae(K+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(C(T(k))+" M"),this},m.GState=gw,m.setGState=function(k){(k=typeof k=="string"?un[Ks[k]]:Ko(null,k)).equals(us)||(ae("/"+k.id+" gs"),us=k)};var Ko=function(k,K){if(!k||!Ks[k]){var ce=!1;for(var fe in un)if(un.hasOwnProperty(fe)&&un[fe].equals(K)){ce=!0;break}if(ce)K=un[fe];else{var be="GS"+(Object.keys(un).length+1).toString(10);un[be]=K,K.id=be}return k&&(Ks[k]=K.id),Ut.publish("addGState",K),K}};m.addGState=function(k,K){return Ko(k,K),this},m.saveGraphicsState=function(){return ae("q"),Ft.push({key:we,size:Ne,color:io}),this},m.restoreGraphicsState=function(){ae("Q");var k=Ft.pop();return we=k.key,Ne=k.size,io=k.color,us=null,this},m.setCurrentTransformationMatrix=function(k){return ae(k.toString()+" cm"),this},m.comment=function(k){return ae("#"+k),this};var Gl=function(k,K){var ce=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Fe){isNaN(Fe)||(ce=parseFloat(Fe))}});var fe=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Fe){isNaN(Fe)||(fe=parseFloat(Fe))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Fe){be=Fe.toString()}}),this},du=function(k,K,ce,fe){Gl.call(this,k,K),this.type="rect";var be=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(et){isNaN(et)||(be=parseFloat(et))}});var Fe=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(et){isNaN(et)||(Fe=parseFloat(et))}}),this},Wl=function(){this.page=en,this.currentPage=G,this.pages=Ae.slice(0),this.pagesContext=vt.slice(0),this.x=st,this.y=at,this.matrix=Et,this.width=Xo(G),this.height=Vr(G),this.outputDestination=Ie,this.id="",this.objectNumber=-1};Wl.prototype.restore=function(){en=this.page,G=this.currentPage,vt=this.pagesContext,Ae=this.pages,st=this.x,at=this.y,Et=this.matrix,fu(G,this.width),mu(G,this.height),Ie=this.outputDestination};var hu=function(k,K,ce,fe,be){Gi.push(new Wl),en=G=0,Ae=[],st=k,at=K,Et=be,li([ce,fe])},pm=function(k){if(es[k])Gi.pop().restore();else{var K=new Wl,ce="Xo"+(Object.keys(kn).length+1).toString(10);K.id=ce,es[k]=ce,kn[ce]=K,Ut.publish("addFormObject",K),Gi.pop().restore()}};for(var ao in m.beginFormObject=function(k,K,ce,fe,be){return hu(k,K,ce,fe,be),this},m.endFormObject=function(k){return pm(k),this},m.doFormObject=function(k,K){var ce=kn[es[k]];return ae("q"),ae(K.toString()+" cm"),ae("/"+ce.id+" Do"),ae("Q"),this},m.getFormObject=function(k){var K=kn[es[k]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},m.save=function(k,K){return k=k||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(zh(tu(no()),k),typeof zh.unload=="function"&&At.setTimeout&&setTimeout(zh.unload,911),this):new Promise(function(ce,fe){try{var be=zh(tu(no()),k);typeof zh.unload=="function"&&At.setTimeout&&setTimeout(zh.unload,911),ce(be)}catch(Fe){fe(Fe.message)}})},wt.API)wt.API.hasOwnProperty(ao)&&(ao==="events"&&wt.API.events.length?function(k,K){var ce,fe,be;for(be=K.length-1;be!==-1;be--)ce=K[be][0],fe=K[be][1],k.subscribe.apply(k,[ce].concat(typeof fe=="function"?[fe]:fe))}(Ut,wt.API.events):m[ao]=wt.API[ao]);var Xo=m.getPageWidth=function(k){return(vt[k=k||G].mediaBox.topRightX-vt[k].mediaBox.bottomLeftX)/Me},fu=m.setPageWidth=function(k,K){vt[k].mediaBox.topRightX=K*Me+vt[k].mediaBox.bottomLeftX},Vr=m.getPageHeight=function(k){return(vt[k=k||G].mediaBox.topRightY-vt[k].mediaBox.bottomLeftY)/Me},mu=m.setPageHeight=function(k,K){vt[k].mediaBox.topRightY=K*Me+vt[k].mediaBox.bottomLeftY};return m.internal={pdfEscape:hs,getStyle:hm,getFont:fh,getFontSize:Ve,getCharSpace:cu,getTextColor:lu,getLineHeight:gh,getLineHeightFactor:Hl,getLineWidth:au,write:nt,getHorizontalCoordinate:Xi,getVerticalCoordinate:Xs,getCoordinateString:mm,getVerticalCoordinateString:Yo,collections:{},newObject:Ns,newAdditionalObject:Xc,newObjectDeferred:ds,newObjectDeferredBegin:Fs,getFilters:oi,putStream:Ss,events:Ut,scaleFactor:Me,pageSize:{getWidth:function(){return Xo(G)},setWidth:function(k){fu(G,k)},getHeight:function(){return Vr(G)},setHeight:function(k){mu(G,k)}},encryptionOptions:d,encryption:Wn,getEncryptor:dm,output:nu,getNumberOfPages:xn,pages:Ae,out:ae,f2:R,f3:E,getPageInfo:dh,getPageInfoByObjId:kt,getCurrentPageInfo:Wo,getPDFVersion:x,Point:Gl,Rectangle:du,Matrix:gt,hasHotfix:Go},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Xo(G)},set:function(k){fu(G,k)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Vr(G)},set:function(k){mu(G,k)},enumerable:!0,configurable:!0}),cm.call(m,Oe),we="F1",zl(r,n),Ut.publish("initialized"),m}qm.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},qm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qm.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},qm.prototype.processOwnerPassword=function(t,e){return ij(rj(e).substr(0,5),t)},qm.prototype.encryptor=function(t,e){var n=rj(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return ij(n,s)}},gw.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Tn(t)!==Tn(this))return!1;var s=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;s++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&s--;return s===0},wt.API={events:[]},wt.version="3.0.1";var ps=wt.API,dT=1,em=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(t){return t.toFixed(2)},Pu=function(t){return t.toFixed(5)};ps.__acroform__={};var Qi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},n7=function(t){return t*dT},rl=function(t){var e=new W$,n=yt.internal.getHeight(t)||0,s=yt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ot(s)),Number(Ot(n))],e},s1e=ps.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},r1e=ps.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},i1e=ps.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Rs=ps.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return i1e(t,e-1)},Is=ps.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return s1e(t,e-1)},Ls=ps.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return r1e(t,e-1)},a1e=ps.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,r=t[0],i=t[1],a=t[2],l=t[3],c={};return c.lowerLeft_X=n(r)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=n(r+a)||0,c.upperRight_Y=s(i)||0,[Number(Ot(c.lowerLeft_X)),Number(Ot(c.lowerLeft_Y)),Number(Ot(c.upperRight_X)),Number(Ot(c.upperRight_Y))]},o1e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,s=aj(t,n),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+Ot(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=rl(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},aj=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(E){return E.split(`
`)}):r.map(function(E){return[E]});var i=n,a=yt.internal.getHeight(t)||0;a=a<0?-a:a;var l=yt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(E,T,L){if(E+1<r.length){var z=T+" "+r[E+1][0];return Mb(z,t,L).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,h=Mb("3",t,i).height,f=t.multiline?a-i:(a-h)/2,m=f+=2,p=0,x=0,v=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Mb(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var y="",_=0,N=0;N<r.length;N++)if(r.hasOwnProperty(N)){var P=!1;if(r[N].length!==1&&v!==r[N].length-1){if((h+2)*(_+2)+2>a)continue e;y+=r[N][v],P=!0,x=N,N--}else{y=(y+=r[N][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var I=parseInt(N),D=c(I,y,i),C=N>=r.length-1;if(D&&!C){y+=" ",v=0;continue}if(D||C){if(C)x=I;else if(t.multiline&&(h+2)*(_+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(_+2)+2>a)continue e;x=I}}for(var w="",A=p;A<=x;A++){var R=r[A];if(t.multiline){if(A===x){w+=R[v]+" ",v=(v+1)%R.length;continue}if(A===p){w+=R[R.length-1]+" ";continue}}w+=R[0]+" "}switch(w=w.substr(w.length-1)==" "?w.substr(0,w.length-1):w,d=Mb(w,t,i).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}e+=Ot(u)+" "+Ot(m)+` Td
`,e+="("+em(w)+`) Tj
`,e+=-Ot(u)+` 0 Td
`,m=-(i+2),d=0,p=P?x:x+1,_++,y=""}break}return s.text=e,s.fontSize=i,s},Mb=function(t,e,n){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},l1e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},c1e=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===n.type&&s.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},u1e=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var s=n,r=t[n];e.internal.newObjectDeferredBegin(r.objId,!0),Tn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete t[s]}},d1e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Vo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(l1e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");dT=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Y$,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in s)if(s.hasOwnProperty(r)){var i=s[r];i.objId=void 0,i.hasAnnotation&&c1e(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(s,r){var i=!s;for(var a in s||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(a)){var l=s[a],c=[],u=l.Rect;if(l.Rect&&(l.Rect=a1e(l.Rect,r)),r.internal.newObjectDeferredBegin(l.objId,!0),l.DA=yt.createDefaultAppearanceStream(l),Tn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=o1e(l);c.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var m=l.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var p=m[a];typeof p=="function"&&(p=p.call(r,l)),h+="/"+a+" "+p+" ",r.internal.acroformPlugin.xForms.indexOf(p)>=0||r.internal.acroformPlugin.xForms.push(p)}}else typeof(p=m)=="function"&&(p=p.call(r,l)),h+="/"+a+" "+p,r.internal.acroformPlugin.xForms.indexOf(p)>=0||r.internal.acroformPlugin.xForms.push(p);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:l.objId}),r.internal.out("endobj")}i&&u1e(r.internal.acroformPlugin.xForms,r)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},G$=ps.__acroform__.arrayToPdfArray=function(t,e,n){var s=function(a){return a};if(Array.isArray(t)){for(var r="[",i=0;i<t.length;i++)switch(i!==0&&(r+=" "),Tn(t[i])){case"boolean":case"number":case"object":r+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(s=n.internal.getEncryptor(e)),r+="("+em(s(t[i].toString()))+")"):r+=t[i].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w4=function(t,e,n){var s=function(r){return r};return e!==void 0&&n&&(s=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+em(s(t))+")"},ml=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ml.prototype.toString=function(){return this.objId+" 0 R"},ml.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ml.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var s=e[n],r=this[s];r&&(Array.isArray(r)?t.push({key:s,value:G$(r,this.objId,this.scope)}):r instanceof ml?(r.scope=this.scope,t.push({key:s,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:s,value:r}))}return t};var W$=function(){ml.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Qi(W$,ml);var Y$=function(){ml.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(s){return s};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+em(n(t))+")"}},set:function(n){t=n}})};Qi(Y$,ml);var Vo=function t(){ml.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Rs(e,3)},set:function(y){y?this.F=Is(e,3):this.F=Ls(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(y){s=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(y){s[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(y){s[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(y){s[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(y){s[3]=y}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof yw)return;i="FieldObject"+t.FieldNum++}var y=function(_){return _};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+em(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/dT:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof yw||this instanceof yf))return w4(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof hr?f:w4(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof hr?y:y.substr(0,1)==="("?Rm(y.substr(1,y.length-2)):Rm(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?Rm(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof hr?"/"+y:y}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof hr?m:w4(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof hr?y:y.substr(0,1)==="("?Rm(y.substr(1,y.length-2)):Rm(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?Rm(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof hr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(y){y=!!y,x=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(y){p=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,1)},set:function(y){y?this.Ff=Is(this.Ff,1):this.Ff=Ls(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,2)},set:function(y){y?this.Ff=Is(this.Ff,2):this.Ff=Ls(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,3)},set:function(y){y?this.Ff=Is(this.Ff,3):this.Ff=Ls(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Qi(Vo,ml);var Pp=function(){Vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return G$(e,this.objId,this.scope)},set:function(n){var s,r;r=[],typeof(s=n)=="string"&&(r=function(i,a,l){l||(l=1);for(var c,u=[];c=a.exec(i);)u.push(c[l]);return u}(s,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,s){for(s=s||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,18)},set:function(n){n?this.Ff=Is(this.Ff,18):this.Ff=Ls(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Is(this.Ff,19):this.Ff=Ls(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,20)},set:function(n){n?(this.Ff=Is(this.Ff,20),e.sort()):this.Ff=Ls(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,22)},set:function(n){n?this.Ff=Is(this.Ff,22):this.Ff=Ls(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,23)},set:function(n){n?this.Ff=Is(this.Ff,23):this.Ff=Ls(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,27)},set:function(n){n?this.Ff=Is(this.Ff,27):this.Ff=Ls(this.Ff,27)}}),this.hasAppearanceStream=!1};Qi(Pp,Vo);var Rp=function(){Pp.call(this),this.fontName="helvetica",this.combo=!1};Qi(Rp,Pp);var Ip=function(){Rp.call(this),this.combo=!0};Qi(Ip,Rp);var L2=function(){Ip.call(this),this.edit=!0};Qi(L2,Ip);var hr=function(){Vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,15)},set:function(n){n?this.Ff=Is(this.Ff,15):this.Ff=Ls(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,16)},set:function(n){n?this.Ff=Is(this.Ff,16):this.Ff=Ls(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,17)},set:function(n){n?this.Ff=Is(this.Ff,17):this.Ff=Ls(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,26)},set:function(n){n?this.Ff=Is(this.Ff,26):this.Ff=Ls(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,r=[];for(s in r.push("<<"),e)r.push("/"+s+" ("+em(n(e[s]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){Tn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Qi(hr,Vo);var M2=function(){hr.call(this),this.pushButton=!0};Qi(M2,hr);var Lp=function(){hr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Qi(Lp,hr);var yw=function(){var t,e;Vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var n,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),s)a.push("/"+i+" ("+em(r(s[i]))+")");return a.push(">>"),a.join(`
`)},set:function(r){Tn(r)==="object"&&(s=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(r){typeof r=="string"&&(s.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qi(yw,Vo),Lp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Lp.prototype.createOption=function(t){var e=new yw;return e.Parent=this,e.optionName=t,this.Kids.push(e),h1e.call(this.scope,e),e};var D2=function(){hr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};Qi(D2,hr);var yf=function(){Vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,13)},set:function(e){e?this.Ff=Is(this.Ff,13):this.Ff=Ls(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,21)},set:function(e){e?this.Ff=Is(this.Ff,21):this.Ff=Ls(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,23)},set:function(e){e?this.Ff=Is(this.Ff,23):this.Ff=Ls(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,24)},set:function(e){e?this.Ff=Is(this.Ff,24):this.Ff=Ls(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,25)},set:function(e){e?this.Ff=Is(this.Ff,25):this.Ff=Ls(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,26)},set:function(e){e?this.Ff=Is(this.Ff,26):this.Ff=Ls(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qi(yf,Vo);var O2=function(){yf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,14)},set:function(t){t?this.Ff=Is(this.Ff,14):this.Ff=Ls(this.Ff,14)}}),this.password=!0};Qi(O2,yf);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=rl(t);e.scope=t.scope;var n=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=aj(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ot(yt.internal.getWidth(t))+" "+Ot(yt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+s+" "+Ot(i.fontSize)+" Tf "+r),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=rl(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),r=[],i=yt.internal.getHeight(t),a=yt.internal.getWidth(t),l=aj(t,t.caption);return r.push("1 g"),r.push("0 0 "+Ot(a)+" "+Ot(i)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Ot(a-1)+" "+Ot(i-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Ot(l.fontSize)+" Tf "+s),r.push(l.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=rl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(yt.internal.getWidth(t))+" "+Ot(yt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=yt.RadioButton.Circle.YesNormal,e.D[t]=yt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=rl(t);e.scope=t.scope;var n=[],s=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var r=yt.internal.Bezier_C,i=Number((s*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Pu(yt.internal.getWidth(t)/2)+" "+Pu(yt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=rl(t);e.scope=t.scope;var n=[],s=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var r=Number((2*s).toFixed(5)),i=Number((r*yt.internal.Bezier_C).toFixed(5)),a=Number((s*yt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pu(yt.internal.getWidth(t)/2)+" "+Pu(yt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Pu(yt.internal.getWidth(t)/2)+" "+Pu(yt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=rl(t);e.scope=t.scope;var n=[],s=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var r=Number((2*s).toFixed(5)),i=Number((r*yt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pu(yt.internal.getWidth(t)/2)+" "+Pu(yt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=yt.RadioButton.Cross.YesNormal,e.D[t]=yt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=rl(t);e.scope=t.scope;var n=[],s=yt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ot(yt.internal.getWidth(t)-2)+" "+Ot(yt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ot(s.x1.x)+" "+Ot(s.x1.y)+" m"),n.push(Ot(s.x2.x)+" "+Ot(s.x2.y)+" l"),n.push(Ot(s.x4.x)+" "+Ot(s.x4.y)+" m"),n.push(Ot(s.x3.x)+" "+Ot(s.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=rl(t);e.scope=t.scope;var n=yt.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+Ot(yt.internal.getWidth(t))+" "+Ot(yt.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Ot(yt.internal.getWidth(t)-2)+" "+Ot(yt.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(Ot(n.x1.x)+" "+Ot(n.x1.y)+" m"),s.push(Ot(n.x2.x)+" "+Ot(n.x2.y)+" l"),s.push(Ot(n.x4.x)+" "+Ot(n.x4.y)+" m"),s.push(Ot(n.x3.x)+" "+Ot(n.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=rl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(yt.internal.getWidth(t))+" "+Ot(yt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};yt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=yt.internal.getWidth(t),n=yt.internal.getHeight(t),s=Math.min(e,n);return{x1:{x:(e-s)/2,y:(n-s)/2+s},x2:{x:(e-s)/2+s,y:(n-s)/2},x3:{x:(e-s)/2,y:(n-s)/2},x4:{x:(e-s)/2+s,y:(n-s)/2+s}}}},yt.internal.getWidth=function(t){var e=0;return Tn(t)==="object"&&(e=n7(t.Rect[2])),e},yt.internal.getHeight=function(t){var e=0;return Tn(t)==="object"&&(e=n7(t.Rect[3])),e};var h1e=ps.addField=function(t){if(d1e(this,t),!(t instanceof Vo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ps.AcroFormChoiceField=Pp,ps.AcroFormListBox=Rp,ps.AcroFormComboBox=Ip,ps.AcroFormEditBox=L2,ps.AcroFormButton=hr,ps.AcroFormPushButton=M2,ps.AcroFormRadioButton=Lp,ps.AcroFormCheckBox=D2,ps.AcroFormTextField=yf,ps.AcroFormPasswordField=O2,ps.AcroFormAppearance=yt,ps.AcroForm={ChoiceField:Pp,ListBox:Rp,ComboBox:Ip,EditBox:L2,Button:hr,PushButton:M2,RadioButton:Lp,CheckBox:D2,TextField:yf,PasswordField:O2,Appearance:yt},wt.AcroForm={ChoiceField:Pp,ListBox:Rp,ComboBox:Ip,EditBox:L2,Button:hr,PushButton:M2,RadioButton:Lp,CheckBox:D2,TextField:yf,PasswordField:O2,Appearance:yt};wt.AcroForm;function K$(t){return t.reduce(function(e,n,s){return e[n]=s,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(E,T){var L,z,$,O,F,Q=e;if((T=T||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(D(E))for(F in n)for($=n[F],L=0;L<$.length;L+=1){for(O=!0,z=0;z<$[L].length;z+=1)if($[L][z]!==void 0&&$[L][z]!==E[z]){O=!1;break}if(O===!0){Q=F;break}}else for(F in n)for($=n[F],L=0;L<$.length;L+=1){for(O=!0,z=0;z<$[L].length;z+=1)if($[L][z]!==void 0&&$[L][z]!==E.charCodeAt(z)){O=!1;break}if(O===!0){Q=F;break}}return Q===e&&T!==e&&(Q=T),Q},r=function E(T){for(var L=this.internal.write,z=this.internal.putStream,$=(0,this.internal.getFilters)();$.indexOf("FlateEncode")!==-1;)$.splice($.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var O=[];if(O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Image"}),O.push({key:"Width",value:T.width}),O.push({key:"Height",value:T.height}),T.colorSpace===v.INDEXED?O.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(O.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===v.DEVICE_CMYK&&O.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),O.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&O.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var F="",Q=0,V=T.transparency.length;Q<V;Q++)F+=T.transparency[Q]+" "+T.transparency[Q]+" ";O.push({key:"Mask",value:"["+F+"]"})}T.sMask!==void 0&&O.push({key:"SMask",value:T.objectId+1+" 0 R"});var W=T.filter!==void 0?["/"+T.filter]:void 0;if(z({data:T.data,additionalKeyValues:O,alreadyAppliedFilters:W,objectId:T.objectId}),L("endobj"),"sMask"in T&&T.sMask!==void 0){var Z="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,U={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:Z,data:T.sMask};"filter"in T&&(U.filter=T.filter),E.call(this,U)}if(T.colorSpace===v.INDEXED){var G=this.internal.newObject();z({data:w(new Uint8Array(T.palette)),objectId:G}),L("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var T in E)r.call(this,E[T])},a=function(){var E,T=this.internal.collections.addImage_images,L=this.internal.write;for(var z in T)L("/I"+(E=T[z]).index,E.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var E=this.internal.collections.addImage_images;return l.call(this),E},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(E){return typeof t["process"+E.toUpperCase()]=="function"},h=function(E){return Tn(E)==="object"&&E.nodeType===1},f=function(E,T){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var L=""+E.getAttribute("src");if(L.indexOf("data:image/")===0)return Ey(unescape(L).split("base64,").pop());var z=t.loadFile(L,!0);if(z!==void 0)return z}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var $;switch(T){case"PNG":$="image/png";break;case"WEBP":$="image/webp";break;case"JPEG":case"JPG":default:$="image/jpeg"}return Ey(E.toDataURL($,1).split("base64,").pop())}},m=function(E){var T=this.internal.collections.addImage_images;if(T){for(var L in T)if(E===T[L].alias)return T[L]}},p=function(E,T,L){return E||T||(E=-96,T=-96),E<0&&(E=-1*L.width*72/E/this.internal.scaleFactor),T<0&&(T=-1*L.height*72/T/this.internal.scaleFactor),E===0&&(E=T*L.width/L.height),T===0&&(T=E*L.height/L.width),[E,T]},x=function(E,T,L,z,$,O){var F=p.call(this,L,z,$),Q=this.internal.getCoordinateString,V=this.internal.getVerticalCoordinateString,W=c.call(this);if(L=F[0],z=F[1],W[$.index]=$,O){O*=Math.PI/180;var Z=Math.cos(O),U=Math.sin(O),G=function(J){return J.toFixed(4)},Y=[G(Z),G(U),G(-1*U),G(Z),0,0,"cm"]}this.internal.write("q"),O?(this.internal.write([1,"0","0",1,Q(E),V(T+z),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([Q(L),"0","0",Q(z),"0","0","cm"].join(" "))):this.internal.write([Q(L),"0","0",Q(z),Q(E),V(T+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+$.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(E){var T,L,z=0;if(typeof E=="string")for(L=E.length,T=0;T<L;T++)z=(z<<5)-z+E.charCodeAt(T),z|=0;else if(D(E))for(L=E.byteLength/2,T=0;T<L;T++)z=(z<<5)-z+E[T],z|=0;return z},N=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var T=!0;return E.length===0&&(T=!1),E.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(T=!1),T},P=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var T=E.indexOf(",");return T<0?null:E.substring(0,T).trim().endsWith("base64")?E.substring(T+1):null},I=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return I()&&E instanceof ArrayBuffer};var D=t.__addimage__.isArrayBufferView=function(E){return I()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},C=t.__addimage__.binaryStringToUint8Array=function(E){for(var T=E.length,L=new Uint8Array(T),z=0;z<T;z++)L[z]=E.charCodeAt(z);return L},w=t.__addimage__.arrayBufferToBinaryString=function(E){for(var T="",L=D(E)?E:new Uint8Array(E),z=0;z<L.length;z+=8192)T+=String.fromCharCode.apply(null,L.subarray(z,z+8192));return T};t.addImage=function(){var E,T,L,z,$,O,F,Q,V;if(typeof arguments[1]=="number"?(T=e,L=arguments[1],z=arguments[2],$=arguments[3],O=arguments[4],F=arguments[5],Q=arguments[6],V=arguments[7]):(T=arguments[1],L=arguments[2],z=arguments[3],$=arguments[4],O=arguments[5],F=arguments[6],Q=arguments[7],V=arguments[8]),Tn(E=arguments[0])==="object"&&!h(E)&&"imageData"in E){var W=E;E=W.imageData,T=W.format||T||e,L=W.x||L||0,z=W.y||z||0,$=W.w||W.width||$,O=W.h||W.height||O,F=W.alias||F,Q=W.compression||Q,V=W.rotation||W.angle||V}var Z=this.internal.getFilters();if(Q===void 0&&Z.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(L)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=A.call(this,E,T,F,Q);return x.call(this,L,z,$,O,U,V),this};var A=function(E,T,L,z){var $,O,F;if(typeof E=="string"&&s(E)===e){E=unescape(E);var Q=R(E,!1);(Q!==""||(Q=t.loadFile(E,!0))!==void 0)&&(E=Q)}if(h(E)&&(E=f(E,T)),T=s(E,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((F=L)==null||F.length===0)&&(L=function(V){return typeof V=="string"||D(V)?_(V):D(V.data)?_(V.data):null}(E)),($=m.call(this,L))||(I()&&(E instanceof Uint8Array||T==="RGBA"||(O=E,E=C(E))),$=this["process"+T.toUpperCase()](E,u.call(this),L,function(V){return V&&typeof V=="string"&&(V=V.toUpperCase()),V in t.image_compression?V:y.NONE}(z),O)),!$)throw new Error("An unknown error occurred whilst processing the image.");return $},R=t.__addimage__.convertBase64ToBinaryString=function(E,T){T=typeof T!="boolean"||T;var L,z="";if(typeof E=="string"){var $;L=($=P(E))!==null&&$!==void 0?$:E;try{z=Ey(L)}catch(O){if(T)throw N(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+O.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(E){var T,L,z="";if(h(E)&&(E=f(E)),typeof E=="string"&&s(E)===e&&((z=R(E,!1))===""&&(z=t.loadFile(E)||""),E=z),L=s(E),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!I()||E instanceof Uint8Array||(E=C(E)),!(T=this["process"+L.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=L,T}})(wt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};wt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var s,r,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((s=u[h]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){s=u[f];var m=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(x.objId),_=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+a(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+m(y(s.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(y(_))+") >>",x.content=i;var N=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+a(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+N,s.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(x.objId,"0 R",v.objId,"0 R");break;case"freetext":r="/Rect ["+a(s.bounds.x)+" "+l(s.bounds.y)+" "+a(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var P=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+m(p(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var I=this.annotations._nameMap[s.options.name];s.options.pageNumber=I.page,s.options.top=I.y}else s.options.top||(s.options.top=0);if(r="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+m(p(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var D=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+D+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var s=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":s.pageContext.annotations.push(n)}},t.link=function(n,s,r,i,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(s),w:c(n+r),h:u(s+i)},options:a,type:"link"})},t.textWithLink=function(n,s,r,i){var a,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(n,l).length;a=Math.ceil(u*d)}else l=c,a=u;return this.text(n,s,r,i),r+=.2*u,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,r-u,l,a,i),c},t.getTextWidth=function(n){var s=this.internal.getFontSize();return this.getStringUnitWidth(n)*s/this.internal.scaleFactor}}(wt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=t.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&i(x)&&e[x.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&r.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&i(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&i(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&i(x)&&e[x.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&i(x)&&e[x.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(x){var v=0,y=n,_="",N=0;for(v=0;v<x.length;v+=1)y[x.charCodeAt(v)]!==void 0?(N++,typeof(y=y[x.charCodeAt(v)])=="number"&&(_+=String.fromCharCode(y),y=n,N=0),v===x.length-1&&(y=n,_+=x.charAt(v-(N-1)),v-=N-1,N=0)):(y=n,_+=x.charAt(v-N),v-=N,N=0);return _};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&s[x.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(x,v,y){return a(x)?i(x)===!1?-1:!u(x)||!a(v)&&!a(y)||!a(y)&&l(v)||l(x)&&!a(v)||l(x)&&c(v)||l(x)&&l(v)?0:d(x)&&a(v)&&!l(v)&&a(y)&&u(y)?3:l(x)||!a(y)?1:2:-1},m=function(x){var v=0,y=0,_=0,N="",P="",I="",D=(x=x||"").split("\\s+"),C=[];for(v=0;v<D.length;v+=1){for(C.push(""),y=0;y<D[v].length;y+=1)N=D[v][y],P=D[v][y-1],I=D[v][y+1],a(N)?(_=f(N,P,I),C[v]+=_!==-1?String.fromCharCode(e[N.charCodeAt(0)][_]):N):C[v]+=N;C[v]=h(C[v])}return C.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var x,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var _=0;for(y=[],_=0;_<v.length;_+=1)Array.isArray(v[_])?y.push([m(v[_][0]),v[_][1],v[_][2]]):y.push([m(v[_])]);x=y}else x=m(v);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",p])}(wt.API),wt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,s){var r;if((n=n||"2d")!=="2d")return null;for(r in s)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=s[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(wt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(x){p=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){s.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,m=0,p=0,x=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,P){return N.concat(v.splitTextToSize(P,y))},[])):c=Array.isArray(c)?c:[c];for(var _=0;_<c.length;_++)m<(x=this.getStringUnitWidth(c[_],{font:h})*d)&&(m=x);return m!==0&&(p=c.length),{w:m/=f,h:Math.max((p*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,m&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,h,f){if(s.call(this),!d)throw new Error("No data for PDF table.");var m,p,x,v,y=[],_=[],N=[],P={},I={},D=[],C=[],w=(f=f||{}).autoSize||!1,A=f.printHeaders!==!1,R=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,E=f.margins||Object.assign({width:this.getPageWidth()},e),T=typeof f.padding=="number"?f.padding:3,L=f.headerBackgroundColor||"#c8c8c8",z=f.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=z,this.setFontSize(R),h==null)_=y=Object.keys(d[0]),N=y.map(function(){return"left"});else if(Array.isArray(h)&&Tn(h[0])==="object")for(y=h.map(function(W){return W.name}),_=h.map(function(W){return W.prompt||W.name||""}),N=h.map(function(W){return W.align||"left"}),m=0;m<h.length;m+=1)I[h[m].name]=h[m].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(_=y=h,N=y.map(function(){return"left"}));if(w||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<y.length;m+=1){for(P[v=y[m]]=d.map(function(W){return W[v]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(_[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=P[v],this.setFont(void 0,"normal"),x=0;x<p.length;x+=1)D.push(this.getTextDimensions(p[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[v]=Math.max.apply(null,D)+T+T,D=[]}if(A){var $={};for(m=0;m<y.length;m+=1)$[y[m]]={},$[y[m]].text=_[m],$[y[m]].align=N[m];var O=l.call(this,$,I);C=y.map(function(W){return new i(c,u,I[W],O,$[W].text,void 0,$[W].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var F=h.reduce(function(W,Z){return W[Z.name]=Z.align,W},{});for(m=0;m<d.length;m+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:m,data:d[m]},this);var Q=l.call(this,d[m],I);for(x=0;x<y.length;x+=1){var V=d[m][y[x]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:m,col:x,data:V},this),a.call(this,new i(c,u,I[y[x]],Q,V,m+2,F[y[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(m){var p=c[m];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/f+d+d},this).reduce(function(m,p){return Math.max(m,p)},0)};t.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,f.push(d)),d.lineNumber=c;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(wt.API);var X$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},J$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],oj=K$(J$),Z$=[100,200,300,400,500,600,700,800,900],f1e=K$(Z$);function lj(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return X$[i=i||"normal"]?i:"normal"}(t.style),s=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),r=function(i){return typeof oj[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:n,weight:s,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,n,s].join(" ")}}}function s7(t,e,n,s){var r;for(r=n;r>=0&&r<e.length;r+=s)if(t[e[r]])return t[e[r]];for(r=n;r>=0&&r<e.length;r-=s)if(t[e[r]])return t[e[r]]}var m1e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},r7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function i7(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function p1e(t,e,n){for(var s=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},m1e,n.genericFontFamilies||{}),i=null,a=null,l=0;l<e.length;++l)if(r[(i=lj(e[l])).family]&&(i.family=r[i.family]),t.hasOwnProperty(i.family)){a=t[i.family];break}if(!(a=a||t[s]))throw new Error("Could not find a font-family for the rule '"+i7(i)+"' and default family '"+s+"'.");if(a=function(c,u){if(u[c])return u[c];var d=oj[c],h=d<=oj.normal?-1:1,f=s7(u,J$,d,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(i.stretch,a),a=function(c,u){if(u[c])return u[c];for(var d=X$[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)}(i.style,a),!(a=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=f1e[c],h=s7(u,Z$,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+i7(i)+"'.");return a}function a7(t){return t.trimLeft()}function g1e(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function y1e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Db,o7,l7,_4=["times"];(function(t){var e,n,s,r,i,a,l,c,u,d=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new a,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new a,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=U;Object.defineProperty(this,"pdf",{get:function(){return G}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(ye){Y=!!ye}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(ye){J=!!ye}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(ye){isNaN(ye)||(re=ye)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(ye){isNaN(ye)||(le=ye)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ye){var ae;typeof ye=="number"?ae=[ye,ye,ye,ye]:((ae=new Array(4))[0]=ye[0],ae[1]=ye.length>=2?ye[1]:ae[0],ae[2]=ye.length>=3?ye[2]:ae[0],ae[3]=ye.length>=4?ye[3]:ae[1]),u.margin=ae}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(ye){ue=ye}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ye){de=ye}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(ye){_e=ye}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ye){ye instanceof d&&(u=ye)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ye){u.path=ye}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(ye){Ae=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var ae;ae=f(ye),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var ae=f(ye);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Le=null;function Ie(ye,ae){if(Le===null){var nt=function(Je){var Oe=[];return Object.keys(Je).forEach(function(Ne){Je[Ne].forEach(function(ke){var Ve=null;switch(ke){case"bold":Ve={family:Ne,weight:"bold"};break;case"italic":Ve={family:Ne,style:"italic"};break;case"bolditalic":Ve={family:Ne,weight:"bold",style:"italic"};break;case"":case"normal":Ve={family:Ne}}Ve!==null&&(Ve.ref={name:Ne,style:ke},Oe.push(Ve))})}),Oe}(ye.getFontList());Le=function(Je){for(var Oe={},Ne=0;Ne<Je.length;++Ne){var ke=lj(Je[Ne]),Ve=ke.family,$e=ke.stretch,Te=ke.style,ze=ke.weight;Oe[Ve]=Oe[Ve]||{},Oe[Ve][$e]=Oe[Ve][$e]||{},Oe[Ve][$e][Te]=Oe[Ve][$e][Te]||{},Oe[Ve][$e][Te][ze]=ke}return Oe}(nt.concat(ae))}return Le}var Xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xe},set:function(ye){Le=null,Xe=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var ae;if(this.ctx.font=ye,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var nt=ae[1];ae[2];var Je=ae[3],Oe=ae[4];ae[5];var Ne=ae[6],ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(ke==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:ke==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var Ve=function(Pe){var we,Me,st=[],at=Pe.trim();if(at==="")return _4;if(at in r7)return[r7[at]];for(;at!=="";){switch(Me=null,we=(at=a7(at)).charAt(0)){case'"':case"'":Me=g1e(at.substring(1),we);break;default:Me=y1e(at)}if(Me===null||(st.push(Me[0]),(at=a7(Me[1]))!==""&&at.charAt(0)!==","))return _4;at=at.replace(/^,/,"")}return st}(Ne);if(this.fontFaces){var $e=p1e(Ie(this.pdf,this.fontFaces),Ve.map(function(Pe){return{family:Pe,stretch:"normal",weight:Je,style:nt}}));this.pdf.setFont($e.ref.name,$e.ref.style)}else{var Te="";(Je==="bold"||parseInt(Je,10)>=700||nt==="bold")&&(Te="bold"),nt==="italic"&&(Te+="italic"),Te.length===0&&(Te="normal");for(var ze="",Ge={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<Ve.length;rt++){if(this.pdf.internal.getFont(Ve[rt],Te,{noFallback:!0,disableWarning:!0})!==void 0){ze=Ve[rt];break}if(Te==="bolditalic"&&this.pdf.internal.getFont(Ve[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ze=Ve[rt],Te="bold";else if(this.pdf.internal.getFont(Ve[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ze=Ve[rt],Te="normal";break}}if(ze===""){for(var xt=0;xt<Ve.length;xt++)if(Ge[Ve[xt]]){ze=Ge[Ve[xt]];break}}ze=ze===""?"Times":ze,this.pdf.setFont(ze,Te)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};h.prototype.setLineDash=function(U){this.lineDash=U},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){P.call(this,"fill",!1)},h.prototype.stroke=function(){P.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(U,G){if(isNaN(U)||isNaN(G))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new a(U,G));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(U,G)},h.prototype.closePath=function(){var U=new a(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Tn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){U=new a(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(U.x,U.y)},h.prototype.lineTo=function(U,G){if(isNaN(U)||isNaN(G))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new a(U,G));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},h.prototype.quadraticCurveTo=function(U,G,Y,J){if(isNaN(Y)||isNaN(J)||isNaN(U)||isNaN(G))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new a(Y,J)),le=this.ctx.transform.applyToPoint(new a(U,G));this.path.push({type:"qct",x1:le.x,y1:le.y,x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},h.prototype.bezierCurveTo=function(U,G,Y,J,re,le){if(isNaN(re)||isNaN(le)||isNaN(U)||isNaN(G)||isNaN(Y)||isNaN(J))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new a(re,le)),de=this.ctx.transform.applyToPoint(new a(U,G)),_e=this.ctx.transform.applyToPoint(new a(Y,J));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:_e.x,y2:_e.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new a(ue.x,ue.y)},h.prototype.arc=function(U,G,Y,J,re,le){if(isNaN(U)||isNaN(G)||isNaN(Y)||isNaN(J)||isNaN(re))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new a(U,G));U=ue.x,G=ue.y;var de=this.ctx.transform.applyToPoint(new a(0,Y)),_e=this.ctx.transform.applyToPoint(new a(0,0));Y=Math.sqrt(Math.pow(de.x-_e.x,2)+Math.pow(de.y-_e.y,2))}Math.abs(re-J)>=2*Math.PI&&(J=0,re=2*Math.PI),this.path.push({type:"arc",x:U,y:G,radius:Y,startAngle:J,endAngle:re,counterclockwise:le})},h.prototype.arcTo=function(U,G,Y,J,re){throw new Error("arcTo not implemented.")},h.prototype.rect=function(U,G,Y,J){if(isNaN(U)||isNaN(G)||isNaN(Y)||isNaN(J))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,G),this.lineTo(U+Y,G),this.lineTo(U+Y,G+J),this.lineTo(U,G+J),this.lineTo(U,G),this.lineTo(U+Y,G),this.lineTo(U,G)},h.prototype.fillRect=function(U,G,Y,J){if(isNaN(U)||isNaN(G)||isNaN(Y)||isNaN(J))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,G,Y,J),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},h.prototype.strokeRect=function(U,G,Y,J){if(isNaN(U)||isNaN(G)||isNaN(Y)||isNaN(J))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(U,G,Y,J),this.stroke())},h.prototype.clearRect=function(U,G,Y,J){if(isNaN(U)||isNaN(G)||isNaN(Y)||isNaN(J))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,G,Y,J))},h.prototype.save=function(U){U=typeof U!="boolean"||U;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},h.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(G),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(U){var G,Y,J,re;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))G=0,Y=0,J=0,re=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(le!==null)G=parseInt(le[1]),Y=parseInt(le[2]),J=parseInt(le[3]),re=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)G=parseInt(le[1]),Y=parseInt(le[2]),J=parseInt(le[3]),re=parseFloat(le[4]);else{if(re=1,typeof U=="string"&&U.charAt(0)!=="#"){var ue=new q$(U);U=ue.ok?ue.toHex():"#000000"}U.length===4?(G=U.substring(1,2),G+=G,Y=U.substring(2,3),Y+=Y,J=U.substring(3,4),J+=J):(G=U.substring(1,3),Y=U.substring(3,5),J=U.substring(5,7)),G=parseInt(G,16),Y=parseInt(Y,16),J=parseInt(J,16)}}return{r:G,g:Y,b:J,a:re,style:U}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(U,G,Y,J){if(isNaN(G)||isNaN(Y)||typeof U!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!m.call(this)){var re=Q(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;T.call(this,{text:U,x:G,y:Y,scale:le,angle:re,align:this.textAlign,maxWidth:J})}},h.prototype.strokeText=function(U,G,Y,J){if(isNaN(G)||isNaN(Y)||typeof U!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){J=isNaN(J)?void 0:J;var re=Q(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;T.call(this,{text:U,x:G,y:Y,scale:le,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:J})}},h.prototype.measureText=function(U){if(typeof U!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,Y=this.pdf.internal.scaleFactor,J=G.internal.getFontSize(),re=G.getStringUnitWidth(U)*J/G.internal.scaleFactor,le=function(ue){var de=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new le({width:re*=Math.round(96*Y/72*1e4)/1e4})},h.prototype.scale=function(U,G){if(isNaN(U)||isNaN(G))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(U,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.rotate=function(U){if(isNaN(U))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.translate=function(U,G){if(isNaN(U)||isNaN(G))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,U,G);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.transform=function(U,G,Y,J,re,le){if(isNaN(U)||isNaN(G)||isNaN(Y)||isNaN(J)||isNaN(re)||isNaN(le))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new c(U,G,Y,J,re,le);this.ctx.transform=this.ctx.transform.multiply(ue)},h.prototype.setTransform=function(U,G,Y,J,re,le){U=isNaN(U)?1:U,G=isNaN(G)?0:G,Y=isNaN(Y)?0:Y,J=isNaN(J)?1:J,re=isNaN(re)?0:re,le=isNaN(le)?0:le,this.ctx.transform=new c(U,G,Y,J,re,le)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(U,G,Y,J,re,le,ue,de,_e){var Ae=this.pdf.getImageProperties(U),Le=1,Ie=1,Xe=1,ye=1;J!==void 0&&de!==void 0&&(Xe=de/J,ye=_e/re,Le=Ae.width/J*de/J,Ie=Ae.height/re*_e/re),le===void 0&&(le=G,ue=Y,G=0,Y=0),J!==void 0&&de===void 0&&(de=J,_e=re),J===void 0&&de===void 0&&(de=Ae.width,_e=Ae.height);for(var ae,nt=this.ctx.transform.decompose(),Je=Q(nt.rotate.shx),Oe=new c,Ne=(Oe=(Oe=(Oe=Oe.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new l(le-G*Xe,ue-Y*ye,J*Le,re*Ie)),ke=v.call(this,Ne),Ve=[],$e=0;$e<ke.length;$e+=1)Ve.indexOf(ke[$e])===-1&&Ve.push(ke[$e]);if(N(Ve),this.autoPaging)for(var Te=Ve[0],ze=Ve[Ve.length-1],Ge=Te;Ge<ze+1;Ge++){this.pdf.setPage(Ge);var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=Ge===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=Ge===1?0:Pe+(Ge-2)*we;if(this.ctx.clip_path.length!==0){var st=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ae,this.posX+this.margin[3],-Me+xt+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=st}var at=JSON.parse(JSON.stringify(Ne));at=_([at],this.posX+this.margin[3],-Me+xt+this.ctx.prevPageLastElemOffset)[0];var Et=(Ge>Te||Ge<ze)&&x.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,we,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",at.x,at.y,at.w,at.h,null,null,Je),Et&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,Je)};var v=function(U,G,Y){var J=[];G=G||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":J.push(Math.floor((U.y+re)/Y)+1);break;case"arc":J.push(Math.floor((U.y+re-U.radius)/Y)+1),J.push(Math.floor((U.y+re+U.radius)/Y)+1);break;case"qct":var le=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);J.push(Math.floor((le.y+re)/Y)+1),J.push(Math.floor((le.y+le.h+re)/Y)+1);break;case"bct":var ue=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);J.push(Math.floor((ue.y+re)/Y)+1),J.push(Math.floor((ue.y+ue.h+re)/Y)+1);break;case"rect":J.push(Math.floor((U.y+re)/Y)+1),J.push(Math.floor((U.y+U.h+re)/Y)+1)}for(var de=0;de<J.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<J[de];)y.call(this);return J},y=function(){var U=this.fillStyle,G=this.strokeStyle,Y=this.font,J=this.lineCap,re=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=G,this.font=Y,this.lineCap=J,this.lineWidth=re,this.lineJoin=le},_=function(U,G,Y){for(var J=0;J<U.length;J++)switch(U[J].type){case"bct":U[J].x2+=G,U[J].y2+=Y;case"qct":U[J].x1+=G,U[J].y1+=Y;case"mt":case"lt":case"arc":default:U[J].x+=G,U[J].y+=Y}return U},N=function(U){return U.sort(function(G,Y){return G-Y})},P=function(U,G){for(var Y,J,re=this.fillStyle,le=this.strokeStyle,ue=this.lineCap,de=this.lineWidth,_e=Math.abs(de*this.ctx.transform.scaleX),Ae=this.lineJoin,Le=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),Xe=[],ye=0;ye<Ie.length;ye++)if(Ie[ye].x!==void 0)for(var ae=v.call(this,Ie[ye]),nt=0;nt<ae.length;nt+=1)Xe.indexOf(ae[nt])===-1&&Xe.push(ae[nt]);for(var Je=0;Je<Xe.length;Je++)for(;this.pdf.internal.getNumberOfPages()<Xe[Je];)y.call(this);if(N(Xe),this.autoPaging)for(var Oe=Xe[0],Ne=Xe[Xe.length-1],ke=Oe;ke<Ne+1;ke++){this.pdf.setPage(ke),this.fillStyle=re,this.strokeStyle=le,this.lineCap=ue,this.lineWidth=_e,this.lineJoin=Ae;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=ke===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=ke===1?0:Te+(ke-2)*ze;if(this.ctx.clip_path.length!==0){var rt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Y,this.posX+this.margin[3],-Ge+$e+this.ctx.prevPageLastElemOffset),I.call(this,U,!0),this.path=rt}if(J=JSON.parse(JSON.stringify(Le)),this.path=_(J,this.posX+this.margin[3],-Ge+$e+this.ctx.prevPageLastElemOffset),G===!1||ke===0){var xt=(ke>Oe||ke<Ne)&&x.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,ze,null).clip().discardPath()),I.call(this,U,G),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=_e,I.call(this,U,G),this.lineWidth=de;this.path=Le},I=function(U,G){if((U!=="stroke"||G||!p.call(this))&&(U==="stroke"||G||!m.call(this))){for(var Y,J,re=[],le=this.path,ue=0;ue<le.length;ue++){var de=le[ue];switch(de.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:de,deltas:[],abs:[]});break;case"lt":var _e=re.length;if(le[ue-1]&&!isNaN(le[ue-1].x)&&(Y=[de.x-le[ue-1].x,de.y-le[ue-1].y],_e>0)){for(;_e>=0;_e--)if(re[_e-1].close!==!0&&re[_e-1].begin!==!0){re[_e-1].deltas.push(Y),re[_e-1].abs.push(de);break}}break;case"bct":Y=[de.x1-le[ue-1].x,de.y1-le[ue-1].y,de.x2-le[ue-1].x,de.y2-le[ue-1].y,de.x-le[ue-1].x,de.y-le[ue-1].y],re[re.length-1].deltas.push(Y);break;case"qct":var Ae=le[ue-1].x+2/3*(de.x1-le[ue-1].x),Le=le[ue-1].y+2/3*(de.y1-le[ue-1].y),Ie=de.x+2/3*(de.x1-de.x),Xe=de.y+2/3*(de.y1-de.y),ye=de.x,ae=de.y;Y=[Ae-le[ue-1].x,Le-le[ue-1].y,Ie-le[ue-1].x,Xe-le[ue-1].y,ye-le[ue-1].x,ae-le[ue-1].y],re[re.length-1].deltas.push(Y);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(de)}}J=G?null:U==="stroke"?"stroke":"fill";for(var nt=!1,Je=0;Je<re.length;Je++)if(re[Je].arc)for(var Oe=re[Je].abs,Ne=0;Ne<Oe.length;Ne++){var ke=Oe[Ne];ke.type==="arc"?w.call(this,ke.x,ke.y,ke.radius,ke.startAngle,ke.endAngle,ke.counterclockwise,void 0,G,!nt):L.call(this,ke.x,ke.y),nt=!0}else if(re[Je].close===!0)this.pdf.internal.out("h"),nt=!1;else if(re[Je].begin!==!0){var Ve=re[Je].start.x,$e=re[Je].start.y;z.call(this,re[Je].deltas,Ve,$e),nt=!0}J&&A.call(this,J),G&&R.call(this)}},D=function(U){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-Y;case"top":return U+G-Y;case"hanging":return U+G-2*Y;case"middle":return U+G/2-Y;case"ideographic":return U;case"alphabetic":default:return U}},C=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(G,Y){this.colorStops.push([G,Y])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var w=function(U,G,Y,J,re,le,ue,de,_e){for(var Ae=O.call(this,Y,J,re,le),Le=0;Le<Ae.length;Le++){var Ie=Ae[Le];Le===0&&(_e?E.call(this,Ie.x1+U,Ie.y1+G):L.call(this,Ie.x1+U,Ie.y1+G)),$.call(this,U,G,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}de?R.call(this):A.call(this,ue)},A=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(U,G){this.pdf.internal.out(n(U)+" "+s(G)+" m")},T=function(U){var G;switch(U.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var Y=this.pdf.getTextDimensions(U.text),J=D.call(this,U.y),re=C.call(this,J)-Y.h,le=this.ctx.transform.applyToPoint(new a(U.x,J)),ue=this.ctx.transform.decompose(),de=new c;de=(de=(de=de.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var _e,Ae,Le,Ie=this.ctx.transform.applyToRectangle(new l(U.x,J,Y.w,Y.h)),Xe=de.applyToRectangle(new l(U.x,re,Y.w,Y.h)),ye=v.call(this,Xe),ae=[],nt=0;nt<ye.length;nt+=1)ae.indexOf(ye[nt])===-1&&ae.push(ye[nt]);if(N(ae),this.autoPaging)for(var Je=ae[0],Oe=ae[ae.length-1],Ne=Je;Ne<Oe+1;Ne++){this.pdf.setPage(Ne);var ke=Ne===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[2],Te=$e-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],Ge=ze-this.margin[3],rt=Ne===1?0:Ve+(Ne-2)*Te;if(this.ctx.clip_path.length!==0){var xt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(_e,this.posX+this.margin[3],-1*rt+ke),I.call(this,"fill",!0),this.path=xt}var Pe=_([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-rt+ke+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*U.scale),Le=this.lineWidth,this.lineWidth=Le*U.scale);var we=this.autoPaging!=="text";if(we||Pe.y+Pe.h<=$e){if(we||Pe.y>=ke&&Pe.x<=ze){var Me=we?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||ze-Pe.x)[0],st=_([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-rt+ke+this.ctx.prevPageLastElemOffset)[0],at=we&&(Ne>Je||Ne<Oe)&&x.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Te,null).clip().discardPath()),this.pdf.text(Me,st.x,st.y,{angle:U.angle,align:G,renderingMode:U.renderingMode}),at&&this.pdf.restoreGraphicsState()}}else Pe.y<$e&&(this.ctx.prevPageLastElemOffset+=$e-Pe.y);U.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Le)}else U.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*U.scale),Le=this.lineWidth,this.lineWidth=Le*U.scale),this.pdf.text(U.text,le.x+this.posX,le.y+this.posY,{angle:U.angle,align:G,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Le)},L=function(U,G,Y,J){Y=Y||0,J=J||0,this.pdf.internal.out(n(U+Y)+" "+s(G+J)+" l")},z=function(U,G,Y){return this.pdf.lines(U,G,Y,null,null)},$=function(U,G,Y,J,re,le,ue,de){this.pdf.internal.out([e(r(Y+U)),e(i(J+G)),e(r(re+U)),e(i(le+G)),e(r(ue+U)),e(i(de+G)),"c"].join(" "))},O=function(U,G,Y,J){for(var re=2*Math.PI,le=Math.PI/2;G>Y;)G-=re;var ue=Math.abs(Y-G);ue<re&&J&&(ue=re-ue);for(var de=[],_e=J?-1:1,Ae=G;ue>1e-5;){var Le=Ae+_e*Math.min(ue,le);de.push(F.call(this,U,Ae,Le)),ue-=Math.abs(Le-Ae),Ae=Le}return de},F=function(U,G,Y){var J=(Y-G)/2,re=U*Math.cos(J),le=U*Math.sin(J),ue=re,de=-le,_e=ue*ue+de*de,Ae=_e+ue*re+de*le,Le=4/3*(Math.sqrt(2*_e*Ae)-Ae)/(ue*le-de*re),Ie=ue-Le*de,Xe=de+Le*ue,ye=Ie,ae=-Xe,nt=J+G,Je=Math.cos(nt),Oe=Math.sin(nt);return{x1:U*Math.cos(G),y1:U*Math.sin(G),x2:Ie*Je-Xe*Oe,y2:Ie*Oe+Xe*Je,x3:ye*Je-ae*Oe,y3:ye*Oe+ae*Je,x4:U*Math.cos(Y),y4:U*Math.sin(Y)}},Q=function(U){return 180*U/Math.PI},V=function(U,G,Y,J,re,le){var ue=U+.5*(Y-U),de=G+.5*(J-G),_e=re+.5*(Y-re),Ae=le+.5*(J-le),Le=Math.min(U,re,ue,_e),Ie=Math.max(U,re,ue,_e),Xe=Math.min(G,le,de,Ae),ye=Math.max(G,le,de,Ae);return new l(Le,Xe,Ie-Le,ye-Xe)},W=function(U,G,Y,J,re,le,ue,de){var _e,Ae,Le,Ie,Xe,ye,ae,nt,Je,Oe,Ne,ke,Ve,$e,Te=Y-U,ze=J-G,Ge=re-Y,rt=le-J,xt=ue-re,Pe=de-le;for(Ae=0;Ae<41;Ae++)Je=(ae=(Le=U+(_e=Ae/40)*Te)+_e*((Xe=Y+_e*Ge)-Le))+_e*(Xe+_e*(re+_e*xt-Xe)-ae),Oe=(nt=(Ie=G+_e*ze)+_e*((ye=J+_e*rt)-Ie))+_e*(ye+_e*(le+_e*Pe-ye)-nt),Ae==0?(Ne=Je,ke=Oe,Ve=Je,$e=Oe):(Ne=Math.min(Ne,Je),ke=Math.min(ke,Oe),Ve=Math.max(Ve,Je),$e=Math.max($e,Oe));return new l(Math.round(Ne),Math.round(ke),Math.round(Ve-Ne),Math.round($e-ke))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,G,Y=(U=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:G}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(wt.API),function(t){var e=function(i){var a,l,c,u,d,h,f,m,p,x;for(l=[],c=0,u=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(x=d%85))/85)-(p=d%85))/85)-(m=d%85))/85)-(f=d%85))/85)%85,l.push(h+33,f+33,m+33,p+33,x+33)):l.push(122);return function(v,y){for(var _=y;_>0;_--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(i){var a,l,c,u,d,h=String,f="length",m=255,p="charCodeAt",x="slice",v="replace";for(i[x](-2),i=i[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,d=(i+=a="uuuuu"[x](i[f]%5||5))[f];d>u;u+=5)l=52200625*(i[p](u)-33)+614125*(i[p](u+1)-33)+7225*(i[p](u+2)-33)+85*(i[p](u+3)-33)+(i[p](u+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(y,_){for(var N=_;N>0;N--)y.pop()}(c,a[f]),h.fromCharCode.apply(h,c)},s=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},r=function(i){for(var a=new Uint8Array(i.length),l=i.length;l--;)a[l]=i.charCodeAt(l);return i=(a=nj(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(i,a){var l=0,c=i||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=r(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(wt.API),function(t){t.loadFile=function(e,n,s){return function(r,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,f=0,m=function(p){var x=p.length,v=[],y=String.fromCharCode;for(f=0;f<x;f+=1)v.push(y(255&p.charCodeAt(f)));return v.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(m(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return m(h.responseText)}(r,i,a)}catch{}return l}(e,n,s)},t.loadImageFile=t.loadFile}(wt.API),function(t){function e(){return(At.html2canvas?Promise.resolve(At.html2canvas):Qd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):Qd(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var s=function(a){var l=Tn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,a,1,[a])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,l){return a.__proto__=l||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(s(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(c){return this.set({src:r("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(c(f,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var m=u[f],p=m.src.find(function(x){return x.format==="truetype"});p&&c.addFont(p.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},i.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(s(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(a,l){return this.then(function(){var c=a in i.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},i.prototype.setMargin=function(a){return this.then(function(){switch(s(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},i.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,a,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},i.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return i.convert(l,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,wt.getPageSize=function(a,l,c){if(Tn(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var m,p=0,x=0;if(f.hasOwnProperty(h))p=f[h][1]/d,x=f[h][0]/d;else try{p=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",x>p&&(m=x,x=p,p=m);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",p>x&&(m=x,x=p,p=m)}return{width:x,height:p,unit:l,k:d,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(lj):null;var c=new i(l);return l.worker?c:c.from(a).doCallback()}}(wt.API),wt.API.addJS=function(t){return l7=t,this.internal.events.subscribe("postPutResources",function(){Db=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Db+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),o7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Db!==void 0&&o7!==void 0&&this.internal.out("/Names <</JavaScript "+Db+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),i=0;i<r.length;i++){var a=r[i],l=s.exec(a);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var h=n.internal.newObject();d.push(h);var f=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<d.length;i++)n.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(s,r,i){var a={title:r,options:i,children:[]};return s==null&&(s=this.root),s.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(s){s.id=n.internal.newObjectDeferred();for(var r=0;r<s.children.length;r++)this.genIds_r(s.children[r])},n.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},n.outline.renderItems=function(s){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var a=s.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<s.children.length;u++)this.renderItems(s.children[u])},n.outline.line=function(s){this.ctx.val+=s+`\r
`},n.outline.makeRef=function(s){return s.id+" 0 R"},n.outline.makeString=function(s){return"("+n.internal.pdfEscape(s)+")"},n.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(s,r){for(var i=0;i<r.children.length;i++)s.count++,this.count_r(s,r.children[i]);return s.count}}])}(wt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,s,r,i,a,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(h){for(var f,m=256*h.charCodeAt(4)+h.charCodeAt(5),p=h.length,x={width:0,height:0,numcomponents:1},v=4;v<p;v+=2){if(v+=m,e.indexOf(h.charCodeAt(v+1))!==-1){f=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),x={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:f,numcomponents:h.charCodeAt(v+9)};break}m=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:s,alias:r}}return d}}(wt.API);var Im,Ob,c7,u7,d7,x1e=function(){var t,e,n;function s(i){var a,l,c,u,d,h,f,m,p,x,v,y,_,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),p=(function(){var P,I;for(I=[],P=0;P<4;++P)I.push(String.fromCharCode(this.data[this.pos++]));return I}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,a-=4),i=(h!=null?h.data:void 0)||this.imgData,y=0;0<=a?y<a:y>a;0<=a?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(_=0;0<=x?_<x:_>x;0<=x?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(v=this.read(a)).indexOf(0),m=String.fromCharCode.apply(String,v.slice(0,f)),this.text[m]=String.fromCharCode.apply(String,v.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(i){var a,l;for(l=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)l.push(this.data[this.pos++]);return l},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(h,f,m,p){var x,v,y,_,N,P,I,D,C,w,A,R,E,T,L,z,$,O,F,Q,V,W=Math.ceil((u.width-h)/m),Z=Math.ceil((u.height-f)/p),U=u.width==W&&u.height==Z;for(T=a*W,R=U?l:new Uint8Array(T*Z),P=i.length,E=0,v=0;E<Z&&c<P;){switch(i[c++]){case 0:for(_=$=0;$<T;_=$+=1)R[v++]=i[c++];break;case 1:for(_=O=0;O<T;_=O+=1)x=i[c++],N=_<a?0:R[v-a],R[v++]=(x+N)%256;break;case 2:for(_=F=0;F<T;_=F+=1)x=i[c++],y=(_-_%a)/a,L=E&&R[(E-1)*T+y*a+_%a],R[v++]=(L+x)%256;break;case 3:for(_=Q=0;Q<T;_=Q+=1)x=i[c++],y=(_-_%a)/a,N=_<a?0:R[v-a],L=E&&R[(E-1)*T+y*a+_%a],R[v++]=(x+Math.floor((N+L)/2))%256;break;case 4:for(_=V=0;V<T;_=V+=1)x=i[c++],y=(_-_%a)/a,N=_<a?0:R[v-a],E===0?L=z=0:(L=R[(E-1)*T+y*a+_%a],z=y&&R[(E-1)*T+(y-1)*a+_%a]),I=N+L-z,D=Math.abs(I-N),w=Math.abs(I-L),A=Math.abs(I-z),C=D<=w&&D<=A?N:w<=A?L:z,R[v++]=(x+C)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!U){var G=((f+E*p)*u.width+h)*a,Y=E*T;for(_=0;_<W;_+=1){for(var J=0;J<a;J+=1)l[G++]=R[Y++];G+=(m-1)*a}}E++}}return i=Kxe(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},s.prototype.decodePalette=function(){var i,a,l,c,u,d,h,f,m;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,a=h=0,f=l.length;h<f;a=h+=3)u[c++]=l[a],u[c++]=l[a+1],u[c++]=l[a+2],u[c++]=(m=d[i++])!=null?m:255;return u},s.prototype.copyToImageData=function(i,a){var l,c,u,d,h,f,m,p,x,v,y;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,l=!0),p=(u=i.data||i).length,h=x||a,d=f=0,c===1)for(;d<p;)m=x?4*a[d/4]:f,v=h[m++],u[d++]=v,u[d++]=v,u[d++]=v,u[d++]=l?h[m++]:255,f=m;else for(;d<p;)m=x?4*a[d/4]:f,u[d++]=h[m++],u[d++]=h[m++],u[d++]=h[m++],u[d++]=l?h[m++]:255,f=m},s.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var r=function(){if(Object.prototype.toString.call(At)==="[object Window]"){try{e=At.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),t=function(i){var a;if(r()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(i){var a,l,c,u,d,h,f,m;if(this.animation){for(m=[],l=d=0,h=(f=this.animation.frames).length;d<h;l=++d)a=f[l],c=i.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,u),a.imageData=c,m.push(a.image=t(c));return m}},s.prototype.renderFrame=function(i,a){var l,c,u;return l=(c=this.animation.frames)[a],u=c[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},s.prototype.animate=function(i){var a,l,c,u,d,h,f=this;return l=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(a=function(){var m,p;if(m=l++%u,p=c[m],f.renderFrame(i,m),u>1&&l/u<d)return f.animation._timeout=setTimeout(a,p.delay)})()},s.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},s.prototype.render=function(i){var a,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function b1e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,s=t[e++]|t[e++]<<8,r=t[e++],i=r>>7,a=1<<(7&r)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=a,e+=3*a);var u=!0,d=[],h=0,f=null,m=0,p=null;for(this.width=n,this.height=s;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],!(1&x)&&(f=null),m=x>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,P=t[e++],I=P>>6&1,D=1<<(7&P)+1,C=l,w=c,A=!1;P>>7&&(A=!0,C=e,w=D,e+=3*D);var R=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}d.push({x:v,y,width:_,height:N,has_local_palette:A,palette_offset:C,palette_size:w,data_offset:R,data_length:e-R,transparent_index:f,interlaced:!!I,delay:h,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,L){var z=this.frameInfo(T),$=z.width*z.height,O=new Uint8Array($);h7(t,z.data_offset,O,$);var F=z.palette_offset,Q=z.transparent_index;Q===null&&(Q=256);var V=z.width,W=n-V,Z=V,U=4*(z.y*n+z.x),G=4*((z.y+z.height)*n+z.x),Y=U,J=4*W;z.interlaced===!0&&(J+=4*n*7);for(var re=8,le=0,ue=O.length;le<ue;++le){var de=O[le];if(Z===0&&(Z=V,(Y+=J)>=G&&(J=4*W+4*n*(re-1),Y=U+(V+W)*(re<<1),re>>=1)),de===Q)Y+=4;else{var _e=t[F+3*de],Ae=t[F+3*de+1],Le=t[F+3*de+2];L[Y++]=Le,L[Y++]=Ae,L[Y++]=_e,L[Y++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(T,L){var z=this.frameInfo(T),$=z.width*z.height,O=new Uint8Array($);h7(t,z.data_offset,O,$);var F=z.palette_offset,Q=z.transparent_index;Q===null&&(Q=256);var V=z.width,W=n-V,Z=V,U=4*(z.y*n+z.x),G=4*((z.y+z.height)*n+z.x),Y=U,J=4*W;z.interlaced===!0&&(J+=4*n*7);for(var re=8,le=0,ue=O.length;le<ue;++le){var de=O[le];if(Z===0&&(Z=V,(Y+=J)>=G&&(J=4*W+4*n*(re-1),Y=U+(V+W)*(re<<1),re>>=1)),de===Q)Y+=4;else{var _e=t[F+3*de],Ae=t[F+3*de+1],Le=t[F+3*de+2];L[Y++]=_e,L[Y++]=Ae,L[Y++]=Le,L[Y++]=255}--Z}}}function h7(t,e,n,s){for(var r=t[e++],i=1<<r,a=i+1,l=a+1,c=r+1,u=(1<<c)-1,d=0,h=0,f=0,m=t[e++],p=new Int32Array(4096),x=null;;){for(;d<16&&m!==0;)h|=t[e++]<<d,d+=8,m===1?m=t[e++]:--m;if(d<c)break;var v=h&u;if(h>>=c,d-=c,v!==i){if(v===a)break;for(var y=v<l?v:x,_=0,N=y;N>i;)N=p[N]>>8,++_;var P=N;if(f+_+(y!==v?1:0)>s)return void Dn.log("Warning, gif stream longer than expected.");n[f++]=P;var I=f+=_;for(y!==v&&(n[f++]=P),N=y;_--;)N=p[N],n[--I]=255&N,N>>=8;x!==null&&l<4096&&(p[l++]=x<<8|P,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=v}else l=a+1,u=(1<<(c=r+1))-1,x=null}return f!==s&&Dn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function N4(t){var e,n,s,r,i,a=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),f=new Array(65535),m=new Array(64),p=new Array(64),x=[],v=0,y=7,_=new Array(64),N=new Array(64),P=new Array(64),I=new Array(256),D=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],w=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(U,G){for(var Y=0,J=0,re=new Array,le=1;le<=16;le++){for(var ue=1;ue<=U[le];ue++)re[G[J]]=[],re[G[J]][0]=Y,re[G[J]][1]=le,J++,Y++;Y*=2}return re}function F(U){for(var G=U[0],Y=U[1]-1;Y>=0;)G&1<<Y&&(v|=1<<y),Y--,--y<0&&(v==255?(Q(255),Q(0)):Q(v),y=7,v=0)}function Q(U){x.push(U)}function V(U){Q(U>>8&255),Q(255&U)}function W(U,G,Y,J,re){for(var le,ue=re[0],de=re[240],_e=function(Oe,Ne){var ke,Ve,$e,Te,ze,Ge,rt,xt,Pe,we,Me=0;for(Pe=0;Pe<8;++Pe){ke=Oe[Me],Ve=Oe[Me+1],$e=Oe[Me+2],Te=Oe[Me+3],ze=Oe[Me+4],Ge=Oe[Me+5],rt=Oe[Me+6];var st=ke+(xt=Oe[Me+7]),at=ke-xt,Et=Ve+rt,Ce=Ve-rt,ft=$e+Ge,Ft=$e-Ge,ct=Te+ze,nn=Te-ze,un=st+ct,Ks=st-ct,us=Et+ft,en=Et-ft;Oe[Me]=un+us,Oe[Me+4]=un-us;var vt=.707106781*(en+Ks);Oe[Me+2]=Ks+vt,Oe[Me+6]=Ks-vt;var Ut=.382683433*((un=nn+Ft)-(en=Ce+at)),ii=.5411961*un+Ut,kn=1.306562965*en+Ut,es=.707106781*(us=Ft+Ce),Gi=at+es,gt=at-es;Oe[Me+5]=gt+ii,Oe[Me+3]=gt-ii,Oe[Me+1]=Gi+kn,Oe[Me+7]=Gi-kn,Me+=8}for(Me=0,Pe=0;Pe<8;++Pe){ke=Oe[Me],Ve=Oe[Me+8],$e=Oe[Me+16],Te=Oe[Me+24],ze=Oe[Me+32],Ge=Oe[Me+40],rt=Oe[Me+48];var _i=ke+(xt=Oe[Me+56]),Fr=ke-xt,Os=Ve+rt,Ns=Ve-rt,ds=$e+Ge,Fs=$e-Ge,Xc=Te+ze,Za=Te-ze,Br=_i+Xc,Ni=_i-Xc,ai=Os+ds,oi=Os-ds;Oe[Me]=Br+ai,Oe[Me+32]=Br-ai;var Ss=.707106781*(oi+Ni);Oe[Me+16]=Ni+Ss,Oe[Me+48]=Ni-Ss;var Wi=.382683433*((Br=Za+Fs)-(oi=Ns+Fr)),zo=.5411961*Br+Wi,$o=1.306562965*oi+Wi,qo=.707106781*(ai=Fs+Ns),Fl=Fr+qo,Bl=Fr-qo;Oe[Me+40]=Bl+zo,Oe[Me+24]=Bl-zo,Oe[Me+8]=Fl+$o,Oe[Me+56]=Fl-$o,Me++}for(Pe=0;Pe<64;++Pe)we=Oe[Pe]*Ne[Pe],m[Pe]=we>0?we+.5|0:we-.5|0;return m}(U,G),Ae=0;Ae<64;++Ae)p[C[Ae]]=_e[Ae];var Le=p[0]-Y;Y=p[0],Le==0?F(J[0]):(F(J[f[le=32767+Le]]),F(h[le]));for(var Ie=63;Ie>0&&p[Ie]==0;)Ie--;if(Ie==0)return F(ue),Y;for(var Xe,ye=1;ye<=Ie;){for(var ae=ye;p[ye]==0&&ye<=Ie;)++ye;var nt=ye-ae;if(nt>=16){Xe=nt>>4;for(var Je=1;Je<=Xe;++Je)F(de);nt&=15}le=32767+p[ye],F(re[(nt<<4)+f[le]]),F(h[le]),ye++}return Ie!=63&&F(ue),Y}function Z(U){U=Math.min(Math.max(U,1),100),i!=U&&(function(G){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var re=a((Y[J]*G+50)/100);re=Math.min(Math.max(re,1),255),l[C[J]]=re}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var de=a((le[ue]*G+50)/100);de=Math.min(Math.max(de,1),255),c[C[ue]]=de}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,Le=0;Le<8;Le++)for(var Ie=0;Ie<8;Ie++)u[Ae]=1/(l[C[Ae]]*_e[Le]*_e[Ie]*8),d[Ae]=1/(c[C[Ae]]*_e[Le]*_e[Ie]*8),Ae++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,G){G&&Z(G),x=new Array,v=0,y=7,V(65496),V(65504),V(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),V(1),V(1),Q(0),Q(0),function(){V(65499),V(132),Q(0);for(var Ve=0;Ve<64;Ve++)Q(l[Ve]);Q(1);for(var $e=0;$e<64;$e++)Q(c[$e])}(),function(Ve,$e){V(65472),V(17),Q(8),V($e),V(Ve),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(U.width,U.height),function(){V(65476),V(418),Q(0);for(var Ve=0;Ve<16;Ve++)Q(w[Ve+1]);for(var $e=0;$e<=11;$e++)Q(A[$e]);Q(16);for(var Te=0;Te<16;Te++)Q(R[Te+1]);for(var ze=0;ze<=161;ze++)Q(E[ze]);Q(1);for(var Ge=0;Ge<16;Ge++)Q(T[Ge+1]);for(var rt=0;rt<=11;rt++)Q(L[rt]);Q(17);for(var xt=0;xt<16;xt++)Q(z[xt+1]);for(var Pe=0;Pe<=161;Pe++)Q($[Pe])}(),V(65498),V(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var Y=0,J=0,re=0;v=0,y=7,this.encode.displayName="_encode_";for(var le,ue,de,_e,Ae,Le,Ie,Xe,ye,ae=U.data,nt=U.width,Je=U.height,Oe=4*nt,Ne=0;Ne<Je;){for(le=0;le<Oe;){for(Ae=Oe*Ne+le,Ie=-1,Xe=0,ye=0;ye<64;ye++)Le=Ae+(Xe=ye>>3)*Oe+(Ie=4*(7&ye)),Ne+Xe>=Je&&(Le-=Oe*(Ne+1+Xe-Je)),le+Ie>=Oe&&(Le-=le+Ie-Oe+4),ue=ae[Le++],de=ae[Le++],_e=ae[Le++],_[ye]=(D[ue]+D[de+256>>0]+D[_e+512>>0]>>16)-128,N[ye]=(D[ue+768>>0]+D[de+1024>>0]+D[_e+1280>>0]>>16)-128,P[ye]=(D[ue+1280>>0]+D[de+1536>>0]+D[_e+1792>>0]>>16)-128;Y=W(_,u,Y,e,s),J=W(N,d,J,n,r),re=W(P,d,re,n,r),le+=32}Ne+=8}if(y>=0){var ke=[];ke[1]=y+1,ke[0]=(1<<y+1)-1,F(ke)}return V(65497),new Uint8Array(x)},t=t||50,function(){for(var U=String.fromCharCode,G=0;G<256;G++)I[G]=U(G)}(),e=O(w,A),n=O(T,L),s=O(R,E),r=O(z,$),function(){for(var U=1,G=2,Y=1;Y<=15;Y++){for(var J=U;J<G;J++)f[32767+J]=Y,h[32767+J]=[],h[32767+J][1]=Y,h[32767+J][0]=J;for(var re=-(G-1);re<=-U;re++)f[32767+re]=Y,h[32767+re]=[],h[32767+re][1]=Y,h[32767+re][0]=G-1+re;U<<=1,G<<=1}}(),function(){for(var U=0;U<256;U++)D[U]=19595*U,D[U+256>>0]=38470*U,D[U+512>>0]=7471*U+32768,D[U+768>>0]=-11059*U,D[U+1024>>0]=-21709*U,D[U+1280>>0]=32768*U+8421375,D[U+1536>>0]=-27439*U,D[U+1792>>0]=-5329*U}(),Z(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ho(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f7(t){function e(w){if(!w)throw Error("assert :P")}function n(w,A,R){for(var E=0;4>E;E++)if(w[A+E]!=R.charCodeAt(E))return!0;return!1}function s(w,A,R,E,T){for(var L=0;L<T;L++)w[A+L]=R[E+L]}function r(w,A,R,E){for(var T=0;T<E;T++)w[A+T]=R}function i(w){return new Int32Array(w)}function a(w,A){for(var R=[],E=0;E<w;E++)R.push(new A);return R}function l(w,A){var R=[];return function E(T,L,z){for(var $=z[L],O=0;O<$&&(T.push(z.length>L+1?[]:new A),!(z.length<L+1));O++)E(T[O],L+1,z)}(R,0,w),R}var c=function(){var w=this;function A(g,S){for(var M=1<<S-1>>>0;g&M;)M>>>=1;return M?(g&M-1)+M:g}function R(g,S,M,q,X){e(!(q%M));do g[S+(q-=M)]=X;while(0<q)}function E(g,S,M,q,X){if(e(2328>=X),512>=X)var ee=i(512);else if((ee=i(X))==null)return 0;return function(te,se,ie,oe,me,Se){var je,ve,Qe=se,De=1<<ie,pe=i(16),ge=i(16);for(e(me!=0),e(oe!=null),e(te!=null),e(0<ie),ve=0;ve<me;++ve){if(15<oe[ve])return 0;++pe[oe[ve]]}if(pe[0]==me)return 0;for(ge[1]=0,je=1;15>je;++je){if(pe[je]>1<<je)return 0;ge[je+1]=ge[je]+pe[je]}for(ve=0;ve<me;++ve)je=oe[ve],0<oe[ve]&&(Se[ge[je]++]=ve);if(ge[15]==1)return(oe=new T).g=0,oe.value=Se[0],R(te,Qe,1,De,oe),De;var qe,Ze=-1,He=De-1,mt=0,ot=1,St=1,ut=1<<ie;for(ve=0,je=1,me=2;je<=ie;++je,me<<=1){if(ot+=St<<=1,0>(St-=pe[je]))return 0;for(;0<pe[je];--pe[je])(oe=new T).g=je,oe.value=Se[ve++],R(te,Qe+mt,me,ut,oe),mt=A(mt,je)}for(je=ie+1,me=2;15>=je;++je,me<<=1){if(ot+=St<<=1,0>(St-=pe[je]))return 0;for(;0<pe[je];--pe[je]){if(oe=new T,(mt&He)!=Ze){for(Qe+=ut,qe=1<<(Ze=je)-ie;15>Ze&&!(0>=(qe-=pe[Ze]));)++Ze,qe<<=1;De+=ut=1<<(qe=Ze-ie),te[se+(Ze=mt&He)].g=qe+ie,te[se+Ze].value=Qe-se-Ze}oe.g=je-ie,oe.value=Se[ve++],R(te,Qe+(mt>>ie),me,ut,oe),mt=A(mt,je)}}return ot!=2*ge[15]-1?0:De}(g,S,M,q,X,ee)}function T(){this.value=this.g=0}function L(){this.value=this.g=0}function z(){this.G=a(5,T),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Sr,L)}function $(g,S,M,q){e(g!=null),e(S!=null),e(2147483648>q),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=S,g.pa=M,g.Jd=S,g.Yc=M+q,g.Zc=4<=q?M+q-4+1:M,le(g)}function O(g,S){for(var M=0;0<S--;)M|=de(g,128)<<S;return M}function F(g,S){var M=O(g,S);return ue(g)?-M:M}function Q(g,S,M,q){var X,ee=0;for(e(g!=null),e(S!=null),e(4294967288>q),g.Sb=q,g.Ra=0,g.u=0,g.h=0,4<q&&(q=4),X=0;X<q;++X)ee+=S[M+X]<<8*X;g.Ra=ee,g.bb=q,g.oa=S,g.pa=M}function V(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<bm-8>>>0,++g.bb,g.u-=8;Y(g)&&(g.h=1,g.u=0)}function W(g,S){if(e(0<=S),!g.h&&S<=xm){var M=G(g)&ym[S];return g.u+=S,V(g),M}return g.h=1,g.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(g){return g.Ra>>>(g.u&bm-1)>>>0}function Y(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>bm}function J(g,S){g.u=S,g.h=Y(g)}function re(g){g.u>=Xg&&(e(g.u>=Xg),V(g))}function le(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ue(g){return O(g,1)}function de(g,S){var M=g.Ca;0>g.b&&le(g);var q=g.b,X=M*S>>>8,ee=(g.I>>>q>X)+0;for(ee?(M-=X,g.I-=X+1<<q>>>0):M=X+1,q=M,X=0;256<=q;)X+=8,q>>=8;return q=7^X+ji[q],g.b-=q,g.Ca=(M<<q)-1,ee}function _e(g,S,M){g[S+0]=M>>24&255,g[S+1]=M>>16&255,g[S+2]=M>>8&255,g[S+3]=M>>0&255}function Ae(g,S){return g[S+0]<<0|g[S+1]<<8}function Le(g,S){return Ae(g,S)|g[S+2]<<16}function Ie(g,S){return Ae(g,S)|Ae(g,S+2)<<16}function Xe(g,S){var M=1<<S;return e(g!=null),e(0<S),g.X=i(M),g.X==null?0:(g.Mb=32-S,g.Xa=S,1)}function ye(g,S){e(g!=null),e(S!=null),e(g.Xa==S.Xa),s(S.X,0,g.X,0,1<<S.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function nt(g,S,M,q){e(M!=null),e(q!=null);var X=M[0],ee=q[0];return X==0&&(X=(g*ee+S/2)/S),ee==0&&(ee=(S*X+g/2)/g),0>=X||0>=ee?0:(M[0]=X,q[0]=ee,1)}function Je(g,S){return g+(1<<S)-1>>>S}function Oe(g,S){return((4278255360&g)+(4278255360&S)>>>0&4278255360)+((16711935&g)+(16711935&S)>>>0&16711935)>>>0}function Ne(g,S){w[S]=function(M,q,X,ee,te,se,ie){var oe;for(oe=0;oe<te;++oe){var me=w[g](se[ie+oe-1],X,ee+oe);se[ie+oe]=Oe(M[q+oe],me)}}}function ke(){this.ud=this.hd=this.jd=0}function Ve(g,S){return((4278124286&(g^S))>>>1)+(g&S)>>>0}function $e(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Te(g,S){return $e(g+(g-S+.5>>1))}function ze(g,S,M){return Math.abs(S-M)-Math.abs(g-M)}function Ge(g,S,M,q,X,ee,te){for(q=ee[te-1],M=0;M<X;++M)ee[te+M]=q=Oe(g[S+M],q)}function rt(g,S,M,q,X){var ee;for(ee=0;ee<M;++ee){var te=g[S+ee],se=te>>8&255,ie=16711935&(ie=(ie=16711935&te)+((se<<16)+se));q[X+ee]=(4278255360&te)+ie>>>0}}function xt(g,S){S.jd=g>>0&255,S.hd=g>>8&255,S.ud=g>>16&255}function Pe(g,S,M,q,X,ee){var te;for(te=0;te<q;++te){var se=S[M+te],ie=se>>>8,oe=se,me=255&(me=(me=se>>>16)+((g.jd<<24>>24)*(ie<<24>>24)>>>5));oe=255&(oe=(oe=oe+((g.hd<<24>>24)*(ie<<24>>24)>>>5))+((g.ud<<24>>24)*(me<<24>>24)>>>5)),X[ee+te]=(4278255360&se)+(me<<16)+oe}}function we(g,S,M,q,X){w[S]=function(ee,te,se,ie,oe,me,Se,je,ve){for(ie=Se;ie<je;++ie)for(Se=0;Se<ve;++Se)oe[me++]=X(se[q(ee[te++])])},w[g]=function(ee,te,se,ie,oe,me,Se){var je=8>>ee.b,ve=ee.Ea,Qe=ee.K[0],De=ee.w;if(8>je)for(ee=(1<<ee.b)-1,De=(1<<je)-1;te<se;++te){var pe,ge=0;for(pe=0;pe<ve;++pe)pe&ee||(ge=q(ie[oe++])),me[Se++]=X(Qe[ge&De]),ge>>=je}else w["VP8LMapColor"+M](ie,oe,Qe,De,me,Se,te,se,ve)}}function Me(g,S,M,q,X){for(M=S+M;S<M;){var ee=g[S++];q[X++]=ee>>16&255,q[X++]=ee>>8&255,q[X++]=ee>>0&255}}function st(g,S,M,q,X){for(M=S+M;S<M;){var ee=g[S++];q[X++]=ee>>16&255,q[X++]=ee>>8&255,q[X++]=ee>>0&255,q[X++]=ee>>24&255}}function at(g,S,M,q,X){for(M=S+M;S<M;){var ee=(te=g[S++])>>16&240|te>>12&15,te=te>>0&240|te>>28&15;q[X++]=ee,q[X++]=te}}function Et(g,S,M,q,X){for(M=S+M;S<M;){var ee=(te=g[S++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;q[X++]=ee,q[X++]=te}}function Ce(g,S,M,q,X){for(M=S+M;S<M;){var ee=g[S++];q[X++]=ee>>0&255,q[X++]=ee>>8&255,q[X++]=ee>>16&255}}function ft(g,S,M,q,X,ee){if(ee==0)for(M=S+M;S<M;)_e(q,((ee=g[S++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),X+=32;else s(q,X,g,S,M)}function Ft(g,S){w[S][0]=w[g+"0"],w[S][1]=w[g+"1"],w[S][2]=w[g+"2"],w[S][3]=w[g+"3"],w[S][4]=w[g+"4"],w[S][5]=w[g+"5"],w[S][6]=w[g+"6"],w[S][7]=w[g+"7"],w[S][8]=w[g+"8"],w[S][9]=w[g+"9"],w[S][10]=w[g+"10"],w[S][11]=w[g+"11"],w[S][12]=w[g+"12"],w[S][13]=w[g+"13"],w[S][14]=w[g+"0"],w[S][15]=w[g+"0"]}function ct(g){return g==L_||g==M_||g==V1||g==D_}function nn(){this.eb=[],this.size=this.A=this.fb=0}function un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ks(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new nn,this.f.kb=new un,this.sd=null}function us(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function en(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Ut(g,S){var M=g.T,q=S.ba.f.RGBA,X=q.eb,ee=q.fb+g.ka*q.A,te=Ca[S.ba.S],se=g.y,ie=g.O,oe=g.f,me=g.N,Se=g.ea,je=g.W,ve=S.cc,Qe=S.dc,De=S.Mc,pe=S.Nc,ge=g.ka,qe=g.ka+g.T,Ze=g.U,He=Ze+1>>1;for(ge==0?te(se,ie,null,null,oe,me,Se,je,oe,me,Se,je,X,ee,null,null,Ze):(te(S.ec,S.fc,se,ie,ve,Qe,De,pe,oe,me,Se,je,X,ee-q.A,X,ee,Ze),++M);ge+2<qe;ge+=2)ve=oe,Qe=me,De=Se,pe=je,me+=g.Rc,je+=g.Rc,ee+=2*q.A,te(se,(ie+=2*g.fa)-g.fa,se,ie,ve,Qe,De,pe,oe,me,Se,je,X,ee-q.A,X,ee,Ze);return ie+=g.fa,g.j+qe<g.o?(s(S.ec,S.fc,se,ie,Ze),s(S.cc,S.dc,oe,me,He),s(S.Mc,S.Nc,Se,je,He),M--):1&qe||te(se,ie,null,null,oe,me,Se,je,oe,me,Se,je,X,ee+q.A,null,null,Ze),M}function ii(g,S,M){var q=g.F,X=[g.J];if(q!=null){var ee=g.U,te=S.ba.S,se=te==B1||te==V1;S=S.ba.f.RGBA;var ie=[0],oe=g.ka;ie[0]=g.T,g.Kb&&(oe==0?--ie[0]:(--oe,X[0]-=g.width),g.j+g.ka+g.T==g.o&&(ie[0]=g.o-g.j-oe));var me=S.eb;oe=S.fb+oe*S.A,g=$n(q,X[0],g.width,ee,ie,me,oe+(se?0:3),S.A),e(M==ie),g&&ct(te)&&Aa(me,oe,se,ee,ie,S.A)}return 0}function kn(g){var S=g.ma,M=S.ba.S,q=11>M,X=M==O1||M==F1||M==B1||M==I_||M==12||ct(M);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Yg(S.Oa,g,X?11:12))return 0;if(X&&ct(M)&&et(),g.da)alert("todo:use_scaling");else{if(q){if(S.Ib=vt,g.Kb){if(M=g.U+1>>1,S.memory=i(g.U+2*M),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+g.U,S.Mc=S.cc,S.Nc=S.dc+M,S.Ib=Ut,et()}}else alert("todo:EmitYUV");X&&(S.Jb=ii,q&&be())}if(q&&!oC){for(g=0;256>g;++g)VQ[g]=89858*(g-128)+z1>>U1,$Q[g]=-22014*(g-128)+z1,zQ[g]=-45773*(g-128),UQ[g]=113618*(g-128)+z1>>U1;for(g=r0;g<B_;++g)S=76283*(g-16)+z1>>U1,qQ[g-r0]=gn(S,255),HQ[g-r0]=gn(S+8>>4,15);oC=1}return 1}function es(g){var S=g.ma,M=g.U,q=g.T;return e(!(1&g.ka)),0>=M||0>=q?0:(M=S.Ib(g,S),S.Jb!=null&&S.Jb(g,S,M),S.Dc+=M,1)}function Gi(g){g.ma.memory=null}function gt(g,S,M,q){return W(g,8)!=47?0:(S[0]=W(g,14)+1,M[0]=W(g,14)+1,q[0]=W(g,1),W(g,3)!=0?0:!g.h)}function _i(g,S){if(4>g)return g+1;var M=g-2>>1;return(2+(1&g)<<M)+W(S,M)+1}function Fr(g,S){return 120<S?S-120:1<=(M=((M=EQ[S-1])>>4)*g+(8-(15&M)))?M:1;var M}function Os(g,S,M){var q=G(M),X=g[S+=255&q].g-8;return 0<X&&(J(M,M.u+8),q=G(M),S+=g[S].value,S+=q&(1<<X)-1),J(M,M.u+g[S].g),g[S].value}function Ns(g,S,M){return M.g+=g.g,M.value+=g.value<<S>>>0,e(8>=M.g),g.g}function ds(g,S,M){var q=g.xc;return e((S=q==0?0:g.vc[g.md*(M>>q)+(S>>q)])<g.Wb),g.Ya[S]}function Fs(g,S,M,q){var X=g.ab,ee=g.c*S,te=g.C;S=te+S;var se=M,ie=q;for(q=g.Ta,M=g.Ua;0<X--;){var oe=g.gc[X],me=te,Se=S,je=se,ve=ie,Qe=(ie=q,se=M,oe.Ea);switch(e(me<Se),e(Se<=oe.nc),oe.hc){case 2:k1(je,ve,(Se-me)*Qe,ie,se);break;case 0:var De=me,pe=Se,ge=ie,qe=se,Ze=(ut=oe).Ea;De==0&&(P_(je,ve,null,null,1,ge,qe),Ge(je,ve+1,0,0,Ze-1,ge,qe+1),ve+=Ze,qe+=Ze,++De);for(var He=1<<ut.b,mt=He-1,ot=Je(Ze,ut.b),St=ut.K,ut=ut.w+(De>>ut.b)*ot;De<pe;){var dn=St,bn=ut,an=1;for(Jg(je,ve,ge,qe-Ze,1,ge,qe);an<Ze;){var Yt=(an&~mt)+He;Yt>Ze&&(Yt=Ze),(0,pu[dn[bn++]>>8&15])(je,ve+ +an,ge,qe+an-Ze,Yt-an,ge,qe+an),an=Yt}ve+=Ze,qe+=Ze,++De&mt||(ut+=ot)}Se!=oe.nc&&s(ie,se-Qe,ie,se+(Se-me-1)*Qe,Qe);break;case 1:for(Qe=je,pe=ve,Ze=(je=oe.Ea)-(qe=je&~(ge=(ve=1<<oe.b)-1)),De=Je(je,oe.b),He=oe.K,oe=oe.w+(me>>oe.b)*De;me<Se;){for(mt=He,ot=oe,St=new ke,ut=pe+qe,dn=pe+je;pe<ut;)xt(mt[ot++],St),bh(St,Qe,pe,ve,ie,se),pe+=ve,se+=ve;pe<dn&&(xt(mt[ot++],St),bh(St,Qe,pe,Ze,ie,se),pe+=Ze,se+=Ze),++me&ge||(oe+=De)}break;case 3:if(je==ie&&ve==se&&0<oe.b){for(pe=ie,je=Qe=se+(Se-me)*Qe-(qe=(Se-me)*Je(oe.Ea,oe.b)),ve=ie,ge=se,De=[],qe=(Ze=qe)-1;0<=qe;--qe)De[qe]=ve[ge+qe];for(qe=Ze-1;0<=qe;--qe)pe[je+qe]=De[qe];Sa(oe,me,Se,ie,Qe,ie,se)}else Sa(oe,me,Se,je,ve,ie,se)}se=q,ie=M}ie!=M&&s(q,M,se,ie,ee)}function Xc(g,S){var M=g.V,q=g.Ba+g.c*g.C,X=S-g.C;if(e(S<=g.l.o),e(16>=X),0<X){var ee=g.l,te=g.Ta,se=g.Ua,ie=ee.width;if(Fs(g,X,M,q),X=se=[se],e((M=g.C)<(q=S)),e(ee.v<ee.va),q>ee.o&&(q=ee.o),M<ee.j){var oe=ee.j-M;M=ee.j,X[0]+=oe*ie}if(M>=q?M=0:(X[0]+=4*ee.v,ee.ka=M-ee.j,ee.U=ee.va-ee.v,ee.T=q-M,M=1),M){if(se=se[0],11>(M=g.ca).S){var me=M.f.RGBA,Se=(q=M.S,X=ee.U,ee=ee.T,oe=me.eb,me.A),je=ee;for(me=me.fb+g.Ma*me.A;0<je--;){var ve=te,Qe=se,De=X,pe=oe,ge=me;switch(q){case D1:Ei(ve,Qe,De,pe,ge);break;case O1:ci(ve,Qe,De,pe,ge);break;case L_:ci(ve,Qe,De,pe,ge),Aa(pe,ge,0,De,1,0);break;case JT:Kl(ve,Qe,De,pe,ge);break;case F1:ft(ve,Qe,De,pe,ge,1);break;case M_:ft(ve,Qe,De,pe,ge,1),Aa(pe,ge,0,De,1,0);break;case B1:ft(ve,Qe,De,pe,ge,0);break;case V1:ft(ve,Qe,De,pe,ge,0),Aa(pe,ge,1,De,1,0);break;case I_:gu(ve,Qe,De,pe,ge);break;case D_:gu(ve,Qe,De,pe,ge),zn(pe,ge,De,1,0);break;case ZT:Yl(ve,Qe,De,pe,ge);break;default:e(0)}se+=ie,me+=Se}g.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=M.height)}}g.C=S,e(g.C<=g.i)}function Za(g){var S;if(0<g.ua)return 0;for(S=0;S<g.Wb;++S){var M=g.Ya[S].G,q=g.Ya[S].H;if(0<M[1][q[1]+0].g||0<M[2][q[2]+0].g||0<M[3][q[3]+0].g)return 0}return 1}function Br(g,S,M,q,X,ee){if(g.Z!=0){var te=g.qd,se=g.rd;for(e(vu[g.Z]!=null);S<M;++S)vu[g.Z](te,se,q,X,q,X,ee),te=q,se=X,X+=ee;g.qd=te,g.rd=se}}function Ni(g,S){var M=g.l.ma,q=M.Z==0||M.Z==1?g.l.j:g.C;if(q=g.C<q?q:g.C,e(S<=g.l.o),S>q){var X=g.l.width,ee=M.ca,te=M.tb+X*q,se=g.V,ie=g.Ba+g.c*q,oe=g.gc;e(g.ab==1),e(oe[0].hc==3),P1(oe[0],q,S,se,ie,ee,te),Br(M,q,S,ee,te,X)}g.C=g.Ma=S}function ai(g,S,M,q,X,ee,te){var se=g.$/q,ie=g.$%q,oe=g.m,me=g.s,Se=M+g.$,je=Se;X=M+q*X;var ve=M+q*ee,Qe=280+me.ua,De=g.Pb?se:16777216,pe=0<me.ua?me.Wa:null,ge=me.wc,qe=Se<ve?ds(me,ie,se):null;e(g.C<ee),e(ve<=X);var Ze=!1;e:for(;;){for(;Ze||Se<ve;){var He=0;if(se>=De){var mt=Se-M;e((De=g).Pb),De.wd=De.m,De.xd=mt,0<De.s.ua&&ye(De.s.Wa,De.s.vb),De=se+TQ}if(ie&ge||(qe=ds(me,ie,se)),e(qe!=null),qe.Qb&&(S[Se]=qe.qb,Ze=!0),!Ze)if(re(oe),qe.jc){He=oe,mt=S;var ot=Se,St=qe.pd[G(He)&Sr-1];e(qe.jc),256>St.g?(J(He,He.u+St.g),mt[ot]=St.value,He=0):(J(He,He.u+St.g-256),e(256<=St.value),He=St.value),He==0&&(Ze=!0)}else He=Os(qe.G[0],qe.H[0],oe);if(oe.h)break;if(Ze||256>He){if(!Ze)if(qe.nd)S[Se]=(qe.qb|He<<8)>>>0;else{if(re(oe),Ze=Os(qe.G[1],qe.H[1],oe),re(oe),mt=Os(qe.G[2],qe.H[2],oe),ot=Os(qe.G[3],qe.H[3],oe),oe.h)break;S[Se]=(ot<<24|Ze<<16|He<<8|mt)>>>0}if(Ze=!1,++Se,++ie>=q&&(ie=0,++se,te!=null&&se<=ee&&!(se%16)&&te(g,se),pe!=null))for(;je<Se;)He=S[je++],pe.X[(506832829*He&4294967295)>>>pe.Mb]=He}else if(280>He){if(He=_i(He-256,oe),mt=Os(qe.G[4],qe.H[4],oe),re(oe),mt=Fr(q,mt=_i(mt,oe)),oe.h)break;if(Se-M<mt||X-Se<He)break e;for(ot=0;ot<He;++ot)S[Se+ot]=S[Se+ot-mt];for(Se+=He,ie+=He;ie>=q;)ie-=q,++se,te!=null&&se<=ee&&!(se%16)&&te(g,se);if(e(Se<=X),ie&ge&&(qe=ds(me,ie,se)),pe!=null)for(;je<Se;)He=S[je++],pe.X[(506832829*He&4294967295)>>>pe.Mb]=He}else{if(!(He<Qe))break e;for(Ze=He-280,e(pe!=null);je<Se;)He=S[je++],pe.X[(506832829*He&4294967295)>>>pe.Mb]=He;He=Se,e(!(Ze>>>(mt=pe).Xa)),S[He]=mt.X[Ze],Ze=!0}Ze||e(oe.h==Y(oe))}if(g.Pb&&oe.h&&Se<X)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&ye(g.s.vb,g.s.Wa);else{if(oe.h)break e;te!=null&&te(g,se>ee?ee:se),g.a=0,g.$=Se-M}return 1}return g.a=3,0}function oi(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var S=g.Wa;S!=null&&(S.X=null),g.vb=null,e(g!=null)}function Ss(){var g=new pm;return g==null?null:(g.a=0,g.xb=nC,Ft("Predictor","VP8LPredictors"),Ft("Predictor","VP8LPredictors_C"),Ft("PredictorAdd","VP8LPredictorsAdd"),Ft("PredictorAdd","VP8LPredictorsAdd_C"),k1=rt,bh=Pe,Ei=Me,ci=st,gu=at,Yl=Et,Kl=Ce,w.VP8LMapColor32b=vm,w.VP8LMapColor8b=R1,g)}function Wi(g,S,M,q,X){var ee=1,te=[g],se=[S],ie=q.m,oe=q.s,me=null,Se=0;e:for(;;){if(M)for(;ee&&W(ie,1);){var je=te,ve=se,Qe=q,De=1,pe=Qe.m,ge=Qe.gc[Qe.ab],qe=W(pe,2);if(Qe.Oc&1<<qe)ee=0;else{switch(Qe.Oc|=1<<qe,ge.hc=qe,ge.Ea=je[0],ge.nc=ve[0],ge.K=[null],++Qe.ab,e(4>=Qe.ab),qe){case 0:case 1:ge.b=W(pe,3)+2,De=Wi(Je(ge.Ea,ge.b),Je(ge.nc,ge.b),0,Qe,ge.K),ge.K=ge.K[0];break;case 3:var Ze,He=W(pe,8)+1,mt=16<He?0:4<He?1:2<He?2:3;if(je[0]=Je(ge.Ea,mt),ge.b=mt,Ze=De=Wi(He,1,0,Qe,ge.K)){var ot,St=He,ut=ge,dn=1<<(8>>ut.b),bn=i(dn);if(bn==null)Ze=0;else{var an=ut.K[0],Yt=ut.w;for(bn[0]=ut.K[0][0],ot=1;ot<1*St;++ot)bn[ot]=Oe(an[Yt+ot],bn[ot-1]);for(;ot<4*dn;++ot)bn[ot]=0;ut.K[0]=null,ut.K[0]=bn,Ze=1}}De=Ze;break;case 2:break;default:e(0)}ee=De}}if(te=te[0],se=se[0],ee&&W(ie,1)&&!(ee=1<=(Se=W(ie,4))&&11>=Se)){q.a=3;break e}var Mn;if(Mn=ee)t:{var Pn,Bt,Bs,Ai=q,Vs=te,Ti=se,vn=Se,Zi=M,ea=Ai.m,lr=Ai.s,jr=[null],di=1,ka=0,el=AQ[vn];n:for(;;){if(Zi&&W(ea,1)){var cr=W(ea,3)+2,ec=Je(Vs,cr),Sh=Je(Ti,cr),jm=ec*Sh;if(!Wi(ec,Sh,0,Ai,jr))break n;for(jr=jr[0],lr.xc=cr,Pn=0;Pn<jm;++Pn){var wu=jr[Pn]>>8&65535;jr[Pn]=wu,wu>=di&&(di=wu+1)}}if(ea.h)break n;for(Bt=0;5>Bt;++Bt){var fs=eC[Bt];!Bt&&0<vn&&(fs+=1<<vn),ka<fs&&(ka=fs)}var V_=a(di*el,T),uC=di,dC=a(uC,z);if(dC==null)var q1=null;else e(65536>=uC),q1=dC;var i0=i(ka);if(q1==null||i0==null||V_==null){Ai.a=1;break n}var H1=V_;for(Pn=Bs=0;Pn<di;++Pn){var co=q1[Pn],Em=co.G,Am=co.H,hC=0,Q1=1,fC=0;for(Bt=0;5>Bt;++Bt){fs=eC[Bt],Em[Bt]=H1,Am[Bt]=Bs,!Bt&&0<vn&&(fs+=1<<vn);r:{var G1,U_=fs,W1=Ai,a0=i0,WQ=H1,YQ=Bs,z_=0,_u=W1.m,KQ=W(_u,1);if(r(a0,0,0,U_),KQ){var XQ=W(_u,1)+1,JQ=W(_u,1),mC=W(_u,JQ==0?1:8);a0[mC]=1,XQ==2&&(a0[mC=W(_u,8)]=1);var Y1=1}else{var pC=i(19),gC=W(_u,4)+4;if(19<gC){W1.a=3;var K1=0;break r}for(G1=0;G1<gC;++G1)pC[jQ[G1]]=W(_u,3);var $_=void 0,o0=void 0,yC=W1,ZQ=pC,X1=U_,xC=a0,q_=0,Nu=yC.m,bC=8,vC=a(128,T);s:for(;E(vC,0,7,ZQ,19);){if(W(Nu,1)){var eG=2+2*W(Nu,3);if(($_=2+W(Nu,eG))>X1)break s}else $_=X1;for(o0=0;o0<X1&&$_--;){re(Nu);var wC=vC[0+(127&G(Nu))];J(Nu,Nu.u+wC.g);var Tm=wC.value;if(16>Tm)xC[o0++]=Tm,Tm!=0&&(bC=Tm);else{var tG=Tm==16,_C=Tm-16,nG=NQ[_C],NC=W(Nu,_Q[_C])+nG;if(o0+NC>X1)break s;for(var sG=tG?bC:0;0<NC--;)xC[o0++]=sG}}q_=1;break s}q_||(yC.a=3),Y1=q_}(Y1=Y1&&!_u.h)&&(z_=E(WQ,YQ,8,a0,U_)),Y1&&z_!=0?K1=z_:(W1.a=3,K1=0)}if(K1==0)break n;if(Q1&&SQ[Bt]==1&&(Q1=H1[Bs].g==0),hC+=H1[Bs].g,Bs+=K1,3>=Bt){var l0,H_=i0[0];for(l0=1;l0<fs;++l0)i0[l0]>H_&&(H_=i0[l0]);fC+=H_}}if(co.nd=Q1,co.Qb=0,Q1&&(co.qb=(Em[3][Am[3]+0].value<<24|Em[1][Am[1]+0].value<<16|Em[2][Am[2]+0].value)>>>0,hC==0&&256>Em[0][Am[0]+0].value&&(co.Qb=1,co.qb+=Em[0][Am[0]+0].value<<8)),co.jc=!co.Qb&&6>fC,co.jc){var J1,tc=co;for(J1=0;J1<Sr;++J1){var Su=J1,ju=tc.pd[Su],Z1=tc.G[0][tc.H[0]+Su];256<=Z1.value?(ju.g=Z1.g+256,ju.value=Z1.value):(ju.g=0,ju.value=0,Su>>=Ns(Z1,8,ju),Su>>=Ns(tc.G[1][tc.H[1]+Su],16,ju),Su>>=Ns(tc.G[2][tc.H[2]+Su],0,ju),Ns(tc.G[3][tc.H[3]+Su],24,ju))}}}lr.vc=jr,lr.Wb=di,lr.Ya=q1,lr.yc=V_,Mn=1;break t}Mn=0}if(!(ee=Mn)){q.a=3;break e}if(0<Se){if(oe.ua=1<<Se,!Xe(oe.Wa,Se)){q.a=1,ee=0;break e}}else oe.ua=0;var Q_=q,SC=te,rG=se,G_=Q_.s,W_=G_.xc;if(Q_.c=SC,Q_.i=rG,G_.md=Je(SC,W_),G_.wc=W_==0?-1:(1<<W_)-1,M){q.xb=MQ;break e}if((me=i(te*se))==null){q.a=1,ee=0;break e}ee=(ee=ai(q,me,0,te,se,se,null))&&!ie.h;break e}return ee?(X!=null?X[0]=me:(e(me==null),e(M)),q.$=0,M||oi(oe)):oi(oe),ee}function zo(g,S){var M=g.c*g.i,q=M+S+16*S;return e(g.c<=S),g.V=i(q),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+M+S,1)}function $o(g,S){var M=g.C,q=S-M,X=g.V,ee=g.Ba+g.c*M;for(e(S<=g.l.o);0<q;){var te=16<q?16:q,se=g.l.ma,ie=g.l.width,oe=ie*te,me=se.ca,Se=se.tb+ie*M,je=g.Ta,ve=g.Ua;Fs(g,te,X,ee),Es(je,ve,me,Se,oe),Br(se,M,M+te,me,Se,ie),q-=te,X+=te*g.c,M+=te}e(M==S),g.C=g.Ma=S}function qo(){this.ub=this.yd=this.td=this.Rb=0}function Fl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bl(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function im(){this.Yb=function(){var g=[];return function S(M,q,X){for(var ee=X[q],te=0;te<ee&&(M.push(X.length>q+1?[]:0),!(X.length<q+1));te++)S(M[te],q+1,X)}(g,0,[3,11]),g}()}function Jc(){this.jb=i(3),this.Wc=l([4,8],im),this.Xc=l([4,17],im)}function am(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ho(){this.ld=this.La=this.dd=this.tc=0}function Qo(){this.Na=this.la=0}function eo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Hg(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ho),this.Y=0,this.ya=Array(new Vl),this.aa=0,this.l=new Ul}function ih(){this.y=i(16),this.f=i(8),this.ea=i(8)}function om(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new qo,this.Kc=new Fl,this.ed=new am,this.Qa=new Bl,this.Ic=this.$c=this.Aa=0,this.D=new Hg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Z),this.ia=0,this.pb=a(4,eo),this.Pa=new Jc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ih),this.Hd=0,this.rb=Array(new Qo),this.sb=0,this.wa=Array(new Ho),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vl),this.L=this.aa=0,this.gd=l([4,2],Ho),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ul(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ah(){var g=new om;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,s0||(s0=lm)),g}function Gn(g,S,M){return g.a==0&&(g.a=S,g.sc=M,g.cb=0),0}function oh(g,S,M){return 3<=M&&g[S+0]==157&&g[S+1]==1&&g[S+2]==42}function lh(g,S){if(g==null)return 0;if(g.a=0,g.sc="OK",S==null)return Gn(g,2,"null VP8Io passed to VP8GetHeaders()");var M=S.data,q=S.w,X=S.ha;if(4>X)return Gn(g,7,"Truncated header.");var ee=M[q+0]|M[q+1]<<8|M[q+2]<<16,te=g.Od;if(te.Rb=!(1&ee),te.td=ee>>1&7,te.yd=ee>>4&1,te.ub=ee>>5,3<te.td)return Gn(g,3,"Incorrect keyframe parameters.");if(!te.yd)return Gn(g,4,"Frame not displayable.");q+=3,X-=3;var se=g.Kc;if(te.Rb){if(7>X)return Gn(g,7,"cannot parse picture header");if(!oh(M,q,X))return Gn(g,3,"Bad code word");se.c=16383&(M[q+4]<<8|M[q+3]),se.Td=M[q+4]>>6,se.i=16383&(M[q+6]<<8|M[q+5]),se.Ud=M[q+6]>>6,q+=7,X-=7,g.za=se.c+15>>4,g.Ub=se.i+15>>4,S.width=se.c,S.height=se.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,r((ee=g.Pa).jb,0,255,ee.jb.length),e((ee=g.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,r(ee.Zb,0,0,ee.Zb.length),r(ee.Lb,0,0,ee.Lb)}if(te.ub>X)return Gn(g,7,"bad partition length");$(ee=g.m,M,q,te.ub),q+=te.ub,X-=te.ub,te.Rb&&(se.Ld=ue(ee),se.Kd=ue(ee)),se=g.Qa;var ie,oe=g.Pa;if(e(ee!=null),e(se!=null),se.Cb=ue(ee),se.Cb){if(se.Bb=ue(ee),ue(ee)){for(se.Fb=ue(ee),ie=0;4>ie;++ie)se.Zb[ie]=ue(ee)?F(ee,7):0;for(ie=0;4>ie;++ie)se.Lb[ie]=ue(ee)?F(ee,6):0}if(se.Bb)for(ie=0;3>ie;++ie)oe.jb[ie]=ue(ee)?O(ee,8):255}else se.Bb=0;if(ee.Ka)return Gn(g,3,"cannot parse segment header");if((se=g.ed).zd=ue(ee),se.Tb=O(ee,6),se.wb=O(ee,3),se.Pc=ue(ee),se.Pc&&ue(ee)){for(oe=0;4>oe;++oe)ue(ee)&&(se.vd[oe]=F(ee,6));for(oe=0;4>oe;++oe)ue(ee)&&(se.od[oe]=F(ee,6))}if(g.L=se.Tb==0?0:se.zd?1:2,ee.Ka)return Gn(g,3,"cannot parse filter header");var me=X;if(X=ie=q,q=ie+me,se=me,g.Xb=(1<<O(g.m,2))-1,me<3*(oe=g.Xb))M=7;else{for(ie+=3*oe,se-=3*oe,me=0;me<oe;++me){var Se=M[X+0]|M[X+1]<<8|M[X+2]<<16;Se>se&&(Se=se),$(g.Jc[+me],M,ie,Se),ie+=Se,se-=Se,X+=3}$(g.Jc[+oe],M,ie,se),M=ie<q?0:5}if(M!=0)return Gn(g,M,"cannot parse partitions");for(M=O(ie=g.m,7),X=ue(ie)?F(ie,4):0,q=ue(ie)?F(ie,4):0,se=ue(ie)?F(ie,4):0,oe=ue(ie)?F(ie,4):0,ie=ue(ie)?F(ie,4):0,me=g.Qa,Se=0;4>Se;++Se){if(me.Cb){var je=me.Zb[Se];me.Fb||(je+=M)}else{if(0<Se){g.pb[Se]=g.pb[0];continue}je=M}var ve=g.pb[Se];ve.Sc[0]=O_[gn(je+X,127)],ve.Sc[1]=F_[gn(je+0,127)],ve.Eb[0]=2*O_[gn(je+q,127)],ve.Eb[1]=101581*F_[gn(je+se,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=O_[gn(je+oe,117)],ve.Qc[1]=F_[gn(je+ie,127)],ve.lc=je+ie}if(!te.Rb)return Gn(g,4,"Not a key frame.");for(ue(ee),te=g.Pa,M=0;4>M;++M){for(X=0;8>X;++X)for(q=0;3>q;++q)for(se=0;11>se;++se)oe=de(ee,IQ[M][X][q][se])?O(ee,8):PQ[M][X][q][se],te.Wc[M][X].Yb[q][se]=oe;for(X=0;17>X;++X)te.Xc[M][X]=te.Wc[M][LQ[X]]}return g.kc=ue(ee),g.kc&&(g.Bd=O(ee,8)),g.cb=1}function lm(g,S,M,q,X,ee,te){var se=S[X].Yb[M];for(M=0;16>X;++X){if(!de(g,se[M+0]))return X;for(;!de(g,se[M+1]);)if(se=S[++X].Yb[0],M=0,X==16)return 16;var ie=S[X+1].Yb;if(de(g,se[M+2])){var oe=g,me=0;if(de(oe,(je=se)[(Se=M)+3]))if(de(oe,je[Se+6])){for(se=0,Se=2*(me=de(oe,je[Se+8]))+(je=de(oe,je[Se+9+me])),me=0,je=CQ[Se];je[se];++se)me+=me+de(oe,je[se]);me+=3+(8<<Se)}else de(oe,je[Se+7])?(me=7+2*de(oe,165),me+=de(oe,145)):me=5+de(oe,159);else me=de(oe,je[Se+4])?3+de(oe,je[Se+5]):2;se=ie[2]}else me=1,se=ie[1];ie=te+kQ[X],0>(oe=g).b&&le(oe);var Se,je=oe.b,ve=(Se=oe.Ca>>1)-(oe.I>>je)>>31;--oe.b,oe.Ca+=ve,oe.Ca|=1,oe.I-=(Se+1&ve)<<je,ee[ie]=((me^ve)-ve)*q[(0<X)+0]}return 16}function ch(g){var S=g.rb[g.sb-1];S.la=0,S.Na=0,r(g.zc,0,0,g.zc.length),g.ja=0}function cm(g,S){if(g==null)return 0;if(S==null)return Gn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!lh(g,S))return 0;if(e(g.cb),S.ac==null||S.ac(S)){S.ob&&(g.L=0);var M=$1[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=S.v-M>>4,g.zb=S.j-M>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=S.o+15+M>>4,g.Hb=S.va+15+M>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var q=g.ed;for(M=0;4>M;++M){var X;if(g.Qa.Cb){var ee=g.Qa.Lb[M];g.Qa.Fb||(ee+=q.Tb)}else ee=q.Tb;for(X=0;1>=X;++X){var te=g.gd[M][X],se=ee;if(q.Pc&&(se+=q.vd[0],X&&(se+=q.od[0])),0<(se=0>se?0:63<se?63:se)){var ie=se;0<q.wb&&(ie=4<q.wb?ie>>2:ie>>1)>9-q.wb&&(ie=9-q.wb),1>ie&&(ie=1),te.dd=ie,te.tc=2*se+ie,te.ld=40<=se?2:15<=se?1:0}else te.tc=0;te.La=X}}}M=0}else Gn(g,6,"Frame setup failed"),M=g.a;if(M=M==0){if(M){g.$c=0,0<g.Aa||(g.Ic=GQ);e:{M=g.Ic,q=4*(ie=g.za);var oe=32*ie,me=ie+1,Se=0<g.L?ie*(0<g.Aa?2:1):0,je=(g.Aa==2?2:1)*ie;if((te=q+832+(X=3*(16*M+$1[g.L])/2*oe)+(ee=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=te)M=0;else{if(te>g.Vb){if(g.Vb=0,g.Ec=i(te),g.Fc=0,g.Ec==null){M=Gn(g,1,"no memory during frame initialization.");break e}g.Vb=te}te=g.Ec,se=g.Fc,g.Ac=te,g.Bc=se,se+=q,g.Gd=a(oe,ih),g.Hd=0,g.rb=a(me+1,Qo),g.sb=1,g.wa=Se?a(Se,Ho):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ie),e(!0),g.oc=te,g.pc=se,se+=832,g.ya=a(je,Vl),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ie),g.R=16*ie,g.B=8*ie,ie=(oe=$1[g.L])*g.R,oe=oe/2*g.B,g.sa=te,g.ta=se+ie,g.qa=g.sa,g.ra=g.ta+16*M*g.R+oe,g.Ha=g.qa,g.Ia=g.ra+8*M*g.B+oe,g.$c=0,se+=X,g.mb=ee?te:null,g.nb=ee?se:null,e(se+ee<=g.Fc+g.Vb),ch(g),r(g.Ac,g.Bc,0,q),M=1}}if(M){if(S.ka=0,S.y=g.sa,S.O=g.ta,S.f=g.qa,S.N=g.ra,S.ea=g.Ha,S.Vd=g.Ia,S.fa=g.R,S.Rc=g.B,S.F=null,S.J=0,!L1){for(M=-255;255>=M;++M)Js[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)Jl[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)n0[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Sm[255+M]=0>M?0:255<M?255:M;L1=1}wm=ql,Xl=eu,Zg=uh,ui=xn,ja=$l,js=zl,_m=ou,I1=io,e0=cu,vh=xh,wh=lu,yu=Ql,_h=uu,Nm=Ko,Nh=Hl,xu=Xi,t0=Xs,Ea=mm,lo[0]=Na,lo[1]=Qg,lo[2]=Wo,lo[3]=Wg,lo[4]=hm,lo[5]=su,lo[6]=Yi,lo[7]=hh,lo[8]=iu,lo[9]=ru,bu[0]=Go,bu[1]=Gg,bu[2]=no,bu[3]=tu,bu[4]=Wn,bu[5]=dm,bu[6]=dh,Zl[0]=ro,Zl[1]=um,Zl[2]=fm,Zl[3]=so,Zl[4]=pn,Zl[5]=fh,Zl[6]=mh,M=1}else M=0}M&&(M=function(ve,Qe){for(ve.M=0;ve.M<ve.Va;++ve.M){var De,pe=ve.Jc[ve.M&ve.Xb],ge=ve.m,qe=ve;for(De=0;De<qe.za;++De){var Ze=ge,He=qe,mt=He.Ac,ot=He.Bc+4*De,St=He.zc,ut=He.ya[He.aa+De];if(He.Qa.Bb?ut.$b=de(Ze,He.Pa.jb[0])?2+de(Ze,He.Pa.jb[2]):de(Ze,He.Pa.jb[1]):ut.$b=0,He.kc&&(ut.Ad=de(Ze,He.Bd)),ut.Za=!de(Ze,145)+0,ut.Za){var dn=ut.Ob,bn=0;for(He=0;4>He;++He){var an,Yt=St[0+He];for(an=0;4>an;++an){Yt=RQ[mt[ot+an]][Yt];for(var Mn=tC[de(Ze,Yt[0])];0<Mn;)Mn=tC[2*Mn+de(Ze,Yt[Mn])];Yt=-Mn,mt[ot+an]=Yt}s(dn,bn,mt,ot,4),bn+=4,St[0+He]=Yt}}else Yt=de(Ze,156)?de(Ze,128)?1:3:de(Ze,163)?2:0,ut.Ob[0]=Yt,r(mt,ot,Yt,4),r(St,0,Yt,4);ut.Dd=de(Ze,142)?de(Ze,114)?de(Ze,183)?1:3:2:0}if(qe.m.Ka)return Gn(ve,7,"Premature end-of-partition0 encountered.");for(;ve.ja<ve.za;++ve.ja){if(qe=pe,Ze=(ge=ve).rb[ge.sb-1],mt=ge.rb[ge.sb+ge.ja],De=ge.ya[ge.aa+ge.ja],ot=ge.kc?De.Ad:0)Ze.la=mt.la=0,De.Za||(Ze.Na=mt.Na=0),De.Hc=0,De.Gc=0,De.ia=0;else{var Pn,Bt;if(Ze=mt,mt=qe,ot=ge.Pa.Xc,St=ge.ya[ge.aa+ge.ja],ut=ge.pb[St.$b],He=St.ad,dn=0,bn=ge.rb[ge.sb-1],Yt=an=0,r(He,dn,0,384),St.Za)var Bs=0,Ai=ot[3];else{Mn=i(16);var Vs=Ze.Na+bn.Na;if(Vs=s0(mt,ot[1],Vs,ut.Eb,0,Mn,0),Ze.Na=bn.Na=(0<Vs)+0,1<Vs)wm(Mn,0,He,dn);else{var Ti=Mn[0]+3>>3;for(Mn=0;256>Mn;Mn+=16)He[dn+Mn]=Ti}Bs=1,Ai=ot[0]}var vn=15&Ze.la,Zi=15&bn.la;for(Mn=0;4>Mn;++Mn){var ea=1&Zi;for(Ti=Bt=0;4>Ti;++Ti)vn=vn>>1|(ea=(Vs=s0(mt,Ai,Vs=ea+(1&vn),ut.Sc,Bs,He,dn))>Bs)<<7,Bt=Bt<<2|(3<Vs?3:1<Vs?2:He[dn+0]!=0),dn+=16;vn>>=4,Zi=Zi>>1|ea<<7,an=(an<<8|Bt)>>>0}for(Ai=vn,Bs=Zi>>4,Pn=0;4>Pn;Pn+=2){for(Bt=0,vn=Ze.la>>4+Pn,Zi=bn.la>>4+Pn,Mn=0;2>Mn;++Mn){for(ea=1&Zi,Ti=0;2>Ti;++Ti)Vs=ea+(1&vn),vn=vn>>1|(ea=0<(Vs=s0(mt,ot[2],Vs,ut.Qc,0,He,dn)))<<3,Bt=Bt<<2|(3<Vs?3:1<Vs?2:He[dn+0]!=0),dn+=16;vn>>=2,Zi=Zi>>1|ea<<5}Yt|=Bt<<4*Pn,Ai|=vn<<4<<Pn,Bs|=(240&Zi)<<Pn}Ze.la=Ai,bn.la=Bs,St.Hc=an,St.Gc=Yt,St.ia=43690&Yt?0:ut.ia,ot=!(an|Yt)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[De.$b][De.Za],ge.wa[ge.Y+ge.ja].La|=!ot),qe.Ka)return Gn(ve,7,"Premature end-of-file encountered.")}if(ch(ve),ge=Qe,qe=1,De=(pe=ve).D,Ze=0<pe.L&&pe.M>=pe.zb&&pe.M<=pe.Va,pe.Aa==0)e:{if(De.M=pe.M,De.uc=Ze,Jo(pe,De),qe=1,De=(Bt=pe.D).Nb,Ze=(Yt=$1[pe.L])*pe.R,mt=Yt/2*pe.B,Mn=16*De*pe.R,Ti=8*De*pe.B,ot=pe.sa,St=pe.ta-Ze+Mn,ut=pe.qa,He=pe.ra-mt+Ti,dn=pe.Ha,bn=pe.Ia-mt+Ti,Zi=(vn=Bt.M)==0,an=vn>=pe.Va-1,pe.Aa==2&&Jo(pe,Bt),Bt.uc)for(ea=(Vs=pe).D.M,e(Vs.D.uc),Bt=Vs.yb;Bt<Vs.Hb;++Bt){Bs=Bt,Ai=ea;var lr=(jr=(fs=Vs).D).Nb;Pn=fs.R;var jr=jr.wa[jr.Y+Bs],di=fs.sa,ka=fs.ta+16*lr*Pn+16*Bs,el=jr.dd,cr=jr.tc;if(cr!=0)if(e(3<=cr),fs.L==1)0<Bs&&xu(di,ka,Pn,cr+4),jr.La&&Ea(di,ka,Pn,cr),0<Ai&&Nh(di,ka,Pn,cr+4),jr.La&&t0(di,ka,Pn,cr);else{var ec=fs.B,Sh=fs.qa,jm=fs.ra+8*lr*ec+8*Bs,wu=fs.Ha,fs=fs.Ia+8*lr*ec+8*Bs;lr=jr.ld,0<Bs&&(I1(di,ka,Pn,cr+4,el,lr),vh(Sh,jm,wu,fs,ec,cr+4,el,lr)),jr.La&&(yu(di,ka,Pn,cr,el,lr),Nm(Sh,jm,wu,fs,ec,cr,el,lr)),0<Ai&&(_m(di,ka,Pn,cr+4,el,lr),e0(Sh,jm,wu,fs,ec,cr+4,el,lr)),jr.La&&(wh(di,ka,Pn,cr,el,lr),_h(Sh,jm,wu,fs,ec,cr,el,lr))}}if(pe.ia&&alert("todo:DitherRow"),ge.put!=null){if(Bt=16*vn,vn=16*(vn+1),Zi?(ge.y=pe.sa,ge.O=pe.ta+Mn,ge.f=pe.qa,ge.N=pe.ra+Ti,ge.ea=pe.Ha,ge.W=pe.Ia+Ti):(Bt-=Yt,ge.y=ot,ge.O=St,ge.f=ut,ge.N=He,ge.ea=dn,ge.W=bn),an||(vn-=Yt),vn>ge.o&&(vn=ge.o),ge.F=null,ge.J=null,pe.Fa!=null&&0<pe.Fa.length&&Bt<vn&&(ge.J=mu(pe,ge,Bt,vn-Bt),ge.F=pe.mb,ge.F==null&&ge.F.length==0)){qe=Gn(pe,3,"Could not decode alpha data.");break e}Bt<ge.j&&(Yt=ge.j-Bt,Bt=ge.j,e(!(1&Yt)),ge.O+=pe.R*Yt,ge.N+=pe.B*(Yt>>1),ge.W+=pe.B*(Yt>>1),ge.F!=null&&(ge.J+=ge.width*Yt)),Bt<vn&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Bt-ge.j,ge.U=ge.va-ge.v,ge.T=vn-Bt,qe=ge.put(ge))}De+1!=pe.Ic||an||(s(pe.sa,pe.ta-Ze,ot,St+16*pe.R,Ze),s(pe.qa,pe.ra-mt,ut,He+8*pe.B,mt),s(pe.Ha,pe.Ia-mt,dn,bn+8*pe.B,mt))}if(!qe)return Gn(ve,6,"Output aborted.")}return 1}(g,S)),S.bc!=null&&S.bc(S),M&=1}return M?(g.cb=0,M):0}function Si(g,S,M,q,X){X=g[S+M+32*q]+(X>>3),g[S+M+32*q]=-256&X?0>X?0:255:X}function Zc(g,S,M,q,X,ee){Si(g,S,0,M,q+X),Si(g,S,1,M,q+ee),Si(g,S,2,M,q-ee),Si(g,S,3,M,q-X)}function hs(g){return(20091*g>>16)+g}function li(g,S,M,q){var X,ee=0,te=i(16);for(X=0;4>X;++X){var se=g[S+0]+g[S+8],ie=g[S+0]-g[S+8],oe=(35468*g[S+4]>>16)-hs(g[S+12]),me=hs(g[S+4])+(35468*g[S+12]>>16);te[ee+0]=se+me,te[ee+1]=ie+oe,te[ee+2]=ie-oe,te[ee+3]=se-me,ee+=4,S++}for(X=ee=0;4>X;++X)se=(g=te[ee+0]+4)+te[ee+8],ie=g-te[ee+8],oe=(35468*te[ee+4]>>16)-hs(te[ee+12]),Si(M,q,0,0,se+(me=hs(te[ee+4])+(35468*te[ee+12]>>16))),Si(M,q,1,0,ie+oe),Si(M,q,2,0,ie-oe),Si(M,q,3,0,se-me),ee++,q+=32}function zl(g,S,M,q){var X=g[S+0]+4,ee=35468*g[S+4]>>16,te=hs(g[S+4]),se=35468*g[S+1]>>16;Zc(M,q,0,X+te,g=hs(g[S+1]),se),Zc(M,q,1,X+ee,g,se),Zc(M,q,2,X-ee,g,se),Zc(M,q,3,X-te,g,se)}function eu(g,S,M,q,X){li(g,S,M,q),X&&li(g,S+16,M,q+4)}function uh(g,S,M,q){Xl(g,S+0,M,q,1),Xl(g,S+32,M,q+128,1)}function xn(g,S,M,q){var X;for(g=g[S+0]+4,X=0;4>X;++X)for(S=0;4>S;++S)Si(M,q,S,X,g)}function $l(g,S,M,q){g[S+0]&&ui(g,S+0,M,q),g[S+16]&&ui(g,S+16,M,q+4),g[S+32]&&ui(g,S+32,M,q+128),g[S+48]&&ui(g,S+48,M,q+128+4)}function ql(g,S,M,q){var X,ee=i(16);for(X=0;4>X;++X){var te=g[S+0+X]+g[S+12+X],se=g[S+4+X]+g[S+8+X],ie=g[S+4+X]-g[S+8+X],oe=g[S+0+X]-g[S+12+X];ee[0+X]=te+se,ee[8+X]=te-se,ee[4+X]=oe+ie,ee[12+X]=oe-ie}for(X=0;4>X;++X)te=(g=ee[0+4*X]+3)+ee[3+4*X],se=ee[1+4*X]+ee[2+4*X],ie=ee[1+4*X]-ee[2+4*X],oe=g-ee[3+4*X],M[q+0]=te+se>>3,M[q+16]=oe+ie>>3,M[q+32]=te-se>>3,M[q+48]=oe-ie>>3,q+=64}function to(g,S,M){var q,X=S-32,ee=Ji,te=255-g[X-1];for(q=0;q<M;++q){var se,ie=ee,oe=te+g[S-1];for(se=0;se<M;++se)g[S+se]=ie[oe+g[X+se]];S+=32}}function Qg(g,S){to(g,S,4)}function um(g,S){to(g,S,8)}function Gg(g,S){to(g,S,16)}function no(g,S){var M;for(M=0;16>M;++M)s(g,S+32*M,g,S-32,16)}function tu(g,S){var M;for(M=16;0<M;--M)r(g,S,g[S-1],16),S+=32}function nu(g,S,M){var q;for(q=0;16>q;++q)r(S,M+32*q,g,16)}function Go(g,S){var M,q=16;for(M=0;16>M;++M)q+=g[S-1+32*M]+g[S+M-32];nu(q>>5,g,S)}function Wn(g,S){var M,q=8;for(M=0;16>M;++M)q+=g[S-1+32*M];nu(q>>4,g,S)}function dm(g,S){var M,q=8;for(M=0;16>M;++M)q+=g[S+M-32];nu(q>>4,g,S)}function dh(g,S){nu(128,g,S)}function kt(g,S,M){return g+2*S+M+2>>2}function Wo(g,S){var M,q=S-32;for(q=new Uint8Array([kt(g[q-1],g[q+0],g[q+1]),kt(g[q+0],g[q+1],g[q+2]),kt(g[q+1],g[q+2],g[q+3]),kt(g[q+2],g[q+3],g[q+4])]),M=0;4>M;++M)s(g,S+32*M,q,0,q.length)}function Wg(g,S){var M=g[S-1],q=g[S-1+32],X=g[S-1+64],ee=g[S-1+96];_e(g,S+0,16843009*kt(g[S-1-32],M,q)),_e(g,S+32,16843009*kt(M,q,X)),_e(g,S+64,16843009*kt(q,X,ee)),_e(g,S+96,16843009*kt(X,ee,ee))}function Na(g,S){var M,q=4;for(M=0;4>M;++M)q+=g[S+M-32]+g[S-1+32*M];for(q>>=3,M=0;4>M;++M)r(g,S+32*M,q,4)}function hm(g,S){var M=g[S-1+0],q=g[S-1+32],X=g[S-1+64],ee=g[S-1-32],te=g[S+0-32],se=g[S+1-32],ie=g[S+2-32],oe=g[S+3-32];g[S+0+96]=kt(q,X,g[S-1+96]),g[S+1+96]=g[S+0+64]=kt(M,q,X),g[S+2+96]=g[S+1+64]=g[S+0+32]=kt(ee,M,q),g[S+3+96]=g[S+2+64]=g[S+1+32]=g[S+0+0]=kt(te,ee,M),g[S+3+64]=g[S+2+32]=g[S+1+0]=kt(se,te,ee),g[S+3+32]=g[S+2+0]=kt(ie,se,te),g[S+3+0]=kt(oe,ie,se)}function Yi(g,S){var M=g[S+1-32],q=g[S+2-32],X=g[S+3-32],ee=g[S+4-32],te=g[S+5-32],se=g[S+6-32],ie=g[S+7-32];g[S+0+0]=kt(g[S+0-32],M,q),g[S+1+0]=g[S+0+32]=kt(M,q,X),g[S+2+0]=g[S+1+32]=g[S+0+64]=kt(q,X,ee),g[S+3+0]=g[S+2+32]=g[S+1+64]=g[S+0+96]=kt(X,ee,te),g[S+3+32]=g[S+2+64]=g[S+1+96]=kt(ee,te,se),g[S+3+64]=g[S+2+96]=kt(te,se,ie),g[S+3+96]=kt(se,ie,ie)}function su(g,S){var M=g[S-1+0],q=g[S-1+32],X=g[S-1+64],ee=g[S-1-32],te=g[S+0-32],se=g[S+1-32],ie=g[S+2-32],oe=g[S+3-32];g[S+0+0]=g[S+1+64]=ee+te+1>>1,g[S+1+0]=g[S+2+64]=te+se+1>>1,g[S+2+0]=g[S+3+64]=se+ie+1>>1,g[S+3+0]=ie+oe+1>>1,g[S+0+96]=kt(X,q,M),g[S+0+64]=kt(q,M,ee),g[S+0+32]=g[S+1+96]=kt(M,ee,te),g[S+1+32]=g[S+2+96]=kt(ee,te,se),g[S+2+32]=g[S+3+96]=kt(te,se,ie),g[S+3+32]=kt(se,ie,oe)}function hh(g,S){var M=g[S+0-32],q=g[S+1-32],X=g[S+2-32],ee=g[S+3-32],te=g[S+4-32],se=g[S+5-32],ie=g[S+6-32],oe=g[S+7-32];g[S+0+0]=M+q+1>>1,g[S+1+0]=g[S+0+64]=q+X+1>>1,g[S+2+0]=g[S+1+64]=X+ee+1>>1,g[S+3+0]=g[S+2+64]=ee+te+1>>1,g[S+0+32]=kt(M,q,X),g[S+1+32]=g[S+0+96]=kt(q,X,ee),g[S+2+32]=g[S+1+96]=kt(X,ee,te),g[S+3+32]=g[S+2+96]=kt(ee,te,se),g[S+3+64]=kt(te,se,ie),g[S+3+96]=kt(se,ie,oe)}function ru(g,S){var M=g[S-1+0],q=g[S-1+32],X=g[S-1+64],ee=g[S-1+96];g[S+0+0]=M+q+1>>1,g[S+2+0]=g[S+0+32]=q+X+1>>1,g[S+2+32]=g[S+0+64]=X+ee+1>>1,g[S+1+0]=kt(M,q,X),g[S+3+0]=g[S+1+32]=kt(q,X,ee),g[S+3+32]=g[S+1+64]=kt(X,ee,ee),g[S+3+64]=g[S+2+64]=g[S+0+96]=g[S+1+96]=g[S+2+96]=g[S+3+96]=ee}function iu(g,S){var M=g[S-1+0],q=g[S-1+32],X=g[S-1+64],ee=g[S-1+96],te=g[S-1-32],se=g[S+0-32],ie=g[S+1-32],oe=g[S+2-32];g[S+0+0]=g[S+2+32]=M+te+1>>1,g[S+0+32]=g[S+2+64]=q+M+1>>1,g[S+0+64]=g[S+2+96]=X+q+1>>1,g[S+0+96]=ee+X+1>>1,g[S+3+0]=kt(se,ie,oe),g[S+2+0]=kt(te,se,ie),g[S+1+0]=g[S+3+32]=kt(M,te,se),g[S+1+32]=g[S+3+64]=kt(q,M,te),g[S+1+64]=g[S+3+96]=kt(X,q,M),g[S+1+96]=kt(ee,X,q)}function fm(g,S){var M;for(M=0;8>M;++M)s(g,S+32*M,g,S-32,8)}function so(g,S){var M;for(M=0;8>M;++M)r(g,S,g[S-1],8),S+=32}function Ki(g,S,M){var q;for(q=0;8>q;++q)r(S,M+32*q,g,8)}function ro(g,S){var M,q=8;for(M=0;8>M;++M)q+=g[S+M-32]+g[S-1+32*M];Ki(q>>4,g,S)}function fh(g,S){var M,q=4;for(M=0;8>M;++M)q+=g[S+M-32];Ki(q>>3,g,S)}function pn(g,S){var M,q=4;for(M=0;8>M;++M)q+=g[S-1+32*M];Ki(q>>3,g,S)}function mh(g,S){Ki(128,g,S)}function au(g,S,M){var q=g[S-M],X=g[S+0],ee=3*(X-q)+R_[1020+g[S-2*M]-g[S+M]],te=M1[112+(ee+4>>3)];g[S-M]=Ji[255+q+M1[112+(ee+3>>3)]],g[S+0]=Ji[255+X-te]}function ph(g,S,M,q){var X=g[S+0],ee=g[S+M];return Ta[255+g[S-2*M]-g[S-M]]>q||Ta[255+ee-X]>q}function gh(g,S,M,q){return 4*Ta[255+g[S-M]-g[S+0]]+Ta[255+g[S-2*M]-g[S+M]]<=q}function yh(g,S,M,q,X){var ee=g[S-3*M],te=g[S-2*M],se=g[S-M],ie=g[S+0],oe=g[S+M],me=g[S+2*M],Se=g[S+3*M];return 4*Ta[255+se-ie]+Ta[255+te-oe]>q?0:Ta[255+g[S-4*M]-ee]<=X&&Ta[255+ee-te]<=X&&Ta[255+te-se]<=X&&Ta[255+Se-me]<=X&&Ta[255+me-oe]<=X&&Ta[255+oe-ie]<=X}function Hl(g,S,M,q){var X=2*q+1;for(q=0;16>q;++q)gh(g,S+q,M,X)&&au(g,S+q,M)}function Xi(g,S,M,q){var X=2*q+1;for(q=0;16>q;++q)gh(g,S+q*M,1,X)&&au(g,S+q*M,1)}function Xs(g,S,M,q){var X;for(X=3;0<X;--X)Hl(g,S+=4*M,M,q)}function mm(g,S,M,q){var X;for(X=3;0<X;--X)Xi(g,S+=4,M,q)}function Yo(g,S,M,q,X,ee,te,se){for(ee=2*ee+1;0<X--;){if(yh(g,S,M,ee,te))if(ph(g,S,M,se))au(g,S,M);else{var ie=g,oe=S,me=M,Se=ie[oe-2*me],je=ie[oe-me],ve=ie[oe+0],Qe=ie[oe+me],De=ie[oe+2*me],pe=27*(qe=R_[1020+3*(ve-je)+R_[1020+Se-Qe]])+63>>7,ge=18*qe+63>>7,qe=9*qe+63>>7;ie[oe-3*me]=Ji[255+ie[oe-3*me]+qe],ie[oe-2*me]=Ji[255+Se+ge],ie[oe-me]=Ji[255+je+pe],ie[oe+0]=Ji[255+ve-pe],ie[oe+me]=Ji[255+Qe-ge],ie[oe+2*me]=Ji[255+De-qe]}S+=q}}function _r(g,S,M,q,X,ee,te,se){for(ee=2*ee+1;0<X--;){if(yh(g,S,M,ee,te))if(ph(g,S,M,se))au(g,S,M);else{var ie=g,oe=S,me=M,Se=ie[oe-me],je=ie[oe+0],ve=ie[oe+me],Qe=M1[112+((De=3*(je-Se))+4>>3)],De=M1[112+(De+3>>3)],pe=Qe+1>>1;ie[oe-2*me]=Ji[255+ie[oe-2*me]+pe],ie[oe-me]=Ji[255+Se+De],ie[oe+0]=Ji[255+je-Qe],ie[oe+me]=Ji[255+ve-pe]}S+=q}}function ou(g,S,M,q,X,ee){Yo(g,S,M,1,16,q,X,ee)}function io(g,S,M,q,X,ee){Yo(g,S,1,M,16,q,X,ee)}function lu(g,S,M,q,X,ee){var te;for(te=3;0<te;--te)_r(g,S+=4*M,M,1,16,q,X,ee)}function Ql(g,S,M,q,X,ee){var te;for(te=3;0<te;--te)_r(g,S+=4,1,M,16,q,X,ee)}function cu(g,S,M,q,X,ee,te,se){Yo(g,S,X,1,8,ee,te,se),Yo(M,q,X,1,8,ee,te,se)}function xh(g,S,M,q,X,ee,te,se){Yo(g,S,1,X,8,ee,te,se),Yo(M,q,1,X,8,ee,te,se)}function uu(g,S,M,q,X,ee,te,se){_r(g,S+4*X,X,1,8,ee,te,se),_r(M,q+4*X,X,1,8,ee,te,se)}function Ko(g,S,M,q,X,ee,te,se){_r(g,S+4,1,X,8,ee,te,se),_r(M,q+4,1,X,8,ee,te,se)}function Gl(){this.ba=new Ks,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new en,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function du(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Wl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hu(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new T}function pm(){this.xb=this.a=0,this.l=new Ul,this.ca=new Ks,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hu,this.ab=0,this.gc=a(4,Wl),this.Oc=0}function ao(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ul,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xo(g,S,M,q,X,ee,te){for(g=g==null?0:g[S+0],S=0;S<te;++S)X[ee+S]=g+M[q+S]&255,g=X[ee+S]}function fu(g,S,M,q,X,ee,te){var se;if(g==null)Xo(null,null,M,q,X,ee,te);else for(se=0;se<te;++se)X[ee+se]=g[S+se]+M[q+se]&255}function Vr(g,S,M,q,X,ee,te){if(g==null)Xo(null,null,M,q,X,ee,te);else{var se,ie=g[S+0],oe=ie,me=ie;for(se=0;se<te;++se)oe=me+(ie=g[S+se])-oe,me=M[q+se]+(-256&oe?0>oe?0:255:oe)&255,oe=ie,X[ee+se]=me}}function mu(g,S,M,q){var X=S.width,ee=S.o;if(e(g!=null&&S!=null),0>M||0>=q||M+q>ee)return null;if(!g.Cc){if(g.ga==null){var te;if(g.ga=new ao,(te=g.ga==null)||(te=S.width*S.o,e(g.Gb.length==0),g.Gb=i(te),g.Uc=0,g.Gb==null?te=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,te=1),te=!te),!te){te=g.ga;var se=g.Fa,ie=g.P,oe=g.qc,me=g.mb,Se=g.nb,je=ie+1,ve=oe-1,Qe=te.l;if(e(se!=null&&me!=null&&S!=null),vu[0]=null,vu[1]=Xo,vu[2]=fu,vu[3]=Vr,te.ca=me,te.tb=Se,te.c=S.width,te.i=S.height,e(0<te.c&&0<te.i),1>=oe)S=0;else if(te.$a=se[ie+0]>>0&3,te.Z=se[ie+0]>>2&3,te.Lc=se[ie+0]>>4&3,ie=se[ie+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ie)S=0;else if(Qe.put=es,Qe.ac=kn,Qe.bc=Gi,Qe.ma=te,Qe.width=S.width,Qe.height=S.height,Qe.Da=S.Da,Qe.v=S.v,Qe.va=S.va,Qe.j=S.j,Qe.o=S.o,te.$a)e:{e(te.$a==1),S=Ss();t:for(;;){if(S==null){S=0;break e}if(e(te!=null),te.mc=S,S.c=te.c,S.i=te.i,S.l=te.l,S.l.ma=te,S.l.width=te.c,S.l.height=te.i,S.a=0,Q(S.m,se,je,ve),!Wi(te.c,te.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Za(S.s)?(te.ic=1,se=S.c*S.i,S.Ta=null,S.Ua=0,S.V=i(se),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(te.ic=0,S=zo(S,te.c)),!S))break t;S=1;break e}te.mc=null,S=0}else S=ve>=te.c*te.i;te=!S}if(te)return null;g.ga.Lc!=1?g.Ga=0:q=ee-M}e(g.ga!=null),e(M+q<=ee);e:{if(S=(se=g.ga).c,ee=se.l.o,se.$a==0){if(je=g.rc,ve=g.Vc,Qe=g.Fa,ie=g.P+1+M*S,oe=g.mb,me=g.nb+M*S,e(ie<=g.P+g.qc),se.Z!=0)for(e(vu[se.Z]!=null),te=0;te<q;++te)vu[se.Z](je,ve,Qe,ie,oe,me,S),je=oe,ve=me,me+=S,ie+=S;else for(te=0;te<q;++te)s(oe,me,Qe,ie,S),je=oe,ve=me,me+=S,ie+=S;g.rc=je,g.Vc=ve}else{if(e(se.mc!=null),S=M+q,e((te=se.mc)!=null),e(S<=te.i),te.C>=S)S=1;else if(se.ic||be(),se.ic){se=te.V,je=te.Ba,ve=te.c;var De=te.i,pe=(Qe=1,ie=te.$/ve,oe=te.$%ve,me=te.m,Se=te.s,te.$),ge=ve*De,qe=ve*S,Ze=Se.wc,He=pe<qe?ds(Se,oe,ie):null;e(pe<=ge),e(S<=De),e(Za(Se));t:for(;;){for(;!me.h&&pe<qe;){if(oe&Ze||(He=ds(Se,oe,ie)),e(He!=null),re(me),256>(De=Os(He.G[0],He.H[0],me)))se[je+pe]=De,++pe,++oe>=ve&&(oe=0,++ie<=S&&!(ie%16)&&Ni(te,ie));else{if(!(280>De)){Qe=0;break t}De=_i(De-256,me);var mt,ot=Os(He.G[4],He.H[4],me);if(re(me),!(pe>=(ot=Fr(ve,ot=_i(ot,me)))&&ge-pe>=De)){Qe=0;break t}for(mt=0;mt<De;++mt)se[je+pe+mt]=se[je+pe+mt-ot];for(pe+=De,oe+=De;oe>=ve;)oe-=ve,++ie<=S&&!(ie%16)&&Ni(te,ie);pe<qe&&oe&Ze&&(He=ds(Se,oe,ie))}e(me.h==Y(me))}Ni(te,ie>S?S:ie);break t}!Qe||me.h&&pe<ge?(Qe=0,te.a=me.h?5:3):te.$=pe,S=Qe}else S=ai(te,te.V,te.Ba,te.c,te.i,S,$o);if(!S){q=0;break e}}M+q>=ee&&(g.Cc=1),q=1}if(!q)return null;if(g.Cc&&((q=g.ga)!=null&&(q.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+M*X}function k(g,S,M,q,X,ee){for(;0<X--;){var te,se=g,ie=S+(M?1:0),oe=g,me=S+(M?0:3);for(te=0;te<q;++te){var Se=oe[me+4*te];Se!=255&&(Se*=32897,se[ie+4*te+0]=se[ie+4*te+0]*Se>>23,se[ie+4*te+1]=se[ie+4*te+1]*Se>>23,se[ie+4*te+2]=se[ie+4*te+2]*Se>>23)}S+=ee}}function K(g,S,M,q,X){for(;0<q--;){var ee;for(ee=0;ee<M;++ee){var te=g[S+2*ee+0],se=15&(oe=g[S+2*ee+1]),ie=4369*se,oe=(240&oe|oe>>4)*ie>>16;g[S+2*ee+0]=(240&te|te>>4)*ie>>16&240|(15&te|te<<4)*ie>>16>>4&15,g[S+2*ee+1]=240&oe|se}S+=X}}function ce(g,S,M,q,X,ee,te,se){var ie,oe,me=255;for(oe=0;oe<X;++oe){for(ie=0;ie<q;++ie){var Se=g[S+ie];ee[te+4*ie]=Se,me&=Se}S+=M,te+=se}return me!=255}function fe(g,S,M,q,X){var ee;for(ee=0;ee<X;++ee)M[q+ee]=g[S+ee]>>8}function be(){Aa=k,zn=K,$n=ce,Es=fe}function Fe(g,S,M){w[g]=function(q,X,ee,te,se,ie,oe,me,Se,je,ve,Qe,De,pe,ge,qe,Ze){var He,mt=Ze-1>>1,ot=se[ie+0]|oe[me+0]<<16,St=Se[je+0]|ve[Qe+0]<<16;e(q!=null);var ut=3*ot+St+131074>>2;for(S(q[X+0],255&ut,ut>>16,De,pe),ee!=null&&(ut=3*St+ot+131074>>2,S(ee[te+0],255&ut,ut>>16,ge,qe)),He=1;He<=mt;++He){var dn=se[ie+He]|oe[me+He]<<16,bn=Se[je+He]|ve[Qe+He]<<16,an=ot+dn+St+bn+524296,Yt=an+2*(dn+St)>>3;ut=Yt+ot>>1,ot=(an=an+2*(ot+bn)>>3)+dn>>1,S(q[X+2*He-1],255&ut,ut>>16,De,pe+(2*He-1)*M),S(q[X+2*He-0],255&ot,ot>>16,De,pe+(2*He-0)*M),ee!=null&&(ut=an+St>>1,ot=Yt+bn>>1,S(ee[te+2*He-1],255&ut,ut>>16,ge,qe+(2*He-1)*M),S(ee[te+2*He+0],255&ot,ot>>16,ge,qe+(2*He+0)*M)),ot=dn,St=bn}1&Ze||(ut=3*ot+St+131074>>2,S(q[X+Ze-1],255&ut,ut>>16,De,pe+(Ze-1)*M),ee!=null&&(ut=3*St+ot+131074>>2,S(ee[te+Ze-1],255&ut,ut>>16,ge,qe+(Ze-1)*M)))}}function et(){Ca[D1]=DQ,Ca[O1]=sC,Ca[JT]=OQ,Ca[F1]=rC,Ca[B1]=iC,Ca[I_]=aC,Ca[ZT]=FQ,Ca[L_]=sC,Ca[M_]=rC,Ca[V1]=iC,Ca[D_]=aC}function lt(g){return g&-16384?0>g?0:255:g>>BQ}function b(g,S){return lt((19077*g>>8)+(26149*S>>8)-14234)}function B(g,S,M){return lt((19077*g>>8)-(6419*S>>8)-(13320*M>>8)+8708)}function H(g,S){return lt((19077*g>>8)+(33050*S>>8)-17685)}function ne(g,S,M,q,X){q[X+0]=b(g,M),q[X+1]=B(g,S,M),q[X+2]=H(g,S)}function xe(g,S,M,q,X){q[X+0]=H(g,S),q[X+1]=B(g,S,M),q[X+2]=b(g,M)}function Ee(g,S,M,q,X){var ee=B(g,S,M);S=ee<<3&224|H(g,S)>>3,q[X+0]=248&b(g,M)|ee>>5,q[X+1]=S}function tt(g,S,M,q,X){var ee=240&H(g,S)|15;q[X+0]=240&b(g,M)|B(g,S,M)>>4,q[X+1]=ee}function Mt(g,S,M,q,X){q[X+0]=255,ne(g,S,M,q,X+1)}function Wt(g,S,M,q,X){xe(g,S,M,q,X),q[X+3]=255}function Dt(g,S,M,q,X){ne(g,S,M,q,X),q[X+3]=255}function gn(g,S){return 0>g?0:g>S?S:g}function Ln(g,S,M){w[g]=function(q,X,ee,te,se,ie,oe,me,Se){for(var je=me+(-2&Se)*M;me!=je;)S(q[X+0],ee[te+0],se[ie+0],oe,me),S(q[X+1],ee[te+0],se[ie+0],oe,me+M),X+=2,++te,++ie,me+=2*M;1&Se&&S(q[X+0],ee[te+0],se[ie+0],oe,me)}}function oo(g,S,M){return M==0?g==0?S==0?6:5:S==0?4:0:M}function Nr(g,S,M,q,X){switch(g>>>30){case 3:Xl(S,M,q,X,0);break;case 2:js(S,M,q,X);break;case 1:ui(S,M,q,X)}}function Jo(g,S){var M,q,X=S.M,ee=S.Nb,te=g.oc,se=g.pc+40,ie=g.oc,oe=g.pc+584,me=g.oc,Se=g.pc+600;for(M=0;16>M;++M)te[se+32*M-1]=129;for(M=0;8>M;++M)ie[oe+32*M-1]=129,me[Se+32*M-1]=129;for(0<X?te[se-1-32]=ie[oe-1-32]=me[Se-1-32]=129:(r(te,se-32-1,127,21),r(ie,oe-32-1,127,9),r(me,Se-32-1,127,9)),q=0;q<g.za;++q){var je=S.ya[S.aa+q];if(0<q){for(M=-1;16>M;++M)s(te,se+32*M-4,te,se+32*M+12,4);for(M=-1;8>M;++M)s(ie,oe+32*M-4,ie,oe+32*M+4,4),s(me,Se+32*M-4,me,Se+32*M+4,4)}var ve=g.Gd,Qe=g.Hd+q,De=je.ad,pe=je.Hc;if(0<X&&(s(te,se-32,ve[Qe].y,0,16),s(ie,oe-32,ve[Qe].f,0,8),s(me,Se-32,ve[Qe].ea,0,8)),je.Za){var ge=te,qe=se-32+16;for(0<X&&(q>=g.za-1?r(ge,qe,ve[Qe].y[15],4):s(ge,qe,ve[Qe+1].y,0,4)),M=0;4>M;M++)ge[qe+128+M]=ge[qe+256+M]=ge[qe+384+M]=ge[qe+0+M];for(M=0;16>M;++M,pe<<=2)ge=te,qe=se+lC[M],lo[je.Ob[M]](ge,qe),Nr(pe,De,16*+M,ge,qe)}else if(ge=oo(q,X,je.Ob[0]),bu[ge](te,se),pe!=0)for(M=0;16>M;++M,pe<<=2)Nr(pe,De,16*+M,te,se+lC[M]);for(M=je.Gc,ge=oo(q,X,je.Dd),Zl[ge](ie,oe),Zl[ge](me,Se),pe=De,ge=ie,qe=oe,255&(je=M>>0)&&(170&je?Zg(pe,256,ge,qe):ja(pe,256,ge,qe)),je=me,pe=Se,255&(M>>=8)&&(170&M?Zg(De,320,je,pe):ja(De,320,je,pe)),X<g.Ub-1&&(s(ve[Qe].y,0,te,se+480,16),s(ve[Qe].f,0,ie,oe+224,8),s(ve[Qe].ea,0,me,Se+224,8)),M=8*ee*g.B,ve=g.sa,Qe=g.ta+16*q+16*ee*g.R,De=g.qa,je=g.ra+8*q+M,pe=g.Ha,ge=g.Ia+8*q+M,M=0;16>M;++M)s(ve,Qe+M*g.R,te,se+32*M,16);for(M=0;8>M;++M)s(De,je+M*g.B,ie,oe+32*M,8),s(pe,ge+M*g.B,me,Se+32*M,8)}}function Zo(g,S,M,q,X,ee,te,se,ie){var oe=[0],me=[0],Se=0,je=ie!=null?ie.kd:0,ve=ie??new du;if(g==null||12>M)return 7;ve.data=g,ve.w=S,ve.ha=M,S=[S],M=[M],ve.gb=[ve.gb];e:{var Qe=S,De=M,pe=ve.gb;if(e(g!=null),e(De!=null),e(pe!=null),pe[0]=0,12<=De[0]&&!n(g,Qe[0],"RIFF")){if(n(g,Qe[0]+8,"WEBP")){pe=3;break e}var ge=Ie(g,Qe[0]+4);if(12>ge||4294967286<ge){pe=3;break e}if(je&&ge>De[0]-8){pe=7;break e}pe[0]=ge,Qe[0]+=12,De[0]-=12}pe=0}if(pe!=0)return pe;for(ge=0<ve.gb[0],M=M[0];;){e:{var qe=g;De=S,pe=M;var Ze=oe,He=me,mt=Qe=[0];if((ut=Se=[Se])[0]=0,8>pe[0])pe=7;else{if(!n(qe,De[0],"VP8X")){if(Ie(qe,De[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var ot=Ie(qe,De[0]+8),St=1+Le(qe,De[0]+12);if(2147483648<=St*(qe=1+Le(qe,De[0]+15))){pe=3;break e}mt!=null&&(mt[0]=ot),Ze!=null&&(Ze[0]=St),He!=null&&(He[0]=qe),De[0]+=18,pe[0]-=18,ut[0]=1}pe=0}}if(Se=Se[0],Qe=Qe[0],pe!=0)return pe;if(De=!!(2&Qe),!ge&&Se)return 3;if(ee!=null&&(ee[0]=!!(16&Qe)),te!=null&&(te[0]=De),se!=null&&(se[0]=0),te=oe[0],Qe=me[0],Se&&De&&ie==null){pe=0;break}if(4>M){pe=7;break}if(ge&&Se||!ge&&!Se&&!n(g,S[0],"ALPH")){M=[M],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{ot=g,pe=S,ge=M;var ut=ve.gb;Ze=ve.na,He=ve.P,mt=ve.Sa,St=22,e(ot!=null),e(ge!=null),qe=pe[0];var dn=ge[0];for(e(Ze!=null),e(mt!=null),Ze[0]=null,He[0]=null,mt[0]=0;;){if(pe[0]=qe,ge[0]=dn,8>dn){pe=7;break e}var bn=Ie(ot,qe+4);if(4294967286<bn){pe=3;break e}var an=8+bn+1&-2;if(St+=an,0<ut&&St>ut){pe=3;break e}if(!n(ot,qe,"VP8 ")||!n(ot,qe,"VP8L")){pe=0;break e}if(dn[0]<an){pe=7;break e}n(ot,qe,"ALPH")||(Ze[0]=ot,He[0]=qe+8,mt[0]=bn),qe+=an,dn-=an}}if(M=M[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],pe!=0)break}M=[M],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(ut=g,pe=S,ge=M,Ze=ve.gb[0],He=ve.Ja,mt=ve.xa,ot=pe[0],qe=!n(ut,ot,"VP8 "),St=!n(ut,ot,"VP8L"),e(ut!=null),e(ge!=null),e(He!=null),e(mt!=null),8>ge[0])pe=7;else{if(qe||St){if(ut=Ie(ut,ot+4),12<=Ze&&ut>Ze-12){pe=3;break e}if(je&&ut>ge[0]-8){pe=7;break e}He[0]=ut,pe[0]+=8,ge[0]-=8,mt[0]=St}else mt[0]=5<=ge[0]&&ut[ot+0]==47&&!(ut[ot+4]>>5),He[0]=ge[0];pe=0}if(M=M[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],S=S[0],pe!=0)break;if(4294967286<ve.Ja)return 3;if(se==null||De||(se[0]=ve.xa?2:1),te=[te],Qe=[Qe],ve.xa){if(5>M){pe=7;break}se=te,je=Qe,De=ee,g==null||5>M?g=0:5<=M&&g[S+0]==47&&!(g[S+4]>>5)?(ge=[0],ut=[0],Ze=[0],Q(He=new U,g,S,M),gt(He,ge,ut,Ze)?(se!=null&&(se[0]=ge[0]),je!=null&&(je[0]=ut[0]),De!=null&&(De[0]=Ze[0]),g=1):g=0):g=0}else{if(10>M){pe=7;break}se=Qe,g==null||10>M||!oh(g,S+3,M-3)?g=0:(je=g[S+0]|g[S+1]<<8|g[S+2]<<16,De=16383&(g[S+7]<<8|g[S+6]),g=16383&(g[S+9]<<8|g[S+8]),1&je||3<(je>>1&7)||!(je>>4&1)||je>>5>=ve.Ja||!De||!g?g=0:(te&&(te[0]=De),se&&(se[0]=g),g=1))}if(!g||(te=te[0],Qe=Qe[0],Se&&(oe[0]!=te||me[0]!=Qe)))return 3;ie!=null&&(ie[0]=ve,ie.offset=S-ie.w,e(4294967286>S-ie.w),e(ie.offset==ie.ha-M));break}return pe==0||pe==7&&Se&&ie==null?(ee!=null&&(ee[0]|=ve.na!=null&&0<ve.na.length),q!=null&&(q[0]=te),X!=null&&(X[0]=Qe),0):pe}function Yg(g,S,M){var q=S.width,X=S.height,ee=0,te=0,se=q,ie=X;if(S.Da=g!=null&&0<g.Da,S.Da&&(se=g.cd,ie=g.bd,ee=g.v,te=g.j,11>M||(ee&=-2,te&=-2),0>ee||0>te||0>=se||0>=ie||ee+se>q||te+ie>X))return 0;if(S.v=ee,S.j=te,S.va=ee+se,S.o=te+ie,S.U=se,S.T=ie,S.da=g!=null&&0<g.da,S.da){if(!nt(se,ie,M=[g.ib],ee=[g.hb]))return 0;S.ib=M[0],S.hb=ee[0]}return S.ob=g!=null&&g.ob,S.Kb=g==null||!g.Sd,S.da&&(S.ob=S.ib<3*q/4&&S.hb<3*X/4,S.Kb=0),1}function Kg(g){if(g==null)return 2;if(11>g.S){var S=g.f.RGBA;S.fb+=(g.height-1)*S.A,S.A=-S.A}else S=g.f.kb,g=g.height,S.O+=(g-1)*S.fa,S.fa=-S.fa,S.N+=(g-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(g-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(g-1)*S.lb,S.lb=-S.lb);return 0}function gm(g,S,M,q){if(q==null||0>=g||0>=S)return 2;if(M!=null){if(M.Da){var X=M.cd,ee=M.bd,te=-2&M.v,se=-2&M.j;if(0>te||0>se||0>=X||0>=ee||te+X>g||se+ee>S)return 2;g=X,S=ee}if(M.da){if(!nt(g,S,X=[M.ib],ee=[M.hb]))return 2;g=X[0],S=ee[0]}}q.width=g,q.height=S;e:{var ie=q.width,oe=q.height;if(g=q.S,0>=ie||0>=oe||!(g>=D1&&13>g))g=2;else{if(0>=q.Rd&&q.sd==null){te=ee=X=S=0;var me=(se=ie*cC[g])*oe;if(11>g||(ee=(oe+1)/2*(S=(ie+1)/2),g==12&&(te=(X=ie)*oe)),(oe=i(me+2*ee+te))==null){g=1;break e}q.sd=oe,11>g?((ie=q.f.RGBA).eb=oe,ie.fb=0,ie.A=se,ie.size=me):((ie=q.f.kb).y=oe,ie.O=0,ie.fa=se,ie.Fd=me,ie.f=oe,ie.N=0+me,ie.Ab=S,ie.Cd=ee,ie.ea=oe,ie.W=0+me+ee,ie.Db=S,ie.Ed=ee,g==12&&(ie.F=oe,ie.J=0+me+2*ee),ie.Tc=te,ie.lb=X)}if(S=1,X=q.S,ee=q.width,te=q.height,X>=D1&&13>X)if(11>X)g=q.f.RGBA,S&=(se=Math.abs(g.A))*(te-1)+ee<=g.size,S&=se>=ee*cC[X],S&=g.eb!=null;else{g=q.f.kb,se=(ee+1)/2,me=(te+1)/2,ie=Math.abs(g.fa),oe=Math.abs(g.Ab);var Se=Math.abs(g.Db),je=Math.abs(g.lb),ve=je*(te-1)+ee;S&=ie*(te-1)+ee<=g.Fd,S&=oe*(me-1)+se<=g.Cd,S=(S&=Se*(me-1)+se<=g.Ed)&ie>=ee&oe>=se&Se>=se,S&=g.y!=null,S&=g.f!=null,S&=g.ea!=null,X==12&&(S&=je>=ee,S&=ve<=g.Tc,S&=g.F!=null)}else S=0;g=S?0:2}}return g!=0||M!=null&&M.fd&&(g=Kg(q)),g}var Sr=64,ym=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xm=24,bm=32,Xg=8,ji=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ne("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(g){return g},w.Predictor2=function(g,S,M){return S[M+0]},w.Predictor3=function(g,S,M){return S[M+1]},w.Predictor4=function(g,S,M){return S[M-1]},w.Predictor5=function(g,S,M){return Ve(Ve(g,S[M+1]),S[M+0])},w.Predictor6=function(g,S,M){return Ve(g,S[M-1])},w.Predictor7=function(g,S,M){return Ve(g,S[M+0])},w.Predictor8=function(g,S,M){return Ve(S[M-1],S[M+0])},w.Predictor9=function(g,S,M){return Ve(S[M+0],S[M+1])},w.Predictor10=function(g,S,M){return Ve(Ve(g,S[M-1]),Ve(S[M+0],S[M+1]))},w.Predictor11=function(g,S,M){var q=S[M+0];return 0>=ze(q>>24&255,g>>24&255,(S=S[M-1])>>24&255)+ze(q>>16&255,g>>16&255,S>>16&255)+ze(q>>8&255,g>>8&255,S>>8&255)+ze(255&q,255&g,255&S)?q:g},w.Predictor12=function(g,S,M){var q=S[M+0];return($e((g>>24&255)+(q>>24&255)-((S=S[M-1])>>24&255))<<24|$e((g>>16&255)+(q>>16&255)-(S>>16&255))<<16|$e((g>>8&255)+(q>>8&255)-(S>>8&255))<<8|$e((255&g)+(255&q)-(255&S)))>>>0},w.Predictor13=function(g,S,M){var q=S[M-1];return(Te((g=Ve(g,S[M+0]))>>24&255,q>>24&255)<<24|Te(g>>16&255,q>>16&255)<<16|Te(g>>8&255,q>>8&255)<<8|Te(g>>0&255,q>>0&255))>>>0};var P_=w.PredictorAdd0;w.PredictorAdd1=Ge,Ne("Predictor2","PredictorAdd2"),Ne("Predictor3","PredictorAdd3"),Ne("Predictor4","PredictorAdd4"),Ne("Predictor5","PredictorAdd5"),Ne("Predictor6","PredictorAdd6"),Ne("Predictor7","PredictorAdd7"),Ne("Predictor8","PredictorAdd8"),Ne("Predictor9","PredictorAdd9"),Ne("Predictor10","PredictorAdd10"),Ne("Predictor11","PredictorAdd11"),Ne("Predictor12","PredictorAdd12"),Ne("Predictor13","PredictorAdd13");var Jg=w.PredictorAdd2;we("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),we("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var k1,Sa=w.ColorIndexInverseTransform,vm=w.MapARGB,P1=w.VP8LColorIndexInverseTransformAlpha,R1=w.MapAlpha,pu=w.VP8LPredictorsAdd=[];pu.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var bh,Ei,ci,gu,Yl,Kl,wm,Xl,js,Zg,ui,ja,_m,I1,e0,vh,wh,yu,_h,Nm,Nh,xu,t0,Ea,Aa,zn,$n,Es,Js=i(511),Jl=i(2041),n0=i(225),Sm=i(767),L1=0,R_=Jl,M1=n0,Ji=Sm,Ta=Js,D1=0,O1=1,JT=2,F1=3,B1=4,I_=5,ZT=6,L_=7,M_=8,V1=9,D_=10,_Q=[2,3,7],NQ=[3,3,11],eC=[280,256,256,256,40],SQ=[0,1,1,1,0],jQ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],EQ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],AQ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],TQ=8,O_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],F_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],s0=null,CQ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kQ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],tC=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],PQ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],RQ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],IQ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],LQ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bu=[],lo=[],Zl=[],MQ=1,nC=2,vu=[],Ca=[];Fe("UpsampleRgbLinePair",ne,3),Fe("UpsampleBgrLinePair",xe,3),Fe("UpsampleRgbaLinePair",Dt,4),Fe("UpsampleBgraLinePair",Wt,4),Fe("UpsampleArgbLinePair",Mt,4),Fe("UpsampleRgba4444LinePair",tt,2),Fe("UpsampleRgb565LinePair",Ee,2);var DQ=w.UpsampleRgbLinePair,OQ=w.UpsampleBgrLinePair,sC=w.UpsampleRgbaLinePair,rC=w.UpsampleBgraLinePair,iC=w.UpsampleArgbLinePair,aC=w.UpsampleRgba4444LinePair,FQ=w.UpsampleRgb565LinePair,U1=16,z1=1<<U1-1,r0=-227,B_=482,BQ=6,oC=0,VQ=i(256),UQ=i(256),zQ=i(256),$Q=i(256),qQ=i(B_-r0),HQ=i(B_-r0);Ln("YuvToRgbRow",ne,3),Ln("YuvToBgrRow",xe,3),Ln("YuvToRgbaRow",Dt,4),Ln("YuvToBgraRow",Wt,4),Ln("YuvToArgbRow",Mt,4),Ln("YuvToRgba4444Row",tt,2),Ln("YuvToRgb565Row",Ee,2);var lC=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$1=[0,2,8],QQ=[8,7,6,4,4,2,2,2,1,1,1,1],GQ=1;this.WebPDecodeRGBA=function(g,S,M,q,X){var ee=O1,te=new Gl,se=new Ks;te.ba=se,se.S=ee,se.width=[se.width],se.height=[se.height];var ie=se.width,oe=se.height,me=new us;if(me==null||g==null)var Se=2;else e(me!=null),Se=Zo(g,S,M,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Se!=0?ie=0:(ie!=null&&(ie[0]=me.width[0]),oe!=null&&(oe[0]=me.height[0]),ie=1),ie){se.width=se.width[0],se.height=se.height[0],q!=null&&(q[0]=se.width),X!=null&&(X[0]=se.height);e:{if(q=new Ul,(X=new du).data=g,X.w=S,X.ha=M,X.kd=1,S=[0],e(X!=null),((g=Zo(X.data,X.w,X.ha,null,null,null,S,null,X))==0||g==7)&&S[0]&&(g=4),(S=g)==0){if(e(te!=null),q.data=X.data,q.w=X.w+X.offset,q.ha=X.ha-X.offset,q.put=es,q.ac=kn,q.bc=Gi,q.ma=te,X.xa){if((g=Ss())==null){te=1;break e}if(function(je,ve){var Qe=[0],De=[0],pe=[0];t:for(;;){if(je==null)return 0;if(ve==null)return je.a=2,0;if(je.l=ve,je.a=0,Q(je.m,ve.data,ve.w,ve.ha),!gt(je.m,Qe,De,pe)){je.a=3;break t}if(je.xb=nC,ve.width=Qe[0],ve.height=De[0],!Wi(Qe[0],De[0],1,je,null))break t;return 1}return e(je.a!=0),0}(g,q)){if(q=(S=gm(q.width,q.height,te.Oa,te.ba))==0){t:{q=g;n:for(;;){if(q==null){q=0;break t}if(e(q.s.yc!=null),e(q.s.Ya!=null),e(0<q.s.Wb),e((M=q.l)!=null),e((X=M.ma)!=null),q.xb!=0){if(q.ca=X.ba,q.tb=X.tb,e(q.ca!=null),!Yg(X.Oa,M,F1)){q.a=2;break n}if(!zo(q,M.width)||M.da)break n;if((M.da||ct(q.ca.S))&&be(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&be()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!Xe(q.s.vb,q.s.Wa.Xa)){q.a=1;break n}q.xb=0}if(!ai(q,q.V,q.Ba,q.c,q.i,M.o,Xc))break n;X.Dc=q.Ma,q=1;break t}e(q.a!=0),q=0}q=!q}q&&(S=g.a)}else S=g.a}else{if((g=new ah)==null){te=1;break e}if(g.Fa=X.na,g.P=X.P,g.qc=X.Sa,lh(g,q)){if((S=gm(q.width,q.height,te.Oa,te.ba))==0){if(g.Aa=0,M=te.Oa,e((X=g)!=null),M!=null){if(0<(ie=0>(ie=M.Md)?0:100<ie?255:255*ie/100)){for(oe=me=0;4>oe;++oe)12>(Se=X.pb[oe]).lc&&(Se.ia=ie*QQ[0>Se.lc?0:Se.lc]>>3),me|=Se.ia;me&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=M.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}cm(g,q)||(S=g.a)}}else S=g.a}S==0&&te.Oa!=null&&te.Oa.fd&&(S=Kg(te.ba))}te=S}ee=te!=0?null:11>ee?se.f.RGBA.eb:se.f.kb.y}else ee=null;return ee};var cC=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(w,A){for(var R="",E=0;E<4;E++)R+=String.fromCharCode(w[A++]);return R}function d(w,A){return(w[A+0]<<0|w[A+1]<<8|w[A+2]<<16)>>>0}function h(w,A){return(w[A+0]<<0|w[A+1]<<8|w[A+2]<<16|w[A+3]<<24)>>>0}new c;var f=[0],m=[0],p=[],x=new c,v=t,y=function(w,A){var R={},E=0,T=!1,L=0,z=0;if(R.frames=[],!function(G,Y,J,re){for(var le=0;le<re;le++)if(G[Y+le]!=J.charCodeAt(le))return!0;return!1}(w,A,"RIFF",4)){for(h(w,A+=4),A+=8;A<w.length;){var $=u(w,A),O=h(w,A+=4);A+=4;var F=O+(1&O);switch($){case"VP8 ":case"VP8L":R.frames[E]===void 0&&(R.frames[E]={}),(W=R.frames[E]).src_off=T?z:A-8,W.src_size=L+O+8,E++,T&&(T=!1,L=0,z=0);break;case"VP8X":(W=R.header={}).feature_flags=w[A];var Q=A+4;W.canvas_width=1+d(w,Q),Q+=3,W.canvas_height=1+d(w,Q),Q+=3;break;case"ALPH":T=!0,L=F+8,z=A-8;break;case"ANIM":(W=R.header).bgcolor=h(w,A),Q=A+4,W.loop_count=(Z=w)[(U=Q)+0]<<0|Z[U+1]<<8,Q+=2;break;case"ANMF":var V,W;(W=R.frames[E]={}).offset_x=2*d(w,A),A+=3,W.offset_y=2*d(w,A),A+=3,W.width=1+d(w,A),A+=3,W.height=1+d(w,A),A+=3,W.duration=d(w,A),A+=3,V=w[A++],W.dispose=1&V,W.blend=V>>1&1}$!="ANMF"&&(A+=F)}var Z,U;return R}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var _=y.header?y.header:null,N=y.frames?y.frames:null;if(_){_.loop_counter=_.loop_count,f=[_.canvas_height],m=[_.canvas_width];for(var P=0;P<N.length&&N[P].blend!=0;P++);}var I=N[0],D=x.WebPDecodeRGBA(v,I.src_off,I.src_size,m,f);I.rgba=D,I.imgwidth=m[0],I.imgheight=f[0];for(var C=0;C<m[0]*f[0]*4;C++)p[C]=D[C];return this.width=m,this.height=f,this.data=p,this}(function(t){var e=function(){return typeof nj=="function"},n=function(f,m,p,x){var v=4,y=a;switch(x){case t.image_compression.FAST:v=1,y=i;break;case t.image_compression.MEDIUM:v=6,y=l;break;case t.image_compression.SLOW:v=9,y=c}f=s(f,m,p,y);var _=nj(f,{level:v});return t.__addimage__.arrayBufferToBinaryString(_)},s=function(f,m,p,x){for(var v,y,_,N=f.length/m,P=new Uint8Array(f.length+N),I=d(),D=0;D<N;D+=1){if(_=D*m,v=f.subarray(_,_+m),x)P.set(x(v,p,y),_+D);else{for(var C,w=I.length,A=[];C<w;C+=1)A[C]=I[C](v,p,y);var R=h(A.concat());P.set(A[R],_+D)}y=v}return P},r=function(f){var m=Array.apply([],f);return m.unshift(0),m},i=function(f,m){var p,x=[],v=f.length;x[0]=1;for(var y=0;y<v;y+=1)p=f[y-m]||0,x[y+1]=f[y]-p+256&255;return x},a=function(f,m,p){var x,v=[],y=f.length;v[0]=2;for(var _=0;_<y;_+=1)x=p&&p[_]||0,v[_+1]=f[_]-x+256&255;return v},l=function(f,m,p){var x,v,y=[],_=f.length;y[0]=3;for(var N=0;N<_;N+=1)x=f[N-m]||0,v=p&&p[N]||0,y[N+1]=f[N]+256-(x+v>>>1)&255;return y},c=function(f,m,p){var x,v,y,_,N=[],P=f.length;N[0]=4;for(var I=0;I<P;I+=1)x=f[I-m]||0,v=p&&p[I]||0,y=p&&p[I-m]||0,_=u(x,v,y),N[I+1]=f[I]-_+256&255;return N},u=function(f,m,p){if(f===m&&m===p)return f;var x=Math.abs(m-p),v=Math.abs(f-p),y=Math.abs(f+m-p-p);return x<=v&&x<=y?f:v<=y?m:p},d=function(){return[r,i,a,l,c]},h=function(f){var m=f.map(function(p){return p.reduce(function(x,v){return x+Math.abs(v)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(f,m,p,x){var v,y,_,N,P,I,D,C,w,A,R,E,T,L,z,$=this.decode.FLATE_DECODE,O="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(_=new x1e(f)).imgData,y=_.bits,v=_.colorSpace,P=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){w=(C=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,R=new Uint8Array(w*_.colors),A=new Uint8Array(w);var F,Q=_.pixelBitlength-_.bits;for(L=0,z=0;L<w;L++){for(T=C[L],F=0;F<Q;)R[z++]=T>>>F&255,F+=_.bits;A[L]=T>>>F&255}}if(_.bits===16){w=(C=new Uint32Array(_.decodePixels().buffer)).length,R=new Uint8Array(w*(32/_.pixelBitlength)*_.colors),A=new Uint8Array(w*(32/_.pixelBitlength)),E=_.colors>1,L=0,z=0;for(var V=0;L<w;)T=C[L++],R[z++]=T>>>0&255,E&&(R[z++]=T>>>16&255,T=C[L++],R[z++]=T>>>0&255),A[V++]=T>>>16&255;y=8}x!==t.image_compression.NONE&&e()?(f=n(R,_.width*_.colors,_.colors,x),D=n(A,_.width,1,x)):(f=R,D=A,$=void 0)}if(_.colorType===3&&(v=this.color_spaces.INDEXED,I=_.palette,_.transparency.indexed)){var W=_.transparency.indexed,Z=0;for(L=0,w=W.length;L<w;++L)Z+=W[L];if((Z/=255)===w-1&&W.indexOf(0)!==-1)N=[W.indexOf(0)];else if(Z!==w){for(C=_.decodePixels(),A=new Uint8Array(C.length),L=0,w=C.length;L<w;L++)A[L]=W[C[L]];D=n(A,_.width,1)}}var U=function(G){var Y;switch(G){case t.image_compression.FAST:Y=11;break;case t.image_compression.MEDIUM:Y=13;break;case t.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(x);return $===this.decode.FLATE_DECODE&&(O="/Predictor "+U+" "),O+="/Colors "+P+" /BitsPerComponent "+y+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:p,data:f,index:m,filter:$,decodeParameters:O,transparency:N,palette:I,sMask:D,predictor:U,width:_.width,height:_.height,bitsPerComponent:y,colorSpace:v}}}})(wt.API),function(t){t.processGIF89A=function(e,n,s,r){var i=new b1e(e),a=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:l},d=new N4(100).encode(u,100);return t.processJPEG.call(this,d,n,s,r)},t.processGIF87A=t.processGIF89A}(wt.API),ho.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:s,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ho.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Dn.log("bit decode error:"+n)}},ho.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var i=this.datav.getUint8(this.pos++,!0),a=s*this.width*4+8*r*4,l=0;l<8&&8*r+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}n!==0&&(this.pos+=4-n)}},ho.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,r=0;r<t;r++){var i=this.datav.getUint8(this.pos++,!0),a=s*this.width*4+2*r*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*r+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ho.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var r=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*s;if(r<this.palette.length){var a=this.palette[r];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},ho.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=s*this.width*4+4*r;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},ho.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,d=r*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},ho.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=r,this.data[a+2]=s,this.data[a+3]=255}this.pos+=this.width%4}},ho.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=i,this.data[l+1]=r,this.data[l+2]=s,this.data[l+3]=a}},ho.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,s,r){var i=new ho(e,!1),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new N4(100).encode(c,100);return t.processJPEG.call(this,u,n,s,r)}}(wt.API),f7.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,s,r){var i=new f7(e),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new N4(100).encode(c,100);return t.processJPEG.call(this,u,n,s,r)}}(wt.API),wt.API.processRGBA=function(t,e,n){for(var s=t.data,r=s.length,i=new Uint8Array(r/4*3),a=new Uint8Array(r/4),l=0,c=0,u=0;u<r;u+=4){var d=s[u],h=s[u+1],f=s[u+2],m=s[u+3];i[l++]=d,i[l++]=h,i[l++]=f,a[c++]=m}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},wt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Im=wt.API,Ob=Im.getCharWidthsArray=function(t,e){var n,s,r=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:r.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:r.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,f=0,m=t.length,p=0,x=l[0]||c,v=[];for(n=0;n<m;n++)s=t.charCodeAt(n),typeof r.metadata.widthOfString=="function"?v.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(s))+a*(1e3/i)||0)/1e3):(f=h&&Tn(u[s])==="object"&&!isNaN(parseInt(u[s][p],10))?u[s][p]/d:0,v.push((l[s]||x)/c+f)),p=s;return v},c7=Im.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Im.processArabic&&(t=Im.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,n,r)/n:Ob.apply(this,arguments).reduce(function(i,a){return i+a},0)},u7=function(t,e,n,s){for(var r=[],i=0,a=t.length,l=0;i!==a&&l+e[i]<n;)l+=e[i],i++;r.push(t.slice(0,i));var c=i;for(l=0;i!==a;)l+e[i]>s&&(r.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&r.push(t.slice(c,i)),r},d7=function(t,e,n){n||(n={});var s,r,i,a,l,c,u,d=[],h=[d],f=n.textIndent||0,m=0,p=0,x=t.split(" "),v=Ob.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var y=Array(c).join(" "),_=[];x.map(function(P){(P=P.split(/\s*\n/)).length>1?_=_.concat(P.map(function(I,D){return(D&&I.length?`
`:"")+I})):_.push(P[0])}),x=_,c=c7.apply(this,[y,n])}for(i=0,a=x.length;i<a;i++){var N=0;if(s=x[i],c&&s[0]==`
`&&(s=s.substr(1),N=1),f+m+(p=(r=Ob.apply(this,[s,n])).reduce(function(P,I){return P+I},0))>e||N){if(p>e){for(l=u7.apply(this,[s,r,e-(f+m),e]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);p=r.slice(s.length-(d[0]?d[0].length:0)).reduce(function(P,I){return P+I},0)}else d=[s];h.push(d),f=p+c,m=v}else d.push(s),f+=m+p,m=v}return u=c?function(P,I){return(I?y:"")+P.join(" ")}:function(P){return P.join(" ")},h.map(u)},Im.splitTextToSize=function(t,e,n){var s,r=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/r;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,i.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=s.length;l<c;l++)u=u.concat(d7.apply(this,[s[l],a,i]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},s={},r=0;r<e.length;r++)n[e[r]]="0123456789abcdef"[r],s["0123456789abcdef"[r]]=e[r];var i=function(h){return"0x"+parseInt(h,10).toString(16)},a=t.__fontmetrics__.compress=function(h){var f,m,p,x,v=["{"];for(var y in h){if(f=h[y],isNaN(parseInt(y,10))?m="'"+y+"'":(y=parseInt(y,10),m=(m=i(y).slice(2)).slice(0,-1)+s[m.slice(-1)]),typeof f=="number")f<0?(p=i(f).slice(3),x="-"):(p=i(f).slice(2),x=""),p=x+p.slice(0,-1)+s[p.slice(-1)];else{if(Tn(f)!=="object")throw new Error("Don't know what to do with value type "+Tn(f)+".");p=a(f)}v.push(m+p)}return v.push("}"),v.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,m,p,x,v={},y=1,_=v,N=[],P="",I="",D=h.length-1,C=1;C<D;C+=1)(x=h[C])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(N.push([_,p]),_={},p=void 0):x=="}"?((m=N.pop())[0][m[1]]=_,p=void 0,_=m[0]):x=="-"?y=-1:p===void 0?n.hasOwnProperty(x)?(P+=n[x],p=parseInt(P,16)*y,y=1,P=""):P+=x:n.hasOwnProperty(x)?(I+=n[x],_[p]=parseInt(I,16)*y,y=1,p=void 0,I=""):I+=x;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var f=h.font,m=d.Unicode[f.postScriptName];m&&(f.metadata.Unicode={},f.metadata.Unicode.widths=m.widths,f.metadata.Unicode.kerning=m.kerning);var p=u.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(wt.API),function(t){var e=function(n){for(var s=n.length,r=new Uint8Array(s),i=0;i<s;i++)r[i]=n.charCodeAt(i);return r};t.API.events.push(["addFont",function(n){var s=void 0,r=n.font,i=n.instance;if(!r.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(s=i.existsFileInVFS(r.postScriptName)===!1?i.loadFile(r.postScriptName):i.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Ey(l)),a.metadata=t.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,s)}}])}(wt),function(t){function e(){return(At.canvg?Promise.resolve(At.canvg):Qd(()=>import("./index.es-D2JONokt.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}wt.API.addSvgAsImage=function(n,s,r,i,a,l,c,u){if(isNaN(s)||isNaN(r))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=a;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(p){return p.fromString(h,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),s,r,i,a,c,u)})}}(),wt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var r=0;r<this.internal.pages[s].length;r++)this.internal.pages[s][r]=this.internal.pages[s][r].replace(e,n);return this},wt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var s,r,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],u=0,d=0,h=0;function f(p,x){var v,y=!1;for(v=0;v<p.length;v+=1)p[v]===x&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=l.length;for(h=0;h<m;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if(Tn(t)==="object"){for(r in t)if(i=t[r],f(l,r)&&i!==void 0){if(n[r].type==="boolean"&&typeof i=="boolean")n[r].value=i;else if(n[r].type==="name"&&f(n[r].valueSet,i))n[r].value=i;else if(n[r].type==="integer"&&Number.isInteger(i))n[r].value=i;else if(n[r].type==="array"){for(u=0;u<i.length;u+=1)if(s=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(s=!1);s===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}n[r].value="["+c.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,x=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?x.push("/"+p+" /"+n[p].value):x.push("/"+p+" "+n[p].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+l.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(r+i+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(wt.API),function(t){var e=t.API,n=e.pdfEscape16=function(i,a){for(var l,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,f=i.length;h<f;++h){if(l=a.metadata.characterToGlyph(i.charCodeAt(h)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},s=function(i){var a,l,c,u,d,h,f;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(l=Object.keys(i).sort(function(m,p){return m-p})).length;h<f;h++)a=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",p=0;p<f.length;p++)m+=String.fromCharCode(f[p]);var x=u();d({data:m,addLength1:!0,objectId:x}),c("endobj");var v=u();d({data:s(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Hm(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var _=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Hm(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Hm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+_+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,f="",m=0;m<h.length;m++)f+=String.fromCharCode(h[m]);var p=u();d({data:f,addLength1:!0,objectId:p}),c("endobj");var x=u();d({data:s(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+p+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Hm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Hm(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var r=function(i){var a,l=i.text||"",c=i.x,u=i.y,d=i.options||{},h=i.mutex||{},f=h.pdfEscape,m=h.activeFontKey,p=h.fonts,x=m,v="",y=0,_="",N=p[x].encoding;if(p[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(_=l,x=m,Array.isArray(l)&&(_=l[0]),y=0;y<_.length;y+=1)p[x].metadata.hasOwnProperty("cmap")&&(a=p[x].metadata.cmap.unicode.codeMap[_[y].charCodeAt(0)]),a||_[y].charCodeAt(0)<256&&p[x].metadata.hasOwnProperty("Unicode")?v+=_[y]:v+="";var P="";return parseInt(x.slice(1))<14||N==="WinAnsiEncoding"?P=f(v,x).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(P=n(v,p[x])),h.isHex=!0,{text:P,x:c,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(i){var a=i.text||"",l=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?l.push([r(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):l.push(r(Object.assign({},c,{text:a[u]})).text);i.text=l}else i.text=r(Object.assign({},c,{text:a})).text}])}(wt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,s){return e.call(this),this.internal.vFS[n]=s,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(wt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var r,i,a,l,c,u,d,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,N=0;this.__bidiEngine__={};var P=function(E){var T=E.charCodeAt(),L=T>>8,z=x[L];return z!==void 0?h[256*z+(255&T)]:L===252||L===253?"AL":y.test(L)?"L":L===8?"R":"N"},I=function(E){for(var T,L=0;L<E.length;L++){if((T=P(E.charAt(L)))==="L")return!1;if(T==="R")return!0}return!1},D=function(E,T,L,z){var $,O,F,Q,V=T[z];switch(V){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(V="AN");break;case"AL":_=!0,V="R";break;case"WS":V="N";break;case"CS":z<1||z+1>=T.length||($=L[z-1])!=="EN"&&$!=="AN"||(O=T[z+1])!=="EN"&&O!=="AN"?V="N":_&&(O="AN"),V=O===$?O:"N";break;case"ES":V=($=z>0?L[z-1]:"B")==="EN"&&z+1<T.length&&T[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&L[z-1]==="EN"){V="EN";break}if(_){V="N";break}for(F=z+1,Q=T.length;F<Q&&T[F]==="ET";)F++;V=F<Q&&T[F]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(Q=T.length,F=z+1;F<Q&&T[F]==="NSM";)F++;if(F<Q){var W=E[z],Z=W>=1425&&W<=2303||W===64286;if($=T[F],Z&&($==="R"||$==="AL")){V="R";break}}}V=z<1||($=T[z-1])==="B"?"N":L[z-1];break;case"B":_=!1,r=!0,V=N;break;case"S":i=!0,V="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":V="N"}return V},C=function(E,T,L){var z=E.split("");return L&&w(z,L,{hiLevel:N}),z.reverse(),T&&T.reverse(),z.join("")},w=function(E,T,L){var z,$,O,F,Q,V=-1,W=E.length,Z=0,U=[],G=N?m:f,Y=[];for(_=!1,r=!1,i=!1,$=0;$<W;$++)Y[$]=P(E[$]);for(O=0;O<W;O++){if(Q=Z,U[O]=D(E,Y,U,O),z=240&(Z=G[Q][p[U[O]]]),Z&=15,T[O]=F=G[Z][5],z>0)if(z===16){for($=V;$<O;$++)T[$]=1;V=-1}else V=-1;if(G[Z][6])V===-1&&(V=O);else if(V>-1){for($=V;$<O;$++)T[$]=F;V=-1}Y[O]==="B"&&(T[O]=0),L.hiLevel|=F}i&&function(J,re,le){for(var ue=0;ue<le;ue++)if(J[ue]==="S"){re[ue]=N;for(var de=ue-1;de>=0&&J[de]==="WS";de--)re[de]=N}}(Y,T,W)},A=function(E,T,L,z,$){if(!($.hiLevel<E)){if(E===1&&N===1&&!r)return T.reverse(),void(L&&L.reverse());for(var O,F,Q,V,W=T.length,Z=0;Z<W;){if(z[Z]>=E){for(Q=Z+1;Q<W&&z[Q]>=E;)Q++;for(V=Z,F=Q-1;V<F;V++,F--)O=T[V],T[V]=T[F],T[F]=O,L&&(O=L[V],L[V]=L[F],L[F]=O);Z=Q}Z++}}},R=function(E,T,L){var z=E.split(""),$={hiLevel:N};return L||(L=[]),w(z,L,$),function(O,F,Q){if(Q.hiLevel!==0&&d)for(var V,W=0;W<O.length;W++)F[W]===1&&(V=v.indexOf(O[W]))>=0&&(O[W]=v[V+1])}(z,L,$),A(2,z,T,L,$),A(1,z,T,L,$),z.join("")};return this.__bidiEngine__.doBidiReorder=function(E,T,L){if(function($,O){if(O)for(var F=0;F<$.length;F++)O[F]=F;l===void 0&&(l=I($)),u===void 0&&(u=I($))}(E,T),a||!c||u)if(a&&c&&l^u)N=l?1:0,E=C(E,T,L);else if(!a&&c&&u)N=l?1:0,E=R(E,T,L),E=C(E,T);else if(!a||l||c||u){if(a&&!c&&l^u)E=C(E,T),l?(N=0,E=R(E,T,L)):(N=1,E=R(E,T,L),E=C(E,T));else if(a&&l&&!c&&u)N=1,E=R(E,T,L),E=C(E,T);else if(!a&&!c&&l^u){var z=d;l?(N=1,E=R(E,T,L),N=0,d=!1,E=R(E,T,L),d=z):(N=0,E=R(E,T,L),E=C(E,T),N=1,d=!1,E=R(E,T,L),d=z,E=C(E,T))}}else N=0,E=R(E,T,L);else N=l?1:0,E=R(E,T,L);return E},this.__bidiEngine__.setOptions=function(E){E&&(a=E.isInputVisual,c=E.isOutputVisual,l=E.isInputRtl,u=E.isOutputRtl,d=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var r=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(r)==="[object Array]"){var l=0;for(a=[],l=0;l<r.length;l+=1)Object.prototype.toString.call(r[l])==="[object Array]"?a.push([n.doBidiReorder(r[l][0]),r[l][1],r[l][2]]):a.push([n.doBidiReorder(r[l])]);s.text=a}else s.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(wt),wt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Wd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new L1e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new v1e(this.contents),this.head=new _1e(this),this.name=new A1e(this),this.cmap=new eq(this),this.toUnicode={},this.hhea=new N1e(this),this.maxp=new T1e(this),this.hmtx=new C1e(this),this.post=new j1e(this),this.os2=new S1e(this),this.loca=new I1e(this),this.glyf=new k1e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,s,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,u;for(u=[],a=0,l=(c=this.bbox).length;a<l;a++)e=c[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(s=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,s){var r,i,a,l;for(a=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)r=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(r))+s*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var s;return n==null&&(n=!1),s=n?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},t}();var Uo,Wd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,s;for(s=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)s[n]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(e){var n,s,r;for(r=[],n=0,s=e.length;0<=s?n<s:n>s;n=0<=s?++n:--n)r.push(this.writeByte(e.charCodeAt(n)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,s,r,i,a,l,c;return e=this.readByte(),n=this.readByte(),s=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^s)+4294967296*(255^r)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*s+4294967296*r+16777216*i+65536*a+256*l+c},t.prototype.writeLongLong=function(e){var n,s;return n=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,s;for(n=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)n.push(this.readByte());return n},t.prototype.write=function(e){var n,s,r,i;for(i=[],s=0,r=e.length;s<r;s++)n=e[s],i.push(this.writeByte(n));return i},t}(),v1e=function(){var t;function e(n){var s,r,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,i=this.tableCount;0<=i?r<i:r>i;r=0<=i?++r:--r)s={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(n){var s,r,i,a,l,c,u,d,h,f,m,p,x;for(x in m=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(m)/c),a=Math.floor(h/c),d=16*m-h,(r=new Wd).writeInt(this.scalarType),r.writeShort(m),r.writeShort(h),r.writeShort(a),r.writeShort(d),i=16*m,u=r.pos+i,l=null,p=[],n)for(f=n[x],r.writeString(x),r.writeInt(t(f)),r.writeInt(u),r.writeInt(f.length),p=p.concat(f),x==="head"&&(l=u),u+=f.length;u%4;)p.push(0),u++;return r.write(p),s=2981146554-t(r.data),r.pos=l+8,r.writeUInt32(s),r.data},t=function(n){var s,r,i,a;for(n=tq.call(n);n.length%4;)n.push(0);for(i=new Wd(n),r=0,s=0,a=n.length;s<a;s=s+=4)r+=i.readUInt32();return 4294967295&r},e}(),w1e={}.hasOwnProperty,Ol=function(t,e){for(var n in e)w1e.call(e,n)&&(t[n]=e[n]);function s(){this.constructor=t}return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};Uo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var _1e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,Uo),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var s;return(s=new Wd).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(n),s.writeShort(this.glyphDataFormat),s.data},e}(),m7=function(){function t(e,n){var s,r,i,a,l,c,u,d,h,f,m,p,x,v,y,_,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),f=m/2,e.pos+=6,i=function(){var P,I;for(I=[],c=P=0;0<=f?P<f:P>f;c=0<=f?++P:--P)I.push(e.readUInt16());return I}(),e.pos+=2,x=function(){var P,I;for(I=[],c=P=0;0<=f?P<f:P>f;c=0<=f?++P:--P)I.push(e.readUInt16());return I}(),u=function(){var P,I;for(I=[],c=P=0;0<=f?P<f:P>f;c=0<=f?++P:--P)I.push(e.readUInt16());return I}(),d=function(){var P,I;for(I=[],c=P=0;0<=f?P<f:P>f;c=0<=f?++P:--P)I.push(e.readUInt16());return I}(),r=(this.length-e.pos+this.offset)/2,l=function(){var P,I;for(I=[],c=P=0;0<=r?P<r:P>r;c=0<=r?++P:--P)I.push(e.readUInt16());return I}(),c=y=0,N=i.length;y<N;c=++y)for(v=i[c],s=_=p=x[c];p<=v?_<=v:_>=v;s=p<=v?++_:--_)d[c]===0?a=s+u[c]:(a=l[d[c]/2+(s-p)-(f-c)]||0)!==0&&(a+=u[c]),this.codeMap[s]=65535&a}e.pos=h}return t.encode=function(e,n){var s,r,i,a,l,c,u,d,h,f,m,p,x,v,y,_,N,P,I,D,C,w,A,R,E,T,L,z,$,O,F,Q,V,W,Z,U,G,Y,J,re,le,ue,de,_e,Ae,Le;switch(z=new Wd,a=Object.keys(e).sort(function(Ie,Xe){return Ie-Xe}),n){case"macroman":for(x=0,v=function(){var Ie=[];for(p=0;p<256;++p)Ie.push(0);return Ie}(),_={0:0},i={},$=0,V=a.length;$<V;$++)_[de=e[r=a[$]]]==null&&(_[de]=++x),i[r]={old:e[r],new:_[e[r]]},v[r]=_[e[r]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(v),{charMap:i,subtable:z.data,maxGlyphID:x+1};case"unicode":for(T=[],h=[],N=0,_={},s={},y=u=null,O=0,W=a.length;O<W;O++)_[I=e[r=a[O]]]==null&&(_[I]=++N),s[r]={old:I,new:_[I]},l=_[I]-r,y!=null&&l===u||(y&&h.push(y),T.push(r),u=l),y=r;for(y&&h.push(y),h.push(65535),T.push(65535),R=2*(A=T.length),w=2*Math.pow(Math.log(A)/Math.LN2,2),f=Math.log(w/2)/Math.LN2,C=2*A-w,c=[],D=[],m=[],p=F=0,Z=T.length;F<Z;p=++F){if(E=T[p],d=h[p],E===65535){c.push(0),D.push(0);break}if(E-(L=s[E].new)>=32768)for(c.push(0),D.push(2*(m.length+A-p)),r=Q=E;E<=d?Q<=d:Q>=d;r=E<=d?++Q:--Q)m.push(s[r].new);else c.push(L-E),D.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*A+2*m.length),z.writeUInt16(0),z.writeUInt16(R),z.writeUInt16(w),z.writeUInt16(f),z.writeUInt16(C),le=0,U=h.length;le<U;le++)r=h[le],z.writeUInt16(r);for(z.writeUInt16(0),ue=0,G=T.length;ue<G;ue++)r=T[ue],z.writeUInt16(r);for(_e=0,Y=c.length;_e<Y;_e++)l=c[_e],z.writeUInt16(l);for(Ae=0,J=D.length;Ae<J;Ae++)P=D[Ae],z.writeUInt16(P);for(Le=0,re=m.length;Le<re;Le++)x=m[Le],z.writeUInt16(x);return{charMap:s,subtable:z.data,maxGlyphID:N+1}}},t}(),eq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,Uo),e.prototype.tag="cmap",e.prototype.parse=function(n){var s,r,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)s=new m7(n,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},e.encode=function(n,s){var r,i;return s==null&&(s="macroman"),r=m7.encode(n,s),(i=new Wd).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),N1e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,Uo),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),S1e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,Uo),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var s,r;for(r=[],s=0;s<10;++s)r.push(n.readByte());return r}(),this.charRange=function(){var s,r;for(r=[],s=0;s<4;++s)r.push(n.readInt());return r}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var s,r;for(r=[],s=0;s<2;s=++s)r.push(n.readInt());return r}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),j1e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,Uo),e.prototype.tag="post",e.prototype.parse=function(n){var s,r,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(r=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)s=n.readByte(),i.push(this.names.push(n.readString(s)));return i;case 151552:return r=n.readUInt16(),this.offsets=n.read(r);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)u.push(n.readUInt32());return u}).call(this)}},e}(),E1e=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},A1e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,Uo),e.prototype.tag="name",e.prototype.parse=function(n){var s,r,i,a,l,c,u,d,h,f,m;for(n.pos=this.offset,n.readShort(),s=n.readShort(),c=n.readShort(),r=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)r.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(u={},a=h=0,f=r.length;h<f;a=++h)i=r[a],n.pos=i.offset,d=n.readString(i.length),l=new E1e(d,i),u[m=i.nameID]==null&&(u[m]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),T1e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,Uo),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),C1e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,Uo),e.prototype.tag="hmtx",e.prototype.parse=function(n){var s,r,i,a,l,c,u;for(n.pos=this.offset,this.metrics=[],s=0,c=this.file.hhea.numberOfMetrics;0<=c?s<c:s>c;s=0<=c?++s:--s)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],s=d=0;0<=i?d<i:d>i;s=0<=i?++d:--d)h.push(n.readInt16());return h}(),this.widths=(function(){var d,h,f,m;for(m=[],d=0,h=(f=this.metrics).length;d<h;d++)a=f[d],m.push(a.advance);return m}).call(this),r=this.widths[this.widths.length-1],u=[],s=l=0;0<=i?l<i:l>i;s=0<=i?++l:--l)u.push(this.widths.push(r));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),tq=[].slice,k1e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,Uo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var s,r,i,a,l,c,u,d,h,f;return n in this.cache?this.cache[n]:(a=this.file.loca,s=this.file.contents,r=a.indexOf(n),(i=a.lengthOf(n))===0?this.cache[n]=null:(s.pos=this.offset+r,l=(c=new Wd(s.read(i))).readShort(),d=c.readShort(),f=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[n]=l===-1?new R1e(c,d,f,u,h):new P1e(c,l,d,f,u,h),this.cache[n]))},e.prototype.encode=function(n,s,r){var i,a,l,c,u;for(l=[],a=[],c=0,u=s.length;c<u;c++)i=n[s[c]],a.push(l.length),i&&(l=l.concat(i.encode(r)));return a.push(l.length),{table:l,offsets:a}},e}(),P1e=function(){function t(e,n,s,r,i,a){this.raw=e,this.numberOfContours=n,this.xMin=s,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),R1e=function(){function t(e,n,s,r,i){var a,l;for(this.raw=e,this.xMin=n,this.yMin=s,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,s;for(n=new Wd(tq.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),I1e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,Uo),e.prototype.tag="loca",e.prototype.parse=function(n){var s,r;return n.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,s){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<r.length;++l)if(r[l]=i,a<s.length&&s[a]==l){++a,r[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*r.length),h=0;h<r.length;++h)d[4*h+3]=255&r[h],d[4*h+2]=(65280&r[h])>>8,d[4*h+1]=(16711680&r[h])>>16,d[4*h]=(4278190080&r[h])>>24;return d},e}(),L1e=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,s,r,i;for(n in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)s=i[n],e[n]=r[s];return e},t.prototype.glyphsFor=function(e){var n,s,r,i,a,l,c;for(r={},a=0,l=e.length;a<l;a++)r[i=e[a]]=this.font.glyf.glyphFor(i);for(i in n=[],r)(s=r[i])!=null&&s.compound&&n.push.apply(n,s.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))s=c[i],r[i]=s;return r},t.prototype.encode=function(e,n){var s,r,i,a,l,c,u,d,h,f,m,p,x,v,y;for(r in s=eq.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},y=s.charMap)m[(c=y[r]).old]=c.new;for(p in f=s.maxGlyphID,a)p in m||(m[p]=f++);return d=function(_){var N,P;for(N in P={},_)P[_[N]]=N;return P}(m),h=Object.keys(d).sort(function(_,N){return _-N}),x=function(){var _,N,P;for(P=[],_=0,N=h.length;_<N;_++)l=h[_],P.push(d[l]);return P}(),i=this.font.glyf.encode(a,x,m),u=this.font.loca.encode(i.offsets,x),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t}();wt.API.PDFObject=function(){var t;function e(){}return t=function(n,s){return(Array(s+1).join("0")+n).slice(-s)},e.convert=function(n){var s,r,i,a;if(Array.isArray(n))return"["+function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)s=n[l],u.push(e.convert(s));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in i=["<<"],n)a=n[r],i.push("/"+r+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+n},e}();const hT=async(t,e,n)=>{const s=Math.min(e,n),r=document.createElement("canvas");r.width=s,r.height=s;const i=r.getContext("2d");if(!i)throw new Error("Could not create image. Please try again.");i.fillStyle=t.containerBackgroundColor||"transparent",i.fillRect(0,0,s,s);const a=10,l=s-2*a,c=document.createElement("canvas");c.width=l,c.height=l;try{await Zf.toCanvas(c,t.url,{errorCorrectionLevel:t.errorCorrectionLevel||"L",width:l,height:l,margin:0,color:{dark:t.color||"#000000",light:t.backgroundColor||"transparent"}})}catch(h){throw console.error("QR Code generation error:",h),new Error("Failed to generate QR Code.")}const u=a,d=a;if(i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(c,u,d,l,l),t.logoDataUrl){const h=l*.2,f=u+(l-h)/2,m=d+(l-h)/2,p=h*.1,x=h/2;i.beginPath(),i.arc(f+x,m+x,x+p,0,2*Math.PI),i.fillStyle="#FFFFFF",i.fill(),i.save(),i.beginPath(),i.arc(f+x,m+x,x,0,2*Math.PI),i.closePath(),i.clip();const v=new Image;v.crossOrigin="anonymous",await new Promise((y,_)=>{v.onload=()=>{i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(v,f,m,h,h),i.restore(),y()},v.onerror=N=>{console.error("Logo load error:",N),_(N)},v.src=t.logoDataUrl})}return r};class M1e{constructor(e,n){this.collectionName=e,this.qrCodeData=n}async generate(e,n=300){return this.generateWithProgress(e,n)}async generateWithProgress(e,n=300,s,r=0){console.time("StandardPDFGenerator.generate"),console.time("StandardPDFGenerator.generate.calculateDimensions");const{pdfWidth:i,pdfHeight:a}=this.calculateDimensions(e,n);console.timeEnd("StandardPDFGenerator.generate.calculateDimensions");const l=new wt({orientation:i>a?"landscape":"portrait",unit:"px",format:[i,a],compress:!0});console.time("StandardPDFGenerator.generate.addCoverPage"),this.addCoverPage(l,i,a),s==null||s(r+1),console.timeEnd("StandardPDFGenerator.generate.addCoverPage"),console.time("StandardPDFGenerator.generate.qrCodeLoop");for(let c=0;c<this.qrCodeData.length;c++){const u=this.qrCodeData[c];!u||!u.url||(l.addPage(),await this.generateQRCodePage(l,u,i,a,e,n),await new Promise(d=>setTimeout(d,10)),s==null||s(r+2+c))}return console.timeEnd("StandardPDFGenerator.generate.qrCodeLoop"),console.timeEnd("StandardPDFGenerator.generate"),l}calculateDimensions(e,n){console.time("StandardPDFGenerator.calculateDimensions");const s=aT(e,n);return s?(console.timeEnd("StandardPDFGenerator.calculateDimensions"),{pdfWidth:s[0],pdfHeight:s[1]}):(console.timeEnd("StandardPDFGenerator.calculateDimensions"),{pdfWidth:2480,pdfHeight:3508})}addCoverPage(e,n,s){console.time("StandardPDFGenerator.addCoverPage"),e.setFillColor("#FFFFFF"),e.rect(0,0,n,s,"F");const r=Math.min(n,s)/2480,i=Math.max(24,48*r),a=Math.max(12,24*r),l=Math.max(16,32*r),u=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),h=[{text:this.collectionName,fontSize:i,color:"#333333"},{text:`Downloaded on: ${u}`,fontSize:a,color:"#777777"},{text:"Thank you for using our service!",fontSize:l,color:"#333333"}],f=20*r,m=h.reduce((x,v)=>x+v.fontSize,0)+f*(h.length-1);let p=(s-m)/2;h.forEach(x=>{e.setFontSize(x.fontSize),e.setTextColor(x.color);const v=e.getTextWidth(x.text),y=(n-v)/2;e.text(x.text,y,p+x.fontSize*.75),p+=x.fontSize+f}),console.timeEnd("StandardPDFGenerator.addCoverPage")}async generateQRCodePage(e,n,s,r,i,a){console.time("StandardPDFGenerator.generateQRCodePage"),e.setFillColor("#FFFFFF"),e.rect(0,0,s,r,"F");const l=Math.round(.07*Math.min(s,r)),c=Math.round(.63*Math.min(s,r)),u=Math.round(c*.12),d=Math.round(c*.07),h=Math.max(9,Math.round(c*.055));let f=l+u;e.setFont("helvetica","bold"),e.setFontSize(u),e.setTextColor("#212121");const m=n.name;e.text(m,s/2,f,{align:"center"}),console.time("StandardPDFGenerator.generateQRCodePage.generateQRCodeCanvas"),f+=l;const p=Math.min(1200*(a/300),2400),x=await hT(n,p,p);console.timeEnd("StandardPDFGenerator.generateQRCodePage.generateQRCodeCanvas");const v=(s-c)/2;console.time("StandardPDFGenerator.generateQRCodePage.toDataURL");const y=x.toDataURL("image/png");console.timeEnd("StandardPDFGenerator.generateQRCodePage.toDataURL"),console.time("StandardPDFGenerator.generateQRCodePage.addImage"),e.addImage(y,"PNG",v,f,c,c),console.timeEnd("StandardPDFGenerator.generateQRCodePage.addImage"),f+=c+l/2,e.setFont("helvetica","normal"),e.setFontSize(h),e.setTextColor("#6b7280"),e.text("Scan me with your smartphone camera.",s/2,f,{align:"center"}),f+=h+l/4,e.setFont("helvetica","normal"),e.setFontSize(d),e.setTextColor("#009688"),e.text(n.url,s/2,f,{align:"center"}),f=r-l*1.2,e.setFontSize(h),e.setTextColor("#bdbdbd");const _=n.createdAt?`Created: ${new Date(n.createdAt).toLocaleDateString()}`:"";_&&e.text(_,l+5,f);const N=`© ${new Date().getFullYear()} FlashQR`;e.text(N,s-l-5,f,{align:"right"}),console.timeEnd("StandardPDFGenerator.generateQRCodePage")}}class D1e{constructor(e,n,s,r,i,a,l){this.qrCodeData=e,this.showQrCodeName=n,this.enableCustomLayout=s,this.customWidth=r,this.customHeight=i,this.sizeUnit=a,this.dpi=l}async generate(e){return this.generateWithProgress(e)}async generateWithProgress(e,n,s=0){console.time("MinimalPDFGenerator.generate"),console.time("MinimalPDFGenerator.generate.calculateDimensions");const{pdfWidth:r,pdfHeight:i}=this.calculateDimensions(e);console.timeEnd("MinimalPDFGenerator.generate.calculateDimensions");const a=new wt({orientation:r>i?"landscape":"portrait",unit:"px",format:[r,i],compress:!0});console.time("MinimalPDFGenerator.generate.qrCodeLoop");for(let l=0;l<this.qrCodeData.length;l++){const c=this.qrCodeData[l];!c||!c.url||(l>0&&a.addPage(),await this.generateQRCodePage(a,c,r,i,e),await new Promise(u=>setTimeout(u,10)),n==null||n(s+1+l))}return console.timeEnd("MinimalPDFGenerator.generate.qrCodeLoop"),console.timeEnd("MinimalPDFGenerator.generate"),a}calculateDimensions(e){if(console.time("MinimalPDFGenerator.calculateDimensions"),this.enableCustomLayout&&this.customWidth&&this.customHeight){const s=L$(this.customWidth,this.customHeight,this.dpi);if(!s.isValid)throw new Error(s.error);const r=parseFloat(this.customWidth),i=parseFloat(this.customHeight);return console.timeEnd("MinimalPDFGenerator.calculateDimensions"),{pdfWidth:pw(r,this.sizeUnit,this.dpi),pdfHeight:pw(i,this.sizeUnit,this.dpi)}}const n=aT(e,this.dpi);return n?(console.timeEnd("MinimalPDFGenerator.calculateDimensions"),{pdfWidth:n[0],pdfHeight:n[1]}):(console.timeEnd("MinimalPDFGenerator.calculateDimensions"),{pdfWidth:2480,pdfHeight:3508})}async generateQRCodePage(e,n,s,r,i){console.time("MinimalPDFGenerator.generateQRCodePage"),e.setFillColor("#FFFFFF"),e.rect(0,0,s,r,"F"),console.time("MinimalPDFGenerator.generateQRCodePage.generateQRCodeCanvas");const a=Math.min(1200*(this.dpi/300),2400),l=await hT(n,a,a);console.timeEnd("MinimalPDFGenerator.generateQRCodePage.generateQRCodeCanvas"),console.time("MinimalPDFGenerator.generateQRCodePage.toDataURL");const c=l.toDataURL("image/png");console.timeEnd("MinimalPDFGenerator.generateQRCodePage.toDataURL"),console.time("MinimalPDFGenerator.generateQRCodePage.addImage");const u=Math.min(s,r)*.7,d=(s-u)/2,h=(r-u)/2;e.addImage(c,"PNG",d,h,u,u,void 0,"FAST"),console.timeEnd("MinimalPDFGenerator.generateQRCodePage.addImage"),this.showQrCodeName&&this.addQRCodeName(e,n,s,h,u,i),console.timeEnd("MinimalPDFGenerator.generateQRCodePage")}addQRCodeName(e,n,s,r,i,a){console.time("MinimalPDFGenerator.addQRCodeName");const l=this.dpi/300*(Math.min(s,3508)/2480),c=Math.max(8,18*l),u=Math.max(15,30*l);e.setFontSize(c),e.setTextColor("#333333");const d=e.getTextWidth(n.name),h=(s-d)/2,f=r+i+u;e.text(n.name,h,f),console.timeEnd("MinimalPDFGenerator.addQRCodeName")}}class O1e{constructor(e,n,s,r,i,a,l,c,u){this.qrCodeData=e,this.qrCodesPerPage=n,this.showQrCodeName=s,this.addCutLineGuides=r,this.enableCustomLayout=i,this.customWidth=a,this.customHeight=l,this.sizeUnit=c,this.dpi=u}async generate(e){return this.generateWithProgress(e)}async generateWithProgress(e,n,s=0){console.time("GridPDFGenerator.generate"),console.time("GridPDFGenerator.generate.calculateDimensions");const{pdfWidth:r,pdfHeight:i}=this.calculateDimensions(e);console.timeEnd("GridPDFGenerator.generate.calculateDimensions");const a=new wt({orientation:r>i?"landscape":"portrait",unit:"px",format:[r,i],compress:!0});console.time("GridPDFGenerator.generate.calculateGrid");const{cols:l,rows:c}=this.calculateGrid();console.timeEnd("GridPDFGenerator.generate.calculateGrid"),console.time("GridPDFGenerator.generate.calculateLayout");const u=this.calculateLayout(r,i,l,c);console.timeEnd("GridPDFGenerator.generate.calculateLayout");let d=0;const h=Math.ceil(this.qrCodeData.length/this.qrCodesPerPage);console.time("GridPDFGenerator.generate.pageLoop");for(let f=0;f<h;f++)f>0&&a.addPage(),a.setFillColor("#FFFFFF"),a.rect(0,0,r,i,"F"),d=await this.generateGridPage(a,f,d,l,c,u,e),await new Promise(m=>setTimeout(m,10)),n==null||n(s+1+f);return console.timeEnd("GridPDFGenerator.generate.pageLoop"),console.timeEnd("GridPDFGenerator.generate"),a}calculateDimensions(e){if(console.time("GridPDFGenerator.calculateDimensions"),this.enableCustomLayout&&this.customWidth&&this.customHeight){const s=L$(this.customWidth,this.customHeight,this.dpi);if(!s.isValid)throw new Error(s.error);const r=parseFloat(this.customWidth),i=parseFloat(this.customHeight);return console.timeEnd("GridPDFGenerator.calculateDimensions"),{pdfWidth:pw(r,this.sizeUnit,this.dpi),pdfHeight:pw(i,this.sizeUnit,this.dpi)}}const n=aT(e,this.dpi);return n?(console.timeEnd("GridPDFGenerator.calculateDimensions"),{pdfWidth:n[0],pdfHeight:n[1]}):(console.timeEnd("GridPDFGenerator.calculateDimensions"),{pdfWidth:2480,pdfHeight:3508})}calculateGrid(){console.time("GridPDFGenerator.calculateGrid");let e=Math.floor(Math.sqrt(this.qrCodesPerPage)),n=Math.ceil(this.qrCodesPerPage/e);return e*n<this.qrCodesPerPage&&(e++,e*n<this.qrCodesPerPage&&n++),console.timeEnd("GridPDFGenerator.calculateGrid"),{cols:e,rows:n}}calculateLayout(e,n,s,r){console.time("GridPDFGenerator.calculateLayout");const i=this.dpi/300,a=20*i,l=20*i,c=40*i,u=10*i,d=45*i,h=e-2*a,f=n-l-c,m=(s-1)*u,p=(r-1)*d,x=(h-m)/s,v=(f-p)/r,y=Math.min(x,v),_=s*y+(s-1)*u,N=r*y+(r-1)*d,P=(e-_)/2,I=l+(f-N)/2;return console.timeEnd("GridPDFGenerator.calculateLayout"),{qrCodeSize:y,startX:P,startY:I,horizontalSpacing:u,verticalSpacing:d}}async generateGridPage(e,n,s,r,i,a,l){console.time("GridPDFGenerator.generateGridPage");let c=s;for(let u=0;u<i;u++)for(let d=0;d<r;d++){if(c>=this.qrCodeData.length)return console.timeEnd("GridPDFGenerator.generateGridPage"),c;const h=this.qrCodeData[c];if(!h||!h.url){c++;continue}const f=a.startX+d*(a.qrCodeSize+a.horizontalSpacing),m=a.startY+u*(a.qrCodeSize+a.verticalSpacing);await this.renderQRCodeInGrid(e,h,f,m,a.qrCodeSize,l),c++}return console.timeEnd("GridPDFGenerator.generateGridPage"),c}async renderQRCodeInGrid(e,n,s,r,i,a){console.time("GridPDFGenerator.renderQRCodeInGrid"),console.time("GridPDFGenerator.renderQRCodeInGrid.generateQRCodeCanvas");const l=Math.min(1200*(this.dpi/300),2400),c=await hT(n,l,l);console.timeEnd("GridPDFGenerator.renderQRCodeInGrid.generateQRCodeCanvas"),console.time("GridPDFGenerator.renderQRCodeInGrid.toDataURL");const u=c.toDataURL("image/png");console.timeEnd("GridPDFGenerator.renderQRCodeInGrid.toDataURL"),console.time("GridPDFGenerator.renderQRCodeInGrid.addImage"),e.addImage(u,"PNG",s,r,i,i,void 0,"FAST"),console.timeEnd("GridPDFGenerator.renderQRCodeInGrid.addImage"),this.showQrCodeName&&this.addQRCodeNameInGrid(e,n,s,r,i,a),this.addCutLineGuides&&this.addCutLines(e,s,r,i),console.timeEnd("GridPDFGenerator.renderQRCodeInGrid")}addQRCodeNameInGrid(e,n,s,r,i,a){console.time("GridPDFGenerator.addQRCodeNameInGrid");const l=this.dpi/300,c=Math.max(8,20*l),u=Math.max(9,18*l);e.setFontSize(c),e.setTextColor("#333333");const d=e.getTextWidth(n.name),h=s+(i-d)/2,f=r+i+u;e.text(n.name,h,f),console.timeEnd("GridPDFGenerator.addQRCodeNameInGrid")}addCutLines(e,n,s,r){console.time("GridPDFGenerator.addCutLines");const i=Math.max(.25,.5*(this.dpi/300));e.setDrawColor("#ccc"),e.setLineWidth(i),e.line(n,s,n+r,s),e.line(n,s,n,s+r),e.line(n+r,s,n+r,s+r),e.line(n,s+r,n+r,s+r),console.timeEnd("GridPDFGenerator.addCutLines")}}const F1e=({collectionName:t,qrCodeData:e})=>{const[n,s]=j.useState(!1),[r,i]=j.useState(null),[a,l]=j.useState(GI),[c,u]=j.useState(GI),[d,h]=j.useState(i_),[f,m]=j.useState(!0),[p,x]=j.useState("8.5"),[v,y]=j.useState("11"),[_,N]=j.useState(4),[P,I]=j.useState(!1),[D,C]=j.useState(!1),[w,A]=j.useState("idle"),[R,E]=j.useState(null),[T,L]=j.useState(!1),[z,$]=j.useState(0),[O,F]=j.useState(null),[Q,V]=j.useState(!1),[W,Z]=j.useState("in"),[U,G]=j.useState(!0),[Y,J]=j.useState(null),re=j.useRef(null),le={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.2}},exit:{opacity:0,scale:.95,transition:{duration:.15}}},ue=j.useCallback(async()=>{if(!r){J("Please select an export style.");return}if(!e||e.length===0){J("No QR codes available for export.");return}const Ne=new AbortController;F(Ne),C(!0),J(null),A("processing"),E(null),$(0);try{let ke;const Ve=e.length+2;let $e=0;const Te=Ge=>{if(Ne.signal.aborted)throw new Error("Generation cancelled");const rt=Math.round(Ge/Ve*100);$(rt)};switch(Te(++$e),r){case"standard":ke=await new M1e(t,e).generateWithProgress(a,d,Te,$e);break;case"minimal":ke=await new D1e(e,f,Q,p,v,W,d).generateWithProgress(c,Te,$e);break;case"grid":ke=await new O1e(e,_,f,P,Q,p,v,W,d).generateWithProgress(a,Te,$e);break;default:throw new Error("Invalid export style selected")}if(Ne.signal.aborted)throw new Error("Generation cancelled");if(Te(Ve),!ke)throw new Error("Failed to generate PDF");const ze=`collection_${t.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`;ke.save(ze),A("success"),$(100)}catch(ke){ke.message==="Generation cancelled"?(A("idle"),$(0)):(console.error("PDF generation error:",ke),E(ke.message||"Failed to generate PDF"),A("failure"))}finally{C(!1),F(null)}},[r,t,e,a,c,d,f,Q,p,v,W,_,P]),de=j.useCallback(async()=>{ue()},[ue]),_e=()=>{O&&O.abort(),C(!1),A("idle"),$(0),F(null)},Ae=()=>{L(!0)},Le=()=>{L(!1)},Ie=()=>{if(!e||e.length===0){J("No QR codes available for export.");return}s(!0),document.body.style.overflow="hidden",A("idle"),E(null),i(null),J(null)},Xe=()=>{s(!1),document.body.style.overflow="",A("idle"),E(null),i(null),J(null)},ye=Ne=>{i(Ne),J(null)},ae=()=>{A("idle"),E(null),i(null),J(null)},nt=()=>!T||!D?null:o.jsxs(he.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-4 right-4 z-50 bg-white rounded-lg shadow-xl border border-gray-200 p-4 min-w-[280px]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Generating PDF..."}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:Le,className:"text-gray-400 hover:text-gray-600 p-1",title:"Restore window",children:o.jsx(Moe,{className:"w-4 h-4"})}),o.jsx("button",{onClick:_e,className:"text-gray-400 hover:text-red-600 p-1",title:"Cancel generation",children:o.jsx(bs,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${z}%`}})}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[z,"% complete"]})]}),Je=()=>{switch(r){case"standard":return o.jsx(Rxe,{selectedSize:a,onSizeChange:l,dpi:d,onDpiChange:h,autoLayoutOptimization:U,onAutoLayoutChange:G});case"minimal":return o.jsx(Lxe,{pdfSizeMinimal:c,onPdfSizeMinimalChange:u,dpi:d,onDpiChange:h,enableCustomLayout:Q,onEnableCustomLayoutChange:V,sizeUnit:W,onSizeUnitChange:Z,customWidth:p,onCustomWidthChange:x,customHeight:v,onCustomHeightChange:y,showQrCodeName:f,onShowQrCodeNameChange:m});case"grid":return o.jsx(Mxe,{selectedSize:a,onSizeChange:l,dpi:d,onDpiChange:h,enableCustomLayout:Q,onEnableCustomLayoutChange:V,sizeUnit:W,onSizeUnitChange:Z,customWidth:p,onCustomWidthChange:x,customHeight:v,onCustomHeightChange:y,qrCodesPerPage:_,onQrCodesPerPageChange:N,showQrCodeName:f,onShowQrCodeNameChange:m,addCutLineGuides:P,onAddCutLineGuidesChange:I,qrCodeData:e});default:return null}},Oe=()=>w==="processing"?o.jsx("div",{className:"text-center py-8 px-4",children:o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Generating PDF..."}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Please wait while we create your collection PDF."}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:o.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${z}%`}})}),o.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[z,"% complete"]}),o.jsxs("div",{className:"flex justify-center space-x-3",children:[o.jsxs("button",{onClick:Ae,className:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm",children:[o.jsx(loe,{className:"w-4 h-4 mr-2"}),"Hide"]}),o.jsxs("button",{onClick:_e,className:"inline-flex items-center px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition-colors text-sm",children:[o.jsx(bs,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})}):w==="success"?o.jsx(Txe,{status:w,error:R,onDownloadAgain:ae,onClose:Xe}):w==="failure"?o.jsxs("div",{className:"text-center py-8 px-4",children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(bs,{className:"w-6 h-6 text-red-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-2",children:"Download Failed"}),o.jsx("p",{className:"text-red-500 mb-4",children:R}),o.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md text-sm",onClick:ae,children:"Try Again"})]}):o.jsx(o.Fragment,{children:r?o.jsxs("div",{children:[o.jsxs("button",{className:"inline-flex items-center text-gray-500 hover:text-gray-700 mb-4",onClick:()=>i(null),children:[o.jsx(Bd,{className:"h-4 w-4 mr-1"}),"Back to Export Styles"]}),Je(),Y&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-red-700 text-sm",children:Y})}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[o.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-md text-sm",onClick:Xe,children:"Cancel"}),o.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed",onClick:de,disabled:D||!(e!=null&&e.length),children:D?"Generating...":"Download PDF"})]})]}):o.jsx(Cxe,{onStyleSelect:ye})});return j.useEffect(()=>{const Ne=ke=>{re.current&&!re.current.contains(ke.target)&&Xe()};return n&&document.addEventListener("mousedown",Ne),()=>{document.removeEventListener("mousedown",Ne)}},[n]),j.useEffect(()=>()=>{document.body.style.overflow=""},[]),o.jsxs("div",{children:[o.jsxs("button",{onClick:Ie,disabled:D||!(e!=null&&e.length),className:"w-full py-2 px-4 bg-green-600 text-white rounded-xl shadow-md hover:bg-green-700 transition-all duration-300 inline-flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Download Collection as PDF",children:[o.jsx(Vc,{className:"h-5 w-5 mr-2"}),D?"Generating...":"Export PDF"]}),o.jsx(Zt,{children:n&&o.jsx(he.div,{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center p-4",initial:"hidden",animate:"visible",exit:"exit",variants:le,onClick:Xe,children:o.jsxs(he.div,{className:"bg-white rounded-2xl shadow-xl w-full max-w-md relative overflow-hidden max-h-[90vh]",variants:le,ref:re,onClick:Ne=>Ne.stopPropagation(),children:[o.jsx("button",{onClick:Xe,className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700 z-10","aria-label":"Close",children:o.jsx(bs,{className:"h-5 w-5"})}),o.jsx("div",{className:"py-6 px-4 overflow-y-auto max-h-[80vh]",children:o.jsx(Oe,{})})]})})}),o.jsx(Zt,{children:o.jsx(nt,{})})]})},B1e=({isOpen:t,onClose:e,onConfirm:n,collectionName:s})=>{const r={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{duration:.2,ease:"easeInOut"}},exit:{opacity:0,scale:.9,transition:{duration:.15,ease:"easeInOut"}}};return Re.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),o.jsx(Zt,{children:t&&o.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:"hidden",animate:"visible",exit:"exit",variants:r,onClick:e,children:o.jsxs(he.div,{className:"relative bg-white rounded-2xl shadow-lg max-w-md w-full mx-4 p-6",onClick:i=>i.stopPropagation(),children:[o.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:o.jsx(Vd,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center rounded-full bg-red-100 p-3 mx-auto mb-4",children:o.jsx(ma,{className:"h-8 w-8 text-red-600"})}),o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:['Delete Collection "',s,'"?']}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Are you sure you want to delete this collection? This action cannot be undone. All QR codes within the collection will remain."})]}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:e,className:"py-2 px-5 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Cancel"}),o.jsx("button",{onClick:n,className:"py-2 px-5 bg-red-600 text-white rounded-xl shadow-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Confirm Delete"})]})]})})})},V1e=(t,e,n=!1)=>{if(e<=1)return[];if(n)return{currentPage:t,totalPages:e};const s=7,r=[];if(e<=s){for(let c=1;c<=e;c++)r.push(c);return r}r.push(1);const i=Math.floor((s-2)/2);let a=Math.max(2,t-i),l=Math.min(e-1,t+i);t<=i+1&&(l=Math.min(s-1,e-1)),t>=e-i&&(a=Math.max(2,e-s+2)),a>2&&r.push("...");for(let c=a;c<=l;c++)r.push(c);return l<e-1&&r.push("..."),e>1&&r.push(e),r.filter((c,u,d)=>u===0||c!==d[u-1])},nq=({limit:t,mode:e="grid",showMoreLink:n=!1,isDashboard:s=!1})=>{const{user:r}=_s(),i=vr(),[a,l]=j.useState([]),[c,u]=j.useState([]),[d,h]=j.useState(!0),[f,m]=j.useState(null),[p,x]=j.useState("Free"),[v,y]=j.useState(1),[_,N]=j.useState(null),[P,I]=j.useState(null),[D,C]=j.useState(!1),[w,A]=j.useState(""),[R,E]=j.useState(null),[T,L]=j.useState(!1),[z,$]=j.useState(null),[O,F]=j.useState(null),[Q,V]=j.useState(!1),[W,Z]=j.useState(null),[U,G]=j.useState(1),Y=s?t||5:10,[J,re]=j.useState(window.innerWidth);j.useEffect(()=>{const we=()=>re(window.innerWidth);return window.addEventListener("resize",we),()=>window.removeEventListener("resize",we)},[]);const le=J<=700,ue=j.useRef(null);j.useEffect(()=>{(async()=>{if(r){h(!0);try{const Me=Lt(dt,"users",r.uid),st=await ws(Me);let at;if(st.exists()){at=st.data();const Et=v1(at.subscriptionPlan||"Free",at.subscriptionExpiry||null);N(Et),x(Et.planName),y(Et.features.collections)}await Promise.all([de(),_e()])}catch(Me){m(`Failed to fetch data: ${Me.message}`),console.error(Me)}finally{h(!1)}}})()},[r]);const de=async()=>{if(r)try{const we=Qs(Vn(dt,"userCollections"),Kn("userId","==",r.uid),Bc("createdAt","desc")),st=(await xr(we)).docs.map(at=>({id:at.id,...at.data(),qrCodeCount:0}));l(st)}catch(we){m(`Failed to fetch collections: ${we.message}`),console.error(we)}},_e=async()=>{if(r)try{const we=Qs(Vn(dt,"qrcodes"),Kn("userId","==",r.uid),Bc("createdAt","desc")),st=(await xr(we)).docs.map(at=>({id:at.id,...at.data()}));u(st),l(at=>at.map(Et=>({...Et,qrCodeCount:st.filter(Ce=>{var ft;return(ft=Et.qrCodeIds)==null?void 0:ft.includes(Ce.id)}).length})))}catch(we){m(`Failed to fetch QR codes: ${we.message}`),console.error(we)}},Ae=j.useMemo(()=>{if(s)return a.slice(0,t||5);const we=(U-1)*Y;return a.slice(we,we+Y)},[a,U,Y,s,t]),Le=s?1:Math.max(1,Math.ceil(a.length/Y)),Ie=!s&&a.length>Y;Z6(a.length,v);const Xe=y$(p,{collectionsUsed:a.length}),ye=hw(p,"collections"),ae=we=>{i(`/collections/${we.id}`)},nt=we=>{I(P===we?null:we)},Je=we=>{E(we),A(we.name),C(!0),I(null)},Oe=()=>{C(!1),E(null),A("")},Ne=async()=>{if(R){if(!w.trim()){rt("Collection name cannot be empty.","error");return}try{const we=Lt(dt,"userCollections",R.id);await pi(we,{name:w}),l(Me=>Me.map(st=>st.id===R.id?{...st,name:w}:st)),Oe(),rt("Collection renamed successfully!","success")}catch(we){m(`Failed to rename collection: ${we.message}`),console.error(we),rt(`Failed to rename collection: ${we.message}`,"error")}}},ke=we=>{$(we),L(!0),I(null)},Ve=()=>{L(!1),$(null)},$e=async()=>{if(z)try{const we=Lt(dt,"userCollections",z.id);await rx(we),l(Me=>Me.filter(st=>st.id!==z.id)),rt("Collection deleted successfully!","success")}catch(we){m(`Failed to delete collection: ${we.message}`),console.error(we),rt(`Failed to delete collection: ${we.message}`,"error")}finally{Ve()}},Te=we=>c?c.filter(Me=>{var st;return(st=we.qrCodeIds)==null?void 0:st.includes(Me.id)}):[],ze=()=>{F(null),V(!1),Z(null)},Ge=j.useCallback(we=>{we>=1&&we<=Le&&we!==U&&G(we)},[U,Le]),rt=(we,Me)=>{const st={position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};switch(Me){case"success":We.success(we,st);break;case"error":We.error(we,st);break;default:We.info(we,st);break}};j.useEffect(()=>{const we=Me=>{ue.current&&!ue.current.contains(Me.target)&&I(null)};return document.addEventListener("mousedown",we),()=>document.removeEventListener("mousedown",we)},[]);const xt=j.useMemo(()=>V1e(U,Le,le),[U,Le,le]),Pe=()=>d?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-purple-200 border-t-purple-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading collections..."})]}):a.length===0?o.jsxs("div",{className:"text-center py-8 rounded-xl",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ig,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No collections yet"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first collection to organize QR codes."}),o.jsx("button",{onClick:()=>i("/history"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Go to QR Codes"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ae.map(we=>o.jsxs(he.div,{className:"rounded-2xl shadow-md hover:shadow-lg transition-shadow duration-300 p-4 flex flex-col justify-between",layout:!0,style:{backgroundColor:"#ebf8ff"},children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("div",{className:"flex-grow",children:o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 hover:underline cursor-pointer",onClick:()=>ae(we),children:[we.name,o.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",we.qrCodeCount,")"]})]})}),o.jsxs("div",{className:"relative",ref:ue,children:[o.jsx("button",{onClick:Me=>{Me.stopPropagation(),nt(we.id)},className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:o.jsx(Tae,{className:"h-5 w-5"})}),o.jsx(Zt,{children:P===we.id&&o.jsxs(he.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-xl z-10",children:[o.jsx("button",{onClick:()=>Je(we),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 focus:outline-none",children:"Rename Collection"}),o.jsx("button",{onClick:Me=>{Me.stopPropagation(),ke(we)},className:"block w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-red-100 focus:outline-none",children:"Delete Collection"})]})})]})]}),o.jsx("hr",{className:"border-gray-300 mt-1 mb-3"}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[we.qrCodeCount===0?o.jsx("p",{className:"text-gray-500 text-[10px]",children:"This collection is empty."}):o.jsx(F1e,{collectionName:we.name,qrCodeData:Te(we)}),o.jsxs("button",{onClick:()=>ae(we),className:"w-full py-2 px-4 bg-blue-500 text-white rounded-xl shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 transition-all duration-300 inline-flex items-center justify-center",children:[o.jsx(os,{className:"h-5 w-5 mr-2"}),"Open"]})]})]},we.id))}),Xe.show&&o.jsx("div",{className:"mb-6 rounded-xl border border-amber-200 bg-gradient-to-r from-amber-50 to-amber-100 p-4 sm:p-5 shadow-sm",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"h-5 w-5 flex items-center justify-center text-amber-700",children:"⚠️"}),o.jsx("p",{className:"text-amber-800 text-xs sm:text-sm leading-relaxed",children:ye})]}),o.jsx("a",{href:"/plans-and-quota",className:"inline-block rounded-lg bg-amber-500 px-4 py-2 text-xs sm:text-sm font-medium text-white shadow-sm hover:bg-amber-600 transition-colors",children:"Upgrade Plan"})]})}),Ie&&Le>1&&o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2},className:"bg-white border border-gray-200 py-4 px-4 shadow-sm rounded-lg",children:o.jsx("div",{className:"flex justify-center w-full",children:le?o.jsxs("nav",{className:"flex items-center gap-2 bg-white py-1.5 px-2 rounded-lg shadow-sm border border-gray-100",children:[o.jsx("button",{className:`p-1 rounded-md transition-colors text-xs ${U>1?"text-gray-500 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`,onClick:()=>Ge(U-1),disabled:U<=1,children:o.jsx(rg,{className:"w-3.5 h-3.5"})}),o.jsxs("span",{className:"px-1.5 py-0.5 text-xs font-medium text-gray-700 select-none",children:["Page ",U," of ",Le]}),o.jsx("button",{className:`p-1 rounded-md transition-colors text-xs ${U<Le?"text-gray-500 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`,onClick:()=>Ge(U+1),disabled:U>=Le,children:o.jsx(Sd,{className:"w-3.5 h-3.5"})})]}):o.jsxs("nav",{className:"flex flex-row items-center justify-center gap-1 bg-white py-3 px-4 rounded-xl shadow-sm border border-gray-100",children:[U>3&&o.jsx("button",{className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 transition-colors",onClick:()=>Ge(1),children:o.jsx(e6,{className:"w-4 h-4"})}),o.jsx("button",{className:`p-2 rounded-md transition-colors ${U>1?"text-gray-500 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`,onClick:()=>Ge(U-1),disabled:U<=1,children:o.jsx(rg,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex items-center gap-1",children:xt.map((we,Me)=>o.jsx(Re.Fragment,{children:we==="..."?o.jsx("span",{className:"px-2 text-gray-400 select-none",children:"..."}):o.jsx("button",{onClick:()=>Ge(we),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${U===we?"bg-purple-600 text-white shadow-md":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:we})},Me))}),o.jsx("button",{className:`p-2 rounded-md transition-colors ${U<Le?"text-gray-500 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`,onClick:()=>Ge(U+1),disabled:U>=Le,children:o.jsx(Sd,{className:"w-4 h-4"})}),U<Le-2&&o.jsx("button",{className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 transition-colors",onClick:()=>Ge(Le),children:o.jsx(t6,{className:"w-4 h-4"})})]})})})]});return o.jsxs("div",{className:"py-2 sm:py-4",children:[o.jsx(Jf,{position:"bottom-center",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"shadow-lg",style:{marginBottom:"10px"}}),!s&&o.jsx("div",{className:"relative max-w-6xl mx-auto px-4 w-full",children:o.jsx("div",{className:"flex items-center justify-between mb-8",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>i("/dashboard"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Bd,{className:"w-5 h-5 text-gray-600"})}),o.jsx("div",{className:"w-1 h-12 bg-gradient-to-b from-purple-500 to-indigo-600 rounded-full"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"Collections"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Organize and manage your QR code collections"})]})]})})}),o.jsxs("div",{className:"relative py-3 max-w-6xl mx-auto px-4 w-full",children:[f&&o.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-red-600 text-sm",children:"!"})}),o.jsx("p",{className:"text-red-700",children:f})]})}),Pe()]}),O&&o.jsx(r_,{qrCodeData:O,onClose:ze,loading:Q,error:W}),o.jsx(Zt,{children:D&&R&&o.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:we=>{we.target===we.currentTarget&&Oe()},className:"fixed inset-0 backdrop-blur-lg overflow-y-auto flex items-center justify-center z-50",children:o.jsxs(he.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"relative w-full max-w-md p-6 bg-gradient-to-br from-white via-neutral-100 to-white border border-neutral-200 rounded-3xl shadow-xl",onClick:we=>we.stopPropagation(),children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-5 text-center",children:"Rename Collection"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{htmlFor:"newCollectionName",className:"block text-sm font-medium text-slate-600",children:"New Collection Name"}),o.jsx("input",{type:"text",id:"newCollectionName",value:w,onChange:we=>A(we.target.value),className:"block w-full rounded-lg border border-slate-300 px-4 py-2 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-all",placeholder:"Enter new name"})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:Oe,className:"px-4 py-2 text-sm font-medium rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:Ne,disabled:d||!w.trim(),className:`px-4 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-all ${d||!w.trim()?"opacity-50 cursor-not-allowed":""}`,children:"Rename"})]})]})})}),o.jsx(B1e,{isOpen:T,onClose:Ve,onConfirm:$e,collectionName:(z==null?void 0:z.name)||""})]})},U1e=["A4","A5","A6"],z1e=[70,150,300],cj=150,$1e="A4",p7={70:[595,842],150:[1240,1754],300:[2480,3508]},q1e={70:[297,421],150:[620,877],300:[1240,1754]},H1e={70:[148,210],150:[310,438],300:[620,877]};function Q1e(t,e){const s={A4:p7,A5:q1e,A6:H1e}[t]||p7;return s[e]||s[cj]}const G1e=[{format:"png",label:"PNG",icon:o.jsx(dS,{className:"h-7 w-7"})},{format:"jpeg",label:"JPEG",icon:o.jsx(dS,{className:"h-7 w-7"})},{format:"pdf",label:"PDF",icon:o.jsx(Oae,{className:"h-7 w-7"})}],bx=({qrCodeData:t})=>{const[e,n]=j.useState(null),[s,r]=j.useState("1080x1080"),[i,a]=j.useState($1e),[l,c]=j.useState(cj),[u,d]=j.useState(!1),[h,f]=j.useState(null),[m,p]=j.useState("idle"),[x,v]=j.useState(null),y=j.useRef(null);j.useEffect(()=>{let w=null;if(e==="pdf")w=Q1e(i,l);else if(e)switch(s){case"512x512":w=[512,512];break;case"1080x1080":w=[1080,1080];break;case"2048x2048":w=[2048,2048];break;default:w=[1080,1080];break}f(w)},[e,s,i,l]);const _=j.useCallback(async(w,A)=>{const R=Math.min(w,A),E=document.createElement("canvas");E.width=R,E.height=R;const T=E.getContext("2d");if(!T)throw new Error("Could not create image.");T.fillStyle=t.containerBackgroundColor??"transparent",T.fillRect(0,0,R,R);const L=10,z=R-2*L,$=document.createElement("canvas");$.width=z,$.height=z;const O=Qu(t);if(!O)throw new Error("No URL available for QR generation");if(await Zf.toCanvas($,O,{errorCorrectionLevel:t.errorCorrectionLevel||"L",width:z,margin:0,color:{dark:t.color||"#000",light:t.backgroundColor||"transparent"}}),T.imageSmoothingEnabled=!0,T.imageSmoothingQuality="high",T.drawImage($,L,L,z,z),t.logoDataUrl){const F=z*.2,Q=L+(z-F)/2,V=L+(z-F)/2;T.beginPath(),T.arc(Q+F/2,V+F/2,F/2*1.1,0,2*Math.PI),T.fillStyle="#fff",T.fill(),T.save(),T.beginPath(),T.arc(Q+F/2,V+F/2,F/2,0,2*Math.PI),T.clip();const W=new window.Image;W.crossOrigin="anonymous",await new Promise((Z,U)=>{W.onload=()=>{T.drawImage(W,Q,V,F,F),T.restore(),Z()},W.onerror=U,W.src=t.logoDataUrl})}return E},[t]),N=j.useCallback(async w=>{if(!h){p("failure"),v("Invalid size selected.");return}try{const[A,R]=h,E=new wt({orientation:"portrait",unit:"px",format:[A,R]}),T=Math.round(.07*Math.min(A,R)),L=Math.round(.63*Math.min(A,R)),z=Math.round(L*.12),$=Math.round(L*.07),O=Math.max(9,Math.round(L*.055));let F=T+z;E.setFont("helvetica","bold"),E.setFontSize(z),E.setTextColor("#212121");const Q=t.name;E.text(Q,A/2,F,{align:"center"}),F+=T;const V=(A-L)/2;E.addImage(w.toDataURL("image/png"),"PNG",V,F,L,L),F+=L+T/2,E.setFont("helvetica","normal"),E.setFontSize(O),E.setTextColor("#6b7280"),E.text("Scan me with your smartphone camera.",A/2,F,{align:"center"}),F+=O+T/4,E.setFont("helvetica","normal"),E.setFontSize($),E.setTextColor("#009688"),E.text(t.url,A/2,F,{align:"center"}),F=R-T*1.2,E.setFontSize(O),E.setTextColor("#bdbdbd");const W=t.createdAt?`Created: ${new Date(t.createdAt).toLocaleDateString()}`:"";W&&E.text(W,T+5,F);const Z=`© ${new Date().getFullYear()} FlashQR`;E.text(Z,A-T-5,F,{align:"right"}),E.save(`qrcode_${t.name}.pdf`),p("success")}catch(A){p("failure"),v(A.message??"Unknown error generating PDF.")}},[h,t.name,t.url,t.createdAt]),P=j.useCallback(async()=>{if(!(!e||!h)){p("idle"),v(null);try{const[w,A]=h,R=await _(w,A);if(e==="png"||e==="jpeg"){const E=`image/${e}`,T=R.toDataURL(E),L=document.createElement("a");L.download=`qrcode_${t.name}.${e}`,L.href=T,L.click(),p("success")}else e==="pdf"&&await N(R)}catch(w){p("failure"),v(w.message??"Download failed.")}}},[e,h,_,t.name,N]);j.useEffect(()=>{const w=A=>{y.current&&!y.current.contains(A.target)&&d(!1)};return u&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[u]);function I(){return o.jsx("div",{className:"flex flex-row justify-center gap-4 mb-6",children:G1e.map(w=>o.jsxs("button",{type:"button",className:`flex flex-col items-center p-4 rounded-xl border shadow focus:outline-none transition
              ${e===w.format?"bg-green-600 text-white border-green-600 scale-105":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-green-50"}
            `,style:{minWidth:80},onClick:()=>n(w.format),children:[w.icon,o.jsx("span",{className:"mt-2 text-sm font-semibold uppercase tracking-wide",children:w.label})]},w.format))})}function D(){return e?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size:"}),o.jsx("select",{className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 text-sm py-2 px-3",value:e==="pdf"?i:s,onChange:w=>e==="pdf"?a(w.target.value):r(w.target.value),children:(e==="pdf"?U1e:["512x512","1080x1080","2048x2048"]).map(w=>o.jsx("option",{value:w,children:w},w))})]}),e==="pdf"&&o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DPI:"}),o.jsx("select",{className:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 text-sm py-2 px-3",value:l,onChange:w=>c(Number(w.target.value)),children:z1e.map(w=>o.jsxs("option",{value:w,children:[w," DPI ",w===cj?"(Recommended)":""]},w))})]}),e!=="pdf"&&o.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"For best results, use 1080x1080 for PNG or JPEG."})]}):null}function C(){switch(m){case"success":return o.jsxs("div",{className:"py-8 text-center",children:[o.jsx(Jn,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"QR Code Downloaded!"}),o.jsx("button",{className:"mt-2 bg-gray-200 px-4 py-2 rounded",onClick:()=>p("idle"),children:"Download Again"}),o.jsx("button",{className:"mt-2 bg-green-600 text-white px-4 py-2 rounded ml-2",onClick:()=>{d(!1),p("idle")},children:"Close"})]});case"failure":return o.jsxs("div",{className:"py-8 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-2",children:"Download Failed"}),o.jsx("p",{className:"text-red-500",children:x}),o.jsx("button",{className:"mt-2 bg-red-600 text-white px-4 py-2 rounded",onClick:()=>p("idle"),children:"Try Again"})]});default:return o.jsxs("form",{className:"p-5",onSubmit:async w=>{w.preventDefault(),e&&await P()},children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-center text-gray-800",children:"Download Options"}),o.jsx(I,{}),o.jsx(D,{}),o.jsxs("div",{className:"mt-7 flex justify-end",children:[o.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 px-4 rounded-md mr-2",type:"button",onClick:()=>d(!1),children:"Cancel"}),o.jsx("button",{className:`bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md focus:outline-none transition-colors duration-200 text-sm ${e?"":"opacity-50 cursor-not-allowed"}`,type:"submit",disabled:!e,children:"Download"})]})]})}}return o.jsxs("div",{children:[o.jsx("button",{onClick:()=>{d(!0),n(null),v(null),p("idle")},className:"inline-flex items-center rounded-md text-gray-600 hover:text-green-600 transition","aria-label":"Download",children:o.jsx(Vc,{className:"h-5 w-5 mr-2"})}),o.jsx(Zt,{children:u&&o.jsx(he.div,{className:"fixed inset-0 bg-gray-500 bg-opacity-60 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(he.div,{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm m-4 relative",ref:y,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},children:[o.jsx("button",{onClick:()=>d(!1),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-800","aria-label":"Close",children:o.jsx(bs,{className:"h-4 w-4"})}),o.jsx(C,{})]})})})]})};var W1e=Object.defineProperty,xw=Object.getOwnPropertySymbols,sq=Object.prototype.hasOwnProperty,rq=Object.prototype.propertyIsEnumerable,g7=(t,e,n)=>e in t?W1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uj=(t,e)=>{for(var n in e||(e={}))sq.call(e,n)&&g7(t,n,e[n]);if(xw)for(var n of xw(e))rq.call(e,n)&&g7(t,n,e[n]);return t},dj=(t,e)=>{var n={};for(var s in t)sq.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&xw)for(var s of xw(t))e.indexOf(s)<0&&rq.call(t,s)&&(n[s]=t[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Of;(t=>{const e=class Ht{constructor(c,u,d,h){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Ht.MIN_VERSION||c>Ht.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let p=0;p<this.size;p++)f.push(!1);for(let p=0;p<this.size;p++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),h==-1){let p=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const v=this.getPenaltyScore();v<p&&(h=x,p=v),this.applyMask(x)}}r(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,u){const d=t.QrSegment.makeSegments(c);return Ht.encodeSegments(d,u)}static encodeBinary(c,u){const d=t.QrSegment.makeBytes(c);return Ht.encodeSegments([d],u)}static encodeSegments(c,u,d=1,h=40,f=-1,m=!0){if(!(Ht.MIN_VERSION<=d&&d<=h&&h<=Ht.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let p,x;for(p=d;;p++){const N=Ht.getNumDataCodewords(p,u)*8,P=a.getTotalBits(c,p);if(P<=N){x=P;break}if(p>=h)throw new RangeError("Data too long")}for(const N of[Ht.Ecc.MEDIUM,Ht.Ecc.QUARTILE,Ht.Ecc.HIGH])m&&x<=Ht.getNumDataCodewords(p,N)*8&&(u=N);let v=[];for(const N of c){n(N.mode.modeBits,4,v),n(N.numChars,N.mode.numCharCountBits(p),v);for(const P of N.getData())v.push(P)}r(v.length==x);const y=Ht.getNumDataCodewords(p,u)*8;r(v.length<=y),n(0,Math.min(4,y-v.length),v),n(0,(8-v.length%8)%8,v),r(v.length%8==0);for(let N=236;v.length<y;N^=253)n(N,8,v);let _=[];for(;_.length*8<v.length;)_.push(0);return v.forEach((N,P)=>_[P>>>3]|=N<<7-(P&7)),new Ht(p,u,_,f)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(c[d],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;r(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,s(h,f));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,s(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,s(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,s(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;r(u>>>18==0);for(let d=0;d<18;d++){const h=s(u,d),f=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(f,m,h),this.setFunctionModule(m,f,h)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(d)),m=c+h,p=u+d;0<=m&&m<this.size&&0<=p&&p<this.size&&this.setFunctionModule(m,p,f!=2&&f!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Ht.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=Ht.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],f=Ht.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],m=Math.floor(Ht.getNumRawDataModules(u)/8),p=h-m%h,x=Math.floor(m/h);let v=[];const y=Ht.reedSolomonComputeDivisor(f);for(let N=0,P=0;N<h;N++){let I=c.slice(P,P+x-f+(N<p?0:1));P+=I.length;const D=Ht.reedSolomonComputeRemainder(I,y);N<p&&I.push(0),v.push(I.concat(D))}let _=[];for(let N=0;N<v[0].length;N++)v.forEach((P,I)=>{(N!=x-f||I>=p)&&_.push(P[N])});return r(_.length==m),_}drawCodewords(c){if(c.length!=Math.floor(Ht.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const m=d-f,x=(d+1&2)==0?this.size-1-h:h;!this.isFunction[x][m]&&u<c.length*8&&(this.modules[x][m]=s(c[u>>>3],7-(u&7)),u++)}}r(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(c){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let m=!1,p=0,x=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[f][v]==m?(p++,p==5?c+=Ht.PENALTY_N1:p>5&&c++):(this.finderPenaltyAddHistory(p,x),m||(c+=this.finderPenaltyCountPatterns(x)*Ht.PENALTY_N3),m=this.modules[f][v],p=1);c+=this.finderPenaltyTerminateAndCount(m,p,x)*Ht.PENALTY_N3}for(let f=0;f<this.size;f++){let m=!1,p=0,x=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][f]==m?(p++,p==5?c+=Ht.PENALTY_N1:p>5&&c++):(this.finderPenaltyAddHistory(p,x),m||(c+=this.finderPenaltyCountPatterns(x)*Ht.PENALTY_N3),m=this.modules[v][f],p=1);c+=this.finderPenaltyTerminateAndCount(m,p,x)*Ht.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let m=0;m<this.size-1;m++){const p=this.modules[f][m];p==this.modules[f][m+1]&&p==this.modules[f+1][m]&&p==this.modules[f+1][m+1]&&(c+=Ht.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((m,p)=>m+(p?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return r(0<=h&&h<=9),c+=h*Ht.PENALTY_N4,r(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let h=this.size-7;d.length<c;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(c){if(c<Ht.MIN_VERSION||c>Ht.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return r(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Ht.getNumRawDataModules(c)/8)-Ht.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Ht.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<c-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<c;h++){for(let f=0;f<u.length;f++)u[f]=Ht.reedSolomonMultiply(u[f],d),f+1<u.length&&(u[f]^=u[f+1]);d=Ht.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(h=>0);for(const h of c){const f=h^d.shift();d.push(0),u.forEach((m,p)=>d[p]^=Ht.reedSolomonMultiply(m,f))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*c;return r(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];r(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function s(l,c){return(l>>>c&1)!=0}function r(l){if(!l)throw new Error("Assertion error")}const i=class ms{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new ms(ms.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!ms.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const h=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+h),10),h*3+1,u),d+=h}return new ms(ms.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!ms.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let h=ms.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;h+=ms.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(h,11,u)}return d<c.length&&n(ms.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new ms(ms.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:ms.isNumeric(c)?[ms.makeNumeric(c)]:ms.isAlphanumeric(c)?[ms.makeAlphanumeric(c)]:[ms.makeBytes(ms.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new ms(ms.Mode.ECI,0,u)}static isNumeric(c){return ms.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return ms.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const h of c){const f=h.mode.numCharCountBits(u);if(h.numChars>=1<<f)return 1/0;d+=4+f+h.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;t.QrSegment=i})(Of||(Of={}));(t=>{(e=>{const n=class{constructor(r,i){this.ordinal=r,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Of||(Of={}));(t=>{(e=>{const n=class{constructor(r,i){this.modeBits=r,this.numBitsCharCount=i}numCharCountBits(r){return this.numBitsCharCount[Math.floor((r+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Of||(Of={}));var mp=Of;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Y1e={L:mp.QrCode.Ecc.LOW,M:mp.QrCode.Ecc.MEDIUM,Q:mp.QrCode.Ecc.QUARTILE,H:mp.QrCode.Ecc.HIGH},iq=128,aq="L",oq="#FFFFFF",lq="#000000",cq=!1,uq=1,K1e=4,X1e=0,J1e=.1;function dq(t,e=0){const n=[];return t.forEach(function(s,r){let i=null;s.forEach(function(a,l){if(!a&&i!==null){n.push(`M${i+e} ${r+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===s.length-1){if(!a)return;i===null?n.push(`M${l+e},${r+e} h1v1H${l+e}z`):n.push(`M${i+e},${r+e} h${l+1-i}v1H${i+e}z`);return}a&&i===null&&(i=l)})}),n.join("")}function hq(t,e){return t.slice().map((n,s)=>s<e.y||s>=e.y+e.h?n:n.map((r,i)=>i<e.x||i>=e.x+e.w?r:!1))}function Z1e(t,e,n,s){if(s==null)return null;const r=t.length+n*2,i=Math.floor(e*J1e),a=r/e,l=(s.width||i)*a,c=(s.height||i)*a,u=s.x==null?t.length/2-l/2:s.x*a,d=s.y==null?t.length/2-c/2:s.y*a,h=s.opacity==null?1:s.opacity;let f=null;if(s.excavate){let p=Math.floor(u),x=Math.floor(d),v=Math.ceil(l+u-p),y=Math.ceil(c+d-x);f={x:p,y:x,w:v,h:y}}const m=s.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:f,opacity:h,crossOrigin:m}}function ebe(t,e){return e!=null?Math.max(Math.floor(e),0):t?K1e:X1e}function fq({value:t,level:e,minVersion:n,includeMargin:s,marginSize:r,imageSettings:i,size:a,boostLevel:l}){let c=Re.useMemo(()=>{const p=(Array.isArray(t)?t:[t]).reduce((x,v)=>(x.push(...mp.QrSegment.makeSegments(v)),x),[]);return mp.QrCode.encodeSegments(p,Y1e[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:u,margin:d,numCells:h,calculatedImageSettings:f}=Re.useMemo(()=>{let m=c.getModules();const p=ebe(s,r),x=m.length+p*2,v=Z1e(m,a,p,i);return{cells:m,margin:p,numCells:x,calculatedImageSettings:v}},[c,a,i,s,r]);return{qrcode:c,margin:d,cells:u,numCells:h,calculatedImageSettings:f}}var tbe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Yd=Re.forwardRef(function(e,n){const s=e,{value:r,size:i=iq,level:a=aq,bgColor:l=oq,fgColor:c=lq,includeMargin:u=cq,minVersion:d=uq,boostLevel:h,marginSize:f,imageSettings:m}=s,x=dj(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=x,y=dj(x,["style"]),_=m==null?void 0:m.src,N=Re.useRef(null),P=Re.useRef(null),I=Re.useCallback(z=>{N.current=z,typeof n=="function"?n(z):n&&(n.current=z)},[n]),[D,C]=Re.useState(!1),{margin:w,cells:A,numCells:R,calculatedImageSettings:E}=fq({value:r,level:a,minVersion:d,boostLevel:h,includeMargin:u,marginSize:f,imageSettings:m,size:i});Re.useEffect(()=>{if(N.current!=null){const z=N.current,$=z.getContext("2d");if(!$)return;let O=A;const F=P.current,Q=E!=null&&F!==null&&F.complete&&F.naturalHeight!==0&&F.naturalWidth!==0;Q&&E.excavation!=null&&(O=hq(A,E.excavation));const V=window.devicePixelRatio||1;z.height=z.width=i*V;const W=i/R*V;$.scale(W,W),$.fillStyle=l,$.fillRect(0,0,R,R),$.fillStyle=c,tbe?$.fill(new Path2D(dq(O,w))):A.forEach(function(Z,U){Z.forEach(function(G,Y){G&&$.fillRect(Y+w,U+w,1,1)})}),E&&($.globalAlpha=E.opacity),Q&&$.drawImage(F,E.x+w,E.y+w,E.w,E.h)}}),Re.useEffect(()=>{C(!1)},[_]);const T=uj({height:i,width:i},v);let L=null;return _!=null&&(L=Re.createElement("img",{src:_,key:_,style:{display:"none"},onLoad:()=>{C(!0)},ref:P,crossOrigin:E==null?void 0:E.crossOrigin})),Re.createElement(Re.Fragment,null,Re.createElement("canvas",uj({style:T,height:i,width:i,ref:I,role:"img"},y)),L)});Yd.displayName="QRCodeCanvas";var mq=Re.forwardRef(function(e,n){const s=e,{value:r,size:i=iq,level:a=aq,bgColor:l=oq,fgColor:c=lq,includeMargin:u=cq,minVersion:d=uq,boostLevel:h,title:f,marginSize:m,imageSettings:p}=s,x=dj(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:y,numCells:_,calculatedImageSettings:N}=fq({value:r,level:a,minVersion:d,boostLevel:h,includeMargin:u,marginSize:m,imageSettings:p,size:i});let P=y,I=null;p!=null&&N!=null&&(N.excavation!=null&&(P=hq(y,N.excavation)),I=Re.createElement("image",{href:p.src,height:N.h,width:N.w,x:N.x+v,y:N.y+v,preserveAspectRatio:"none",opacity:N.opacity,crossOrigin:N.crossOrigin}));const D=dq(P,v);return Re.createElement("svg",uj({height:i,width:i,viewBox:`0 0 ${_} ${_}`,ref:n,role:"img"},x),!!f&&Re.createElement("title",null,f),Re.createElement("path",{fill:l,d:`M0,0 h${_}v${_}H0z`,shapeRendering:"crispEdges"}),Re.createElement("path",{fill:c,d:D,shapeRendering:"crispEdges"}),I)});mq.displayName="QRCodeSVG";const pq=({isOpen:t,onClose:e,onConfirm:n,selectedCount:s,isBulkDelete:r})=>{const i={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{duration:.2,ease:"easeInOut"}},exit:{opacity:0,scale:.9,transition:{duration:.15,ease:"easeInOut"}}};return Re.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),o.jsx(Zt,{children:t&&o.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:"hidden",animate:"visible",exit:"exit",variants:i,onClick:e,children:o.jsxs(he.div,{className:"relative bg-white rounded-2xl shadow-lg max-w-md w-full mx-4 p-6",onClick:a=>a.stopPropagation(),variants:i,children:[o.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:o.jsx(Vd,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center rounded-full bg-red-100 p-3 mx-auto mb-4",children:o.jsx(ma,{className:"h-8 w-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:r?`Delete ${s} QR Code(s)?`:"Delete QR Code?"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Are you sure you want to delete ",r?"these QR codes":"this QR code","? This action cannot be undone."]})]}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:e,className:"py-2 px-5 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Cancel"}),o.jsx("button",{onClick:n,className:"py-2 px-5 bg-red-600 text-white rounded-xl shadow-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Confirm Delete"})]})]})})})},nbe=()=>{const{user:t}=_s(),e=vr(),[n,s]=j.useState(!0),[r,i]=j.useState(null),[a,l]=j.useState("Free"),[c,u]=j.useState(0),[d,h]=j.useState(null),[f,m]=j.useState(30),[p,x]=j.useState([]),[v,y]=j.useState([]),[_,N]=j.useState(0),[P,I]=j.useState(0),[D,C]=j.useState(null),[w,A]=j.useState(!1),[R,E]=j.useState(null),[T,L]=j.useState(!1),[z,$]=j.useState(null),[O,F]=j.useState(typeof window<"u"?window.innerWidth:1024);j.useEffect(()=>{const re=()=>F(window.innerWidth);return window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]);const Q=O<=700;d&&oye(new Date(d));const V=(re,le)=>{const ue={position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};switch(le){case"success":We.success(re,ue);break;case"error":We.error(re,ue);break;default:We.info(re,ue);break}},W=j.useCallback(async()=>{if(t)try{const re=Qs(Vn(dt,"qrcodes"),Kn("userId","==",t.uid),Bc("createdAt","desc"),cS(12)),ue=(await xr(re)).docs.map(ae=>({id:ae.id,...ae.data()}));x(ue);const de=Qs(Vn(dt,"qrcodes"),Kn("userId","==",t.uid)),_e=await Qv(de);N(_e.data().count);const Ae=Qs(Vn(dt,"userCollections"),Kn("userId","==",t.uid),Bc("createdAt","desc"),cS(6)),Ie=(await xr(Ae)).docs.map(ae=>{var nt;return{id:ae.id,...ae.data(),qrCodeCount:((nt=ae.data().qrCodeIds)==null?void 0:nt.length)||0}});y(Ie);const Xe=Qs(Vn(dt,"userCollections"),Kn("userId","==",t.uid)),ye=await Qv(Xe);I(ye.data().count)}catch(re){i(`Failed to fetch recent data: ${re.message}`),console.error(re)}},[t]);j.useEffect(()=>{(async()=>{if(!t){e("/login");return}s(!0),i(null);try{const le=Lt(dt,"users",t.uid),ue=await ws(le);if(ue.exists()){const de=ue.data(),_e=de.subscriptionPlan||"Free";l(_e),u(de.qrCodesGenerated||0),h(de.subscriptionExpiry||null),m(de.quota||30),await W()}else i("User profile not found.")}catch(le){i(`Failed to fetch data: ${le.message}`),console.error(le)}finally{s(!1)}})()},[t,e,W]);const Z=re=>{C(re),A(!0),E(null),setTimeout(()=>A(!1),600)},U=()=>{C(null),A(!1),E(null)},G=re=>{$(re),L(!0)},Y=async()=>{if(z)try{const re=Lt(dt,"qrcodes",z);await rx(re),x(le=>le.filter(ue=>ue.id!==z)),V("QR code deleted successfully!","success")}catch(re){i(`Failed to delete QR code: ${re.message}`),V(`Failed to delete QR code: ${re.message}`,"error")}finally{L(!1),$(null)}},J=()=>{L(!1),$(null)};return t?(v1(a,d),o.jsxs("div",{className:"py-2 sm:py-4",children:[o.jsx(Jf,{position:"bottom-center",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"shadow-lg",style:{marginBottom:"10px"}}),o.jsx("div",{className:"relative max-w-6xl mx-auto px-3 sm:px-4 w-full",children:o.jsxs("div",{className:"relative",children:[r&&o.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-4",role:"alert","aria-live":"polite",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-red-600 text-sm",children:"!"})}),o.jsx("p",{className:"text-red-700",children:r})]})}),n?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-14 h-14 border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 text-base sm:text-lg",children:"Loading your dashboard..."})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-8",children:[o.jsxs("section",{"aria-labelledby":"recent-qrs-heading",className:"border border-gray-100 rounded-2xl shadow-sm bg-white",children:[o.jsxs("div",{className:"bg-white flex justify-between border-b border-gray-200 px-5 sm:px-6 py-4 rounded-t-2xl shadow-sm",children:[o.jsx("h2",{id:"recent-qrs-heading",className:"text-sm font-semibold text-gray-900",children:"Recent QR Codes"}),p.length>0&&o.jsxs("button",{onClick:()=>e("/history"),className:"mt-2 sm:mt-0 flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium transition-colors text-xs","aria-label":"View all QR codes",children:["View All",o.jsx(Nd,{className:"w-4 h-4","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-5 sm:p-6",children:p.length>0?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-6",children:p.map(re=>o.jsxs(he.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.23},className:"border border-gray-200 rounded-lg p-2 shadow-sm hover:shadow-lg transition group",children:[o.jsx("div",{className:"mb-2",children:o.jsxs("div",{className:"bg-white rounded-lg flex items-center justify-center p-2 relative overflow-hidden cursor-pointer w-full aspect-square group-hover:scale-105 transition-transform duration-200",onClick:()=>Z(re),children:[o.jsx(Yd,{value:Qu(re),size:Q?96:160,bgColor:re.backgroundColor,fgColor:re.color,level:re.errorCorrectionLevel,includeMargin:!1}),re.logoDataUrl&&o.jsx("img",{src:re.logoDataUrl,alt:"",className:"absolute rounded-full bg-white p-0.5 object-contain",style:{width:"22%",height:"22%",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}})]})}),o.jsxs("div",{className:"px-1 min-h-[40px] text-center",children:[o.jsx("div",{className:"flex items-center justify-center gap-1 mb-1",children:o.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full flex items-center gap-1 ${bo(re)?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:bo(re)?o.jsxs(o.Fragment,{children:[o.jsx(zd,{className:"w-2 h-2"}),"Static"]}):o.jsxs(o.Fragment,{children:[o.jsx(Io,{className:"w-2 h-2"}),"Dynamic"]})})}),o.jsx("div",{className:"font-semibold text-gray-900 text-xs truncate",title:re.name,children:re.name||"Untitled"}),o.jsx("div",{className:"text-xs text-gray-600 truncate",children:bo(re)?re.url:re.targetUrl}),_o(re)&&re.visits!==void 0&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[re.visits," visits"]})]}),o.jsx("hr",{className:"mt-2 mb-2"}),o.jsxs("div",{className:"flex items-center justify-between px-2",children:[o.jsx("button",{className:"p-2 rounded-lg hover:bg-blue-50 text-gray-400 hover:text-blue-700 transition",onClick:()=>Z(re),"aria-label":"View QR code",title:"View",children:o.jsx(os,{className:"w-4 h-4","aria-hidden":"true"})}),o.jsx(bx,{qrCodeData:re}),_o(re)&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"p-2 rounded-lg hover:bg-green-50 text-gray-400 hover:text-green-700 transition",onClick:()=>e(`/analyse/${re.shortId||re.id}`),"aria-label":"View analytics",title:"Analytics",children:o.jsx(Yv,{className:"w-4 h-4","aria-hidden":"true"})}),o.jsx("button",{className:"p-2 rounded-lg hover:bg-purple-50 text-gray-400 hover:text-purple-700 transition",onClick:()=>e(`/edit/${re.shortId||re.id}`),"aria-label":"Edit QR code",title:"Edit",children:o.jsx(Kv,{className:"w-4 h-4","aria-hidden":"true"})}),o.jsx("button",{className:"p-2 rounded-lg hover:bg-orange-50 text-gray-400 hover:text-orange-700 transition",onClick:()=>window.open(`${window.location.origin}/r/${re.shortId}`,"_blank"),"aria-label":"Visit QR code",title:"Visit",children:o.jsx(s6,{className:"w-4 h-4","aria-hidden":"true"})})]}),o.jsx("button",{className:"p-2 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-700 transition",onClick:()=>G(re.id),"aria-label":"Delete QR code",title:"Delete",children:o.jsx(ma,{className:"w-4 h-4","aria-hidden":"true"})})]})]},re.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(l1,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No QR codes yet"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first QR code to get started."}),o.jsx("button",{onClick:()=>e("/generator"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Create QR Code"})]})})]}),o.jsxs("section",{"aria-labelledby":"recent-collections-heading",className:"border border-gray-100 rounded-2xl shadow-sm bg-white",children:[o.jsxs("div",{className:"flex justify-between border-b border-gray-200 px-5 sm:px-6 py-4",children:[o.jsx("h2",{id:"recent-collections-heading",className:"text-sm font-semibold text-gray-900",children:"Recent Collections"}),v.length>0&&o.jsxs("button",{onClick:()=>e("/collections"),className:"mt-2 sm:mt-0 flex items-center gap-1.5 text-blue-600 hover:text-blue-700 font-medium transition-colors text-xs","aria-label":"View all collections",children:[o.jsx("span",{children:"View All"}),o.jsx(Nd,{className:"w-4 h-4","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-5 sm:p-6",children:o.jsx(nq,{limit:6,mode:"grid",showMoreLink:!0,isDashboard:!0})})]})]})})]})}),D&&o.jsx(r_,{qrCodeData:D,onClose:U,loading:w,error:R}),o.jsx(pq,{isOpen:T,onClose:J,onConfirm:Y,selectedCount:1,isBulkDelete:!1})]})):o.jsx("div",{className:"px-4 py-8 text-center text-gray-700",children:"Please log in to view this page."})},ki=30,sbe=({userId:t,qrCodeIds:e,onClose:n,onCollectionCreated:s,onQrCodesUpdated:r,qrCodeData:i})=>{const[a,l]=j.useState([]),[c,u]=j.useState(""),[d,h]=j.useState(!0),[f,m]=j.useState(null),[p,x]=j.useState(null),[v,y]=j.useState(!1),[_,N]=j.useState(""),[P,I]=j.useState(null),[D,C]=j.useState("existing"),[w,A]=j.useState(null),{user:R}=_s(),[E,T]=j.useState("Free"),[L,z]=j.useState(null),[$,O]=j.useState(0),F=j.useCallback(()=>{document.body.style.overflow="hidden",document.body.style.paddingRight="var(--scrollbar-width)"},[]),Q=j.useCallback(()=>{document.body.style.overflow="",document.body.style.paddingRight=""},[]),V=(le,ue)=>{const de={position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};switch(ue){case"success":We.success(le,de);break;case"error":We.error(le,de);break;default:We.info(le,de);break}},W=j.useCallback(async()=>{h(!0);try{if(!t){console.warn("User ID is missing. Cannot fetch collections.");return}if(R){const _e=Lt(dt,"users",R.uid),Ae=await ws(_e);if(Ae.exists()){const Le=Ae.data();T(Le.subscriptionPlan||"Free"),z(Le.subscriptionExpiry||null)}else T("Free"),z(null)}const le=Qs(Vn(dt,"userCollections"),Kn("userId","==",t)),de=(await xr(le)).docs.map(_e=>({id:_e.id,..._e.data()}));l(de),O(de.length)}catch(le){console.error(le),V("Failed to load collections.","error"),m("Failed to load collections.")}finally{h(!1)}},[t,R]);j.useEffect(()=>{W()},[W]),j.useMemo(()=>v1(E,L),[E,L]),j.useEffect(()=>(F(),()=>{Q()}),[F,Q]);const Z=j.useMemo(()=>a.filter(le=>le.name.toLowerCase().includes(_.toLowerCase())),[a,_]),U=async()=>{if(!c.trim()){V("Collection name cannot be empty.","error"),m("Collection name cannot be empty.");return}if(y(!0),m(null),x(null),e.length>ki){V(`You can add up to ${ki} QR codes to a collection for the best performance.`,"error"),m(`You can add up to ${ki} QR codes to a collection for the best performance.`),y(!1);return}const le=K6(E);if($>=le){V(hw(E,"collections"),"info"),m(hw(E,"collections")),y(!1);return}try{if(!t){console.warn("User ID is missing. Cannot create collection."),V("We couldn’t create the collection. User ID is missing.","error"),m("We couldn’t create the collection. User ID is missing.");return}console.log("Creating collection with userId:",t,"and qrCodeIds:",e),await I5(Vn(dt,"userCollections"),{name:c,qrCodeIds:e||[],createdAt:new Date().toISOString(),userId:t}),u(""),V("Your collection has been created successfully.","success"),x("Your collection has been created successfully."),C("existing"),s(),r(),W()}catch(ue){console.error(ue),V("We couldn’t create the collection. Please try again later.","error"),m("We couldn’t create the collection. Please try again later.")}finally{y(!1)}},G=async()=>{if(!P){V("Please select a collection first.","error"),m("Please select a collection first.");return}try{const le=Lt(dt,"userCollections",P),ue=await ws(le);if(!ue.exists()){V("The selected collection could not be found.","error"),m("The selected collection could not be found.");return}const de=ue.data();if(de.qrCodeIds.length>=ki){V(`This collection has reached the maximum limit of ${ki} QR codes.`,"info"),A(`This collection has reached the maximum limit of ${ki} QR codes.`);return}else A(null);if(e.length>ki){V(`You can add up to ${ki} QR codes at once.`,"error"),m(`You can add up to ${ki} QR codes at once.`);return}const _e=e.filter(Ae=>!de.qrCodeIds.includes(Ae));if(_e.length>0){if(de.qrCodeIds.length+_e.length>ki){V(`Adding these QR codes would exceed the limit of ${ki}. Please select fewer QR codes.`,"error"),m(`Adding these QR codes would exceed the limit of ${ki}. Please select fewer QR codes.`);return}await pi(le,{qrCodeIds:pie(..._e)}),V("Your selected QR codes have been added to the collection.","success"),x("Your selected QR codes have been added to the collection."),r(),W()}else V("All selected QR codes are already part of this collection.","info"),x("All selected QR codes are already part of this collection.");I(null)}catch(le){console.error(le),V("We couldn’t update the collection. Please try again later.","error"),m("We couldn’t update the collection. Please try again later.")}},Y=le=>{le.target===le.currentTarget&&n()},J=le=>{const ue=a.find(de=>de.id===le);return ue?ue.qrCodeIds.length:0},re=({collectionId:le})=>{const ue=J(le),{percentage:de}=j.useMemo(()=>Z6(ue,ki),[ue]);return!P||P!==le?null:o.jsxs("div",{className:"relative pt-1 mt-2",children:[o.jsx("div",{className:"overflow-hidden h-2 mb-1 text-xs flex rounded bg-gray-200",children:o.jsx("div",{style:{width:`${de}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-width duration-500"})}),o.jsxs("div",{className:"text-right text-xs text-gray-500",children:[ue," / ",ki]})]})};return t?o.jsx(he.div,{onClick:Y,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-x-hidden overflow-y-auto",children:o.jsxs(he.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},onClick:le=>le.stopPropagation(),className:"bg-white w-full max-w-3xl rounded-xl shadow-lg overflow-hidden max-h-[90vh] flex flex-col",children:[o.jsxs("header",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-4 flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Save to Collection"}),o.jsx("button",{onClick:n,children:o.jsx(Vd,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex space-x-4 px-4 py-2 bg-white border-b",children:[o.jsxs("button",{className:`flex items-center text-sm font-medium px-3 py-1.5 rounded ${D==="existing"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-600"}`,onClick:()=>C("existing"),children:[o.jsx(Vae,{className:"h-4 w-4 mr-1"}),"Existing"]}),o.jsxs("button",{className:`flex items-center text-sm font-medium px-3 py-1.5 rounded ${D==="new"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-600"}`,onClick:()=>C("new"),children:[o.jsx(Xv,{className:"h-4 w-4 mr-1"}),"New"]})]}),o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[D==="existing"&&o.jsxs("aside",{className:"w-full md:w-1/3 p-4 border-r bg-gray-50 overflow-y-auto",children:[o.jsxs("div",{className:"relative mb-3",children:[o.jsx(Tp,{className:"absolute top-2.5 left-3 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:_,onChange:le=>N(le.target.value),className:"w-full pl-10 pr-3 py-2 rounded border shadow-sm focus:ring-2 focus:ring-blue-500 text-sm"})]}),o.jsxs("ul",{className:"space-y-2",children:[Z.map(le=>o.jsxs("li",{children:[o.jsxs("button",{onClick:()=>I(le.id),className:`w-full text-left px-3 py-2 rounded flex justify-between items-center transition ${P===le.id?"bg-blue-100 text-blue-700 font-medium":"hover:bg-gray-100"}`,children:[o.jsx("span",{className:"truncate",children:le.name}),P===le.id&&o.jsx(Jn,{className:"h-4 w-4"})]}),o.jsx(re,{collectionId:le.id})]},le.id)),!Z.length&&o.jsx("li",{className:"text-gray-400 text-sm text-center py-4",children:"No collections found."})]})]}),o.jsxs("section",{className:"flex-1 p-4 overflow-y-auto",children:[o.jsxs(Zt,{children:[p&&o.jsx(he.div,{className:"text-green-700 bg-green-50 border border-green-200 p-3 rounded mb-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:p}),f&&o.jsx(he.div,{className:"text-red-700 bg-red-50 border border-red-200 p-3 rounded mb-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:f}),w&&o.jsx(he.div,{className:"text-yellow-700 bg-yellow-50 border border-yellow-200 p-3 rounded mb-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:w})]}),D==="existing"?o.jsxs(o.Fragment,{children:[e.length>1&&o.jsxs("p",{className:"text-sm text-gray-700 mb-4",children:[e.length," QR code",e.length>1?"s":""," selected."]}),o.jsx("button",{onClick:G,disabled:!P,className:`w-full py-3 text-white rounded-lg transition ${P?"bg-blue-600 hover:bg-blue-700":"bg-blue-300 cursor-not-allowed"}`,children:"Save to Collection"})]}):o.jsxs(o.Fragment,{children:[o.jsx("label",{htmlFor:"new-collection",className:"block text-sm font-medium text-gray-700 mb-2",children:"Collection Name"}),o.jsx("input",{id:"new-collection",value:c,onChange:le=>u(le.target.value),className:"w-full mb-4 px-4 py-2 rounded border focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter collection name"}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>C("existing"),className:"flex-1 py-2 border rounded-lg text-sm hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:U,disabled:v||!c.trim(),className:`flex-1 py-2 text-white rounded-lg ${v||!c.trim()?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:v?"Creating...":"Create"})]})]})]})]})]})}):o.jsx("div",{children:"User ID is required"})};function rbe(t,e,n=!1){if(e<=1)return[];if(n)return{currentPage:t,totalPages:e};const s=7,r=[];if(e<=s){for(let c=1;c<=e;c++)r.push(c);return r}r.push(1);const i=Math.floor((s-2)/2);let a=Math.max(2,t-i),l=Math.min(e-1,t+i);t<=i+1&&(l=Math.min(s-1,e-1)),t>=e-i&&(a=Math.max(2,e-s+2)),a>2&&r.push("...");for(let c=a;c<=l;c++)r.push(c);return l<e-1&&r.push("..."),e>1&&r.push(e),r.filter((c,u,d)=>u===0||c!==d[u-1])}const y7={viewMode:"grid",sortBy:"date",sortOrder:"desc",filterType:"all"};function ibe(t,e){j.useEffect(()=>{const n=s=>{!t.current||t.current.contains(s.target)||e()};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])}const abe=({open:t,onClose:e,settings:n,onChange:s,onApply:r})=>{const i=j.useRef(null);return ibe(i,e),o.jsx(Zt,{children:t&&o.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-center",style:{backdropFilter:"blur(2px)"},children:o.jsxs(he.div,{ref:i,initial:{scale:.95,opacity:0,y:40},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:40},transition:{duration:.22},className:"bg-white rounded-xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"font-bold text-lg flex items-center gap-2",children:[o.jsx(ag,{className:"w-5 h-5 text-blue-600"}),"Quick Tools"]}),o.jsx("button",{className:"text-gray-400 hover:text-gray-800",onClick:e,children:o.jsx(bs,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"View"}),o.jsxs("button",{className:`px-4 py-2 rounded-lg flex items-center gap-1 transition 
                    ${n.viewMode==="grid"?"bg-blue-600 text-white shadow font-bold":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,viewMode:"grid"}),"aria-label":"Grid view",children:[o.jsx(lV,{className:"w-4 h-4"})," Grid"]}),o.jsxs("button",{className:`px-4 py-2 rounded-lg flex items-center gap-1 transition 
                    ${n.viewMode==="list"?"bg-blue-600 text-white shadow font-bold":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,viewMode:"list"}),"aria-label":"List view",children:[o.jsx(cV,{className:"w-4 h-4"})," List"]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Filter by Type"}),o.jsx("div",{className:"flex gap-2 flex-wrap",children:[{value:"all",label:"All"},{value:"static",label:"Static"},{value:"dynamic",label:"Dynamic"}].map(a=>o.jsx("button",{className:`px-3 py-1.5 rounded-lg font-medium transition text-sm
                        ${n.filterType===a.value?"bg-blue-600 text-white shadow font-bold":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,filterType:a.value}),children:a.label},a.value))})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sort By"}),o.jsxs("div",{className:"flex gap-3 flex-wrap",children:[o.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition
                      ${n.sortBy==="name"?"bg-blue-600 text-white shadow font-bold":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,sortBy:"name"}),children:"Name"}),o.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition
                      ${n.sortBy==="date"?"bg-blue-600 text-white shadow font-bold":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,sortBy:"date"}),children:"Date"}),o.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition
                      ${n.sortBy==="type"?"bg-blue-600 text-white shadow font-bold":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,sortBy:"type"}),children:"Type"}),o.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition
                      ${n.sortOrder==="asc"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,sortOrder:"asc"}),children:"Asc"}),o.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition
                      ${n.sortOrder==="desc"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,sortOrder:"desc"}),children:"Desc"})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{className:"px-5 py-2 font-bold bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition",onClick:()=>r(n),children:"Apply"})})]})]})})})},obe=()=>{const{user:t}=_s(),e=vr(),n=xa(),[s,r]=j.useState([]),[i,a]=j.useState(!0),[l,c]=j.useState(null),[u,d]=j.useState("Free"),[h,f]=j.useState(null),[m,p]=j.useState(30),[x,v]=j.useState(!1),[y,_]=j.useState(y7),[N,P]=j.useState(y7),[I,D]=j.useState(""),[C,w]=j.useState([]),[A,R]=j.useState(!1),[E,T]=j.useState(null),[L,z]=j.useState(!1),[$,O]=j.useState(null),[F,Q]=j.useState(!1),[V,W]=j.useState(!1),[Z,U]=j.useState(1),G=50,[Y,J]=j.useState(typeof window<"u"?window.innerWidth:1024);j.useEffect(()=>{const Ce=()=>J(window.innerWidth);return window.addEventListener("resize",Ce),()=>window.removeEventListener("resize",Ce)},[]);const re=Y<=700;j.useEffect(()=>{const ft=new URLSearchParams(n.search).get("search");ft&&D(ft)},[n.search]),j.useEffect(()=>{(async()=>{if(t){a(!0);try{const ft=Lt(dt,"users",t.uid),Ft=await ws(ft);if(Ft.exists()){const ct=Ft.data(),nn=v1(ct.subscriptionPlan||"Free",ct.subscriptionExpiry||null);d(nn.planName),f(ct.subscriptionExpiry||null),p(nn.features.historyStorage)}await le()}catch(ft){c(`Failed to fetch data: ${ft.message}`),console.error(ft)}finally{a(!1)}}})()},[t]);const le=async()=>{if(t)try{const Ce=Qs(Vn(dt,"qrcodes"),Kn("userId","==",t.uid),Bc("createdAt","desc")),Ft=(await xr(Ce)).docs.map(ct=>({id:ct.id,...ct.data()}));r(Ft)}catch(Ce){c(`Failed to fetch QR codes: ${Ce.message}`),console.error(Ce)}},ue=j.useMemo(()=>{let Ce=[...s];return I&&(Ce=Ce.filter(ft=>{var Ft;return ft.name.toLowerCase().includes(I.toLowerCase())||Qu(ft).toLowerCase().includes(I.toLowerCase())||_o(ft)&&((Ft=ft.tags)==null?void 0:Ft.some(ct=>ct.toLowerCase().includes(I.toLowerCase())))})),N.filterType!=="all"&&(Ce=Ce.filter(ft=>ft.type===N.filterType)),Ce.sort((ft,Ft)=>{if(N.sortBy==="name"){const ct=(ft.name??"").toLowerCase(),nn=(Ft.name??"").toLowerCase();return N.sortOrder==="asc"?ct.localeCompare(nn):nn.localeCompare(ct)}else if(N.sortBy==="type"){const ct=ft.type,nn=Ft.type;return N.sortOrder==="asc"?ct.localeCompare(nn):nn.localeCompare(ct)}else{const ct=new Date(ft.createdAt||0).getTime(),nn=new Date(Ft.createdAt||0).getTime();return N.sortOrder==="asc"?ct-nn:nn-ct}}),Ce},[s,I,N]),de=j.useMemo(()=>{const Ce=(Z-1)*G;return ue.slice(Ce,Ce+G)},[ue,Z,G]),_e=Math.max(1,Math.ceil(ue.length/G)),Ae=ue.length,Le=Ae>G,Ie=Hz(u);Z6(s.length,m);const Xe=y$(u,{historyUsed:s.length}),ye=hw(u,"history"),ae=async Ce=>{const ft=Array.isArray(Ce)?Ce:[Ce];try{const Ft=yie(dt);ft.forEach(ct=>{const nn=Lt(dt,"qrcodes",ct);Ft.delete(nn)}),await Ft.commit(),r(ct=>ct.filter(nn=>!ft.includes(nn.id))),we("QR code(s) deleted successfully!","success")}catch(Ft){c(`Failed to delete QR codes: ${Ft.message}`),we(`Failed to delete QR codes: ${Ft.message}`,"error")}},nt=Ce=>{T(Ce),z(!0),O(null),setTimeout(()=>z(!1),600)},Je=()=>{T(null),z(!1),O(null)},Oe=Ce=>{w(ft=>ft.includes(Ce)?ft.filter(Ft=>Ft!==Ce):[...ft,Ce])},Ne=()=>{R(Ce=>!Ce),w([])},ke=()=>{if(C.length===0){we("Please select QR codes to delete.","error");return}Q(!0)},Ve=async()=>{try{await ae(C),w([]),R(!1)}finally{Q(!1)}},$e=()=>{if(C.length===0){we("Please select QR codes to save to collection.","error");return}W(!0)},Te=Ce=>{_o(Ce)?e(`/edit/${Ce.id}`):e(`/edit/${Ce.id}`)},ze=Ce=>{_o(Ce)&&e(`/analyse/${Ce.id}`)},Ge=j.useCallback(Ce=>{Ce>=1&&Ce<=_e&&Ce!==Z&&(w([]),A&&R(!1),U(Ce))},[Z,_e,A]),rt=()=>{_(N),v(!0)},xt=()=>{v(!1)},Pe=Ce=>{P(Ce),v(!1),U(1),w([]),A&&R(!1)},we=(Ce,ft)=>{const Ft={position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};switch(ft){case"success":We.success(Ce,Ft);break;case"error":We.error(Ce,Ft);break;default:We.info(Ce,Ft);break}},Me=()=>re?N.viewMode==="grid"?"26%":"32%":N.viewMode==="grid"?"20%":"22%",st=j.useMemo(()=>rbe(Z,_e,re),[Z,_e,re]),at=()=>!A||C.length===0?null:o.jsxs("div",{className:`mt-3 pt-3 border-t border-gray-200 ${re?"flex flex-col gap-2":"flex flex-row gap-3"}`,children:[o.jsxs("button",{className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium rounded-lg transition shadow hover:from-blue-600 hover:to-blue-700 disabled:opacity-50 ${re?"justify-center w-full":""}`,disabled:i||!C.length,onClick:$e,children:[o.jsx(ig,{className:"w-4 h-4"}),o.jsx("span",{children:"Save to Collection"})]}),o.jsxs("button",{className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white font-medium rounded-lg transition shadow hover:from-red-600 hover:to-red-700 disabled:opacity-50 ${re?"justify-center w-full":""}`,disabled:i||!C.length,onClick:ke,children:[o.jsx(ma,{className:"w-4 h-4"}),o.jsx("span",{children:"Delete Selected"})]})]}),Et=()=>{const Ce=de.length>0&&de.every(ft=>C.includes(ft.id));return o.jsx(he.nav,{className:"bg-white border border-gray-200 py-3 px-4 shadow-sm rounded-t-lg",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2},children:o.jsxs("div",{className:"max-w-full w-full mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"flex items-center gap-3 flex-wrap",children:A?o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"flex items-center gap-1 bg-white border border-gray-200 px-2.5 py-1 rounded-lg shadow-sm",children:[o.jsx("input",{type:"checkbox",checked:Ce,onChange:()=>{const ft=de.map(ct=>ct.id),Ft=Ce?C.filter(ct=>!ft.includes(ct)):[...C,...ft.filter(ct=>!C.includes(ct))];w(Ft)},className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:outline-none"}),o.jsx("span",{className:"text-sm text-gray-700 pl-1",children:"All"})]}),o.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 rounded-lg transition bg-gray-50 hover:bg-red-100 text-red-600 text-sm font-medium",onClick:()=>{w([]),R(!1)},children:[o.jsx("span",{children:"Close"}),o.jsx(bs,{className:"w-4 h-4"})]}),o.jsxs("span",{className:"text-sm font-bold text-blue-800 select-none",children:[C.length," / 50"]})]}):o.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-semibold bg-blue-100 text-blue-700 border-none shadow-sm hover:bg-blue-200 transition",onClick:Ne,children:[o.jsx(Jn,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Select"})]})}),!A&&o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-semibold bg-white text-gray-700 border border-gray-200 shadow-sm hover:bg-blue-50 transition focus:outline-none focus:ring-2 focus:ring-blue-200",onClick:rt,children:[o.jsx(ag,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Quick Tools"})]})})]}),o.jsx(at,{})]})})};return t?Ie?o.jsxs("div",{className:"py-2 sm:py-4",children:[o.jsx(Jf,{position:"bottom-center",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"shadow-lg",style:{marginBottom:"10px"}}),o.jsxs("div",{className:"relative py-3 max-w-6xl mx-auto px-4 w-full",children:[o.jsx("div",{className:"flex items-center justify-between mb-8",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Bd,{className:"w-5 h-5 text-gray-600"})}),o.jsx("div",{className:"w-1 h-12 bg-gradient-to-b from-blue-500 to-indigo-600 rounded-full"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"QR Code History"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage and organize your QR codes"})]})]})}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:I,onChange:Ce=>D(Ce.target.value),placeholder:"Search QR codes...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),Xe.show&&o.jsx("div",{className:"mb-6 rounded-xl border border-amber-200 bg-gradient-to-r from-amber-50 to-amber-100 p-4 sm:p-5 shadow-sm",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"h-5 w-5 flex items-center justify-center text-amber-700",children:"⚠️"}),o.jsx("p",{className:"text-amber-800 text-xs sm:text-sm leading-relaxed",children:ye})]}),o.jsx("a",{href:"/plans-and-quota",className:"inline-block rounded-lg bg-amber-500 px-4 py-2 text-xs sm:text-sm font-medium text-white shadow-sm hover:bg-amber-600 transition-colors",children:"Upgrade Plan"})]})}),l&&o.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-red-600 text-sm",children:"!"})}),o.jsx("p",{className:"text-red-700",children:l})]})}),i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"Loading QR codes..."})]}):o.jsx("div",{className:"max-w-7xl mx-auto px-1 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"space-y-0",children:[o.jsx(Et,{}),o.jsx(abe,{open:x,onClose:xt,settings:y,onChange:_,onApply:Pe}),o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.45,delay:.08},className:"bg-white border border-gray-200 border-t-0 border-b-0 p-2 sm:p-6 shadow-sm",children:ue.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ig,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No QR codes found"}),o.jsx("p",{className:"text-gray-500 mb-4",children:I?"No QR codes match your search.":"Create your first QR code to get started."}),o.jsx("button",{onClick:()=>e("/static-code"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Create QR Code"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-2 text-gray-600",children:o.jsx("span",{className:"text-sm",children:`Showing ${de.length} of ${Ae} QR Codes`})}),o.jsx("div",{className:N.viewMode==="grid"?"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-6":"space-y-3",style:{marginBottom:"15px"},children:de.map(Ce=>o.jsx(he.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.23},className:`relative group ${N.viewMode==="grid","bg-gray-50 border border-gray-200 rounded-lg p-2 shadow-sm hover:shadow-lg transition"}`,children:N.viewMode==="grid"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute top-2 right-2 z-10",children:o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ce.type==="dynamic"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:Ce.type==="dynamic"?"Dynamic":"Static"})}),o.jsx("div",{className:"mb-2",children:o.jsxs("div",{className:"bg-white rounded-lg flex items-center justify-center p-2 relative overflow-hidden cursor-pointer w-full aspect-square",onClick:()=>nt(Ce),children:[o.jsx(Yd,{value:Qu(Ce),size:re?96:160,bgColor:Ce.backgroundColor,fgColor:Ce.color,level:Ce.errorCorrectionLevel,includeMargin:!1}),Ce.logoDataUrl&&o.jsx("img",{src:Ce.logoDataUrl,alt:"",className:"absolute rounded-full bg-white p-0.5 object-contain",style:{width:Me(),height:Me(),top:"50%",left:"50%",transform:"translate(-50%,-50%)"}})]})}),o.jsxs("div",{className:"px-1 min-h-[32px] align-middle text-center",children:[o.jsx("div",{className:"font-semibold text-gray-900 text-xs truncate",title:Ce.name,children:Ce.name||"Untitled"}),o.jsx("div",{className:"text-xs text-gray-600 truncate",children:Qu(Ce)})]}),!A&&o.jsxs("div",{className:"flex items-center justify-between mt-2 px-2",children:[o.jsx("button",{className:"p-2 rounded-lg hover:bg-blue-50 text-gray-400 hover:text-blue-700 transition",onClick:()=>nt(Ce),title:"View QR Code",children:o.jsx(os,{className:"w-4 h-4"})}),_o(Ce)&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"p-2 rounded-lg hover:bg-green-50 text-gray-400 hover:text-green-700 transition",onClick:()=>Te(Ce),title:"Edit QR Code",children:o.jsx(Kv,{className:"w-4 h-4"})}),o.jsx("button",{className:"p-2 rounded-lg hover:bg-purple-50 text-gray-400 hover:text-purple-700 transition",onClick:()=>ze(Ce),title:"View Analytics",children:o.jsx(Yv,{className:"w-4 h-4"})})]}),o.jsx(bx,{qrCodeData:Ce}),o.jsx("button",{className:"p-2 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-700 transition",onClick:()=>ae(Ce.id),title:"Delete QR Code",children:o.jsx(ma,{className:"w-4 h-4"})})]}),A&&o.jsx("div",{className:"mt-2 border-t border-gray-200 flex justify-center pt-2",children:o.jsx("input",{type:"checkbox",checked:C.includes(Ce.id),onChange:()=>Oe(Ce.id),className:"w-5 h-5 text-blue-600 border-gray-300 rounded"})})]}):o.jsxs("div",{className:"flex flex-row items-center",children:[o.jsx("div",{className:"mr-3 flex-shrink-0",children:o.jsxs("div",{className:`${re?"w-12 h-12":"w-16 h-16"} bg-white rounded-lg flex items-center justify-center relative overflow-hidden cursor-pointer`,onClick:()=>nt(Ce),children:[o.jsx(Yd,{value:Qu(Ce),size:re?44:60,bgColor:Ce.backgroundColor,fgColor:Ce.color,level:Ce.errorCorrectionLevel,includeMargin:!1}),Ce.logoDataUrl&&o.jsx("img",{src:Ce.logoDataUrl,alt:"",className:"absolute rounded-full bg-white p-0.5 object-contain",style:{width:Me(),height:Me(),top:"50%",left:"50%",transform:"translate(-50%,-50%)"}})]})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"font-bold text-gray-800 truncate",children:Ce.name||"Untitled"}),o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ce.type==="dynamic"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:Ce.type==="dynamic"?"Dynamic":"Static"})]}),o.jsx("div",{className:"text-xs text-gray-500 truncate",children:Qu(Ce)})]}),o.jsxs("div",{className:"flex items-center ml-2",children:[!A&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"p-2 rounded-lg hover:bg-blue-50 text-gray-400 hover:text-blue-700 transition",onClick:()=>nt(Ce),title:"View QR Code",children:o.jsx(os,{className:"w-4 h-4"})}),_o(Ce)&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"p-2 rounded-lg hover:bg-green-50 text-gray-400 hover:text-green-700 transition",onClick:()=>Te(Ce),title:"Edit QR Code",children:o.jsx(Kv,{className:"w-4 h-4"})}),o.jsx("button",{className:"p-2 rounded-lg hover:bg-purple-50 text-gray-400 hover:text-purple-700 transition",onClick:()=>ze(Ce),title:"View Analytics",children:o.jsx(Yv,{className:"w-4 h-4"})})]}),o.jsx(bx,{qrCodeData:Ce}),o.jsx("button",{className:"p-2 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-700 transition",onClick:()=>ae(Ce.id),title:"Delete QR Code",children:o.jsx(ma,{className:"w-4 h-4"})})]}),A&&o.jsx("input",{type:"checkbox",checked:C.includes(Ce.id),onChange:()=>Oe(Ce.id),className:"w-5 h-5 text-blue-600 border-gray-300 rounded"})]})]})},Ce.id))})]})}),Le&&_e>1&&o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2},className:"bg-white border border-gray-200 border-t-0 border-b-0 py-4 px-4 shadow-sm",children:o.jsx("div",{className:"flex justify-center w-full",children:re?o.jsxs("nav",{className:"flex items-center gap-2 bg-white py-1.5 px-2 rounded-lg shadow-sm border border-gray-100",children:[o.jsx("button",{className:`p-1 rounded-md transition-colors text-xs ${Z>1?"text-gray-500 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`,onClick:()=>Ge(Z-1),disabled:Z<=1,children:o.jsx(rg,{className:"w-3.5 h-3.5"})}),o.jsxs("span",{className:"px-1.5 py-0.5 text-xs font-medium text-gray-700 select-none",children:["Page ",Z," of ",_e]}),o.jsx("button",{className:`p-1 rounded-md transition-colors text-xs ${Z<_e?"text-gray-500 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`,onClick:()=>Ge(Z+1),disabled:Z>=_e,children:o.jsx(Sd,{className:"w-3.5 h-3.5"})})]}):o.jsxs("nav",{className:"flex flex-row items-center justify-center gap-1 bg-white py-3 px-4 rounded-xl shadow-sm border border-gray-100",children:[Z>3&&o.jsx("button",{className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 transition-colors",onClick:()=>Ge(1),children:o.jsx(e6,{className:"w-4 h-4"})}),o.jsx("button",{className:`p-2 rounded-md transition-colors ${Z>1?"text-gray-500 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`,onClick:()=>Ge(Z-1),disabled:Z<=1,children:o.jsx(rg,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex items-center gap-1",children:st.map((Ce,ft)=>o.jsx(Re.Fragment,{children:Ce==="..."?o.jsx("span",{className:"px-2 text-gray-400 select-none",children:"..."}):o.jsx("button",{onClick:()=>Ge(Ce),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${Z===Ce?"bg-blue-600 text-white shadow-md":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:Ce})},ft))}),o.jsx("button",{className:`p-2 rounded-md transition-colors ${Z<_e?"text-gray-500 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`,onClick:()=>Ge(Z+1),disabled:Z>=_e,children:o.jsx(Sd,{className:"w-4 h-4"})}),Z<_e-2&&o.jsx("button",{className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 transition-colors",onClick:()=>Ge(_e),children:o.jsx(t6,{className:"w-4 h-4"})})]})})}),o.jsx(he.nav,{className:"bg-white border border-gray-200 border-t-0 py-3 px-4 shadow-sm rounded-b-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2},children:o.jsxs("div",{className:"max-w-full w-full mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"flex items-center gap-3 flex-wrap",children:A?o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"flex items-center gap-1 bg-white border border-gray-200 px-2.5 py-1 rounded-lg shadow-sm",children:[o.jsx("input",{type:"checkbox",checked:de.length>0&&de.every(Ce=>C.includes(Ce.id)),onChange:()=>{const Ce=de.map(ct=>ct.id),Ft=Ce.every(ct=>C.includes(ct))?C.filter(ct=>!Ce.includes(ct)):[...C,...Ce.filter(ct=>!C.includes(ct))];w(Ft)},className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:outline-none"}),o.jsx("span",{className:"text-sm text-gray-700 pl-1",children:"All"})]}),o.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 rounded-lg transition bg-gray-50 hover:bg-red-100 text-red-600 text-sm font-medium",onClick:()=>{w([]),R(!1)},children:[o.jsx("span",{children:"Close"}),o.jsx(bs,{className:"w-4 h-4"})]}),o.jsxs("span",{className:"text-sm font-bold text-blue-800 select-none",children:[C.length," / 50"]})]}):o.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-semibold bg-blue-100 text-blue-700 border-none shadow-sm hover:bg-blue-200 transition",onClick:Ne,children:[o.jsx(Jn,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Select"})]})}),!A&&o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-semibold bg-white text-gray-700 border border-gray-200 shadow-sm hover:bg-blue-50 transition focus:outline-none focus:ring-2 focus:ring-blue-200",onClick:rt,children:[o.jsx(ag,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Quick Tools"})]})})]}),o.jsx(at,{})]})})]})})]}),E&&o.jsx(r_,{qrCodeData:E,onClose:Je,loading:L,error:$}),o.jsx(pq,{isOpen:F,onClose:()=>Q(!1),onConfirm:Ve,selectedCount:C.length,isBulkDelete:!0}),V&&o.jsx(sbe,{userId:t.uid,qrCodeIds:C,onClose:()=>W(!1),onCollectionCreated:()=>{W(!1),w([]),R(!1)},onQrCodesUpdated:()=>{w([]),R(!1)},qrCodeData:s.filter(Ce=>C.includes(Ce.id))})]}):o.jsx("div",{className:"py-2 sm:py-4",children:o.jsxs("div",{className:"relative py-3 max-w-6xl mx-auto px-4 w-full",children:[o.jsx("div",{className:"flex items-center justify-between mb-8",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Bd,{className:"w-5 h-5 text-gray-600"})}),o.jsx("div",{className:"w-1 h-12 bg-gradient-to-b from-blue-500 to-indigo-600 rounded-full"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"QR Code History"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Access your saved QR codes"})]})]})}),o.jsx("div",{className:"mb-4 text-center max-w-sm mx-auto",children:o.jsxs("a",{href:"/plans-and-quota",className:"flex items-center justify-start gap-4 px-6 py-5 bg-gradient-to-r from-emerald-500 to-emerald-600 border border-emerald-400 rounded-2xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition-transform text-white","aria-label":"Unlock QR History",children:[o.jsx("div",{className:"p-3 rounded-xl bg-white/20 flex items-center justify-center",children:o.jsx(oV,{className:"w-7 h-7 text-white","aria-hidden":"true"})}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"text-base font-semibold leading-tight",children:"Get History Access"}),o.jsx("span",{className:"text-xs text-white/80 tracking-wide",children:"Available with any paid plan"})]})]})})]})}):o.jsx("div",{className:"px-4 py-8 text-center text-gray-700",children:"Please log in to view this page."})},x7=({isOpen:t,onClose:e,onConfirm:n,selectedCount:s})=>{const r={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{duration:.2,ease:"easeInOut"}},exit:{opacity:0,scale:.9,transition:{duration:.15,ease:"easeInOut"}}};return Re.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),o.jsx(Zt,{children:t&&o.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:"hidden",animate:"visible",exit:"exit",variants:r,onClick:e,children:o.jsxs(he.div,{className:"relative bg-white rounded-2xl shadow-lg max-w-md w-full mx-4 p-6",onClick:i=>i.stopPropagation(),variants:r,children:[o.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:o.jsx(Vd,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center rounded-full bg-red-100 p-3 mx-auto mb-4",children:o.jsx(ma,{className:"h-8 w-8 text-red-600"})}),o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Remove ",s," QR Code(s)?"]}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Are you sure you want to remove these QR codes from this collection? This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:e,className:"py-2 px-5 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Cancel"}),o.jsx("button",{onClick:n,className:"py-2 px-5 bg-red-600 text-white rounded-xl shadow-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Confirm Remove"})]})]})})})},b7={viewMode:"grid",sortBy:"date",sortOrder:"desc"};function lbe(t,e){j.useEffect(()=>{const n=s=>{!t.current||t.current.contains(s.target)||e()};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])}const cbe=({open:t,onClose:e,settings:n,onChange:s,onApply:r})=>{const i=j.useRef(null);return lbe(i,e),o.jsx(Zt,{children:t&&o.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-center",style:{backdropFilter:"blur(2px)"},children:o.jsxs(he.div,{ref:i,initial:{scale:.95,opacity:0,y:40},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:40},transition:{duration:.22},className:"bg-white rounded-xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"font-bold text-lg flex items-center gap-2",children:[o.jsx(ag,{className:"w-5 h-5 text-blue-600"}),"Quick Tools"]}),o.jsx("button",{className:"text-gray-400 hover:text-gray-800",onClick:e,children:o.jsx(bs,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"View"}),o.jsxs("button",{className:`px-4 py-2 rounded-lg flex items-center gap-1 transition 
                    ${n.viewMode==="grid"?"bg-blue-600 text-white shadow font-bold":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,viewMode:"grid"}),"aria-label":"Grid view",children:[o.jsx(lV,{className:"w-4 h-4"})," Grid"]}),o.jsxs("button",{className:`px-4 py-2 rounded-lg flex items-center gap-1 transition 
                    ${n.viewMode==="list"?"bg-blue-600 text-white shadow font-bold":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,viewMode:"list"}),"aria-label":"List view",children:[o.jsx(cV,{className:"w-4 h-4"})," List"]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sort By"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition
                      ${n.sortBy==="name"?"bg-blue-600 text-white shadow font-bold":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,sortBy:"name"}),children:"Name"}),o.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition
                      ${n.sortBy==="date"?"bg-blue-600 text-white shadow font-bold":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,sortBy:"date"}),children:"Date"}),o.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition
                      ${n.sortOrder==="asc"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,sortOrder:"asc"}),children:"Asc"}),o.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition
                      ${n.sortOrder==="desc"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500 hover:bg-blue-50"}`,onClick:()=>s({...n,sortOrder:"desc"}),children:"Desc"})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{className:"px-5 py-2 font-bold bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition",onClick:()=>r(n),children:"Apply"})})]})]})})})},ube=(t,e,n=!1)=>{if(e<=1)return[];if(n)return{currentPage:t,totalPages:e};const s=7,r=[];if(e<=s){for(let c=1;c<=e;c++)r.push(c);return r}r.push(1);const i=Math.floor((s-2)/2);let a=Math.max(2,t-i),l=Math.min(e-1,t+i);t<=i+1&&(l=Math.min(s-1,e-1)),t>=e-i&&(a=Math.max(2,e-s+2)),a>2&&r.push("...");for(let c=a;c<=l;c++)r.push(c);return l<e-1&&r.push("..."),e>1&&r.push(e),r.filter((c,u,d)=>u===0||c!==d[u-1])},dbe=()=>{const{collectionId:t}=Qx(),{user:e}=_s(),n=vr(),[s,r]=j.useState(null),[i,a]=j.useState([]),[l,c]=j.useState(!0),[u,d]=j.useState(null),[h,f]=j.useState("Free"),[m,p]=j.useState(!1),[x,v]=j.useState(b7),[y,_]=j.useState(b7),[N,P]=j.useState([]),[I,D]=j.useState(!1),[C,w]=j.useState(null),[A,R]=j.useState(!1),[E,T]=j.useState(null),[L,z]=j.useState(!1),[$,O]=j.useState(null),[F,Q]=j.useState(!1),[V,W]=j.useState(1),Z=50,[U,G]=j.useState(typeof window<"u"?window.innerWidth:1024);j.useEffect(()=>{const Pe=()=>G(window.innerWidth);return window.addEventListener("resize",Pe),()=>window.removeEventListener("resize",Pe)},[]);const Y=U<=700;j.useEffect(()=>{(async()=>{if(!e||!t){c(!1);return}c(!0);try{const we=Lt(dt,"users",e.uid),Me=await ws(we);if(Me.exists()){const Ce=Me.data();f(Ce.subscriptionPlan||"Free")}const st=Lt(dt,"userCollections",t),at=await ws(st);if(!at.exists()){d("Collection not found.");return}const Et={id:at.id,...at.data()};if(Et.userId!==e.uid){d("You do not have access to this collection.");return}if(r(Et),Et.qrCodeIds&&Et.qrCodeIds.length>0){const Ce=Qs(Vn(dt,"qrcodes"),Kn("userId","==",e.uid),Bc("createdAt","desc")),ct=(await xr(Ce)).docs.map(nn=>({id:nn.id,...nn.data()})).filter(nn=>Et.qrCodeIds.includes(nn.id));a(ct)}else a([])}catch(we){d(`Failed to fetch data: ${we.message}`),console.error(we)}finally{c(!1)}})()},[e,t]);const J=j.useMemo(()=>{let Pe=[...i];return Pe.sort((we,Me)=>{if(y.sortBy==="name"){const st=(we.name??"").toLowerCase(),at=(Me.name??"").toLowerCase();return y.sortOrder==="asc"?st.localeCompare(at):at.localeCompare(st)}else{const st=new Date(we.createdAt||0).getTime(),at=new Date(Me.createdAt||0).getTime();return y.sortOrder==="asc"?st-at:at-st}}),Pe},[i,y]),re=j.useMemo(()=>{const Pe=(V-1)*Z;return J.slice(Pe,Pe+Z)},[J,V,Z]),le=Math.max(1,Math.ceil(J.length/Z)),ue=J.length,de=ue>Z,_e=async Pe=>{if(s)try{const we=Lt(dt,"userCollections",s.id),Me=Array.isArray(Pe)?Pe:[Pe];await pi(we,{qrCodeIds:gie(...Me)}),a(st=>st.filter(at=>!Me.includes(at.id))),r(st=>{var at;return st?{...st,qrCodeIds:(at=st.qrCodeIds)==null?void 0:at.filter(Et=>!Me.includes(Et))}:null}),Te("QR code(s) removed from collection successfully!","success")}catch(we){d(`Failed to remove QR codes: ${we.message}`),Te(`Failed to remove QR codes: ${we.message}`,"error")}},Ae=Pe=>{w(Pe),R(!0),T(null),setTimeout(()=>R(!1),600)},Le=()=>{w(null),R(!1),T(null)},Ie=Pe=>{P(we=>we.includes(Pe)?we.filter(Me=>Me!==Pe):[...we,Pe])},Xe=()=>{D(Pe=>!Pe),P([])},ye=()=>{if(N.length===0){Te("Please select QR codes to remove.","error");return}z(!0)},ae=async()=>{try{await _e(N),P([]),D(!1)}finally{z(!1)}},nt=Pe=>{O(Pe),Q(!0)},Je=async()=>{if($)try{await _e($)}finally{O(null),Q(!1)}},Oe=()=>{O(null),Q(!1)},Ne=j.useCallback(Pe=>{Pe>=1&&Pe<=le&&Pe!==V&&(P([]),I&&D(!1),W(Pe))},[V,le,I]),ke=()=>{v(y),p(!0)},Ve=()=>{p(!1)},$e=Pe=>{_(Pe),p(!1),W(1),P([]),I&&D(!1)},Te=(Pe,we)=>{const Me={position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};switch(we){case"success":We.success(Pe,Me);break;case"error":We.error(Pe,Me);break;default:We.info(Pe,Me);break}},ze=()=>Y?y.viewMode==="grid"?"26%":"32%":y.viewMode==="grid"?"20%":"22%",Ge=j.useMemo(()=>ube(V,le,Y),[V,le,Y]),rt=()=>!I||N.length===0?null:o.jsx("div",{className:`mt-3 pt-3 border-t border-gray-200 ${Y?"flex flex-col gap-2":"flex flex-row gap-3"}`,children:o.jsxs("button",{className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white font-medium rounded-lg transition shadow hover:from-red-600 hover:to-red-700 disabled:opacity-50 ${Y?"justify-center w-full":""}`,disabled:l||!N.length,onClick:ye,children:[o.jsx(ma,{className:"w-4 h-4"}),o.jsx("span",{children:"Remove Selected"})]})}),xt=()=>{const Pe=re.length>0&&re.every(we=>N.includes(we.id));return o.jsx(he.nav,{className:"bg-white border border-gray-200 py-3 px-4 shadow-sm rounded-t-lg",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2},children:o.jsxs("div",{className:"max-w-full w-full mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"flex items-center gap-3 flex-wrap",children:I?o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"flex items-center gap-1 bg-white border border-gray-200 px-2.5 py-1 rounded-lg shadow-sm",children:[o.jsx("input",{type:"checkbox",checked:Pe,onChange:()=>{const we=re.map(st=>st.id),Me=Pe?N.filter(st=>!we.includes(st)):[...N,...we.filter(st=>!N.includes(st))];P(Me)},className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:outline-none"}),o.jsx("span",{className:"text-sm text-gray-700 pl-1",children:"All"})]}),o.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 rounded-lg transition bg-gray-50 hover:bg-red-100 text-red-600 text-sm font-medium",onClick:()=>{P([]),D(!1)},children:[o.jsx("span",{children:"Close"}),o.jsx(bs,{className:"w-4 h-4"})]}),o.jsxs("span",{className:"text-sm font-bold text-blue-800 select-none",children:[N.length," / 50"]})]}):o.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-semibold bg-blue-100 text-blue-700 border-none shadow-sm hover:bg-blue-200 transition",onClick:Xe,children:[o.jsx(Jn,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Select"})]})}),!I&&o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-semibold bg-white text-gray-700 border border-gray-200 shadow-sm hover:bg-blue-50 transition focus:outline-none focus:ring-2 focus:ring-blue-200",onClick:ke,children:[o.jsx(ag,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Quick Tools"})]})})]}),o.jsx(rt,{})]})})};return e?qz(h)?o.jsxs("div",{className:"py-2 sm:py-4",children:[o.jsx(Jf,{position:"bottom-center",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"shadow-lg",style:{marginBottom:"10px"}}),o.jsxs("div",{className:"relative py-3 max-w-6xl mx-auto px-4 w-full",children:[o.jsx("div",{className:"flex items-center justify-between mb-8",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>n("/collections"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Bd,{className:"w-5 h-5 text-gray-600"})}),o.jsx("div",{className:"w-1 h-12 bg-gradient-to-b from-purple-500 to-indigo-600 rounded-full"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:(s==null?void 0:s.name)||"Collection"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage QR codes in this collection"})]})]})}),u&&o.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-red-600 text-sm",children:"!"})}),o.jsx("p",{className:"text-red-700",children:u})]})}),l?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"Loading collection..."})]}):o.jsx("div",{className:"max-w-7xl mx-auto px-1 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"space-y-0",children:[o.jsx(xt,{}),o.jsx(cbe,{open:m,onClose:Ve,settings:x,onChange:v,onApply:$e}),o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.45,delay:.08},className:"bg-white border border-gray-200 border-t-0 border-b-0 p-2 sm:p-6 shadow-sm",children:J.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ig,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Collection is empty"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Add QR codes to this collection from your history"}),o.jsx("button",{onClick:()=>n("/history"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Go to QR Codes"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-2 text-gray-600",children:o.jsx("span",{className:"text-sm",children:`Showing ${re.length} of ${ue} QR Codes`})}),o.jsx("div",{className:y.viewMode==="grid"?"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-6":"space-y-3",style:{marginBottom:"15px"},children:re.map(Pe=>o.jsx(he.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.23},className:`relative group ${y.viewMode==="grid","bg-gray-50 border border-gray-200 rounded-lg p-2 shadow-sm hover:shadow-lg transition"}`,children:y.viewMode==="grid"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-2",children:o.jsxs("div",{className:"bg-white rounded-lg flex items-center justify-center p-2 relative overflow-hidden cursor-pointer w-full aspect-square",onClick:()=>Ae(Pe),children:[o.jsx(Yd,{value:Pe.url,size:Y?96:160,bgColor:Pe.backgroundColor,fgColor:Pe.color,level:Pe.errorCorrectionLevel,includeMargin:!1}),Pe.logoDataUrl&&o.jsx("img",{src:Pe.logoDataUrl,alt:"",className:"absolute rounded-full bg-white p-0.5 object-contain",style:{width:ze(),height:ze(),top:"50%",left:"50%",transform:"translate(-50%,-50%)"}})]})}),o.jsxs("div",{className:"px-1 min-h-[32px] align-middle text-center",children:[o.jsx("div",{className:"font-semibold text-gray-900 text-xs truncate",title:Pe.name,children:Pe.name||"Untitled"}),o.jsx("div",{className:"text-xs text-gray-600 truncate",children:Pe.url})]}),!I&&o.jsxs("div",{className:"flex items-center justify-between mt-2 px-2",children:[o.jsx("button",{className:"p-2 rounded-lg hover:bg-blue-50 text-gray-400 hover:text-blue-700 transition",onClick:()=>Ae(Pe),children:o.jsx(os,{className:"w-4 h-4"})}),o.jsx(bx,{qrCodeData:Pe}),o.jsx("button",{className:"p-2 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-700 transition",onClick:()=>nt(Pe.id),children:o.jsx(ma,{className:"w-4 h-4"})})]}),I&&o.jsx("div",{className:"mt-2 border-t border-gray-200 flex justify-center pt-2",children:o.jsx("input",{type:"checkbox",checked:N.includes(Pe.id),onChange:()=>Ie(Pe.id),className:"w-5 h-5 text-blue-600 border-gray-300 rounded"})})]}):o.jsxs("div",{className:"flex flex-row items-center",children:[o.jsx("div",{className:"mr-3 flex-shrink-0",children:o.jsxs("div",{className:`${Y?"w-12 h-12":"w-16 h-16"} bg-white rounded-lg flex items-center justify-center relative overflow-hidden cursor-pointer`,onClick:()=>Ae(Pe),children:[o.jsx(Yd,{value:Pe.url,size:Y?44:60,bgColor:Pe.backgroundColor,fgColor:Pe.color,level:Pe.errorCorrectionLevel,includeMargin:!1}),Pe.logoDataUrl&&o.jsx("img",{src:Pe.logoDataUrl,alt:"",className:"absolute rounded-full bg-white p-0.5 object-contain",style:{width:ze(),height:ze(),top:"50%",left:"50%",transform:"translate(-50%,-50%)"}})]})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-bold text-gray-800 truncate",children:Pe.name||"Untitled"}),o.jsx("div",{className:"text-xs text-gray-500 truncate",children:Pe.url})]}),o.jsxs("div",{className:"flex items-center ml-2",children:[!I&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"p-2 rounded-lg hover:bg-blue-50 text-gray-400 hover:text-blue-700 transition",onClick:()=>Ae(Pe),children:o.jsx(os,{className:"w-4 h-4"})}),o.jsx(bx,{qrCodeData:Pe}),o.jsx("button",{className:"p-2 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-700 transition",onClick:()=>nt(Pe.id),children:o.jsx(ma,{className:"w-4 h-4"})})]}),I&&o.jsx("input",{type:"checkbox",checked:N.includes(Pe.id),onChange:()=>Ie(Pe.id),className:"w-5 h-5 text-blue-600 border-gray-300 rounded"})]})]})},Pe.id))})]})}),de&&le>1&&o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2},className:"bg-white border border-gray-200 border-t-0 py-4 px-4 shadow-sm",children:o.jsx("div",{className:"flex justify-center w-full",children:o.jsxs("nav",{className:"flex flex-row items-center justify-center gap-1 bg-white py-3 px-4 rounded-xl shadow-sm border border-gray-100",children:[V>3&&o.jsx("button",{className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 transition-colors",onClick:()=>Ne(1),children:o.jsx(e6,{className:"w-4 h-4"})}),o.jsx("button",{className:`p-2 rounded-md transition-colors ${V>1?"text-gray-500 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`,onClick:()=>Ne(V-1),disabled:V<=1,children:o.jsx(rg,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex items-center gap-1",children:Array.isArray(Ge)?Ge.map((Pe,we)=>o.jsx(Re.Fragment,{children:Pe==="..."?o.jsx("span",{className:"px-2 text-gray-400 select-none",children:"..."}):o.jsx("button",{onClick:()=>Ne(Pe),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${V===Pe?"bg-blue-600 text-white shadow-md":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:Pe})},we)):o.jsxs("span",{children:["Page ",Ge.currentPage," of ",Ge.totalPages]})}),o.jsx("button",{className:`p-2 rounded-md transition-colors ${V<le?"text-gray-500 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`,onClick:()=>Ne(V+1),disabled:V>=le,children:o.jsx(Sd,{className:"w-4 h-4"})}),V<le-2&&o.jsx("button",{className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 transition-colors",onClick:()=>Ne(le),children:o.jsx(t6,{className:"w-4 h-4"})})]})})}),o.jsx(he.nav,{className:"bg-white border border-gray-200 border-t-0 py-3 px-4 shadow-sm rounded-b-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2},children:o.jsxs("div",{className:"max-w-full w-full mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"flex items-center gap-3 flex-wrap",children:I?o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"flex items-center gap-1 bg-white border border-gray-200 px-2.5 py-1 rounded-lg shadow-sm",children:[o.jsx("input",{type:"checkbox",checked:re.length>0&&re.every(Pe=>N.includes(Pe.id)),onChange:()=>{const Pe=re.map(st=>st.id),Me=Pe.every(st=>N.includes(st))?N.filter(st=>!Pe.includes(st)):[...N,...Pe.filter(st=>!N.includes(st))];P(Me)},className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:outline-none"}),o.jsx("span",{className:"text-sm text-gray-700 pl-1",children:"All"})]}),o.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 rounded-lg transition bg-gray-50 hover:bg-red-100 text-red-600 text-sm font-medium",onClick:()=>{P([]),D(!1)},children:[o.jsx("span",{children:"Close"}),o.jsx(bs,{className:"w-4 h-4"})]}),o.jsxs("span",{className:"text-sm font-bold text-blue-800 select-none",children:[N.length," / 50"]})]}):o.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-semibold bg-blue-100 text-blue-700 border-none shadow-sm hover:bg-blue-200 transition",onClick:Xe,children:[o.jsx(Jn,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Select"})]})}),!I&&o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-semibold bg-white text-gray-700 border border-gray-200 shadow-sm hover:bg-blue-50 transition focus:outline-none focus:ring-2 focus:ring-blue-200",onClick:ke,children:[o.jsx(ag,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Quick Tools"})]})})]}),o.jsx(rt,{})]})})]})})]}),C&&o.jsx(r_,{qrCodeData:C,onClose:Le,loading:A,error:E}),o.jsx(x7,{isOpen:L,onClose:()=>z(!1),onConfirm:ae,selectedCount:N.length}),o.jsx(x7,{isOpen:F,onClose:Oe,onConfirm:Je,selectedCount:1})]}):o.jsx("div",{className:"py-2 sm:py-4",children:o.jsxs("div",{className:"relative py-3 max-w-6xl mx-auto px-4 w-full",children:[o.jsx("div",{className:"flex items-center justify-between mb-8",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>n("/collections"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Bd,{className:"w-5 h-5 text-gray-600"})}),o.jsx("div",{className:"w-1 h-12 bg-gradient-to-b from-purple-500 to-indigo-600 rounded-full"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"Collection Details"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Collections feature"})]})]})}),o.jsx("div",{className:"mb-4 text-center max-w-sm mx-auto",children:o.jsxs("a",{href:"/plans-and-quota",className:"flex items-center justify-start gap-4 px-6 py-5 bg-gradient-to-r from-amber-500 to-orange-500 border border-amber-400 rounded-2xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition-transform text-white","aria-label":"Unlock Collections",children:[o.jsx("div",{className:"p-3 rounded-xl bg-white/20 flex items-center justify-center",children:o.jsx(ig,{className:"w-7 h-7 text-white","aria-hidden":"true"})}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"text-base font-semibold leading-tight",children:"Unlock Collections"}),o.jsx("span",{className:"text-xs text-white/80 tracking-wide",children:"Available with Basic plan and above"})]})]})})]})}):o.jsx("div",{className:"px-4 py-8 text-center text-gray-700",children:"Please log in to view this page."})};let hbe={data:""},fbe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||hbe,mbe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pbe=/\/\*[^]*?\*\/|  +/g,v7=/\n+/g,Gu=(t,e)=>{let n="",s="",r="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":s+=i[1]=="f"?Gu(a,i):i+"{"+Gu(a,i[1]=="k"?"":e)+"}":typeof a=="object"?s+=Gu(a,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Gu.p?Gu.p(i,a):i+":"+a+";")}return n+(e&&r?e+"{"+r+"}":r)+s},ac={},gq=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+gq(t[n]);return e}return t},gbe=(t,e,n,s,r)=>{let i=gq(t),a=ac[i]||(ac[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!ac[a]){let c=i!==t?t:(u=>{let d,h,f=[{}];for(;d=mbe.exec(u.replace(pbe,""));)d[4]?f.shift():d[3]?(h=d[3].replace(v7," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(v7," ").trim();return f[0]})(t);ac[a]=Gu(r?{["@keyframes "+a]:c}:c,n?"":"."+a)}let l=n&&ac.g?ac.g:null;return n&&(ac.g=ac[a]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(ac[a],e,s,l),a},ybe=(t,e,n)=>t.reduce((s,r,i)=>{let a=e[i];if(a&&a.call){let l=a(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":Gu(l,""):l===!1?"":l}return s+r+(a??"")},"");function c_(t){let e=this||{},n=t.call?t(e.p):t;return gbe(n.unshift?n.raw?ybe(n,[].slice.call(arguments,1),e.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):n,fbe(e.target),e.g,e.o,e.k)}let yq,hj,fj;c_.bind({g:1});let qc=c_.bind({k:1});function xbe(t,e,n,s){Gu.p=e,yq=t,hj=n,fj=s}function rh(t,e){let n=this||{};return function(){let s=arguments;function r(i,a){let l=Object.assign({},i),c=l.className||r.className;n.p=Object.assign({theme:hj&&hj()},l),n.o=/ *go\d+/.test(c),l.className=c_.apply(n,s)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),fj&&u[0]&&fj(l),yq(u,l)}return r}}var bbe=t=>typeof t=="function",bw=(t,e)=>bbe(t)?t(e):t,vbe=(()=>{let t=0;return()=>(++t).toString()})(),xq=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),wbe=20,bq=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,wbe)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return bq(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},F2=[],tf={toasts:[],pausedAt:void 0},tm=t=>{tf=bq(tf,t),F2.forEach(e=>{e(tf)})},_be={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Nbe=(t={})=>{let[e,n]=j.useState(tf),s=j.useRef(tf);j.useEffect(()=>(s.current!==tf&&n(tf),F2.push(n),()=>{let i=F2.indexOf(n);i>-1&&F2.splice(i,1)}),[]);let r=e.toasts.map(i=>{var a,l,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((a=t[i.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((l=t[i.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||_be[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:r}},Sbe=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||vbe()}),_1=t=>(e,n)=>{let s=Sbe(e,t,n);return tm({type:2,toast:s}),s.id},Nn=(t,e)=>_1("blank")(t,e);Nn.error=_1("error");Nn.success=_1("success");Nn.loading=_1("loading");Nn.custom=_1("custom");Nn.dismiss=t=>{tm({type:3,toastId:t})};Nn.remove=t=>tm({type:4,toastId:t});Nn.promise=(t,e,n)=>{let s=Nn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=e.success?bw(e.success,r):void 0;return i?Nn.success(i,{id:s,...n,...n==null?void 0:n.success}):Nn.dismiss(s),r}).catch(r=>{let i=e.error?bw(e.error,r):void 0;i?Nn.error(i,{id:s,...n,...n==null?void 0:n.error}):Nn.dismiss(s)}),t};var jbe=(t,e)=>{tm({type:1,toast:{id:t,height:e}})},Ebe=()=>{tm({type:5,time:Date.now()})},Ay=new Map,Abe=1e3,Tbe=(t,e=Abe)=>{if(Ay.has(t))return;let n=setTimeout(()=>{Ay.delete(t),tm({type:4,toastId:t})},e);Ay.set(t,n)},Cbe=t=>{let{toasts:e,pausedAt:n}=Nbe(t);j.useEffect(()=>{if(n)return;let i=Date.now(),a=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&Nn.dismiss(l.id);return}return setTimeout(()=>Nn.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[e,n]);let s=j.useCallback(()=>{n&&tm({type:6,time:Date.now()})},[n]),r=j.useCallback((i,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=a||{},d=e.filter(m=>(m.position||u)===(i.position||u)&&m.height),h=d.findIndex(m=>m.id===i.id),f=d.filter((m,p)=>p<h&&m.visible).length;return d.filter(m=>m.visible).slice(...l?[f+1]:[0,f]).reduce((m,p)=>m+(p.height||0)+c,0)},[e]);return j.useEffect(()=>{e.forEach(i=>{if(i.dismissed)Tbe(i.id,i.removeDelay);else{let a=Ay.get(i.id);a&&(clearTimeout(a),Ay.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:jbe,startPause:Ebe,endPause:s,calculateOffset:r}}},kbe=qc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Pbe=qc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rbe=qc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ibe=rh("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kbe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Pbe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Rbe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Lbe=qc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Mbe=rh("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Lbe} 1s linear infinite;
`,Dbe=qc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Obe=qc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Fbe=rh("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Dbe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Obe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Bbe=rh("div")`
  position: absolute;
`,Vbe=rh("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ube=qc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zbe=rh("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ube} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$be=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?j.createElement(zbe,null,e):e:n==="blank"?null:j.createElement(Vbe,null,j.createElement(Mbe,{...s}),n!=="loading"&&j.createElement(Bbe,null,n==="error"?j.createElement(Ibe,{...s}):j.createElement(Fbe,{...s})))},qbe=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Hbe=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Qbe="0%{opacity:0;} 100%{opacity:1;}",Gbe="0%{opacity:1;} 100%{opacity:0;}",Wbe=rh("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ybe=rh("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Kbe=(t,e)=>{let n=t.includes("top")?1:-1,[s,r]=xq()?[Qbe,Gbe]:[qbe(n),Hbe(n)];return{animation:e?`${qc(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qc(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Xbe=j.memo(({toast:t,position:e,style:n,children:s})=>{let r=t.height?Kbe(t.position||e||"top-center",t.visible):{opacity:0},i=j.createElement($be,{toast:t}),a=j.createElement(Ybe,{...t.ariaProps},bw(t.message,t));return j.createElement(Wbe,{className:t.className,style:{...r,...n,...t.style}},typeof s=="function"?s({icon:i,message:a}):j.createElement(j.Fragment,null,i,a))});xbe(j.createElement);var Jbe=({id:t,className:e,style:n,onHeightUpdate:s,children:r})=>{let i=j.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;s(t,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return j.createElement("div",{ref:i,className:e,style:n},r)},Zbe=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xq()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...r}},e2e=c_`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fb=16,t2e=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:r,containerStyle:i,containerClassName:a})=>{let{toasts:l,handlers:c}=Cbe(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Fb,left:Fb,right:Fb,bottom:Fb,pointerEvents:"none",...i},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:s,defaultPosition:e}),f=Zbe(d,h);return j.createElement(Jbe,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?e2e:"",style:f},u.type==="custom"?bw(u.message,u):r?r(u):j.createElement(Xbe,{toast:u,position:d}))}))},S4=Nn;const n2e=({onClose:t,onReviewSubmitted:e,onShowLogin:n})=>{const{user:s}=_s(),[r,i]=j.useState(0),[a,l]=j.useState(0),[c,u]=j.useState(""),[d,h]=j.useState(!1),f=j.useRef(null),m=async v=>{if(v.preventDefault(),!s){n(),t();return}if(r===0){S4.error("Please select a rating",{position:"top-center",style:{background:"#F44336",color:"#fff"}});return}h(!0);try{const y=Vn(dt,"reviews"),_={username:s.displayName||"Anonymous",rating:r,comment:c,createdAt:new Date().toISOString(),userId:s.uid,photoURL:s.photoURL||null};await I5(y,_),S4.success("Thank you! Your review was submitted successfully.",{position:"top-center",style:{background:"#10B981",color:"#fff"},icon:"👏"}),e(),t()}catch(y){console.error("Error submitting review:",y),S4.error("Failed to submit review. Please try again.",{position:"top-center",style:{background:"#F44336",color:"#fff"}})}finally{h(!1)}};j.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),j.useEffect(()=>{const v=y=>{f.current&&!f.current.contains(y.target)&&t()};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[t]);const p={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:25,stiffness:500,duration:.3}},exit:{opacity:0,y:20,scale:.95,transition:{ease:"easeIn",duration:.2}}},x={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};return o.jsxs(o.Fragment,{children:[o.jsx(t2e,{}),o.jsx(he.div,{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center p-4 mt-20",variants:x,initial:"hidden",animate:"visible",exit:"exit",children:o.jsxs(he.div,{ref:f,className:"relative rounded-xl shadow-2xl w-full max-w-md bg-white p-6 mx-auto",variants:p,initial:"hidden",animate:"visible",exit:"exit",onClick:v=>v.stopPropagation(),style:{overflowY:"auto",color:"black"},children:[o.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close",children:o.jsx(bs,{className:"w-5 h-5 text-gray-500"})}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Rate Your Experience"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"We'd love to hear your feedback!"})]}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsx("div",{children:o.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-xs",value:c,onChange:v=>u(v.target.value),rows:4,placeholder:"Share a few words about your experience…"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 text-center",children:"How would you rate us?"}),o.jsx("div",{className:"flex items-center justify-center space-x-2",children:[1,2,3,4,5].map(v=>o.jsx("button",{type:"button",onClick:()=>i(v),onMouseEnter:()=>l(v),onMouseLeave:()=>l(0),className:"focus:outline-none",children:o.jsx(uc,{size:36,fill:(a||r)>=v?"currentColor":"none",className:(a||r)>=v?"text-yellow-400 hover:text-yellow-500 transform hover:scale-110 transition-all duration-150":"text-gray-300 hover:text-yellow-400 transform hover:scale-110 transition-all duration-150"})},v))}),o.jsx("p",{className:"text-xs text-gray-500 text-center mt-1",children:r>0&&`You selected ${r} star${r>1?"s":""}`})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 text-sm font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:d,className:"px-5 py-2.5 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm font-medium hover:shadow-md disabled:opacity-50",children:d?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Submitting..."]}):"Submit Review"})]})]})]})})]})},vq=()=>{const[t,e]=j.useState(!1),[n,s]=j.useState([]),[r,i]=j.useState(0),[a,l]=j.useState(!0),[c,u]=j.useState(0),d=vr(),{user:h,loading:f}=_s(),m=()=>typeof window<"u"?window.innerWidth<640?1:window.innerWidth<1024?2:3:3,[p,x]=j.useState(m());j.useEffect(()=>{const R=()=>{x(m())};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),j.useEffect(()=>{f?l(!1):v()},[f]);const v=async()=>{l(!0);try{const R=Vn(dt,"reviews"),E=Qs(R,Bc("createdAt","desc")),T=cie(E,L=>{const z=L.docs.map($=>({id:$.id,...$.data()}));if(s(z),z.length>0){const $=z.reduce((O,F)=>O+F.rating,0)/z.length;i(parseFloat($.toFixed(1)))}else i(0);l(!1)},L=>{console.error("Error fetching reviews:",L),l(!1)});return()=>T()}catch(R){console.error("Error fetching reviews:",R),l(!1)}},y=()=>{v()},_=()=>{d("/login")},N=(R,E="md")=>{const T=[],L=Math.floor(R),z=R%1!==0,$=E==="sm"?16:E==="lg"?24:20;for(let O=0;O<5;O++)O<L?T.push(o.jsx(uc,{size:$,fill:"currentColor",className:"text-amber-400 drop-shadow-sm"},O)):O===L&&z?T.push(o.jsxs("div",{className:"relative",children:[o.jsx(uc,{size:$,className:"text-gray-300"}),o.jsx("div",{className:"absolute inset-0 overflow-hidden w-1/2",children:o.jsx(uc,{size:$,fill:"currentColor",className:"text-amber-400"})})]},O)):T.push(o.jsx(uc,{size:$,className:"text-gray-300"},O));return T},P=()=>{const R={5:0,4:0,3:0,2:0,1:0};return n.forEach(E=>{R[E.rating]++}),R},I=()=>{const R=Math.ceil(n.length/p)-1;u(E=>E>=R?0:E+1)},D=()=>{const R=Math.ceil(n.length/p)-1;u(E=>E<=0?R:E-1)},C=()=>{const R=c*p;return n.slice(R,R+p)};if(a)return o.jsx("section",{className:"py-16 px-4 md:px-8 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 mb-10",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"animate-pulse space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"h-12 bg-gray-200 rounded-lg w-80 mx-auto"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-60 mx-auto"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[1,2,3].map(R=>o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded w-20 mx-auto mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mx-auto"})]},R))}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(R=>o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm space-y-4",children:[o.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(E=>o.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded"},E))}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]})]})]},R))})]})})});const w=P(),A=n.length;return o.jsxs("section",{className:"py-2",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[A>0&&o.jsxs(he.div,{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-16 max-w-4xl mx-auto",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:[o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center shadow-lg border border-white/20",children:[o.jsx("div",{className:"flex items-center justify-center mb-2",children:o.jsx("div",{className:"flex space-x-1",children:N(r,"lg")})}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:r.toFixed(1)}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Average Rating"})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center shadow-lg border border-white/20",children:[o.jsx(wc,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:A.toLocaleString()}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Happy Customers"})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center shadow-lg border border-white/20",children:[o.jsx(fV,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:[A>0?Math.round((w[5]+w[4])/A*100):0,"%"]}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Positive Reviews"})]})]}),n.length>0?o.jsxs("div",{className:"relative",children:[n.length>p&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:D,className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-10 bg-white/90 backdrop-blur-sm hover:bg-white shadow-xl rounded-full p-3 transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-4 focus:ring-blue-100","aria-label":"Previous reviews",children:o.jsx(rg,{className:"w-6 h-6 text-gray-700"})}),o.jsx("button",{onClick:I,className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-10 bg-white/90 backdrop-blur-sm hover:bg-white shadow-xl rounded-full p-3 transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-4 focus:ring-blue-100","aria-label":"Next reviews",children:o.jsx(Sd,{className:"w-6 h-6 text-gray-700"})})]}),o.jsx(he.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5},children:C().map((R,E)=>o.jsxs(he.div,{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:E*.1},children:[o.jsx(Noe,{className:"absolute top-6 right-6 w-8 h-8 text-blue-100"}),o.jsx("div",{className:"flex items-center space-x-1 mb-4",children:N(R.rating)}),o.jsxs("blockquote",{className:"text-gray-700 text-lg leading-relaxed mb-6 relative z-10",children:['"',R.comment,'"']}),o.jsxs("div",{className:"flex items-center space-x-4",children:[R.photoURL?o.jsx("img",{src:R.photoURL,alt:R.username,className:"w-14 h-14 rounded-full object-cover ring-4 ring-blue-100 shadow-md"}):o.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold text-xl ring-4 ring-blue-100 shadow-md",children:R.username.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 font-semibold text-lg",children:R.username}),o.jsx("p",{className:"text-gray-500 text-sm",children:new Date(R.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/20 to-indigo-50/20 pointer-events-none"})]},R.id))},c),n.length>p&&o.jsx("div",{className:"flex justify-center space-x-2 mb-8",children:Array.from({length:Math.ceil(n.length/p)}).map((R,E)=>o.jsx("button",{onClick:()=>u(E),className:`w-3 h-3 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-300 ${c===E?"bg-blue-600 scale-125":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${E+1}`},E))}),o.jsx("div",{className:"text-center",children:o.jsxs(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!0),className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-200 group",children:[o.jsx(uc,{className:"w-5 h-5 mr-2 group-hover:rotate-12 transition-transform duration-300"}),"Share Your Experience",o.jsx(Sd,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-300"})]})})]}):o.jsx(he.div,{className:"text-center max-w-md mx-auto",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5},children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-12 shadow-xl border border-white/20",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(uc,{className:"w-10 h-10 text-blue-600"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Be the First!"}),o.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"No reviews yet — be the first to share your experience and help others discover our platform."}),o.jsxs(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!0),className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-200 group",children:[o.jsx(uc,{className:"w-5 h-5 mr-2 group-hover:rotate-12 transition-transform duration-300"}),"Write First Review",o.jsx(Sd,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-300"})]})]})})]}),o.jsx(Zt,{children:t&&o.jsx(n2e,{onClose:()=>e(!1),onReviewSubmitted:y,onShowLogin:_})})]})},w7={Basic:599,Standard:1599,Premium:1999},s2e=()=>{const{user:t}=_s(),[e,n]=j.useState([]),[s,r]=j.useState([]),[i,a]=j.useState(!0),[l,c]=j.useState(null),[u,d]=j.useState({totalPayments:0,totalSpent:0,approvedPayments:0,pendingPayments:0,rejectedPayments:0}),[h,f]=j.useState("all"),[m,p]=j.useState("all"),[x,v]=j.useState("all"),[y,_]=j.useState(""),[N,P]=j.useState({start:"",end:""}),[I,D]=j.useState(!1),[C,w]=j.useState(null),A=j.useCallback(async()=>{if(t){a(!0),c(null);try{const $=Qs(Vn(dt,"paymentProofs"),Kn("userId","==",t.uid),Bc("createdAt","desc")),F=(await xr($)).docs.map(Q=>{var Z;const V=Q.data();let W=Number(V.price||0);return V.planName!=="Quota"&&(!V.price||V.price===0)&&(W=w7[V.planName]||0),{id:Q.id,...V,price:W,createdAt:((Z=V.createdAt)==null?void 0:Z.toDate())||new Date}});n(F)}catch($){console.error("Error fetching payment records:",$),c("Failed to load payment records. Please try again.")}finally{a(!1)}}},[t]);j.useEffect(()=>{t&&A()},[t,A]),j.useEffect(()=>{let $=[...e];if(h!=="all"&&($=$.filter(O=>O.status===h)),m!=="all"&&(m==="plan"?$=$.filter(O=>O.planName!=="Quota"):m==="quota"&&($=$.filter(O=>O.planName==="Quota"))),x!=="all"){const O=new Date,F=Df(O);switch(x){case"today":$=$.filter(W=>Cb(W.createdAt,F)&&FI(W.createdAt,II(O)));break;case"week":const Q=new Date(O.getTime()-7*24*60*60*1e3);$=$.filter(W=>Cb(W.createdAt,Q));break;case"month":const V=new Date(O.getTime()-30*24*60*60*1e3);$=$.filter(W=>Cb(W.createdAt,V));break;case"custom":if(N.start&&N.end){const W=Df(sa(N.start)),Z=II(sa(N.end));$=$.filter(U=>Cb(U.createdAt,W)&&FI(U.createdAt,Z))}break}}y&&($=$.filter(O=>{var F;return O.planName.toLowerCase().includes(y.toLowerCase())||((F=O.transactionId)==null?void 0:F.toLowerCase().includes(y.toLowerCase()))||O.userEmail.toLowerCase().includes(y.toLowerCase())})),r($)},[e,h,m,x,y,N]),j.useEffect(()=>{(()=>{const O={totalPayments:s.length,totalSpent:s.filter(F=>F.status==="approved").reduce((F,Q)=>(console.log(`Record: ${Q.planName}, Price: ${Q.price}`),F+Q.price),0),approvedPayments:s.filter(F=>F.status==="approved").length,pendingPayments:s.filter(F=>F.status==="pending").length,rejectedPayments:s.filter(F=>F.status==="rejected").length};d(O)})()},[s]);const R=($,O)=>{const F=T(O);if($==="pending"&&F)return o.jsx(pr,{className:"w-5 h-5 text-red-500"});switch($){case"pending":return o.jsx(Ui,{className:"w-5 h-5 text-yellow-500"});case"approved":return o.jsx(Jn,{className:"w-5 h-5 text-green-500"});case"rejected":return o.jsx(Vd,{className:"w-5 h-5 text-red-500"});default:return o.jsx(Ui,{className:"w-5 h-5 text-gray-500"})}},E=($,O)=>{const F=T(O);if($==="pending"&&F)return"bg-red-50 text-red-700 border-red-200";switch($){case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"approved":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},T=$=>new Date().getTime()-$.getTime()>24*60*60*1e3,L=$=>{try{const O=new wt;O.setFontSize(20),O.setFont("helvetica","bold"),O.text("FlashQR Payment Receipt",20,30),O.setFontSize(12),O.setFont("helvetica","normal");const F=[`Receipt ID: ${$.id}`,`Date: ${$s($.createdAt,"PPP")}`,`Email: ${$.userEmail}`,`Type: ${$.planName==="Quota"?`Quota (${$.quantity} QR codes)`:`${$.planName} Plan`}`,`Amount: ₹${$.price}`,`Transaction ID: ${$.transactionId||"N/A"}`,`Status: ${$.status.charAt(0).toUpperCase()+$.status.slice(1)}`];let Q=50;F.forEach(V=>{O.text(V,20,Q),Q+=10}),O.setFontSize(10),O.text("Generated by FlashQR",20,280),O.text(`Generated on: ${$s(new Date,"PPP")}`,20,290),O.save(`FlashQR_Receipt_${$.id}.pdf`),We.success("Receipt downloaded successfully!")}catch(O){console.error("Error generating or downloading PDF:",O),We.error("Failed to download receipt. Please try again.")}},z=()=>{const $=new wt;$.setFontSize(16),$.setFont("helvetica","bold"),$.text("FlashQR Payment History",20,20),$.setFontSize(10),$.setFont("helvetica","normal"),$.text(`Generated on: ${$s(new Date,"PPP")}`,20,30),$.text(`Total Records: ${s.length}`,20,40);let O=60;$.setFont("helvetica","bold"),$.text("Date",20,O),$.text("Type",60,O),$.text("Amount",100,O),$.text("Status",140,O),O+=10,$.setFont("helvetica","normal"),s.forEach(F=>{O>270&&($.addPage(),O=20),$.text($s(F.createdAt,"dd/MM/yyyy"),20,O),$.text(F.planName==="Quota"?`Quota (${F.quantity})`:F.planName,60,O),$.text(`₹${F.price}`,100,O),$.text(F.status,140,O),O+=8}),$.save(`FlashQR_Payment_History_${$s(new Date,"yyyy-MM-dd")}.pdf`),We.success("Payment history downloaded successfully!")};return i?o.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center gap-4",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-600",children:"Loading payment records..."})]}):l?o.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center gap-4",children:[o.jsx(pr,{className:"w-12 h-12 text-red-500"}),o.jsx("p",{className:"text-red-600 text-center",children:l}),o.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Usage & Payments"}),o.jsx("p",{className:"text-gray-600",children:"Track your payment history and usage statistics"})]}),o.jsx("button",{onClick:A,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Refresh",children:o.jsx(dV,{className:"w-5 h-5 text-gray-600"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Payments"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.totalPayments})]}),o.jsx(n6,{className:"w-8 h-8 text-blue-500"})]})}),o.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Spent"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₹",u.totalSpent]})]}),o.jsx(foe,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Approved"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:u.approvedPayments})]}),o.jsx(Jn,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:u.pendingPayments})]}),o.jsx(Ui,{className:"w-8 h-8 text-yellow-500"})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Records"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>D(!I),className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[o.jsx(zae,{className:"w-4 h-4"}),"Filters"]}),s.length>0&&o.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-3 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[o.jsx(Vc,{className:"w-4 h-4"}),"Export All"]})]})]})}),o.jsx(Zt,{children:I&&o.jsxs(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-b border-gray-200 p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:h,onChange:$=>f($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"rejected",children:"Rejected"}),o.jsx("option",{value:"expired",children:"Expired"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),o.jsxs("select",{value:m,onChange:$=>p($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"all",children:"All Types"}),o.jsx("option",{value:"plan",children:"Plan Subscriptions"}),o.jsx("option",{value:"quota",children:"Quota Purchases"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),o.jsxs("select",{value:x,onChange:$=>v($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"all",children:"All Time"}),o.jsx("option",{value:"today",children:"Today"}),o.jsx("option",{value:"week",children:"Last 7 Days"}),o.jsx("option",{value:"month",children:"Last 30 Days"}),o.jsx("option",{value:"custom",children:"Custom Range"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",value:y,onChange:$=>_($.target.value),placeholder:"Search records...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),x==="custom"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),o.jsx("input",{type:"date",value:N.start,onChange:$=>P(O=>({...O,start:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),o.jsx("input",{type:"date",value:N.end,onChange:$=>P(O=>({...O,end:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})}),o.jsx("div",{className:"p-4",children:s.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(jo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No payment records found"}),o.jsx("p",{className:"text-gray-500",children:e.length===0?"You haven't made any payments yet.":"No records match your current filters."})]}):o.jsx("div",{className:"space-y-3",children:s.map($=>{const O=T($.createdAt),F=E($.status,$.createdAt),Q=$.planName!=="Quota"&&w7[$.planName]||$.price;return o.jsx(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`border rounded-lg p-4 hover:shadow-md transition-shadow ${F}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[R($.status,$.createdAt),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:$.planName==="Quota"?`Quota Purchase (${$.quantity} QR codes)`:`${$.planName} Plan`}),o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${F}`,children:O&&$.status==="pending"?"Expired":$.status})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[$s($.createdAt,"PPP")," • ₹",Q,$.transactionId&&` • ${$.transactionId}`]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[$.proofImageBase64&&o.jsx("button",{onClick:()=>w($),className:"p-2 text-gray-500 hover:text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",title:"View proof",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>L($),className:"p-2 text-gray-500 hover:text-green-600 rounded-lg hover:bg-green-50 transition-colors",title:"Download receipt",children:o.jsx(Vc,{className:"w-4 h-4"})})]})]})},$.id)})})}),o.jsx(Zt,{children:C&&o.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>w(null),children:o.jsxs(he.div,{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:$=>$.stopPropagation(),children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Proof"}),o.jsx("button",{onClick:()=>w(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Vd,{className:"w-5 h-5 text-gray-500"})})]})}),o.jsxs("div",{className:"p-4 overflow-y-auto max-h-[70vh]",children:[C.proofImageBase64&&o.jsx("img",{src:C.proofImageBase64,alt:"Payment Proof",className:"w-full rounded-lg border border-gray-200"}),o.jsxs("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Type:"})," ",C.planName==="Quota"?`Quota (${C.quantity})`:C.planName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Amount:"})," ₹",C.price]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Date:"})," ",$s(C.createdAt,"PPP")]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Status:"})," ",C.status]}),C.transactionId&&o.jsxs("p",{children:[o.jsx("strong",{children:"Transaction ID:"})," ",C.transactionId]})]})]})]})})})]})]})},B2={url:{label:"Website / URL",icon:"🌐",description:"Link to any website or online resource",category:"web"},event:{label:"Event",icon:"📅",description:"Calendar event with date, time, and location",category:"calendar"},vcard:{label:"Contact Info",icon:"👤",description:"Business card with contact details",category:"contact"},wifi:{label:"Wi-Fi",icon:"📶",description:"Wi-Fi network credentials for easy connection",category:"network"},text:{label:"Text",icon:"📝",description:"Plain text message or information",category:"content"},email:{label:"Email",icon:"✉️",description:"Pre-filled email with recipient and subject",category:"contact"},phone:{label:"Phone",icon:"📞",description:"Phone number for direct calling",category:"contact"},sms:{label:"SMS",icon:"💬",description:"Pre-filled text message",category:"contact"},geolocation:{label:"Location",icon:"📍",description:"Geographic coordinates and location info",category:"location"}},mj=t=>{switch(t.type){case"url":return t.url;case"event":const e=t.allDay?t.startDate.replace(/-/g,""):`${t.startDate.replace(/-/g,"")}T${t.startTime.replace(/:/g,"")}00`,n=t.allDay?t.endDate.replace(/-/g,""):`${t.endDate.replace(/-/g,"")}T${t.endTime.replace(/:/g,"")}00`;return`BEGIN:VEVENT
SUMMARY:${t.title}
DESCRIPTION:${t.description}
LOCATION:${t.location}
DTSTART:${e}
DTEND:${n}
END:VEVENT`;case"vcard":let s=`BEGIN:VCARD
VERSION:3.0
FN:${t.fullName}
`;return t.organization&&(s+=`ORG:${t.organization}
`),t.jobTitle&&(s+=`TITLE:${t.jobTitle}
`),t.phones.forEach(i=>{i&&(s+=`TEL:${i}
`)}),t.emails.forEach(i=>{i&&(s+=`EMAIL:${i}
`)}),t.website&&(s+=`URL:${t.website}
`),t.address&&(s+=`ADR:${t.address}
`),t.notes&&(s+=`NOTE:${t.notes}
`),s+="END:VCARD",s;case"wifi":return`WIFI:T:${t.encryption==="None"?"nopass":t.encryption};S:${t.ssid};P:${t.password};H:${t.hidden?"true":"false"};;`;case"text":return t.content;case"email":return`mailto:${t.email}?subject=${encodeURIComponent(t.subject)}&body=${encodeURIComponent(t.body)}`;case"phone":return`tel:${t.phoneNumber}`;case"sms":return`sms:${t.phoneNumber}?body=${encodeURIComponent(t.message)}`;case"geolocation":return`geo:${t.latitude},${t.longitude}?q=${t.latitude},${t.longitude}(${encodeURIComponent(t.label)})`;default:return""}},Lm=t=>{const e={type:t,title:""};switch(t){case"url":return{...e,type:"url",url:""};case"event":return{...e,type:"event",description:"",location:"",startDate:"",startTime:"",endDate:"",endTime:"",allDay:!1,reminder:!1};case"vcard":return{...e,type:"vcard",fullName:"",organization:"",jobTitle:"",phones:[""],emails:[""],website:"",address:"",notes:""};case"wifi":return{...e,type:"wifi",ssid:"",password:"",encryption:"WPA2",hidden:!1};case"text":return{...e,type:"text",content:""};case"email":return{...e,type:"email",email:"",subject:"",body:""};case"phone":return{...e,type:"phone",phoneNumber:""};case"sms":return{...e,type:"sms",phoneNumber:"",message:""};case"geolocation":return{...e,type:"geolocation",latitude:0,longitude:0,label:""};default:return{...e,type:"url",url:""}}},r2e=({selectedType:t,onTypeChange:e,className:n="",qrType:s="dynamic"})=>{const i=s==="static"?{web:["url"]}:{web:["url"],content:["text"],contact:["vcard","email","phone","sms"],network:["wifi"],calendar:["event"],location:["geolocation"]},a={web:"Web & Links",content:"Content & Text",contact:"Contact & Communication",network:"Network & Connectivity",calendar:"Calendar & Events",location:"Location & Maps"};return o.jsxs("div",{className:`space-y-6 ${n}`,children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Choose Content Type"}),o.jsx("p",{className:"text-gray-600",children:"Select what type of information your QR code will contain"}),s==="static"&&o.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700",children:[o.jsx(Hn,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Static QR codes only support URL/Website content"})]})})]}),Object.entries(i).map(([l,c])=>o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide border-b border-gray-200 pb-2",children:a[l]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(u=>{const d=B2[u],h=t===u;return o.jsxs(he.button,{onClick:()=>e(u),whileHover:{scale:1.03,y:-2},whileTap:{scale:.98},className:`p-6 rounded-2xl border-2 transition-all duration-300 text-left shadow-sm hover:shadow-lg ${h?"border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100 shadow-lg":"border-gray-200 hover:border-blue-300 hover:bg-gradient-to-br hover:from-blue-50 hover:to-blue-100"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("span",{className:"text-3xl",children:d.icon}),o.jsx("span",{className:`font-medium ${h?"text-blue-900 text-lg":"text-gray-900 text-lg"}`,children:d.label})]}),o.jsx("p",{className:`text-sm leading-relaxed ${h?"text-blue-700":"text-gray-600"}`,children:d.description})]},u)})})]},l))]})},i2e=({content:t,onChange:e,errors:n={}})=>{const s=(i,a)=>{e({...t,[i]:a})},r=i=>{try{return new URL(i),!0}catch{return!1}};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(Rf,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Website / URL"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Create a QR code that links to any website"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.title,onChange:i=>s("title",i.target.value),placeholder:"My Website",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-blue-500 transition-colors ${n.title?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.title&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.title]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["URL ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"url",value:t.url,onChange:i=>s("url",i.target.value),placeholder:"https://example.com",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-blue-500 transition-colors ${n.url?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.url&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.url]}),t.url&&!r(t.url)&&o.jsxs("p",{className:"mt-1 text-sm text-orange-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),"Please enter a valid URL starting with http:// or https://"]})]})]})]})},a2e=({content:t,onChange:e,errors:n={}})=>{const s=(r,i)=>{e({...t,[r]:i})};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx(fl,{className:"w-5 h-5 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Calendar Event"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Create an event that can be added to calendars"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.title,onChange:r=>s("title",r.target.value),placeholder:"Conference 2024",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-purple-500 transition-colors ${n.title?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.title&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.title]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:t.description,onChange:r=>s("description",r.target.value),placeholder:"Event description and details",rows:3,className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-purple-500 transition-colors resize-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Mg,{className:"w-4 h-4 inline mr-1"}),"Location"]}),o.jsx("input",{type:"text",value:t.location,onChange:r=>s("location",r.target.value),placeholder:"123 Main St, City, State",className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-purple-500 transition-colors"})]}),o.jsx("div",{className:"md:col-span-2",children:o.jsxs("label",{className:"flex items-center gap-2 mb-4",children:[o.jsx("input",{type:"checkbox",checked:t.allDay,onChange:r=>s("allDay",r.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"All Day Event"})]})}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Start Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:t.startDate,onChange:r=>s("startDate",r.target.value),className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-purple-500 transition-colors ${n.startDate?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0})]}),!t.allDay&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ui,{className:"w-4 h-4 inline mr-1"}),"Start Time"]}),o.jsx("input",{type:"time",value:t.startTime,onChange:r=>s("startTime",r.target.value),className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-purple-500 transition-colors"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["End Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:t.endDate,onChange:r=>s("endDate",r.target.value),className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-purple-500 transition-colors ${n.endDate?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0})]}),!t.allDay&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ui,{className:"w-4 h-4 inline mr-1"}),"End Time"]}),o.jsx("input",{type:"time",value:t.endTime,onChange:r=>s("endTime",r.target.value),className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-purple-500 transition-colors"})]}),o.jsx("div",{className:"md:col-span-2",children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:t.reminder,onChange:r=>s("reminder",r.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add reminder notification"})]})})]})]})},o2e=({content:t,onChange:e,errors:n={}})=>{const s=(d,h)=>{e({...t,[d]:h})},r=()=>{s("phones",[...t.phones,""])},i=d=>{const h=t.phones.filter((f,m)=>m!==d);s("phones",h.length>0?h:[""])},a=(d,h)=>{const f=[...t.phones];f[d]=h,s("phones",f)},l=()=>{s("emails",[...t.emails,""])},c=d=>{const h=t.emails.filter((f,m)=>m!==d);s("emails",h.length>0?h:[""])},u=(d,h)=>{const f=[...t.emails];f[d]=h,s("emails",f)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Ud,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contact Information"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Create a digital business card"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.title,onChange:d=>s("title",d.target.value),placeholder:"Business Card",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-green-500 transition-colors ${n.title?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.title&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.title]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ud,{className:"w-4 h-4 inline mr-1"}),"Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.fullName,onChange:d=>s("fullName",d.target.value),placeholder:"John Doe",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-green-500 transition-colors ${n.fullName?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(iV,{className:"w-4 h-4 inline mr-1"}),"Organization"]}),o.jsx("input",{type:"text",value:t.organization,onChange:d=>s("organization",d.target.value),placeholder:"Company Name",className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-green-500 transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),o.jsx("input",{type:"text",value:t.jobTitle,onChange:d=>s("jobTitle",d.target.value),placeholder:"Software Engineer",className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-green-500 transition-colors"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Rf,{className:"w-4 h-4 inline mr-1"}),"Website"]}),o.jsx("input",{type:"url",value:t.website,onChange:d=>s("website",d.target.value),placeholder:"https://example.com",className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-green-500 transition-colors"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(L5,{className:"w-4 h-4 inline mr-1"}),"Phone Numbers"]}),o.jsxs("div",{className:"space-y-2",children:[t.phones.map((d,h)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"tel",value:d,onChange:f=>a(h,f.target.value),placeholder:"+1 (555) 123-4567",className:"flex-1 rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-green-500 transition-colors"}),t.phones.length>1&&o.jsx("button",{type:"button",onClick:()=>i(h),className:"p-3 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(bs,{className:"w-4 h-4"})})]},h)),o.jsxs("button",{type:"button",onClick:r,className:"flex items-center gap-2 px-3 py-2 text-sm text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:[o.jsx(Xv,{className:"w-4 h-4"}),"Add Phone Number"]})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(jd,{className:"w-4 h-4 inline mr-1"}),"Email Addresses"]}),o.jsxs("div",{className:"space-y-2",children:[t.emails.map((d,h)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"email",value:d,onChange:f=>u(h,f.target.value),placeholder:"john@example.com",className:"flex-1 rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-green-500 transition-colors"}),t.emails.length>1&&o.jsx("button",{type:"button",onClick:()=>c(h),className:"p-3 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(bs,{className:"w-4 h-4"})})]},h)),o.jsxs("button",{type:"button",onClick:l,className:"flex items-center gap-2 px-3 py-2 text-sm text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:[o.jsx(Xv,{className:"w-4 h-4"}),"Add Email Address"]})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Mg,{className:"w-4 h-4 inline mr-1"}),"Address"]}),o.jsx("textarea",{value:t.address,onChange:d=>s("address",d.target.value),placeholder:"123 Main Street, City, State, ZIP",rows:2,className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-green-500 transition-colors resize-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(jo,{className:"w-4 h-4 inline mr-1"}),"Notes"]}),o.jsx("textarea",{value:t.notes,onChange:d=>s("notes",d.target.value),placeholder:"Additional information",rows:2,className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-green-500 transition-colors resize-none"})]})]})]})},l2e=({content:t,onChange:e,errors:n={}})=>{const[s,r]=Re.useState(!1),i=(a,l)=>{e({...t,[a]:l})};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(yy,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Wi-Fi Network"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Share Wi-Fi credentials for easy connection"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.title,onChange:a=>i("title",a.target.value),placeholder:"Office Wi-Fi",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-blue-500 transition-colors ${n.title?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.title&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.title]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Network Name (SSID) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.ssid,onChange:a=>i("ssid",a.target.value),placeholder:"MyWiFiNetwork",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-blue-500 transition-colors ${n.ssid?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.ssid&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.ssid]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Type"}),o.jsxs("select",{value:t.encryption,onChange:a=>i("encryption",a.target.value),className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-blue-500 transition-colors",children:[o.jsx("option",{value:"WPA2",children:"WPA2 (Recommended)"}),o.jsx("option",{value:"WPA",children:"WPA"}),o.jsx("option",{value:"WEP",children:"WEP (Legacy)"}),o.jsx("option",{value:"None",children:"None (Open Network)"})]})]}),t.encryption!=="None"&&o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ro,{className:"w-4 h-4 inline mr-1"}),"Password ",t.encryption!=="None"&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",value:t.password,onChange:a=>i("password",a.target.value),placeholder:"Network password",className:`w-full rounded-lg border p-3 pr-12 focus:ring-2 focus:ring-blue-500 transition-colors ${n.password?"border-red-500 bg-red-50":"border-gray-300"}`,required:t.encryption!=="None"}),o.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:s?o.jsx(wl,{className:"w-5 h-5"}):o.jsx(os,{className:"w-5 h-5"})})]}),n.password&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.password]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:t.hidden,onChange:a=>i("hidden",a.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hidden Network"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check this if the network doesn't broadcast its name"})]})]})]})},c2e=({content:t,onChange:e,errors:n={}})=>{const s=(r,i)=>{e({...t,[r]:i})};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:o.jsx(jo,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Plain Text"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Share any text message or information"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.title,onChange:r=>s("title",r.target.value),placeholder:"My Text Message",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-gray-500 transition-colors ${n.title?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.title&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.title]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Text Content ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:t.content,onChange:r=>s("content",r.target.value),placeholder:"Enter your text message here...",rows:6,className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-gray-500 transition-colors resize-none ${n.content?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.content&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.content]}),o.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[t.content.length," characters"]})]})]})]})},u2e=({content:t,onChange:e,errors:n={}})=>{const s=(r,i)=>{e({...t,[r]:i})};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(jd,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email Message"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Create a pre-filled email"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.title,onChange:r=>s("title",r.target.value),placeholder:"Contact Us",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-blue-500 transition-colors ${n.title?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.title&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.title]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",value:t.email,onChange:r=>s("email",r.target.value),placeholder:"contact@example.com",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-blue-500 transition-colors ${n.email?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.email&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.email]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),o.jsx("input",{type:"text",value:t.subject,onChange:r=>s("subject",r.target.value),placeholder:"Inquiry about your services",className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-blue-500 transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Body"}),o.jsx("textarea",{value:t.body,onChange:r=>s("body",r.target.value),placeholder:"Hello, I would like to...",rows:4,className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-blue-500 transition-colors resize-none"})]})]})]})},d2e=({content:t,onChange:e,errors:n={}})=>{const s=(r,i)=>{e({...t,[r]:i})};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(L5,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Phone Number"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Create a QR code for direct calling"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.title,onChange:r=>s("title",r.target.value),placeholder:"Call Support",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-green-500 transition-colors ${n.title?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.title&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.title]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"tel",value:t.phoneNumber,onChange:r=>s("phoneNumber",r.target.value),placeholder:"+1 (555) 123-4567",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-green-500 transition-colors ${n.phoneNumber?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.phoneNumber&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.phoneNumber]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Include country code for international numbers (e.g., +1 for US)"})]})]})]})},h2e=({content:t,onChange:e,errors:n={}})=>{const s=(r,i)=>{e({...t,[r]:i})};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx(i6,{className:"w-5 h-5 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"SMS Message"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Create a pre-filled text message"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.title,onChange:r=>s("title",r.target.value),placeholder:"Send SMS",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-purple-500 transition-colors ${n.title?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.title&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.title]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"tel",value:t.phoneNumber,onChange:r=>s("phoneNumber",r.target.value),placeholder:"+1 (555) 123-4567",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-purple-500 transition-colors ${n.phoneNumber?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.phoneNumber&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.phoneNumber]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),o.jsx("textarea",{value:t.message,onChange:r=>s("message",r.target.value),placeholder:"Hello! I'm interested in...",rows:4,className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-purple-500 transition-colors resize-none"}),o.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[t.message.length," characters"]})]})]})]})},f2e=({content:t,onChange:e,errors:n={}})=>{const s=(i,a)=>{e({...t,[i]:a})},r=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(i=>{s("latitude",i.coords.latitude),s("longitude",i.coords.longitude)},i=>{console.error("Error getting location:",i),alert("Unable to get your current location. Please enter coordinates manually.")}):alert("Geolocation is not supported by this browser.")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx(Mg,{className:"w-5 h-5 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Location"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Share geographic coordinates and location info"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.title,onChange:i=>s("title",i.target.value),placeholder:"Office Location",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-red-500 transition-colors ${n.title?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.title&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.title]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Latitude ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",step:"any",value:t.latitude||"",onChange:i=>s("latitude",parseFloat(i.target.value)||0),placeholder:"40.7128",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-red-500 transition-colors ${n.latitude?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.latitude&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.latitude]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Longitude ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",step:"any",value:t.longitude||"",onChange:i=>s("longitude",parseFloat(i.target.value)||0),placeholder:"-74.0060",className:`w-full rounded-lg border p-3 focus:ring-2 focus:ring-red-500 transition-colors ${n.longitude?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),n.longitude&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),n.longitude]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Label"}),o.jsx("input",{type:"text",value:t.label,onChange:i=>s("label",i.target.value),placeholder:"Main Office",className:"w-full rounded-lg border border-gray-300 p-3 focus:ring-2 focus:ring-red-500 transition-colors"})]}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{type:"button",onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition-colors text-sm font-medium",children:[o.jsx(doe,{className:"w-4 h-4"}),"Use Current Location"]})})]})]})},m2e=({contentType:t,content:e,onChange:n,errors:s={}})=>{switch(t){case"url":return o.jsx(i2e,{content:e,onChange:n,errors:s});case"event":return o.jsx(a2e,{content:e,onChange:n,errors:s});case"vcard":return o.jsx(o2e,{content:e,onChange:n,errors:s});case"wifi":return o.jsx(l2e,{content:e,onChange:n,errors:s});case"text":return o.jsx(c2e,{content:e,onChange:n,errors:s});case"email":return o.jsx(u2e,{content:e,onChange:n,errors:s});case"phone":return o.jsx(d2e,{content:e,onChange:n,errors:s});case"sms":return o.jsx(h2e,{content:e,onChange:n,errors:s});case"geolocation":return o.jsx(f2e,{content:e,onChange:n,errors:s});default:return o.jsx("div",{children:"Unsupported content type"})}};function u_(){return(u_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}function wq(t,e){if(t==null)return{};var n,s,r={},i=Object.keys(t);for(s=0;s<i.length;s++)e.indexOf(n=i[s])>=0||(r[n]=t[n]);return r}function pj(t){var e=j.useRef(t),n=j.useRef(function(s){e.current&&e.current(s)});return e.current=t,n.current}var vx=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},Ty=function(t){return"touches"in t},gj=function(t){return t&&t.ownerDocument.defaultView||self},_7=function(t,e,n){var s=t.getBoundingClientRect(),r=Ty(e)?function(i,a){for(var l=0;l<i.length;l++)if(i[l].identifier===a)return i[l];return i[0]}(e.touches,n):e;return{left:vx((r.pageX-(s.left+gj(t).pageXOffset))/s.width),top:vx((r.pageY-(s.top+gj(t).pageYOffset))/s.height)}},N7=function(t){!Ty(t)&&t.preventDefault()},_q=Re.memo(function(t){var e=t.onMove,n=t.onKey,s=wq(t,["onMove","onKey"]),r=j.useRef(null),i=pj(e),a=pj(n),l=j.useRef(null),c=j.useRef(!1),u=j.useMemo(function(){var m=function(v){N7(v),(Ty(v)?v.touches.length>0:v.buttons>0)&&r.current?i(_7(r.current,v,l.current)):x(!1)},p=function(){return x(!1)};function x(v){var y=c.current,_=gj(r.current),N=v?_.addEventListener:_.removeEventListener;N(y?"touchmove":"mousemove",m),N(y?"touchend":"mouseup",p)}return[function(v){var y=v.nativeEvent,_=r.current;if(_&&(N7(y),!function(P,I){return I&&!Ty(P)}(y,c.current)&&_)){if(Ty(y)){c.current=!0;var N=y.changedTouches||[];N.length&&(l.current=N[0].identifier)}_.focus(),i(_7(_,y,l.current)),x(!0)}},function(v){var y=v.which||v.keyCode;y<37||y>40||(v.preventDefault(),a({left:y===39?.05:y===37?-.05:0,top:y===40?.05:y===38?-.05:0}))},x]},[a,i]),d=u[0],h=u[1],f=u[2];return j.useEffect(function(){return f},[f]),Re.createElement("div",u_({},s,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:r,onKeyDown:h,tabIndex:0,role:"slider"}))}),fT=function(t){return t.filter(Boolean).join(" ")},Nq=function(t){var e=t.color,n=t.left,s=t.top,r=s===void 0?.5:s,i=fT(["react-colorful__pointer",t.className]);return Re.createElement("div",{className:i,style:{top:100*r+"%",left:100*n+"%"}},Re.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Rr=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},p2e=function(t){return v2e(yj(t))},yj=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Rr(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?Rr(parseInt(t.substring(6,8),16)/255,2):1}},g2e=function(t){return b2e(x2e(t))},y2e=function(t){var e=t.s,n=t.v,s=t.a,r=(200-e)*n/100;return{h:Rr(t.h),s:Rr(r>0&&r<200?e*n/100/(r<=100?r:200-r)*100:0),l:Rr(r/2),a:Rr(s,2)}},xj=function(t){var e=y2e(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},x2e=function(t){var e=t.h,n=t.s,s=t.v,r=t.a;e=e/360*6,n/=100,s/=100;var i=Math.floor(e),a=s*(1-n),l=s*(1-(e-i)*n),c=s*(1-(1-e+i)*n),u=i%6;return{r:Rr(255*[s,l,a,a,c,s][u]),g:Rr(255*[c,s,s,l,a,a][u]),b:Rr(255*[a,a,c,s,s,l][u]),a:Rr(r,2)}},Bb=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},b2e=function(t){var e=t.r,n=t.g,s=t.b,r=t.a,i=r<1?Bb(Rr(255*r)):"";return"#"+Bb(e)+Bb(n)+Bb(s)+i},v2e=function(t){var e=t.r,n=t.g,s=t.b,r=t.a,i=Math.max(e,n,s),a=i-Math.min(e,n,s),l=a?i===e?(n-s)/a:i===n?2+(s-e)/a:4+(e-n)/a:0;return{h:Rr(60*(l<0?l+6:l)),s:Rr(i?a/i*100:0),v:Rr(i/255*100),a:r}},w2e=Re.memo(function(t){var e=t.hue,n=t.onChange,s=fT(["react-colorful__hue",t.className]);return Re.createElement("div",{className:s},Re.createElement(_q,{onMove:function(r){n({h:360*r.left})},onKey:function(r){n({h:vx(e+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":Rr(e),"aria-valuemax":"360","aria-valuemin":"0"},Re.createElement(Nq,{className:"react-colorful__hue-pointer",left:e/360,color:xj({h:e,s:100,v:100,a:1})})))}),_2e=Re.memo(function(t){var e=t.hsva,n=t.onChange,s={backgroundColor:xj({h:e.h,s:100,v:100,a:1})};return Re.createElement("div",{className:"react-colorful__saturation",style:s},Re.createElement(_q,{onMove:function(r){n({s:100*r.left,v:100-100*r.top})},onKey:function(r){n({s:vx(e.s+100*r.left,0,100),v:vx(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Rr(e.s)+"%, Brightness "+Rr(e.v)+"%"},Re.createElement(Nq,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:xj(e)})))}),Sq=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0},N2e=function(t,e){return t.toLowerCase()===e.toLowerCase()||Sq(yj(t),yj(e))};function S2e(t,e,n){var s=pj(n),r=j.useState(function(){return t.toHsva(e)}),i=r[0],a=r[1],l=j.useRef({color:e,hsva:i});j.useEffect(function(){if(!t.equal(e,l.current.color)){var u=t.toHsva(e);l.current={hsva:u,color:e},a(u)}},[e,t]),j.useEffect(function(){var u;Sq(i,l.current.hsva)||t.equal(u=t.fromHsva(i),l.current.color)||(l.current={hsva:i,color:u},s(u))},[i,t,s]);var c=j.useCallback(function(u){a(function(d){return Object.assign({},d,u)})},[]);return[i,c]}var j2e=typeof window<"u"?j.useLayoutEffect:j.useEffect,E2e=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},S7=new Map,A2e=function(t){j2e(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!S7.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,S7.set(e,n);var s=E2e();s&&n.setAttribute("nonce",s),e.head.appendChild(n)}},[])},T2e=function(t){var e=t.className,n=t.colorModel,s=t.color,r=s===void 0?n.defaultColor:s,i=t.onChange,a=wq(t,["className","colorModel","color","onChange"]),l=j.useRef(null);A2e(l);var c=S2e(n,r,i),u=c[0],d=c[1],h=fT(["react-colorful",e]);return Re.createElement("div",u_({},a,{ref:l,className:h}),Re.createElement(_2e,{hsva:u,onChange:d}),Re.createElement(w2e,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},C2e={defaultColor:"000",toHsva:p2e,fromHsva:function(t){return g2e({h:t.h,s:t.s,v:t.v,a:1})},equal:N2e},k2e=function(t){return Re.createElement(T2e,u_({},t,{colorModel:C2e}))};const vw=({color:t,onChange:e})=>{const[n,s]=j.useState(!1);return o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-md border border-gray-300 cursor-pointer",style:{backgroundColor:t},onClick:()=>s(!n)}),o.jsx("input",{type:"text",value:t,onChange:r=>e(r.target.value),className:"rounded-lg border-gray-300 border p-2 focus:border-blue-500 focus:ring-blue-500"})]}),n&&o.jsxs("div",{className:"absolute z-10 mt-2",children:[o.jsx("div",{className:"fixed inset-0",onClick:()=>s(!1)}),o.jsx("div",{className:"relative",children:o.jsx(k2e,{color:t,onChange:e})})]})]})},Er=[];for(let t=0;t<256;++t)Er.push((t+256).toString(16).slice(1));function P2e(t,e=0){return(Er[t[e+0]]+Er[t[e+1]]+Er[t[e+2]]+Er[t[e+3]]+"-"+Er[t[e+4]]+Er[t[e+5]]+"-"+Er[t[e+6]]+Er[t[e+7]]+"-"+Er[t[e+8]]+Er[t[e+9]]+"-"+Er[t[e+10]]+Er[t[e+11]]+Er[t[e+12]]+Er[t[e+13]]+Er[t[e+14]]+Er[t[e+15]]).toLowerCase()}let j4;const R2e=new Uint8Array(16);function I2e(){if(!j4){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");j4=crypto.getRandomValues.bind(crypto)}return j4(R2e)}const L2e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),j7={randomUUID:L2e};function M2e(t,e,n){var r;if(j7.randomUUID&&!t)return j7.randomUUID();t=t||{};const s=t.random??((r=t.rng)==null?void 0:r.call(t))??I2e();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,P2e(s)}const D2e=({onClose:t,userQuota:e,onQuotaUpdate:n})=>{var V,W;const{user:s}=_s(),[r,i]=j.useState("static"),[a,l]=j.useState("url"),[c,u]=j.useState(Lm("url")),[d,h]=j.useState(1),[f,m]=j.useState({id:"",name:"",qrType:"static",contentType:"url",content:Lm("url"),foregroundColor:"#000000",backgroundColor:"#FFFFFF",errorCorrectionLevel:"M",cornerStyle:"square",patternStyle:"square",logoDataUrl:"",logoSize:20,userId:(s==null?void 0:s.uid)||"",createdAt:new Date().toISOString()}),[p,x]=j.useState({}),[v,y]=j.useState(!1),[_,N]=j.useState(!1),[P,I]=j.useState(!1),[D,C]=j.useState(null);j.useEffect(()=>{m(Z=>({...Z,qrType:r,contentType:a,content:c,shortId:r==="dynamic"?w():void 0}))},[r,a,c]);const w=()=>Math.random().toString(36).substring(2,10),A=Z=>{if(r==="static"&&Z!=="url"){Nn.error("Static QR codes only support URL/Website content type");return}l(Z),u(Lm(Z)),x({})},R=Z=>{i(Z),Z==="static"&&(l("url"),u(Lm("url"))),x({}),h(1)},E=Z=>{u(Z),x({})},T=()=>{const Z={};switch(c.title.trim()||(Z.title="Title is required"),c.type){case"url":const U=c;if(!U.url.trim())Z.url="URL is required";else try{new URL(U.url)}catch{Z.url="Invalid URL format"}break;case"event":const G=c;G.startDate||(Z.startDate="Start date is required"),G.endDate||(Z.endDate="End date is required"),!G.allDay&&!G.startTime&&(Z.startTime="Start time is required"),!G.allDay&&!G.endTime&&(Z.endTime="End time is required");break;case"vcard":c.fullName.trim()||(Z.fullName="Full name is required");break;case"wifi":const J=c;J.ssid.trim()||(Z.ssid="Network name (SSID) is required"),J.encryption!=="None"&&!J.password.trim()&&(Z.password="Password is required for secured networks");break;case"text":c.content.trim()||(Z.content="Text content is required");break;case"email":const le=c;le.email.trim()?/\S+@\S+\.\S+/.test(le.email)||(Z.email="Invalid email format"):Z.email="Email address is required";break;case"phone":c.phoneNumber.trim()||(Z.phoneNumber="Phone number is required");break;case"sms":c.phoneNumber.trim()||(Z.phoneNumber="Phone number is required");break;case"geolocation":const _e=c;(!_e.latitude||!_e.longitude)&&(Z.coordinates="Both latitude and longitude are required");break}return x(Z),Object.keys(Z).length===0},L=Z=>{var U;if((U=Z.target.files)!=null&&U[0]){const G=Z.target.files[0],Y=5,re=700*1024;if(I(!0),G.size>Y*1024*1024){Nn.error(`File size too large. Please select an image smaller than ${Y}MB.`),Z.target.value="",I(!1);return}if(!G.type.startsWith("image/")){Nn.error("Please select a valid image file."),Z.target.value="",I(!1);return}const le=new Image;le.onload=()=>{const ue=document.createElement("canvas");let de=le.width,_e=le.height;const Ae=600*600;if(de*_e>Ae){const ye=de/_e;de=Math.sqrt(Ae*ye),_e=Math.sqrt(Ae/ye)}ue.width=de,ue.height=_e;const Le=ue.getContext("2d");if(!Le){Nn.error("Could not process image."),I(!1);return}Le.drawImage(le,0,0,de,_e);let Ie=ue.toDataURL(G.type,.9),Xe=.9;for(;Ie.length>re&&Xe>.1;)Xe-=.1,Ie=ue.toDataURL(G.type,Xe);if(Ie.length>re){Nn.error("Logo file too large after compression. Please select a different file."),I(!1);return}m(ye=>({...ye,logoDataUrl:Ie})),I(!1),Nn.success("Logo uploaded successfully!")},le.onerror=()=>{Nn.error("Failed to load the image. Please try again."),I(!1)},le.src=URL.createObjectURL(G)}},z=async()=>{if(!s){Nn.error("Please log in to generate QR codes");return}if(!T()){Nn.error("Please fix the errors before generating");return}if(e<=0){Nn.error("Insufficient quota. Please upgrade your plan.");return}y(!0);try{const Z=Lt(dt,"users",s.uid);await XB(dt,async U=>{const G=await U.get(Z);if(!G.exists())throw new Error("User not found");const Y=G.data().quota||0;if(Y<1)throw new Error("Insufficient quota");const J={...f,id:r==="dynamic"?f.shortId:M2e(),name:c.title||`${a.toUpperCase()} QR Code`,content:c,userId:s.uid,createdAt:new Date().toISOString(),visits:r==="dynamic"?0:void 0},le=Lt(dt,r==="static"?"qrcodes":"enhancedQRCodes",J.id);U.set(le,J);const ue=G.data().qrCodesGenerated||0;U.update(Z,{qrCodesGenerated:ue+1,quota:Y-1,updatedAt:new Date().toISOString()}),C(J)}),n(e-1),Nn.success("QR code generated successfully!"),N(!0),h(4)}catch(Z){console.error("Error generating QR code:",Z),Nn.error(Z.message||"Failed to generate QR code")}finally{y(!1)}},$=()=>r==="static"?mj(c):`${window.location.origin}/e/${f.shortId}`,O=()=>{i("static"),l("url"),u(Lm("url")),m({id:"",name:"",qrType:"static",contentType:"url",content:Lm("url"),foregroundColor:"#000000",backgroundColor:"#FFFFFF",errorCorrectionLevel:"M",cornerStyle:"square",patternStyle:"square",logoDataUrl:"",logoSize:20,userId:(s==null?void 0:s.uid)||"",createdAt:new Date().toISOString()}),x({}),N(!1),C(null),h(1)},F=Z=>({url:Rf,text:jo,email:jd,phone:L5,sms:i6,wifi:yy,vcard:Ud,event:fl,geolocation:Mg})[Z]||Rf,Q=()=>{const Z=[{id:1,title:"QR Type",icon:Io,completed:d>1},{id:2,title:"Content",icon:r6,completed:d>2},{id:3,title:"Design",icon:GR,completed:d>3},{id:4,title:"Generate",icon:po,completed:_}];return o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:Z.map((U,G)=>o.jsxs(Re.Fragment,{children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 transition-all ${U.completed?"bg-blue-600 border-blue-600 text-white":d===U.id?"border-blue-600 text-blue-600 bg-blue-50":"border-gray-300 text-gray-400"}`,children:o.jsx(U.icon,{className:"w-5 h-5"})}),o.jsx("div",{className:"mt-2 text-center",children:o.jsx("div",{className:`text-sm font-medium ${U.completed||d===U.id?"text-blue-600":"text-gray-500"}`,children:U.title})})]}),G<Z.length-1&&o.jsx("div",{className:`flex-1 h-1 mx-4 rounded-full ${U.completed?"bg-blue-600":"bg-gray-200"}`})]},U.id))})})};return _&&D?o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-8 text-center",children:[o.jsx(he.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",bounce:.5},className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(po,{className:"w-10 h-10 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold mb-2",children:"QR Code Generated! 🎉"}),o.jsxs("p",{className:"text-green-100",children:["Your ",r," QR code is ready to use"]})]}),o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"inline-block p-8 bg-gray-50 rounded-2xl mb-6 shadow-inner",children:[o.jsx(Yd,{value:$()||"https://example.com",size:250,bgColor:f.backgroundColor,fgColor:f.foregroundColor,level:f.errorCorrectionLevel,includeMargin:!0}),f.logoDataUrl&&o.jsx("div",{className:"relative -mt-[250px] flex items-center justify-center",children:o.jsx("img",{src:f.logoDataUrl,alt:"Logo",className:"rounded-full bg-white p-1 object-contain shadow-lg",style:{width:`${f.logoSize}%`,height:`${f.logoSize}%`,maxWidth:"75px",maxHeight:"75px"}})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{onClick:()=>{const Z=document.querySelector("canvas");if(Z){const U=document.createElement("a");U.download=`${c.title||"qr-code"}.png`,U.href=Z.toDataURL(),U.click()}},className:"w-full px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[o.jsx(Vc,{className:"w-5 h-5"}),"Download PNG"]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"QR Code Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${r==="static"?"bg-blue-100":"bg-purple-100"}`,children:r==="static"?o.jsx(zd,{className:`w-5 h-5 ${r==="static"?"text-blue-600":"text-purple-600"}`}):o.jsx(Io,{className:`w-5 h-5 ${r==="static"?"text-blue-600":"text-purple-600"}`})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:r==="static"?"Static QR Code":"Dynamic QR Code"}),o.jsx("div",{className:"text-sm text-gray-600",children:r==="static"?"Direct encoding • Permanent":"Database stored • Trackable"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:Re.createElement(F(a),{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:B2[a].label}),o.jsx("div",{className:"text-sm text-gray-600",children:c.title})]})]}),r==="dynamic"&&o.jsxs("div",{className:"space-y-3",children:[f.passwordEnabled&&o.jsxs("div",{className:"flex items-center gap-2 text-purple-600 bg-purple-50 px-3 py-2 rounded-lg",children:[o.jsx(fa,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Password Protected"})]}),f.scheduleEnabled&&o.jsxs("div",{className:"flex items-center gap-2 text-orange-600 bg-orange-50 px-3 py-2 rounded-lg",children:[o.jsx(fl,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Scheduled Access"})]}),f.countdownEnabled&&o.jsxs("div",{className:"flex items-center gap-2 text-blue-600 bg-blue-50 px-3 py-2 rounded-lg",children:[o.jsx(df,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:["Countdown: ",f.countdownDuration,"s"]})]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:O,className:"w-full px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium flex items-center justify-center gap-2",children:[o.jsx(dV,{className:"w-5 h-5"}),"Create Another QR Code"]}),o.jsxs("button",{onClick:()=>window.location.href="/history",className:"w-full px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors font-medium flex items-center justify-center gap-2",children:[o.jsx(os,{className:"w-5 h-5"}),"View All QR Codes"]})]})]})]})})]})}):o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx(Q,{}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[d===1&&o.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-200",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Choose QR Code Type"}),o.jsx("p",{className:"text-gray-600",children:"Select the type that best fits your needs"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs(he.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>R("static"),className:`p-6 rounded-2xl border-2 transition-all duration-300 text-left ${r==="static"?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${r==="static"?"bg-blue-600":"bg-gray-400"}`,children:o.jsx(zd,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Static QR Code"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Direct encoding"})]})]}),o.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(po,{className:"w-4 h-4 text-green-500"}),"Permanent & reliable"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(po,{className:"w-4 h-4 text-green-500"}),"No tracking required"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(po,{className:"w-4 h-4 text-green-500"}),"Works offline"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Hn,{className:"w-4 h-4 text-orange-500"}),"URL/Website only"]})]})]}),o.jsxs(he.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>R("dynamic"),className:`p-6 rounded-2xl border-2 transition-all duration-300 text-left ${r==="dynamic"?"border-purple-500 bg-purple-50 shadow-lg":"border-gray-200 hover:border-purple-300 hover:bg-purple-50"}`,children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${r==="dynamic"?"bg-purple-600":"bg-gray-400"}`,children:o.jsx(Io,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Dynamic QR Code"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Advanced features"})]})]}),o.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(po,{className:"w-4 h-4 text-green-500"}),"9 content types"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(po,{className:"w-4 h-4 text-green-500"}),"Password protection"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(po,{className:"w-4 h-4 text-green-500"}),"Scheduling & analytics"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(po,{className:"w-4 h-4 text-green-500"}),"Custom redirect pages"]})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:()=>h(2),className:"px-8 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium flex items-center gap-2",children:["Next: Choose Content",o.jsx(Nd,{className:"w-5 h-5"})]})})]}),d===2&&o.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-200",children:[o.jsx(r2e,{selectedType:a,onTypeChange:A,qrType:r}),o.jsx("div",{className:"mt-8",children:o.jsx(m2e,{contentType:a,content:c,onChange:E,errors:p})}),o.jsxs("div",{className:"flex justify-between mt-8",children:[o.jsx("button",{onClick:()=>h(1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Back"}),o.jsxs("button",{onClick:()=>{T()&&h(3)},className:"px-8 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium flex items-center gap-2",children:["Next: Design",o.jsx(Nd,{className:"w-5 h-5"})]})]})]}),d===3&&o.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:o.jsx(GR,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Design Options"}),o.jsx("p",{className:"text-gray-600",children:"Customize colors and appearance"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Foreground Color"}),o.jsx("div",{className:"p-4 border-2 border-gray-200 rounded-2xl hover:border-green-300 transition-all bg-gray-50",children:o.jsx(vw,{color:f.foregroundColor,onChange:Z=>m(U=>({...U,foregroundColor:Z}))})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Background Color"}),o.jsx("div",{className:"p-4 border-2 border-gray-200 rounded-2xl hover:border-green-300 transition-all bg-gray-50",children:o.jsx(vw,{color:f.backgroundColor,onChange:Z=>m(U=>({...U,backgroundColor:Z}))})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Error Correction"}),o.jsxs("select",{value:f.errorCorrectionLevel,onChange:Z=>m(U=>({...U,errorCorrectionLevel:Z.target.value})),className:"w-full rounded-2xl border-2 border-gray-200 p-4 focus:ring-4 focus:ring-green-500/20 focus:border-green-500 transition-all text-lg",children:[o.jsx("option",{value:"L",children:"Low (7%)"}),o.jsx("option",{value:"M",children:"Medium (15%)"}),o.jsx("option",{value:"Q",children:"Quartile (25%)"}),o.jsx("option",{value:"H",children:"High (30%)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Corner Style"}),o.jsxs("select",{value:f.cornerStyle,onChange:Z=>m(U=>({...U,cornerStyle:Z.target.value})),className:"w-full rounded-2xl border-2 border-gray-200 p-4 focus:ring-4 focus:ring-green-500/20 focus:border-green-500 transition-all text-lg",children:[o.jsx("option",{value:"square",children:"Square"}),o.jsx("option",{value:"rounded",children:"Rounded"}),o.jsx("option",{value:"circle",children:"Circle"})]})]})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-4",children:"Brand Logo"}),f.logoDataUrl?o.jsxs("div",{className:"flex items-center space-x-6 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl",children:[o.jsx("img",{src:f.logoDataUrl,alt:"Logo preview",className:"w-20 h-20 object-contain rounded-xl shadow-md"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-lg font-semibold text-green-800 mb-2",children:"Logo uploaded successfully"}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-700 mb-2",children:["Logo Size: ",f.logoSize,"%"]}),o.jsx("input",{type:"range",min:"10",max:"30",value:f.logoSize,onChange:Z=>m(U=>({...U,logoSize:parseInt(Z.target.value)})),className:"w-full h-2 bg-green-200 rounded-lg appearance-none cursor-pointer slider"})]})})]}),o.jsx("button",{type:"button",onClick:()=>m(Z=>({...Z,logoDataUrl:""})),className:"p-3 text-green-600 hover:text-red-600 transition-colors rounded-xl hover:bg-red-50",children:o.jsx(bs,{className:"w-6 h-6"})})]}):o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:L,disabled:P,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.jsx("div",{className:`border-2 border-dashed rounded-2xl p-8 text-center transition-all duration-300 ${P?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:P?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mr-3"}),o.jsx("span",{className:"text-lg text-green-600 font-medium",children:"Uploading..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(a6,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-lg text-gray-600 font-medium mb-2",children:"Click to upload logo"}),o.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG (max 5MB)"})]})})]})]})]}),r==="dynamic"&&o.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center",children:o.jsx(hV,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Dynamic Features"}),o.jsx("p",{className:"text-gray-600",children:"Advanced controls and security"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"border-2 border-gray-200 rounded-2xl p-6 hover:shadow-lg transition-all bg-gradient-to-br from-red-50 to-pink-50",children:[o.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[o.jsx("input",{type:"checkbox",checked:f.passwordEnabled||!1,onChange:Z=>m(U=>({...U,passwordEnabled:Z.target.checked})),className:"w-5 h-5 text-red-600 border-gray-300 rounded focus:ring-red-500"}),o.jsx(Ro,{className:"w-6 h-6 text-red-600"}),o.jsx("span",{className:"font-semibold text-gray-800",children:"Password Protection"})]}),o.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Require a password to access content"}),o.jsx(Zt,{children:f.passwordEnabled&&o.jsx(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:o.jsx("input",{type:"password",value:f.password||"",onChange:Z=>m(U=>({...U,password:Z.target.value})),placeholder:"Enter password",className:"w-full rounded-xl border-2 border-red-200 p-3 text-sm focus:ring-4 focus:ring-red-500/20 focus:border-red-500 transition-all"})})})]}),o.jsxs("div",{className:"border-2 border-gray-200 rounded-2xl p-6 hover:shadow-lg transition-all bg-gradient-to-br from-orange-50 to-amber-50",children:[o.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[o.jsx("input",{type:"checkbox",checked:f.scheduleEnabled||!1,onChange:Z=>m(U=>({...U,scheduleEnabled:Z.target.checked})),className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),o.jsx(fl,{className:"w-6 h-6 text-orange-600"}),o.jsx("span",{className:"font-semibold text-gray-800",children:"Enable Scheduling"})]}),o.jsx("p",{className:"text-sm text-orange-700 mb-4",children:"Control when your QR code is active"}),o.jsx(Zt,{children:f.scheduleEnabled&&o.jsxs(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"Start Date"}),o.jsx("input",{type:"date",value:((V=f.scheduleStart)==null?void 0:V.split("T")[0])||"",onChange:Z=>m(U=>({...U,scheduleStart:Z.target.value?`${Z.target.value}T00:00:00.000Z`:""})),className:"w-full rounded-xl border-2 border-orange-200 p-2 text-sm focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"End Date"}),o.jsx("input",{type:"date",value:((W=f.scheduleEnd)==null?void 0:W.split("T")[0])||"",onChange:Z=>m(U=>({...U,scheduleEnd:Z.target.value?`${Z.target.value}T23:59:59.999Z`:""})),className:"w-full rounded-xl border-2 border-orange-200 p-2 text-sm focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"Start Time"}),o.jsx("input",{type:"time",value:f.dailyStartTime||"",onChange:Z=>m(U=>({...U,dailyStartTime:Z.target.value})),className:"w-full rounded-xl border-2 border-orange-200 p-2 text-sm focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"End Time"}),o.jsx("input",{type:"time",value:f.dailyEndTime||"",onChange:Z=>m(U=>({...U,dailyEndTime:Z.target.value})),className:"w-full rounded-xl border-2 border-orange-200 p-2 text-sm focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 transition-all"})]})]})})]}),o.jsxs("div",{className:"border-2 border-gray-200 rounded-2xl p-6 hover:shadow-lg transition-all bg-gradient-to-br from-blue-50 to-cyan-50 md:col-span-2",children:[o.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[o.jsx("input",{type:"checkbox",checked:f.countdownEnabled||!1,onChange:Z=>m(U=>({...U,countdownEnabled:Z.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx(df,{className:"w-6 h-6 text-blue-600"}),o.jsx("span",{className:"font-semibold text-gray-800",children:"Countdown Timer"})]}),o.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Add a delay before redirecting users"}),o.jsx(Zt,{children:f.countdownEnabled&&o.jsxs(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"Countdown Duration (seconds)"}),o.jsx("input",{type:"number",min:"1",max:"60",value:f.countdownDuration||5,onChange:Z=>m(U=>({...U,countdownDuration:parseInt(Z.target.value)||5})),className:"w-full rounded-xl border-2 border-blue-200 p-3 text-sm focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]})})]})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("button",{onClick:()=>h(2),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Back"}),o.jsxs("button",{onClick:()=>h(4),className:"px-8 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium flex items-center gap-2",children:["Next: Generate",o.jsx(Nd,{className:"w-5 h-5"})]})]})]}),d===4&&!_&&o.jsx(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-200",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:o.jsx(Cp,{className:"w-10 h-10 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to Generate"}),o.jsxs("p",{className:"text-gray-600 mb-8 text-lg",children:["Your ",r," QR code for ",B2[a].label," is ready to be created"]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-2xl p-6 mb-8",children:o.jsxs("div",{className:"flex items-center justify-center gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e}),o.jsx("div",{className:"text-sm text-gray-600",children:"Quota Remaining"})]}),o.jsx("div",{className:"w-px h-12 bg-gray-300"}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"1"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Will Be Used"})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:z,disabled:v||e<=0,className:`w-full py-6 px-8 rounded-2xl font-bold text-xl transition-all duration-300 flex items-center justify-center gap-4 ${v||e<=0?"bg-gray-300 text-gray-500 cursor-not-allowed":r==="static"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 shadow-xl hover:shadow-2xl transform hover:scale-105":"bg-gradient-to-r from-purple-600 to-purple-700 text-white hover:from-purple-700 hover:to-purple-800 shadow-xl hover:shadow-2xl transform hover:scale-105"}`,children:v?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating QR Code..."]}):o.jsxs(o.Fragment,{children:[o.jsx(xoe,{className:"w-6 h-6"}),"Generate ",r==="static"?"Static":"Dynamic"," QR Code"]})}),e<=0&&o.jsxs("div",{className:"p-6 bg-red-50 border-2 border-red-200 rounded-2xl",children:[o.jsxs("div",{className:"flex items-center gap-3 text-red-700 mb-3",children:[o.jsx(Hn,{className:"w-6 h-6"}),o.jsx("span",{className:"font-semibold text-lg",children:"Insufficient quota"})]}),o.jsx("p",{className:"text-red-600 mb-4",children:"You need at least 1 quota to generate a QR code."}),o.jsx("button",{onClick:()=>window.location.href="/plans-and-quota",className:"w-full px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-medium",children:"Upgrade Plan"})]})]}),o.jsx("div",{className:"flex justify-between mt-8",children:o.jsx("button",{onClick:()=>h(3),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Back"})})]})})]}),o.jsx("div",{className:"xl:sticky xl:top-8 xl:h-fit",children:o.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-gray-500 to-gray-600 rounded-xl flex items-center justify-center",children:o.jsx(os,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Live Preview"}),o.jsx("p",{className:"text-gray-600",children:"See how your QR code will look"})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"inline-block p-8 bg-gradient-to-br from-gray-50 to-gray-100 rounded-3xl mb-6 shadow-inner",children:[o.jsx(Yd,{value:$()||"https://example.com",size:200,bgColor:f.backgroundColor,fgColor:f.foregroundColor,level:f.errorCorrectionLevel,includeMargin:!0}),f.logoDataUrl&&o.jsx("div",{className:"relative -mt-[200px] flex items-center justify-center",children:o.jsx("img",{src:f.logoDataUrl,alt:"Logo",className:"rounded-full bg-white p-1 object-contain shadow-lg",style:{width:`${f.logoSize}%`,height:`${f.logoSize}%`,maxWidth:"60px",maxHeight:"60px"}})})]}),o.jsxs("div",{className:"space-y-4 text-sm",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[o.jsx("div",{className:"text-gray-600 text-xs uppercase tracking-wide mb-1",children:"Type"}),o.jsx("div",{className:`font-bold ${r==="static"?"text-blue-600":"text-purple-600"}`,children:r==="static"?"Static":"Dynamic"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[o.jsx("div",{className:"text-gray-600 text-xs uppercase tracking-wide mb-1",children:"Content"}),o.jsx("div",{className:"font-bold text-gray-900",children:B2[a].label})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[o.jsx("div",{className:"text-gray-600 text-xs uppercase tracking-wide mb-2",children:"Title"}),o.jsx("div",{className:"font-medium text-gray-900",children:c.title||"Untitled"})]}),r==="dynamic"&&o.jsxs("div",{className:"space-y-2",children:[f.passwordEnabled&&o.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-600 bg-purple-50 px-3 py-2 rounded-lg",children:[o.jsx(fa,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Password Protected"})]}),f.scheduleEnabled&&o.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-600 bg-orange-50 px-3 py-2 rounded-lg",children:[o.jsx(fl,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Scheduled"})]}),f.countdownEnabled&&o.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-600 bg-blue-50 px-3 py-2 rounded-lg",children:[o.jsx(df,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:["Countdown: ",f.countdownDuration,"s"]})]})]})]})]})]})})]})]})},O2e=()=>{const{user:t,loading:e}=_s(),[n,s]=j.useState(30),[r,i]=j.useState("Free"),[a,l]=j.useState(!0),[c,u]=j.useState(null);return j.useEffect(()=>{e||(async()=>{if(!t){s(Hd("Free")),i("Free"),l(!1);return}try{const h=Lt(dt,"users",t.uid),f=await ws(h);if(f.exists()){const m=f.data();s(m.quota||Hd("Free")),i(m.subscriptionPlan||"Free")}else u("User profile not found")}catch(h){u(`Failed to load user data: ${h.message}`)}finally{l(!1)}})()},[t,e]),e||a?o.jsx("div",{className:"max-w-6xl mx-auto",children:o.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Loading QR Generator"}),o.jsx("p",{className:"text-gray-500",children:"Preparing your workspace..."})]})})}):c?o.jsx("div",{className:"max-w-6xl mx-auto",children:o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-2xl p-8 text-center",children:[o.jsx(Hn,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Generator"}),o.jsx("p",{className:"text-red-700",children:c})]})}):o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8 text-center",children:[o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mb-4",children:o.jsx(r6,{className:"w-8 h-8 text-white"})})}),o.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-4",children:o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600",children:"QR Code Generator"})}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-6",children:"Create professional QR codes with multiple content types and advanced features"}),o.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 px-4 py-2 rounded-full",children:[o.jsx(zd,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-blue-700",children:"9 Content Types"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 px-4 py-2 rounded-full",children:[o.jsx(Io,{className:"w-5 h-5 text-purple-600"}),o.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Dynamic Features"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-green-50 px-4 py-2 rounded-full",children:[o.jsx(po,{className:"w-5 h-5 text-green-600"}),o.jsx("span",{className:"text-sm font-medium text-green-700",children:"Advanced Security"})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-2xl p-6 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[o.jsx(po,{className:"w-6 h-6 text-green-600"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Enhanced Features Available"})]}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Generate QR codes for websites, events, contacts, Wi-Fi, text, email, phone, SMS, and locations. Add password protection, scheduling, countdown timers, and custom branding."})]})]}),o.jsx(D2e,{onClose:()=>window.history.back(),userQuota:n,onQuotaUpdate:s})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function N1(t){return t+.5|0}const rd=(t,e,n)=>Math.max(Math.min(t,n),e);function q0(t){return rd(N1(t*2.55),0,255)}function Ad(t){return rd(N1(t*255),0,255)}function dc(t){return rd(N1(t/2.55)/100,0,1)}function E7(t){return rd(N1(t*100),0,100)}const Ia={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bj=[..."0123456789ABCDEF"],F2e=t=>bj[t&15],B2e=t=>bj[(t&240)>>4]+bj[t&15],Vb=t=>(t&240)>>4===(t&15),V2e=t=>Vb(t.r)&&Vb(t.g)&&Vb(t.b)&&Vb(t.a);function U2e(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ia[t[1]]*17,g:255&Ia[t[2]]*17,b:255&Ia[t[3]]*17,a:e===5?Ia[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ia[t[1]]<<4|Ia[t[2]],g:Ia[t[3]]<<4|Ia[t[4]],b:Ia[t[5]]<<4|Ia[t[6]],a:e===9?Ia[t[7]]<<4|Ia[t[8]]:255})),n}const z2e=(t,e)=>t<255?e(t):"";function $2e(t){var e=V2e(t)?F2e:B2e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+z2e(t.a,e):void 0}const q2e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jq(t,e,n){const s=e*Math.min(n,1-n),r=(i,a=(i+t/30)%12)=>n-s*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function H2e(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function Q2e(t,e,n){const s=jq(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function G2e(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function mT(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),a=Math.min(n,s,r),l=(i+a)/2;let c,u,d;return i!==a&&(d=i-a,u=l>.5?d/(2-i-a):d/(i+a),c=G2e(n,s,r,d,i),c=c*60+.5),[c|0,u||0,l]}function pT(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Ad)}function gT(t,e,n){return pT(jq,t,e,n)}function W2e(t,e,n){return pT(Q2e,t,e,n)}function Y2e(t,e,n){return pT(H2e,t,e,n)}function Eq(t){return(t%360+360)%360}function K2e(t){const e=q2e.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?q0(+e[5]):Ad(+e[5]));const r=Eq(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?s=W2e(r,i,a):e[1]==="hsv"?s=Y2e(r,i,a):s=gT(r,i,a),{r:s[0],g:s[1],b:s[2],a:n}}function X2e(t,e){var n=mT(t);n[0]=Eq(n[0]+e),n=gT(n),t.r=n[0],t.g=n[1],t.b=n[2]}function J2e(t){if(!t)return;const e=mT(t),n=e[0],s=E7(e[1]),r=E7(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${dc(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const A7={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},T7={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Z2e(){const t={},e=Object.keys(T7),n=Object.keys(A7);let s,r,i,a,l;for(s=0;s<e.length;s++){for(a=l=e[s],r=0;r<n.length;r++)i=n[r],l=l.replace(i,A7[i]);i=parseInt(T7[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Ub;function eve(t){Ub||(Ub=Z2e(),Ub.transparent=[0,0,0,0]);const e=Ub[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const tve=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nve(t){const e=tve.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const a=+e[7];n=e[8]?q0(a):rd(a*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?q0(s):rd(s,0,255)),r=255&(e[4]?q0(r):rd(r,0,255)),i=255&(e[6]?q0(i):rd(i,0,255)),{r:s,g:r,b:i,a:n}}}function sve(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${dc(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const E4=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Mm=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function rve(t,e,n){const s=Mm(dc(t.r)),r=Mm(dc(t.g)),i=Mm(dc(t.b));return{r:Ad(E4(s+n*(Mm(dc(e.r))-s))),g:Ad(E4(r+n*(Mm(dc(e.g))-r))),b:Ad(E4(i+n*(Mm(dc(e.b))-i))),a:t.a+n*(e.a-t.a)}}function zb(t,e,n){if(t){let s=mT(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=gT(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Aq(t,e){return t&&Object.assign(e||{},t)}function C7(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ad(t[3]))):(e=Aq(t,{r:0,g:0,b:0,a:1}),e.a=Ad(e.a)),e}function ive(t){return t.charAt(0)==="r"?nve(t):K2e(t)}class wx{constructor(e){if(e instanceof wx)return e;const n=typeof e;let s;n==="object"?s=C7(e):n==="string"&&(s=U2e(e)||eve(e)||ive(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Aq(this._rgb);return e&&(e.a=dc(e.a)),e}set rgb(e){this._rgb=C7(e)}rgbString(){return this._valid?sve(this._rgb):void 0}hexString(){return this._valid?$2e(this._rgb):void 0}hslString(){return this._valid?J2e(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=s.a-r.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,s.r=255&u*s.r+i*r.r+.5,s.g=255&u*s.g+i*r.g+.5,s.b=255&u*s.b+i*r.b+.5,s.a=a*s.a+(1-a)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=rve(this._rgb,e._rgb,n)),this}clone(){return new wx(this.rgb)}alpha(e){return this._rgb.a=Ad(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=N1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return zb(this._rgb,2,e),this}darken(e){return zb(this._rgb,2,-e),this}saturate(e){return zb(this._rgb,1,e),this}desaturate(e){return zb(this._rgb,1,-e),this}rotate(e){return X2e(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function oc(){}const ave=(()=>{let t=0;return()=>t++})();function yn(t){return t==null}function nr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ln(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ya(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function nl(t,e){return Ya(t)?t:e}function $t(t,e){return typeof t>"u"?e:t}const ove=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Tq=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Yn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Sn(t,e,n,s){let r,i,a;if(nr(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(ln(t))for(a=Object.keys(t),i=a.length,r=0;r<i;r++)e.call(n,t[a[r]],a[r])}function ww(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function _w(t){if(nr(t))return t.map(_w);if(ln(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=_w(t[n[r]]);return e}return t}function Cq(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function lve(t,e,n,s){if(!Cq(t))return;const r=e[t],i=n[t];ln(r)&&ln(i)?_x(r,i,s):e[t]=_w(i)}function _x(t,e,n){const s=nr(e)?e:[e],r=s.length;if(!ln(t))return t;n=n||{};const i=n.merger||lve;let a;for(let l=0;l<r;++l){if(a=s[l],!ln(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)i(c[u],t,a,n)}return t}function Cy(t,e){return _x(t,e,{merger:cve})}function cve(t,e,n){if(!Cq(t))return;const s=e[t],r=n[t];ln(s)&&ln(r)?Cy(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=_w(r))}const k7={"":t=>t,x:t=>t.x,y:t=>t.y};function uve(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function dve(t){const e=uve(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Ff(t,e){return(k7[e]||(k7[e]=dve(e)))(t)}function yT(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Nx=t=>typeof t<"u",Kd=t=>typeof t=="function",P7=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function hve(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const En=Math.PI,vs=2*En,fve=vs+En,Nw=Number.POSITIVE_INFINITY,mve=En/180,sr=En/2,Ph=En/4,R7=En*2/3,kq=Math.log10,Al=Math.sign;function ky(t,e,n){return Math.abs(t-e)<n}function I7(t){const e=Math.round(t);t=ky(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(kq(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function pve(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function gve(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Sx(t){return!gve(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function yve(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function xve(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function _c(t){return t*(En/180)}function bve(t){return t*(180/En)}function L7(t){if(!Ya(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Pq(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*En&&(i+=vs),{angle:i,distance:r}}function vj(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vve(t,e){return(t-e+fve)%vs-En}function vo(t){return(t%vs+vs)%vs}function jx(t,e,n,s){const r=vo(t),i=vo(e),a=vo(n),l=vo(i-r),c=vo(a-r),u=vo(r-i),d=vo(r-a);return r===i||r===a||s&&i===a||l>c&&u<d}function ti(t,e,n){return Math.max(e,Math.min(n,t))}function wve(t){return ti(t,-32768,32767)}function id(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function xT(t,e,n){n=n||(a=>t[a]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const nf=(t,e,n,s)=>xT(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),_ve=(t,e,n)=>xT(t,n,s=>t[s][e]>=n);function Nve(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const Rq=["push","pop","shift","splice","unshift"];function Sve(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Rq.forEach(n=>{const s="_onData"+yT(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=r.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...i)}),a}})})}function M7(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(Rq.forEach(i=>{delete t[i]}),delete t._chartjs)}function Iq(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Lq=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Mq(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,Lq.call(window,()=>{s=!1,t.apply(e,n)}))}}function jve(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const bT=t=>t==="start"?"left":t==="end"?"right":"center",Gr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Eve=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function Ave(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:a,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:h,max:f,minDefined:m,maxDefined:p}=a.getUserBounds();if(m){if(r=Math.min(nf(c,d,h).lo,n?s:nf(e,d,a.getPixelForValue(h)).lo),u){const x=c.slice(0,r+1).reverse().findIndex(v=>!yn(v[l.axis]));r-=Math.max(0,x)}r=ti(r,0,s-1)}if(p){let x=Math.max(nf(c,a.axis,f,!0).hi+1,n?0:nf(e,d,a.getPixelForValue(f),!0).hi+1);if(u){const v=c.slice(x-1).findIndex(y=>!yn(y[l.axis]));x+=Math.max(0,v)}i=ti(x,r,s)-r}else i=s-r}return{start:r,count:i}}function Tve(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const $b=t=>t===0||t===1,D7=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*vs/n)),O7=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*vs/n)+1,Py={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*sr)+1,easeOutSine:t=>Math.sin(t*sr),easeInOutSine:t=>-.5*(Math.cos(En*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>$b(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>$b(t)?t:D7(t,.075,.3),easeOutElastic:t=>$b(t)?t:O7(t,.075,.3),easeInOutElastic(t){return $b(t)?t:t<.5?.5*D7(t*2,.1125,.45):.5+.5*O7(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Py.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Py.easeInBounce(t*2)*.5:Py.easeOutBounce(t*2-1)*.5+.5};function vT(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function F7(t){return vT(t)?t:new wx(t)}function A4(t){return vT(t)?t:new wx(t).saturate(.5).darken(.1).hexString()}const Cve=["x","y","borderWidth","radius","tension"],kve=["color","borderColor","backgroundColor"];function Pve(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:kve},numbers:{type:"number",properties:Cve}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Rve(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const B7=new Map;function Ive(t,e){e=e||{};const n=t+JSON.stringify(e);let s=B7.get(n);return s||(s=new Intl.NumberFormat(t,e),B7.set(n,s)),s}function wT(t,e,n){return Ive(e,n).format(t)}const Lve={values(t){return nr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),i=Mve(t,n)}const a=kq(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),wT(t,s,c)}};function Mve(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Dq={formatters:Lve};function Dve(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Dq.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Bf=Object.create(null),wj=Object.create(null);function Ry(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function T4(t,e,n){return typeof e=="string"?_x(Ry(t,e),n):_x(Ry(t,""),e)}class Ove{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>A4(r.backgroundColor),this.hoverBorderColor=(s,r)=>A4(r.borderColor),this.hoverColor=(s,r)=>A4(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return T4(this,e,n)}get(e){return Ry(this,e)}describe(e,n){return T4(wj,e,n)}override(e,n){return T4(Bf,e,n)}route(e,n,s,r){const i=Ry(this,e),a=Ry(this,s),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=a[r];return ln(c)?Object.assign({},u,c):$t(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var Ms=new Ove({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Pve,Rve,Dve]);function Fve(t){return!t||yn(t.size)||yn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function V7(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function Rh(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function U7(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function _j(t,e,n,s){Oq(t,e,n,s,null)}function Oq(t,e,n,s,r){let i,a,l,c,u,d,h,f;const m=e.pointStyle,p=e.rotation,x=e.radius;let v=(p||0)*mve;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(v),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),m){default:r?t.ellipse(n,s,r/2,x,0,0,vs):t.arc(n,s,x,0,vs),t.closePath();break;case"triangle":d=r?r/2:x,t.moveTo(n+Math.sin(v)*d,s-Math.cos(v)*x),v+=R7,t.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*x),v+=R7,t.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*x),t.closePath();break;case"rectRounded":u=x*.516,c=x-u,a=Math.cos(v+Ph)*c,h=Math.cos(v+Ph)*(r?r/2-u:c),l=Math.sin(v+Ph)*c,f=Math.sin(v+Ph)*(r?r/2-u:c),t.arc(n-h,s-l,u,v-En,v-sr),t.arc(n+f,s-a,u,v-sr,v),t.arc(n+h,s+l,u,v,v+sr),t.arc(n-f,s+a,u,v+sr,v+En),t.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*x,d=r?r/2:c,t.rect(n-d,s-c,2*d,2*c);break}v+=Ph;case"rectRot":h=Math.cos(v)*(r?r/2:x),a=Math.cos(v)*x,l=Math.sin(v)*x,f=Math.sin(v)*(r?r/2:x),t.moveTo(n-h,s-l),t.lineTo(n+f,s-a),t.lineTo(n+h,s+l),t.lineTo(n-f,s+a),t.closePath();break;case"crossRot":v+=Ph;case"cross":h=Math.cos(v)*(r?r/2:x),a=Math.cos(v)*x,l=Math.sin(v)*x,f=Math.sin(v)*(r?r/2:x),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-a),t.lineTo(n-f,s+a);break;case"star":h=Math.cos(v)*(r?r/2:x),a=Math.cos(v)*x,l=Math.sin(v)*x,f=Math.sin(v)*(r?r/2:x),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-a),t.lineTo(n-f,s+a),v+=Ph,h=Math.cos(v)*(r?r/2:x),a=Math.cos(v)*x,l=Math.sin(v)*x,f=Math.sin(v)*(r?r/2:x),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-a),t.lineTo(n-f,s+a);break;case"line":a=r?r/2:Math.cos(v)*x,l=Math.sin(v)*x,t.moveTo(n-a,s-l),t.lineTo(n+a,s+l);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(v)*(r?r/2:x),s+Math.sin(v)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ex(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function _T(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function NT(t){t.restore()}function Bve(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Vve(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function Uve(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),yn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function zve(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=r.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,d),t.lineTo(l,d),t.stroke()}}function $ve(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ax(t,e,n,s,r,i={}){const a=nr(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=r.string,Uve(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&$ve(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),yn(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,s,i.maxWidth)),t.fillText(u,n,s,i.maxWidth),zve(t,n,s,u,i),s+=Number(r.lineHeight);t.restore()}function Sw(t,e){const{x:n,y:s,w:r,h:i,radius:a}=e;t.arc(n+a.topLeft,s+a.topLeft,a.topLeft,1.5*En,En,!0),t.lineTo(n,s+i-a.bottomLeft),t.arc(n+a.bottomLeft,s+i-a.bottomLeft,a.bottomLeft,En,sr,!0),t.lineTo(n+r-a.bottomRight,s+i),t.arc(n+r-a.bottomRight,s+i-a.bottomRight,a.bottomRight,sr,0,!0),t.lineTo(n+r,s+a.topRight),t.arc(n+r-a.topRight,s+a.topRight,a.topRight,0,-sr,!0),t.lineTo(n+a.topLeft,s)}const qve=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Hve=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Qve(t,e){const n=(""+t).match(qve);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Gve=t=>+t||0;function ST(t,e){const n={},s=ln(e),r=s?Object.keys(e):e,i=ln(t)?s?a=>$t(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=Gve(i(a));return n}function Fq(t){return ST(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Mp(t){return ST(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ka(t){const e=Fq(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ni(t,e){t=t||{},e=e||Ms.font;let n=$t(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=$t(t.style,e.style);s&&!(""+s).match(Hve)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:$t(t.family,e.family),lineHeight:Qve($t(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:$t(t.weight,e.weight),string:""};return r.string=Fve(r),r}function qb(t,e,n,s){let r,i,a;for(r=0,i=t.length;r<i;++r)if(a=t[r],a!==void 0&&a!==void 0)return a}function Wve(t,e,n){const{min:s,max:r}=t,i=Tq(e,(r-s)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(s,-Math.abs(i)),max:a(r,i)}}function nm(t,e){return Object.assign(Object.create(t),e)}function jT(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=zq("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:l=>jT([l,...t],e,i,s)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Vq(l,c,()=>nwe(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return $7(l).includes(c)},ownKeys(l){return $7(l)},set(l,c,u){const d=l._storage||(l._storage=r());return l[c]=d[c]=u,delete l._keys,!0}})}function mg(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Bq(t,s),setContext:i=>mg(t,i,n,s),override:i=>mg(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return Vq(i,a,()=>Kve(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function Bq(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:Kd(n)?n:()=>n,isIndexable:Kd(s)?s:()=>s}}const Yve=(t,e)=>t?t+yT(e):e,ET=(t,e)=>ln(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Vq(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function Kve(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:a}=t;let l=s[e];return Kd(l)&&a.isScriptable(e)&&(l=Xve(e,l,t,n)),nr(l)&&l.length&&(l=Jve(e,l,t,a.isIndexable)),ET(e,l)&&(l=mg(l,r,i&&i[e],a)),l}function Xve(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,a||s);return l.delete(t),ET(t,c)&&(c=AT(r._scopes,r,t,c)),c}function Jve(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(ln(e[0])){const c=e,u=r._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=AT(u,r,t,d);e.push(mg(h,i,a&&a[t],l))}}return e}function Uq(t,e,n){return Kd(t)?t(e,n):t}const Zve=(t,e)=>t===!0?e:typeof t=="string"?Ff(e,t):void 0;function ewe(t,e,n,s,r){for(const i of e){const a=Zve(n,i);if(a){t.add(a);const l=Uq(a._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==s)return l}else if(a===!1&&typeof s<"u"&&n!==s)return null}return!1}function AT(t,e,n,s){const r=e._rootScopes,i=Uq(e._fallback,n,s),a=[...t,...r],l=new Set;l.add(s);let c=z7(l,a,n,i||n,s);return c===null||typeof i<"u"&&i!==n&&(c=z7(l,a,i,c,s),c===null)?!1:jT(Array.from(l),[""],r,i,()=>twe(e,n,s))}function z7(t,e,n,s,r){for(;n;)n=ewe(t,e,n,s,r);return n}function twe(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return nr(r)&&ln(n)?n:r||{}}function nwe(t,e,n,s){let r;for(const i of e)if(r=zq(Yve(i,t),n),typeof r<"u")return ET(t,r)?AT(n,s,t,r):r}function zq(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function $7(t){let e=t._keys;return e||(e=t._keys=swe(t._scopes)),e}function swe(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const rwe=Number.EPSILON||1e-14,pg=(t,e)=>e<t.length&&!t[e].skip&&t[e],$q=t=>t==="x"?"y":"x";function iwe(t,e,n,s){const r=t.skip?e:t,i=e,a=n.skip?e:n,l=vj(i,r),c=vj(a,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=s*u,f=s*d;return{previous:{x:i.x-h*(a.x-r.x),y:i.y-h*(a.y-r.y)},next:{x:i.x+f*(a.x-r.x),y:i.y+f*(a.y-r.y)}}}function awe(t,e,n){const s=t.length;let r,i,a,l,c,u=pg(t,0);for(let d=0;d<s-1;++d)if(c=u,u=pg(t,d+1),!(!c||!u)){if(ky(e[d],0,rwe)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],i=n[d+1]/e[d],l=Math.pow(r,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[d]=r*a*e[d],n[d+1]=i*a*e[d])}}function owe(t,e,n="x"){const s=$q(n),r=t.length;let i,a,l,c=pg(t,0);for(let u=0;u<r;++u){if(a=l,l=c,c=pg(t,u+1),!l)continue;const d=l[n],h=l[s];a&&(i=(d-a[n])/3,l[`cp1${n}`]=d-i,l[`cp1${s}`]=h-i*e[u]),c&&(i=(c[n]-d)/3,l[`cp2${n}`]=d+i,l[`cp2${s}`]=h+i*e[u])}}function lwe(t,e="x"){const n=$q(e),s=t.length,r=Array(s).fill(0),i=Array(s);let a,l,c,u=pg(t,0);for(a=0;a<s;++a)if(l=c,c=u,u=pg(t,a+1),!!c){if(u){const d=u[e]-c[e];r[a]=d!==0?(u[n]-c[n])/d:0}i[a]=l?u?Al(r[a-1])!==Al(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}awe(t,r,i),owe(t,i,e)}function Hb(t,e,n){return Math.max(Math.min(t,n),e)}function cwe(t,e){let n,s,r,i,a,l=Ex(t[0],e);for(n=0,s=t.length;n<s;++n)a=i,i=l,l=n<s-1&&Ex(t[n+1],e),i&&(r=t[n],a&&(r.cp1x=Hb(r.cp1x,e.left,e.right),r.cp1y=Hb(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=Hb(r.cp2x,e.left,e.right),r.cp2y=Hb(r.cp2y,e.top,e.bottom)))}function uwe(t,e,n,s,r){let i,a,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")lwe(t,r);else{let u=s?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)l=t[i],c=iwe(u,l,t[Math.min(i+1,a-(s?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&cwe(t,n)}function TT(){return typeof window<"u"&&typeof document<"u"}function CT(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function jw(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const d_=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function dwe(t,e){return d_(t).getPropertyValue(e)}const hwe=["top","right","bottom","left"];function xf(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=hwe[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const fwe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function mwe(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let a=!1,l,c;if(fwe(r,i,t.target))l=r,c=i;else{const u=e.getBoundingClientRect();l=s.clientX-u.left,c=s.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function $h(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=d_(n),i=r.boxSizing==="border-box",a=xf(r,"padding"),l=xf(r,"border","width"),{x:c,y:u,box:d}=mwe(t,n),h=a.left+(d&&l.left),f=a.top+(d&&l.top);let{width:m,height:p}=e;return i&&(m-=a.width+l.width,p-=a.height+l.height),{x:Math.round((c-h)/m*n.width/s),y:Math.round((u-f)/p*n.height/s)}}function pwe(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&CT(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),l=d_(i),c=xf(l,"border","width"),u=xf(l,"padding");e=a.width-u.width-c.width,n=a.height-u.height-c.height,s=jw(l.maxWidth,i,"clientWidth"),r=jw(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||Nw,maxHeight:r||Nw}}const Qb=t=>Math.round(t*10)/10;function gwe(t,e,n,s){const r=d_(t),i=xf(r,"margin"),a=jw(r.maxWidth,t,"clientWidth")||Nw,l=jw(r.maxHeight,t,"clientHeight")||Nw,c=pwe(t,e,n);let{width:u,height:d}=c;if(r.boxSizing==="content-box"){const f=xf(r,"border","width"),m=xf(r,"padding");u-=m.width+f.width,d-=m.height+f.height}return u=Math.max(0,u-i.width),d=Math.max(0,s?u/s:d-i.height),u=Qb(Math.min(u,a,c.maxWidth)),d=Qb(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Qb(u/2)),(e!==void 0||n!==void 0)&&s&&c.height&&d>c.height&&(d=c.height,u=Qb(Math.floor(d*s))),{width:u,height:d}}function q7(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||a.height!==r||a.width!==i?(t.currentDevicePixelRatio=s,a.height=r,a.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const ywe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};TT()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function H7(t,e){const n=dwe(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function qh(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function xwe(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function bwe(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=qh(t,r,n),l=qh(r,i,n),c=qh(i,e,n),u=qh(a,l,n),d=qh(l,c,n);return qh(u,d,n)}const vwe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},wwe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Dp(t,e,n){return t?vwe(e,n):wwe()}function qq(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Hq(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Qq(t){return t==="angle"?{between:jx,compare:vve,normalize:vo}:{between:id,compare:(e,n)=>e-n,normalize:e=>e}}function Q7({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function _we(t,e,n){const{property:s,start:r,end:i}=n,{between:a,normalize:l}=Qq(s),c=e.length;let{start:u,end:d,loop:h}=t,f,m;if(h){for(u+=c,d+=c,f=0,m=c;f<m&&a(l(e[u%c][s]),r,i);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:t.style}}function Nwe(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,a=e.length,{compare:l,between:c,normalize:u}=Qq(s),{start:d,end:h,loop:f,style:m}=_we(t,e,n),p=[];let x=!1,v=null,y,_,N;const P=()=>c(r,N,y)&&l(r,N)!==0,I=()=>l(i,y)===0||c(i,N,y),D=()=>x||P(),C=()=>!x||I();for(let w=d,A=d;w<=h;++w)_=e[w%a],!_.skip&&(y=u(_[s]),y!==N&&(x=c(y,r,i),v===null&&D()&&(v=l(y,r)===0?w:A),v!==null&&C()&&(p.push(Q7({start:v,end:w,loop:f,count:a,style:m})),v=null),A=w,N=y));return v!==null&&p.push(Q7({start:v,end:h,loop:f,count:a,style:m})),p}function Swe(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=Nwe(s[r],t.points,e);i.length&&n.push(...i)}return n}function jwe(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function Ewe(t,e,n,s){const r=t.length,i=[];let a=e,l=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%r];u.skip||u.stop?l.skip||(s=!1,i.push({start:e%r,end:(c-1)%r,loop:s}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&i.push({start:e%r,end:a%r,loop:s}),i}function Awe(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:a,end:l}=jwe(n,r,i,s);if(s===!0)return G7(t,[{start:a,end:l,loop:i}],n,e);const c=l<a?l+r:l,u=!!t._fullLoop&&a===0&&l===r-1;return G7(t,Ewe(n,a,c,u),n,e)}function G7(t,e,n,s){return!s||!s.setContext||!n?e:Twe(t,e,n,s)}function Twe(t,e,n,s){const r=t._chart.getContext(),i=W7(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,c=n.length,u=[];let d=i,h=e[0].start,f=h;function m(p,x,v,y){const _=l?-1:1;if(p!==x){for(p+=c;n[p%c].skip;)p-=_;for(;n[x%c].skip;)x+=_;p%c!==x%c&&(u.push({start:p%c,end:x%c,loop:v,style:y}),d=y,h=x%c)}}for(const p of e){h=l?h:p.start;let x=n[h%c],v;for(f=h+1;f<=p.end;f++){const y=n[f%c];v=W7(s.setContext(nm(r,{type:"segment",p0:x,p1:y,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),Cwe(v,d)&&m(h,f-1,p.loop,d),x=y,d=v}h<f-1&&m(h,f-1,p.loop,d)}return u}function W7(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Cwe(t,e){if(!e)return!1;const n=[],s=function(r,i){return vT(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Gb(t,e,n){return t.options.clip?t[n]:e[n]}function kwe(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Gb(n,e,"left"),right:Gb(n,e,"right"),top:Gb(s,e,"top"),bottom:Gb(s,e,"bottom")}:e}function Pwe(t,e){const n=e._clip;if(n.disabled)return!1;const s=kwe(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Rwe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],a=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(s-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Lq.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var lc=new Rwe;const Y7="transparent",Iwe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=F7(t||Y7),r=s.valid&&F7(e||Y7);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Lwe{constructor(e,n,s,r){const i=n[s];r=qb([e.to,r,i,e.from]);const a=qb([e.from,i,r]);this._active=!0,this._fn=e.fn||Iwe[e.type||typeof a],this._easing=Py[e.easing]||Py.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,a=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=qb([e.to,n,r,e.from]),this._from=qb([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<s),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=i;return}c=n/s%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class Gq{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ln(e))return;const n=Object.keys(Ms.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!ln(i))return;const a={};for(const l of n)a[l]=i[l];(nr(i.properties)&&i.properties||[r]).forEach(l=>{(l===r||!s.has(l))&&s.set(l,a)})})}_animateOptions(e,n){const s=n.options,r=Dwe(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&Mwe(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[u];let h=i[u];const f=s.get(u);if(h)if(f&&h.active()){h.update(f,d,l);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}i[u]=h=new Lwe(f,e,u,d),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return lc.add(this._chart,s),!0}}function Mwe(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function Dwe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function K7(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function Owe(t,e,n){if(n===!1)return!1;const s=K7(t,n),r=K7(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function Fwe(t){let e,n,s,r;return ln(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function Wq(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function X7(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let a,l,c,u;if(e===null)return;let d=!1;for(a=0,l=r.length;a<l;++a){if(c=+r[a],c===n){if(d=!0,s.all)continue;break}u=t.values[c],Ya(u)&&(i||e===0||Al(e)===Al(u))&&(e+=u)}return!d&&!s.all?0:e}function Bwe(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],l[c]={[r]:d,[i]:t[d]};return l}function C4(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Vwe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Uwe(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function zwe(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function J7(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function Z7(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=s,c=i.axis,u=a.axis,d=Vwe(i,a,s),h=e.length;let f;for(let m=0;m<h;++m){const p=e[m],{[c]:x,[u]:v}=p,y=p._stacks||(p._stacks={});f=y[u]=zwe(r,d,x),f[l]=v,f._top=J7(f,a,!0,s.type),f._bottom=J7(f,a,!1,s.type);const _=f._visualValues||(f._visualValues={});_[l]=v}}function k4(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function $we(t,e){return nm(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qwe(t,e,n){return nm(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function S0(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const P4=t=>t==="reset"||t==="none",eL=(t,e)=>e?t:Object.assign({},t),Hwe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Wq(n,!0),values:null};class bf{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=C4(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&S0(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,f,m,p)=>h==="x"?f:h==="r"?p:m,i=n.xAxisID=$t(s.xAxisID,k4(e,"x")),a=n.yAxisID=$t(s.yAxisID,k4(e,"y")),l=n.rAxisID=$t(s.rAxisID,k4(e,"r")),c=n.indexAxis,u=n.iAxisID=r(c,i,a,l),d=n.vAxisID=r(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&M7(this._data,this),e._stacked&&S0(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(ln(n)){const r=this._cachedMeta;this._data=Bwe(n,r)}else if(s!==n){if(s){M7(s,this);const r=this._cachedMeta;S0(r),r._parsed=[]}n&&Object.isExtensible(n)&&Sve(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=C4(n.vScale,n),n.stack!==s.stack&&(r=!0,S0(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(Z7(this,n._parsed),n._stacked=C4(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:a}=s,l=i.axis;let c=e===0&&n===r.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,h,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{nr(r[e])?f=this.parseArrayData(s,r,e,n):ln(r[e])?f=this.parseObjectData(s,r,e,n):f=this.parsePrimitiveData(s,r,e,n);const m=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<n;++d)s._parsed[d+e]=h=f[d],c&&(m()&&(c=!1),u=h);s._sorted=c}a&&Z7(this,f)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,u=i.getLabels(),d=i===a,h=new Array(r);let f,m,p;for(f=0,m=r;f<m;++f)p=f+s,h[f]={[l]:d||i.parse(u[p],p),[c]:a.parse(n[p],p)};return h}parseArrayData(e,n,s,r){const{xScale:i,yScale:a}=e,l=new Array(r);let c,u,d,h;for(c=0,u=r;c<u;++c)d=c+s,h=n[d],l[c]={x:i.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(e,n,s,r){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(r);let d,h,f,m;for(d=0,h=r;d<h;++d)f=d+s,m=n[f],u[d]={x:i.parse(Ff(m,l),f),y:a.parse(Ff(m,c),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,a=n[e.axis],l={keys:Wq(r,!0),values:n._stacks[e.axis]._visualValues};return X7(l,a,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let a=i===null?NaN:i;const l=r&&s._stacks[n.axis];r&&l&&(r.values=l,a=X7(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,a=r.length,l=this._getOtherScale(e),c=Hwe(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=Uwe(l);let f,m;function p(){m=r[f];const x=m[l.axis];return!Ya(m[e.axis])||d>x||h<x}for(f=0;f<a&&!(!p()&&(this.updateRangeFromParsed(u,e,m,c),i));++f);if(i){for(f=a-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(u,e,m,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,a;for(r=0,i=n.length;r<i;++r)a=n[r][e.axis],Ya(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Fwe($t(this.options.clip,Owe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||r.length-l,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,i,l,c),d=l;d<l+c;++d){const h=r[d];h.hidden||(h.active&&u?a.push(h):h.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=qwe(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=$we(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,a=e+"-"+n,l=i[a],c=this.enableOptionSharing&&Nx(s);if(l)return eL(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),m=Object.keys(Ms.elements[e]),p=()=>this.getContext(s,r,n),x=u.resolveNamedOptions(f,m,p,h);return x.$shared&&(x.$shared=c,i[a]=Object.freeze(eL(x,c))),x}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(r.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(e,s,n))}const u=new Gq(r,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||P4(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),a=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:a}}updateElement(e,n,s,r){P4(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!P4(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const r=s.length,i=n.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,a=e+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&S0(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}bt(bf,"defaults",{}),bt(bf,"datasetElementType",null),bt(bf,"dataElementType",null);function Qwe(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=Iq(s.sort((r,i)=>r-i))}return t._cache.$bar}function Gwe(t){const e=t.iScale,n=Qwe(e,t.type);let s=e._length,r,i,a,l;const c=()=>{a===32767||a===-32768||(Nx(l)&&(s=Math.min(s,Math.abs(a-l)||s)),l=a)};for(r=0,i=n.length;r<i;++r)a=e.getPixelForValue(n[r]),c();for(l=void 0,r=0,i=e.ticks.length;r<i;++r)a=e.getPixelForTick(r),c();return s}function Wwe(t,e,n,s){const r=n.barThickness;let i,a;return yn(r)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=r*s,a=1),{chunk:i/s,ratio:a,start:e.pixels[t]-i/2}}function Ywe(t,e,n,s){const r=e.pixels,i=r[t];let a=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null;const c=n.categoryPercentage;a===null&&(a=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-a);const u=i-(i-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/s,ratio:n.barPercentage,start:u}}function Kwe(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),a=Math.min(r,i),l=Math.max(r,i);let c=a,u=l;Math.abs(a)>Math.abs(l)&&(c=l,u=a),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:r,end:i,min:a,max:l}}function Yq(t,e,n,s){return nr(t)?Kwe(t,e,n,s):e[n.axis]=n.parse(t,s),e}function tL(t,e,n,s){const r=t.iScale,i=t.vScale,a=r.getLabels(),l=r===i,c=[];let u,d,h,f;for(u=n,d=n+s;u<d;++u)f=e[u],h={},h[r.axis]=l||r.parse(a[u],u),c.push(Yq(f,h,i,u));return c}function R4(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Xwe(t,e,n){return t!==0?Al(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Jwe(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function Zwe(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:u,bottom:d}=Jwe(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=u:(n._bottom||0)===s?r=d:(i[nL(d,a,l,c)]=!0,r=u)),i[nL(r,a,l,c)]=!0,t.borderSkipped=i}function nL(t,e,n,s){return s?(t=e5e(t,e,n),t=sL(t,n,e)):t=sL(t,e,n),t}function e5e(t,e,n){return t===e?n:t===n?e:t}function sL(t,e,n){return t==="start"?e:t==="end"?n:t}function t5e(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class V2 extends bf{parsePrimitiveData(e,n,s,r){return tL(e,n,s,r)}parseArrayData(e,n,s,r){return tL(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,d=a.axis==="x"?l:c,h=[];let f,m,p,x;for(f=s,m=s+r;f<m;++f)x=n[f],p={},p[i.axis]=i.parse(Ff(x,u),f),h.push(Yq(Ff(x,d),p,a,f));return h}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),a=i._custom,l=R4(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let m=n;m<n+s;m++){const p=this.getParsed(m),x=i||yn(p[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),v=this._calculateBarIndexPixels(m,d),y=(p._stacks||{})[l.axis],_={horizontal:u,base:x.base,enableBorderRadius:!y||R4(p._custom)||a===y._top||a===y._bottom,x:u?x.head:v.center,y:u?v.center:x.head,height:u?v.size:Math.abs(x.size),width:u?Math.abs(x.size):v.size};f&&(_.options=h||this.resolveDataElementOptions(m,e[m].active?"active":r));const N=_.options||e[m].options;Zwe(_,N,y,a),t5e(_,N,d.ratio),this.updateElement(e[m],m,_,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=s.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[s.axis],u=d=>{const h=d._parsed.find(m=>m[s.axis]===c),f=h&&h[d.vScale.axis];if(yn(f)||isNaN(f))return!0};for(const d of r)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[$t(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,a;for(i=0,a=n.data.length;i<a;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const l=e.barThickness;return{min:l||Gwe(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:a}}=this,l=i||0,c=this.getParsed(e),u=c._custom,d=R4(u);let h=c[n.axis],f=0,m=s?this.applyStack(n,c,s):h,p,x;m!==h&&(f=m-h,m=h),d&&(h=u.barStart,m=u.barEnd-u.barStart,h!==0&&Al(h)!==Al(u.barEnd)&&(f=0),f+=h);const v=!yn(i)&&!d?i:f;let y=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(f+m):p=y,x=p-y,Math.abs(x)<a){x=Xwe(x,n,l)*a,h===l&&(y-=x/2);const _=n.getPixelForDecimal(0),N=n.getPixelForDecimal(1),P=Math.min(_,N),I=Math.max(_,N);y=Math.max(Math.min(y,I),P),p=y+x,s&&!d&&(c._stacks[n.axis]._visualValues[r]=n.getValueForPixel(p)-n.getValueForPixel(y))}if(y===n.getPixelForValue(l)){const _=Al(x)*n.getLineWidthForValue(l)/2;y+=_,x-=_}return{size:x,base:y,head:p,center:p+x/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,a=$t(r.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,h=r.barThickness==="flex"?Ywe(e,n,r,d*u):Wwe(e,n,r,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf($t(f,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;l=h.start+h.chunk*p+h.chunk/2,c=Math.min(a,h.chunk*h.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(a,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}bt(V2,"id","bar"),bt(V2,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),bt(V2,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function n5e(t,e,n){let s=1,r=1,i=0,a=0;if(e<vs){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),h=Math.cos(c),f=Math.sin(c),m=(N,P,I)=>jx(N,l,c,!0)?1:Math.max(P,P*n,I,I*n),p=(N,P,I)=>jx(N,l,c,!0)?-1:Math.min(P,P*n,I,I*n),x=m(0,u,h),v=m(sr,d,f),y=p(En,u,h),_=p(En+sr,d,f);s=(x-y)/2,r=(v-_)/2,i=-(x+y)/2,a=-(v+_)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:a}}class H0 extends bf{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=c=>+s[c];if(ln(s[e])){const{key:c="value"}=this._parsing;i=u=>+Ff(s[u],c)}let a,l;for(a=e,l=e+n;a<l;++a)r._parsed[a]=i(a)}}_getRotation(){return _c(this.options.rotation-90)}_getCircumference(){return _c(this.options.circumference)}_getRotationExtents(){let e=vs,n=-vs;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-a)/2,0),c=Math.min(ove(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:p,offsetY:x}=n5e(h,d,c),v=(s.width-a)/f,y=(s.height-a)/m,_=Math.max(Math.min(v,y)/2,0),N=Tq(this.options.radius,_),P=Math.max(N*c,0),I=(N-P)/this._getVisibleDatasetWeightTotal();this.offsetX=p*N,this.offsetY=x*N,r.total=this.calculateTotal(),this.outerRadius=N-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/vs)}updateElements(e,n,s,r){const i=r==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=i&&u.animateScale,m=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:x,includeOptions:v}=this._getSharedOptions(n,r);let y=this._getRotation(),_;for(_=0;_<n;++_)y+=this._circumference(_,i);for(_=n;_<n+s;++_){const N=this._circumference(_,i),P=e[_],I={x:d+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+N,circumference:N,outerRadius:p,innerRadius:m};v&&(I.options=x||this.resolveDataElementOptions(_,P.active?"active":r)),y+=N,this.updateElement(P,_,I,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?vs*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=wT(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,a,l,c;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){a=s.getDatasetMeta(r),e=a.data,l=a.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)c=l.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max($t(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}bt(H0,"id","doughnut"),bt(H0,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),bt(H0,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),bt(H0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class U2 extends bf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=Ave(n,r,a);this._drawStart=l,this._drawCount=c,Tve(n)&&(l=0,c=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:u},e),this.updateElements(r,l,c,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,r),f=a.axis,m=l.axis,{spanGaps:p,segment:x}=this.options,v=Sx(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||r==="none",_=n+s,N=e.length;let P=n>0&&this.getParsed(n-1);for(let I=0;I<N;++I){const D=e[I],C=y?D:{};if(I<n||I>=_){C.skip=!0;continue}const w=this.getParsed(I),A=yn(w[m]),R=C[f]=a.getPixelForValue(w[f],I),E=C[m]=i||A?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,w,c):w[m],I);C.skip=isNaN(R)||isNaN(E)||A,C.stop=I>0&&Math.abs(w[f]-P[f])>v,x&&(C.parsed=w,C.raw=u.data[I]),h&&(C.options=d||this.resolveDataElementOptions(I,D.active?"active":r)),y||this.updateElement(D,I,C,r),P=w}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}bt(U2,"id","line"),bt(U2,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),bt(U2,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ih(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kT{constructor(e){bt(this,"options");this.options=e||{}}static override(e){Object.assign(kT.prototype,e)}init(){}formats(){return Ih()}parse(){return Ih()}format(){return Ih()}add(){return Ih()}diff(){return Ih()}startOf(){return Ih()}endOf(){return Ih()}}var s5e={_date:kT};function r5e(t,e,n,s){const{controller:r,data:i,_sorted:a}=t,l=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const u=l._reversePixels?_ve:nf;if(s){if(r._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(i,e,n-h),m=u(i,e,n+h);return{lo:f.lo,hi:m.hi}}}}else{const d=u(i,e,n);if(c){const{vScale:h}=r._cachedMeta,{_parsed:f}=t,m=f.slice(0,d.lo+1).reverse().findIndex(x=>!yn(x[h.axis]));d.lo-=Math.max(0,m);const p=f.slice(d.hi).findIndex(x=>!yn(x[h.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:i.length-1}}function h_(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:h,hi:f}=r5e(i[l],e,a,r);for(let m=h;m<=f;++m){const p=d[m];p.skip||s(p,u,m)}}}function i5e(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,a=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function I4(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||h_(t,n,e,function(l,c,u){!r&&!Ex(l,t.chartArea,0)||l.inRange(e.x,e.y,s)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function a5e(t,e,n,s){let r=[];function i(a,l,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],s),{angle:h}=Pq(a,{x:e.x,y:e.y});jx(h,u,d)&&r.push({element:a,datasetIndex:l,index:c})}return h_(t,n,e,i),r}function o5e(t,e,n,s,r,i){let a=[];const l=i5e(n);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const m=d.inRange(e.x,e.y,r);if(s&&!m)return;const p=d.getCenterPoint(r);if(!(!!i||t.isPointInArea(p))&&!m)return;const v=l(e,p);v<c?(a=[{element:d,datasetIndex:h,index:f}],c=v):v===c&&a.push({element:d,datasetIndex:h,index:f})}return h_(t,n,e,u),a}function L4(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?a5e(t,e,n,r):o5e(t,e,n,s,r,i)}function rL(t,e,n,s,r){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return h_(t,n,e,(c,u,d)=>{c[a]&&c[a](e[n],r)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,r))}),s&&!l?[]:i}var l5e={modes:{index(t,e,n,s){const r=$h(e,t),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?I4(t,r,i,s,a):L4(t,r,i,!1,s,a),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,s){const r=$h(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?I4(t,r,i,s,a):L4(t,r,i,!1,s,a);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,n,s){const r=$h(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return I4(t,r,i,s,a)},nearest(t,e,n,s){const r=$h(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return L4(t,r,i,n.intersect,s,a)},x(t,e,n,s){const r=$h(e,t);return rL(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=$h(e,t);return rL(t,r,"y",n.intersect,s)}}};const Kq=["left","top","right","bottom"];function j0(t,e){return t.filter(n=>n.pos===e)}function iL(t,e){return t.filter(n=>Kq.indexOf(n.pos)===-1&&n.box.axis===e)}function E0(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function c5e(t){const e=[];let n,s,r,i,a,l;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:a,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:l});return e}function u5e(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!Kq.includes(r))continue;const a=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function d5e(t,e){const n=u5e(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:c}=l.box,u=n[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*s:c&&e.availableWidth,l.height=r):(l.width=s,l.height=d?d*r:c&&e.availableHeight)}return n}function h5e(t){const e=c5e(t),n=E0(e.filter(u=>u.box.fullSize),!0),s=E0(j0(e,"left"),!0),r=E0(j0(e,"right")),i=E0(j0(e,"top"),!0),a=E0(j0(e,"bottom")),l=iL(e,"x"),c=iL(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(c).concat(a).concat(l),chartArea:j0(e,"chartArea"),vertical:s.concat(r).concat(c),horizontal:i.concat(a).concat(l)}}function aL(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function Xq(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function f5e(t,e,n,s){const{pos:r,box:i}=n,a=t.maxPadding;if(!ln(r)){n.size&&(t[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[r]+=n.size}i.getPadding&&Xq(a,i.getPadding());const l=Math.max(0,e.outerWidth-aL(a,t,"left","right")),c=Math.max(0,e.outerHeight-aL(a,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function m5e(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function p5e(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return s(t?["left","right"]:["top","bottom"])}function Q0(t,e,n,s){const r=[];let i,a,l,c,u,d;for(i=0,a=t.length,u=0;i<a;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,p5e(l.horizontal,e));const{same:h,other:f}=f5e(e,n,l,s);u|=h&&r.length,d=d||f,c.fullSize||r.push(l)}return u&&Q0(r,e,n,s)||d}function Wb(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function oL(t,e,n,s){const r=n.padding;let{x:i,y:a}=e;for(const l of t){const c=l.box,u=s[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const h=e.w*d,f=u.size||c.height;Nx(u.start)&&(a=u.start),c.fullSize?Wb(c,r.left,a,n.outerWidth-r.right-r.left,f):Wb(c,e.left+u.placed,a,h,f),u.start=a,u.placed+=h,a=c.bottom}else{const h=e.h*d,f=u.size||c.width;Nx(u.start)&&(i=u.start),c.fullSize?Wb(c,i,r.top,f,n.outerHeight-r.bottom-r.top):Wb(c,i,e.top+u.placed,f,h),u.start=i,u.placed+=h,i=c.right}}e.x=i,e.y=a}var $a={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=Ka(t.options.layout.padding),i=Math.max(e-r.width,0),a=Math.max(n-r.height,0),l=h5e(t.boxes),c=l.vertical,u=l.horizontal;Sn(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const d=c.reduce((x,v)=>v.box.options&&v.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},r);Xq(f,Ka(s));const m=Object.assign({maxPadding:f,w:i,h:a,x:r.left,y:r.top},r),p=d5e(c.concat(u),h);Q0(l.fullSize,m,h,p),Q0(c,m,h,p),Q0(u,m,h,p)&&Q0(c,m,h,p),m5e(m),oL(l.leftAndTop,m,h,p),m.x+=m.w,m.y+=m.h,oL(l.rightAndBottom,m,h,p),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Sn(l.chartArea,x=>{const v=x.box;Object.assign(v,t.chartArea),v.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Jq{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class g5e extends Jq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const z2="$chartjs",y5e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lL=t=>t===null||t==="";function x5e(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[z2]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",lL(r)){const i=H7(t,"width");i!==void 0&&(t.width=i)}if(lL(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=H7(t,"height");i!==void 0&&(t.height=i)}return t}const Zq=ywe?{passive:!0}:!1;function b5e(t,e,n){t&&t.addEventListener(e,n,Zq)}function v5e(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Zq)}function w5e(t,e){const n=y5e[t.type]||t.type,{x:s,y:r}=$h(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Ew(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function _5e(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Ew(l.addedNodes,s),a=a&&!Ew(l.removedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function N5e(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Ew(l.removedNodes,s),a=a&&!Ew(l.addedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Tx=new Map;let cL=0;function eH(){const t=window.devicePixelRatio;t!==cL&&(cL=t,Tx.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function S5e(t,e){Tx.size||window.addEventListener("resize",eH),Tx.set(t,e)}function j5e(t){Tx.delete(t),Tx.size||window.removeEventListener("resize",eH)}function E5e(t,e,n){const s=t.canvas,r=s&&CT(s);if(!r)return;const i=Mq((l,c)=>{const u=r.clientWidth;n(l,c),u<r.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(r),S5e(t,i),a}function M4(t,e,n){n&&n.disconnect(),e==="resize"&&j5e(t)}function A5e(t,e,n){const s=t.canvas,r=Mq(i=>{t.ctx!==null&&n(w5e(i,t))},t);return b5e(s,e,r),r}class T5e extends Jq{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(x5e(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[z2])return!1;const s=n[z2].initial;["height","width"].forEach(i=>{const a=s[i];yn(a)?n.removeAttribute(i):n.setAttribute(i,a)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[z2],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:_5e,detach:N5e,resize:E5e}[n]||A5e;r[n]=a(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:M4,detach:M4,resize:M4}[n]||v5e)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return gwe(e,n,s,r)}isAttached(e){const n=e&&CT(e);return!!(n&&n.isConnected)}}function C5e(t){return!TT()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?g5e:T5e}var n2;let Kc=(n2=class{constructor(){bt(this,"x");bt(this,"y");bt(this,"active",!1);bt(this,"options");bt(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Sx(this.x)&&Sx(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},bt(n2,"defaults",{}),bt(n2,"defaultRoutes"),n2);function k5e(t,e){const n=t.options.ticks,s=P5e(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?I5e(e):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>r)return L5e(e,u,i,a/r),u;const d=R5e(i,e,r);if(a>0){let h,f;const m=a>1?Math.round((c-l)/(a-1)):null;for(Yb(e,u,d,yn(m)?0:l-m,l),h=0,f=a-1;h<f;h++)Yb(e,u,d,i[h],i[h+1]);return Yb(e,u,d,c,yn(m)?e.length:c+m),u}return Yb(e,u,d),u}function P5e(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function R5e(t,e,n){const s=M5e(t),r=e.length/n;if(!s)return Math.max(r,1);const i=pve(s);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>r)return c}return Math.max(r,1)}function I5e(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function L5e(t,e,n,s){let r=0,i=n[0],a;for(s=Math.ceil(s),a=0;a<t.length;a++)a===i&&(e.push(t[a]),r++,i=n[r*s])}function Yb(t,e,n,s,r){const i=$t(s,0),a=Math.min($t(r,t.length),t.length);let l=0,c,u,d;for(n=Math.ceil(n),r&&(c=r-s,n=c/Math.floor(c/n)),d=i;d<0;)l++,d=Math.round(i+l*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),l++,d=Math.round(i+l*n))}function M5e(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const D5e=t=>t==="left"?"right":t==="right"?"left":t,uL=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,dL=(t,e)=>Math.min(e||t,t);function hL(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function O5e(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,a=t._endPixel,l=1e-6;let c=t.getPixelForTick(r),u;if(!(n&&(s===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(r-1))/2,c+=r<e?u:-u,c<i-l||c>a+l)))return c}function F5e(t,e){Sn(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function A0(t){return t.drawTicks?t.tickLength:0}function fL(t,e){if(!t.display)return 0;const n=ni(t.font,e),s=Ka(t.padding);return(nr(t.text)?t.text.length:1)*n.lineHeight+s.height}function B5e(t,e){return nm(t,{scale:e,type:"scale"})}function V5e(t,e,n){return nm(t,{tick:n,index:e,type:"tick"})}function U5e(t,e,n){let s=bT(t);return(n&&e!=="right"||!n&&e==="right")&&(s=D5e(s)),s}function z5e(t,e,n,s){const{top:r,left:i,bottom:a,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let h=0,f,m,p;const x=a-r,v=l-i;if(t.isHorizontal()){if(m=Gr(s,i,l),ln(n)){const y=Object.keys(n)[0],_=n[y];p=d[y].getPixelForValue(_)+x-e}else n==="center"?p=(u.bottom+u.top)/2+x-e:p=uL(t,n,e);f=l-i}else{if(ln(n)){const y=Object.keys(n)[0],_=n[y];m=d[y].getPixelForValue(_)-v+e}else n==="center"?m=(u.left+u.right)/2-v+e:m=uL(t,n,e);p=Gr(s,a,r),h=n==="left"?-sr:sr}return{titleX:m,titleY:p,maxWidth:f,rotation:h}}class Vg extends Kc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=nl(e,Number.POSITIVE_INFINITY),n=nl(n,Number.NEGATIVE_INFINITY),s=nl(s,Number.POSITIVE_INFINITY),r=nl(r,Number.NEGATIVE_INFINITY),{min:nl(e,s),max:nl(n,r),minDefined:Ya(e),maxDefined:Ya(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),a;if(r&&i)return{min:n,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),i||(s=Math.max(s,a.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:nl(n,nl(s,n)),max:nl(s,nl(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Yn(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Wve(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?hL(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=k5e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Yn(this.options.afterUpdate,[this])}beforeSetDimensions(){Yn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Yn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Yn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Yn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=Yn(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){Yn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Yn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=dL(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let a=r,l,c,u;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,m=ti(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/s:m/(s-1),h+6>l&&(l=m/(s-(e.offset?.5:1)),c=this.maxHeight-A0(e.grid)-n.padding-fL(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),a=bve(Math.min(Math.asin(ti((d.highest.height+6)/l,-1,1)),Math.asin(ti(c/u,-1,1))-Math.asin(ti(f/u,-1,1)))),a=Math.max(r,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Yn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Yn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=fL(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=A0(i)+c):(e.height=this.maxHeight,e.width=A0(i)+c),s.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),m=s.padding*2,p=_c(this.labelRotation),x=Math.cos(p),v=Math.sin(p);if(l){const y=s.mirror?0:v*h.width+x*f.height;e.height=Math.min(this.maxHeight,e.height+y+m)}else{const y=s.mirror?0:x*h.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+y+m)}this._calculatePadding(u,d,v,x)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;c?u?(f=r*e.width,m=s*n.height):(f=s*e.height,m=r*n.width):i==="start"?m=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+a)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;i==="start"?(d=0,h=e.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Yn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)yn(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=hL(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/dL(n,s));let u=0,d=0,h,f,m,p,x,v,y,_,N,P,I;for(h=0;h<n;h+=c){if(p=e[h].label,x=this._resolveTickFontOptions(h),r.font=v=x.string,y=i[v]=i[v]||{data:{},gc:[]},_=x.lineHeight,N=P=0,!yn(p)&&!nr(p))N=V7(r,y.data,y.gc,N,p),P=_;else if(nr(p))for(f=0,m=p.length;f<m;++f)I=p[f],!yn(I)&&!nr(I)&&(N=V7(r,y.data,y.gc,N,I),P+=_);a.push(N),l.push(P),u=Math.max(N,u),d=Math.max(P,d)}F5e(i,n);const D=a.indexOf(u),C=l.indexOf(d),w=A=>({width:a[A]||0,height:l[A]||0});return{first:w(0),last:w(n-1),widest:w(D),highest:w(C),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return wve(this._alignToPixels?Rh(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=V5e(this.getContext(),e,s))}return this.$context||(this.$context=B5e(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=_c(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*s>l*r?l/s:c/r:c*r<l*s?c/s:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:a,border:l}=r,c=i.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=A0(i),m=[],p=l.setContext(this.getContext()),x=p.display?p.width:0,v=x/2,y=function(O){return Rh(s,O,x)};let _,N,P,I,D,C,w,A,R,E,T,L;if(a==="top")_=y(this.bottom),C=this.bottom-f,A=_-v,E=y(e.top)+v,L=e.bottom;else if(a==="bottom")_=y(this.top),E=e.top,L=y(e.bottom)-v,C=_+v,A=this.top+f;else if(a==="left")_=y(this.right),D=this.right-f,w=_-v,R=y(e.left)+v,T=e.right;else if(a==="right")_=y(this.left),R=e.left,T=y(e.right)-v,D=_+v,w=this.left+f;else if(n==="x"){if(a==="center")_=y((e.top+e.bottom)/2+.5);else if(ln(a)){const O=Object.keys(a)[0],F=a[O];_=y(this.chart.scales[O].getPixelForValue(F))}E=e.top,L=e.bottom,C=_+v,A=C+f}else if(n==="y"){if(a==="center")_=y((e.left+e.right)/2);else if(ln(a)){const O=Object.keys(a)[0],F=a[O];_=y(this.chart.scales[O].getPixelForValue(F))}D=_-v,w=D-f,R=e.left,T=e.right}const z=$t(r.ticks.maxTicksLimit,h),$=Math.max(1,Math.ceil(h/z));for(N=0;N<h;N+=$){const O=this.getContext(N),F=i.setContext(O),Q=l.setContext(O),V=F.lineWidth,W=F.color,Z=Q.dash||[],U=Q.dashOffset,G=F.tickWidth,Y=F.tickColor,J=F.tickBorderDash||[],re=F.tickBorderDashOffset;P=O5e(this,N,c),P!==void 0&&(I=Rh(s,P,V),u?D=w=R=T=I:C=A=E=L=I,m.push({tx1:D,ty1:C,tx2:w,ty2:A,x1:R,y1:E,x2:T,y2:L,width:V,color:W,borderDash:Z,borderDashOffset:U,tickWidth:G,tickColor:Y,tickBorderDash:J,tickBorderDashOffset:re}))}return this._ticksLength=h,this._borderValue=_,m}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=i,f=A0(s.grid),m=f+d,p=h?-d:m,x=-_c(this.labelRotation),v=[];let y,_,N,P,I,D,C,w,A,R,E,T,L="middle";if(r==="top")D=this.bottom-p,C=this._getXAxisLabelAlignment();else if(r==="bottom")D=this.top+p,C=this._getXAxisLabelAlignment();else if(r==="left"){const $=this._getYAxisLabelAlignment(f);C=$.textAlign,I=$.x}else if(r==="right"){const $=this._getYAxisLabelAlignment(f);C=$.textAlign,I=$.x}else if(n==="x"){if(r==="center")D=(e.top+e.bottom)/2+m;else if(ln(r)){const $=Object.keys(r)[0],O=r[$];D=this.chart.scales[$].getPixelForValue(O)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")I=(e.left+e.right)/2-m;else if(ln(r)){const $=Object.keys(r)[0],O=r[$];I=this.chart.scales[$].getPixelForValue(O)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?L="top":c==="end"&&(L="bottom"));const z=this._getLabelSizes();for(y=0,_=l.length;y<_;++y){N=l[y],P=N.label;const $=i.setContext(this.getContext(y));w=this.getPixelForTick(y)+i.labelOffset,A=this._resolveTickFontOptions(y),R=A.lineHeight,E=nr(P)?P.length:1;const O=E/2,F=$.color,Q=$.textStrokeColor,V=$.textStrokeWidth;let W=C;a?(I=w,C==="inner"&&(y===_-1?W=this.options.reverse?"left":"right":y===0?W=this.options.reverse?"right":"left":W="center"),r==="top"?u==="near"||x!==0?T=-E*R+R/2:u==="center"?T=-z.highest.height/2-O*R+R:T=-z.highest.height+R/2:u==="near"||x!==0?T=R/2:u==="center"?T=z.highest.height/2-O*R:T=z.highest.height-E*R,h&&(T*=-1),x!==0&&!$.showLabelBackdrop&&(I+=R/2*Math.sin(x))):(D=w,T=(1-E)*R/2);let Z;if($.showLabelBackdrop){const U=Ka($.backdropPadding),G=z.heights[y],Y=z.widths[y];let J=T-U.top,re=0-U.left;switch(L){case"middle":J-=G/2;break;case"bottom":J-=G;break}switch(C){case"center":re-=Y/2;break;case"right":re-=Y;break;case"inner":y===_-1?re-=Y:y>0&&(re-=Y/2);break}Z={left:re,top:J,width:Y+U.width,height:G+U.height,color:$.backdropColor}}v.push({label:P,font:A,textOffset:T,options:{rotation:x,color:F,strokeColor:Q,strokeWidth:V,textAlign:W,textBaseline:L,translation:[I,D],backdrop:Z}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-_c(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let u,d;return n==="left"?r?(d=this.right+i,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?r?(d=this.left+i,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(i=0,a=r.length;i<a;++i){const c=r[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),a=s.display?i.width:0;if(!a)return;const l=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=Rh(e,this.left,a)-a/2,d=Rh(e,this.right,l)+l/2,h=f=c):(h=Rh(e,this.top,a)-a/2,f=Rh(e,this.bottom,l)+l/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&_T(s,r);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,u=a.label,d=a.textOffset;Ax(s,u,0,d,c,l)}r&&NT(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=ni(s.font),a=Ka(s.padding),l=s.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||ln(n)?(c+=a.bottom,nr(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=z5e(this,c,n,l);Ax(e,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:f,textAlign:U5e(l,n,r),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=$t(e.grid&&e.grid.z,-1),r=$t(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Vg.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[s]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ni(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Kb{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;H5e(n)&&(s=this.register(n));const r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,$5e(e,a,s),this.override&&Ms.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in Ms[r]&&(delete Ms[r][s],this.override&&delete Bf[s])}}function $5e(t,e,n){const s=_x(Object.create(null),[n?Ms.get(n):{},Ms.get(e),t.defaults]);Ms.set(e,s),t.defaultRoutes&&q5e(e,t.defaultRoutes),t.descriptors&&Ms.describe(e,t.descriptors)}function q5e(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),a=e[n].split("."),l=a.pop(),c=a.join(".");Ms.route(i,r,c,l)})}function H5e(t){return"id"in t&&"defaults"in t}class Q5e{constructor(){this.controllers=new Kb(bf,"datasets",!0),this.elements=new Kb(Kc,"elements"),this.plugins=new Kb(Object,"plugins"),this.scales=new Kb(Vg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):Sn(r,a=>{const l=s||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,s){const r=yT(e);Yn(s["before"+r],[],s),n[e](s),Yn(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var al=new Q5e;class G5e{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,s,r){r=r||{};for(const i of e){const a=i.plugin,l=a[s],c=[n,r,i.options];if(Yn(l,c,a)===!1&&r.cancelable)return!1}return!0}invalidate(){yn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=$t(s.options&&s.options.plugins,{}),i=W5e(s);return r===!1&&!n?[]:K5e(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function W5e(t){const e={},n=[],s=Object.keys(al.plugins.items);for(let i=0;i<s.length;i++)n.push(al.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const a=r[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function Y5e(t,e){return!e&&t===!1?null:t===!0?{}:t}function K5e(t,{plugins:e,localIds:n},s,r){const i=[],a=t.getContext();for(const l of e){const c=l.id,u=Y5e(s[c],r);u!==null&&i.push({plugin:l,options:X5e(t.config,{plugin:l,local:n[c]},u,a)})}return i}function X5e(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(s,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Nj(t,e){const n=Ms.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function J5e(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Z5e(t,e){return t===e?"_index_":"_value_"}function mL(t){if(t==="x"||t==="y"||t==="r")return t}function e_e(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Sj(t,...e){if(mL(t))return t;for(const n of e){const s=n.axis||e_e(n.position)||t.length>1&&mL(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function pL(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function t_e(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return pL(t,"x",n[0])||pL(t,"y",n[0])}return{}}function n_e(t,e){const n=Bf[t.type]||{scales:{}},s=e.scales||{},r=Nj(t.type,e),i=Object.create(null);return Object.keys(s).forEach(a=>{const l=s[a];if(!ln(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Sj(a,l,t_e(a,t),Ms.scales[l.type]),u=Z5e(c,r),d=n.scales||{};i[a]=Cy(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||Nj(l,e),d=(Bf[l]||{}).scales||{};Object.keys(d).forEach(h=>{const f=J5e(h,c),m=a[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),Cy(i[m],[{axis:f},s[m],d[h]])})}),Object.keys(i).forEach(a=>{const l=i[a];Cy(l,[Ms.scales[l.type],Ms.scale])}),i}function tH(t){const e=t.options||(t.options={});e.plugins=$t(e.plugins,{}),e.scales=n_e(t,e)}function nH(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function s_e(t){return t=t||{},t.data=nH(t.data),tH(t),t}const gL=new Map,sH=new Set;function Xb(t,e){let n=gL.get(t);return n||(n=e(),gL.set(t,n),sH.add(n)),n}const T0=(t,e,n)=>{const s=Ff(e,n);s!==void 0&&t.add(s)};class r_e{constructor(e){this._config=s_e(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=nH(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tH(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xb(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Xb(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Xb(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Xb(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,a=this._cachedScopes(e,s),l=a.get(n);if(l)return l;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(h=>T0(c,e,h))),d.forEach(h=>T0(c,r,h)),d.forEach(h=>T0(c,Bf[i]||{},h)),d.forEach(h=>T0(c,Ms,h)),d.forEach(h=>T0(c,wj,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),sH.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Bf[n]||{},Ms.datasets[n]||{},{type:n},Ms,wj]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=yL(this._resolverCache,e,r);let c=a;if(a_e(a,n)){i.$shared=!1,s=Kd(s)?s():s;const u=this.createResolver(e,s,l);c=mg(a,s,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,s=[""],r){const{resolver:i}=yL(this._resolverCache,e,s);return ln(n)?mg(i,n,void 0,r):i}}function yL(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:jT(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},s.set(r,i)),i}const i_e=t=>ln(t)&&Object.getOwnPropertyNames(t).some(e=>Kd(t[e]));function a_e(t,e){const{isScriptable:n,isIndexable:s}=Bq(t);for(const r of e){const i=n(r),a=s(r),l=(a||i)&&t[r];if(i&&(Kd(l)||i_e(l))||a&&nr(l))return!0}return!1}var o_e="4.5.0";const l_e=["top","bottom","left","right","chartArea"];function xL(t,e){return t==="top"||t==="bottom"||l_e.indexOf(t)===-1&&e==="x"}function bL(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function vL(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Yn(n&&n.onComplete,[t],e)}function c_e(t){const e=t.chart,n=e.options.animation;Yn(n&&n.onProgress,[t],e)}function rH(t){return TT()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const $2={},wL=t=>{const e=rH(t);return Object.values($2).filter(n=>n.canvas===e).pop()};function u_e(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const a=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=a)}}}function d_e(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Ru;let f_=(Ru=class{static register(...e){al.add(...e),_L()}static unregister(...e){al.remove(...e),_L()}constructor(e,n){const s=this.config=new r_e(n),r=rH(e),i=wL(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||C5e(r)),this.platform.updateConfig(s);const l=this.platform.acquireContext(r,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=ave(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new G5e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jve(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],$2[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}lc.listen(this,"complete",vL),lc.listen(this,"progress",c_e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return yn(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return al}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():q7(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return U7(this.canvas,this.ctx),this}stop(){return lc.stop(this),this}resize(e,n){lc.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,i),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,q7(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Yn(s.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Sn(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=Sj(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Sn(i,a=>{const l=a.options,c=l.id,u=Sj(c,l),d=$t(l.type,a.dtype);(l.position===void 0||xL(l.position,u)!==xL(a.dposition))&&(l.position=a.dposition),r[c]=!0;let h=null;if(c in s&&s[c].type===d)h=s[c];else{const f=al.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(l,e)}),Sn(r,(a,l)=>{a||delete s[l]}),Sn(s,a=>{$a.configure(this,a,a.options),$a.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(bL("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let a=this.getDatasetMeta(s);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=l,a.indexAxis=i.indexAxis||Nj(l,this.options),a.order=i.order||0,a.index=s,a.label=""+i.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const c=al.getController(l),{datasetElementType:u,dataElementType:d}=Ms.datasets[l];Object.assign(c,{dataElementType:al.getElement(d),datasetElementType:u&&al.getElement(u)}),a.controller=new c(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Sn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),r||Sn(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(bL("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Sn(this.scales,e=>{$a.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!P7(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const a=s==="_removeElements"?-i:i;u_e(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!P7(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$a.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Sn(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Kd(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(lc.has(this)?this.attached&&!lc.running(this)&&lc.start(this):(this.draw(),vL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const a=n[r];(!e||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=Pwe(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&_T(n,r),e.controller.draw(),r&&NT(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Ex(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=l5e.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=nm(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);Nx(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(i,{visible:s}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),lc.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),U7(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete $2[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},r=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};Sn(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},r=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),s("resize",i),s("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Sn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Sn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!ww(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=i(n,e),l=s?e:i(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,a=n,l=this._getActiveElements(e,r,s,a),c=hve(e),u=d_e(e,this._lastEvent,s,c);s&&(this._lastEvent=null,Yn(i.onHover,[e,l,this],this),c&&Yn(i.onClick,[e,l,this],this));const d=!ww(l,r);return(d||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},bt(Ru,"defaults",Ms),bt(Ru,"instances",$2),bt(Ru,"overrides",Bf),bt(Ru,"registry",al),bt(Ru,"version",o_e),bt(Ru,"getChart",wL),Ru);function _L(){return Sn(f_.instances,t=>t._plugins.invalidate())}function h_e(t,e,n){const{startAngle:s,x:r,y:i,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/a,vo(s-n));if(t.beginPath(),t.arc(r,i,a-u/2,s+h/2,n-h/2),l>0){const f=Math.min(u/l,vo(s-n));t.arc(r,i,l+u/2,n-f/2,s+f/2,!0)}else{const f=Math.min(u/2,a*vo(s-n));if(d==="round")t.arc(r,i,f,n-En/2,s+En/2,!0);else if(d==="bevel"){const m=2*f*f,p=-m*Math.cos(n+En/2)+r,x=-m*Math.sin(n+En/2)+i,v=m*Math.cos(s+En/2)+r,y=m*Math.sin(s+En/2)+i;t.lineTo(p,x),t.lineTo(v,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function f_e(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:a,outerRadius:l,innerRadius:c}=e;let u=r/l;t.beginPath(),t.arc(i,a,l,s-u,n+u),c>r?(u=r/c,t.arc(i,a,c,n+u,s-u,!0)):t.arc(i,a,r,n+sr,s-sr),t.closePath(),t.clip()}function m_e(t){return ST(t,["outerStart","outerEnd","innerStart","innerEnd"])}function p_e(t,e,n,s){const r=m_e(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,s*e/2),l=c=>{const u=(n-Math.min(i,c))*s/2;return ti(c,0,Math.min(i,u))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:ti(r.innerStart,0,a),innerEnd:ti(r.innerEnd,0,a)}}function Dm(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Aw(t,e,n,s,r,i){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+s+n-u,0),f=d>0?d+s+n+u:0;let m=0;const p=r-c;if(s){const $=d>0?d-s:0,O=h>0?h-s:0,F=($+O)/2,Q=F!==0?p*F/(F+s):p;m=(p-Q)/2}const x=Math.max(.001,p*h-n/En)/h,v=(p-x)/2,y=c+v+m,_=r-v-m,{outerStart:N,outerEnd:P,innerStart:I,innerEnd:D}=p_e(e,f,h,_-y),C=h-N,w=h-P,A=y+N/C,R=_-P/w,E=f+I,T=f+D,L=y+I/E,z=_-D/T;if(t.beginPath(),i){const $=(A+R)/2;if(t.arc(a,l,h,A,$),t.arc(a,l,h,$,R),P>0){const V=Dm(w,R,a,l);t.arc(V.x,V.y,P,R,_+sr)}const O=Dm(T,_,a,l);if(t.lineTo(O.x,O.y),D>0){const V=Dm(T,z,a,l);t.arc(V.x,V.y,D,_+sr,z+Math.PI)}const F=(_-D/f+(y+I/f))/2;if(t.arc(a,l,f,_-D/f,F,!0),t.arc(a,l,f,F,y+I/f,!0),I>0){const V=Dm(E,L,a,l);t.arc(V.x,V.y,I,L+Math.PI,y-sr)}const Q=Dm(C,y,a,l);if(t.lineTo(Q.x,Q.y),N>0){const V=Dm(C,A,a,l);t.arc(V.x,V.y,N,y-sr,A)}}else{t.moveTo(a,l);const $=Math.cos(A)*h+a,O=Math.sin(A)*h+l;t.lineTo($,O);const F=Math.cos(R)*h+a,Q=Math.sin(R)*h+l;t.lineTo(F,Q)}t.closePath()}function g_e(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:l}=e;let c=e.endAngle;if(i){Aw(t,e,n,s,c,r);for(let u=0;u<i;++u)t.fill();isNaN(l)||(c=a+(l%vs||vs))}return Aw(t,e,n,s,c,r),t.fill(),c}function y_e(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:m}=c,p=c.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=f,p?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let x=e.endAngle;if(i){Aw(t,e,n,s,x,r);for(let v=0;v<i;++v)t.stroke();isNaN(l)||(x=a+(l%vs||vs))}p&&f_e(t,e,x),c.selfJoin&&x-a>=En&&m===0&&d!=="miter"&&h_e(t,e,x),i||(Aw(t,e,n,s,x,r),t.stroke())}class G0 extends Kc{constructor(n){super();bt(this,"circumference");bt(this,"endAngle");bt(this,"fullCircles");bt(this,"innerRadius");bt(this,"outerRadius");bt(this,"pixelMargin");bt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:a,distance:l}=Pq(i,{x:n,y:s}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),m=(this.options.spacing+this.options.borderWidth)/2,p=$t(f,u-c),x=jx(a,c,u)&&c!==u,v=p>=vs||x,y=id(l,d+m,h+m);return v&&y}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(i+a)/2,f=(l+c+d+u)/2;return{x:s+Math.cos(h)*f,y:r+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,a=(s.spacing||0)/2,l=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>vs?Math.floor(r/vs):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(En,r||0)),d=i*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,g_e(n,this,d,a,l),y_e(n,this,d,a,l),n.restore()}}bt(G0,"id","arc"),bt(G0,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),bt(G0,"defaultRoutes",{backgroundColor:"backgroundColor"}),bt(G0,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function iH(t,e,n=e){t.lineCap=$t(n.borderCapStyle,e.borderCapStyle),t.setLineDash($t(n.borderDash,e.borderDash)),t.lineDashOffset=$t(n.borderDashOffset,e.borderDashOffset),t.lineJoin=$t(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=$t(n.borderWidth,e.borderWidth),t.strokeStyle=$t(n.borderColor,e.borderColor)}function x_e(t,e,n){t.lineTo(n.x,n.y)}function b_e(t){return t.stepped?Bve:t.tension||t.cubicInterpolationMode==="monotone"?Vve:x_e}function aH(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:a,end:l}=e,c=Math.max(r,a),u=Math.min(i,l),d=r<a&&i<a||r>l&&i>l;return{count:s,start:c,loop:e.loop,ilen:u<c&&!d?s+u-c:u-c}}function v_e(t,e,n,s){const{points:r,options:i}=e,{count:a,start:l,loop:c,ilen:u}=aH(r,n,s),d=b_e(i);let{move:h=!0,reverse:f}=s||{},m,p,x;for(m=0;m<=u;++m)p=r[(l+(f?u-m:m))%a],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):d(t,x,p,f,i.stepped),x=p);return c&&(p=r[(l+(f?u:0))%a],d(t,x,p,f,i.stepped)),!!c}function w_e(t,e,n,s){const r=e.points,{count:i,start:a,ilen:l}=aH(r,n,s),{move:c=!0,reverse:u}=s||{};let d=0,h=0,f,m,p,x,v,y;const _=P=>(a+(u?l-P:P))%i,N=()=>{x!==v&&(t.lineTo(d,v),t.lineTo(d,x),t.lineTo(d,y))};for(c&&(m=r[_(0)],t.moveTo(m.x,m.y)),f=0;f<=l;++f){if(m=r[_(f)],m.skip)continue;const P=m.x,I=m.y,D=P|0;D===p?(I<x?x=I:I>v&&(v=I),d=(h*d+P)/++h):(N(),t.lineTo(P,I),p=D,h=0,x=v=I),y=I}N()}function jj(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?w_e:v_e}function __e(t){return t.stepped?xwe:t.tension||t.cubicInterpolationMode==="monotone"?bwe:qh}function N_e(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),iH(t,e.options),t.stroke(r)}function S_e(t,e,n,s){const{segments:r,options:i}=e,a=jj(e);for(const l of r)iH(t,i,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const j_e=typeof Path2D=="function";function E_e(t,e,n,s){j_e&&!e.options.segment?N_e(t,e,n,s):S_e(t,e,n,s)}class W0 extends Kc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;uwe(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Awe(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,a=Swe(this,{property:n,start:r,end:r});if(!a.length)return;const l=[],c=__e(s);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:f}=a[u],m=i[h],p=i[f];if(m===p){l.push(m);continue}const x=Math.abs((r-m[n])/(p[n]-m[n])),v=c(m,p,x,s.stepped);v[n]=e[n],l.push(v)}return l.length===1?l[0]:l}pathSegment(e,n,s){return jj(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=jj(this);let a=this._loop;n=n||0,s=s||this.points.length-n;for(const l of r)a&=i(e,this,l,{start:n,end:n+s-1});return!!a}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),E_e(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}bt(W0,"id","line"),bt(W0,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),bt(W0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),bt(W0,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function NL(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class q2 extends Kc{constructor(n){super();bt(this,"parsed");bt(this,"skip");bt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(s-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return NL(this,n,"x",s)}inYRange(n,s){return NL(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!Ex(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,_j(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}bt(q2,"id","point"),bt(q2,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),bt(q2,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function oH(t,e){const{x:n,y:s,base:r,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,h;return t.horizontal?(h=a/2,l=Math.min(n,r),c=Math.max(n,r),u=s-h,d=s+h):(h=i/2,l=n-h,c=n+h,u=Math.min(s,r),d=Math.max(s,r)),{left:l,top:u,right:c,bottom:d}}function ad(t,e,n,s){return t?0:ti(e,n,s)}function A_e(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=Fq(s);return{t:ad(r.top,i.top,0,n),r:ad(r.right,i.right,0,e),b:ad(r.bottom,i.bottom,0,n),l:ad(r.left,i.left,0,e)}}function T_e(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=Mp(r),a=Math.min(e,n),l=t.borderSkipped,c=s||ln(r);return{topLeft:ad(!c||l.top||l.left,i.topLeft,0,a),topRight:ad(!c||l.top||l.right,i.topRight,0,a),bottomLeft:ad(!c||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:ad(!c||l.bottom||l.right,i.bottomRight,0,a)}}function C_e(t){const e=oH(t),n=e.right-e.left,s=e.bottom-e.top,r=A_e(t,n/2,s/2),i=T_e(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function D4(t,e,n,s){const r=e===null,i=n===null,l=t&&!(r&&i)&&oH(t,s);return l&&(r||id(e,l.left,l.right))&&(i||id(n,l.top,l.bottom))}function k_e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function P_e(t,e){t.rect(e.x,e.y,e.w,e.h)}function O4(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,a=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+a,radius:t.radius}}class H2 extends Kc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:a}=C_e(this),l=k_e(a.radius)?Sw:P_e;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),l(e,O4(a,n,i)),e.clip(),l(e,O4(i,-n,a)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),l(e,O4(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return D4(this,e,n,s)}inXRange(e,n){return D4(this,e,null,n)}inYRange(e,n){return D4(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}bt(H2,"id","bar"),bt(H2,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),bt(H2,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const SL=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},R_e=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class jL extends Kc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Yn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=ni(s.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=SL(s,i);let u,d;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(a,r,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=r+l;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-d;return this.legendItems.forEach((p,x)=>{const v=s+n/2+i.measureText(p.text).width;(x===0||u[u.length-1]+v+2*l>a)&&(h+=d,u[u.length-(x>0?0:1)]=0,m+=d,f++),c[x]={left:0,top:m,row:f,width:v,height:r},u[u.length-1]+=v+l}),h}_fitCols(e,n,s,r){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let h=l,f=0,m=0,p=0,x=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:_,itemHeight:N}=I_e(s,n,i,v,r);y>0&&m+N+2*l>d&&(h+=f+l,u.push({width:f,height:m}),p+=f+l,x++,f=m=0),c[y]={left:p,top:m,col:x,width:_,height:N},f=Math.max(f,_),m+=N+l}),h+=f,u.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,a=Dp(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Gr(s,this.left+r,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=Gr(s,this.left+r,this.right-this.lineWidths[l])),u.top+=this.top+e+r,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+r}else{let l=0,c=Gr(s,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=Gr(s,this.top+e+r,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+r,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;_T(e,this),this._draw(),NT(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:a}=e,l=Ms.color,c=Dp(e.rtl,this.left,this.width),u=ni(a.font),{padding:d}=a,h=u.size,f=h/2;let m;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:p,boxHeight:x,itemHeight:v}=SL(a,h),y=function(D,C,w){if(isNaN(p)||p<=0||isNaN(x)||x<0)return;r.save();const A=$t(w.lineWidth,1);if(r.fillStyle=$t(w.fillStyle,l),r.lineCap=$t(w.lineCap,"butt"),r.lineDashOffset=$t(w.lineDashOffset,0),r.lineJoin=$t(w.lineJoin,"miter"),r.lineWidth=A,r.strokeStyle=$t(w.strokeStyle,l),r.setLineDash($t(w.lineDash,[])),a.usePointStyle){const R={radius:x*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:A},E=c.xPlus(D,p/2),T=C+f;Oq(r,R,E,T,a.pointStyleWidth&&p)}else{const R=C+Math.max((h-x)/2,0),E=c.leftForLtr(D,p),T=Mp(w.borderRadius);r.beginPath(),Object.values(T).some(L=>L!==0)?Sw(r,{x:E,y:R,w:p,h:x,radius:T}):r.rect(E,R,p,x),r.fill(),A!==0&&r.stroke()}r.restore()},_=function(D,C,w){Ax(r,w.text,D,C+v/2,u,{strikethrough:w.hidden,textAlign:c.textAlign(w.textAlign)})},N=this.isHorizontal(),P=this._computeTitleHeight();N?m={x:Gr(i,this.left+d,this.right-s[0]),y:this.top+d+P,line:0}:m={x:this.left+d,y:Gr(i,this.top+P+d,this.bottom-n[0].height),line:0},qq(this.ctx,e.textDirection);const I=v+d;this.legendItems.forEach((D,C)=>{r.strokeStyle=D.fontColor,r.fillStyle=D.fontColor;const w=r.measureText(D.text).width,A=c.textAlign(D.textAlign||(D.textAlign=a.textAlign)),R=p+f+w;let E=m.x,T=m.y;c.setWidth(this.width),N?C>0&&E+R+d>this.right&&(T=m.y+=I,m.line++,E=m.x=Gr(i,this.left+d,this.right-s[m.line])):C>0&&T+I>this.bottom&&(E=m.x=E+n[m.line].width+d,m.line++,T=m.y=Gr(i,this.top+P+d,this.bottom-n[m.line].height));const L=c.x(E);if(y(L,T,D),E=Eve(A,E+p+f,N?E+R:this.right,e.rtl),_(c.x(E),T,D),N)m.x+=R+d;else if(typeof D.text!="string"){const z=u.lineHeight;m.y+=lH(D,z)+d}else m.y+=I}),Hq(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=ni(n.font),r=Ka(n.padding);if(!n.display)return;const i=Dp(e.rtl,this.left,this.width),a=this.ctx,l=n.position,c=s.size/2,u=r.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=Gr(e.align,h,this.right-f);else{const p=this.columnSizes.reduce((x,v)=>Math.max(x,v.height),0);d=u+Gr(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const m=Gr(l,h,h+f);a.textAlign=i.textAlign(bT(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=s.string,Ax(a,n.text,m,d,s)}_computeTitleHeight(){const e=this.options.title,n=ni(e.font),s=Ka(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(id(e,this.left,this.right)&&id(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],id(e,r.left,r.left+r.width)&&id(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!D_e(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=R_e(r,s);r&&!i&&Yn(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&Yn(n.onHover,[e,s,this],this)}else s&&Yn(n.onClick,[e,s,this],this)}}function I_e(t,e,n,s,r){const i=L_e(s,t,e,n),a=M_e(r,s,e.lineHeight);return{itemWidth:i,itemHeight:a}}function L_e(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+s.measureText(r).width}function M_e(t,e,n){let s=t;return typeof e.text!="string"&&(s=lH(e,n)),s}function lH(t,e){const n=t.text?t.text.length:0;return e*n}function D_e(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var O_e={id:"legend",_element:jL,start(t,e,n){const s=t.legend=new jL({ctx:t.ctx,options:n,chart:t});$a.configure(t,s,n),$a.addBox(t,s)},stop(t){$a.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;$a.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=Ka(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class cH extends Kc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=nr(s.text)?s.text.length:1;this._padding=Ka(s.padding);const i=r*ni(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:a}=this,l=a.align;let c=0,u,d,h;return this.isHorizontal()?(d=Gr(l,s,i),h=n+e,u=i-s):(a.position==="left"?(d=s+e,h=Gr(l,r,n),c=En*-.5):(d=i-e,h=Gr(l,n,r),c=En*.5),u=r-n),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=ni(n.font),i=s.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);Ax(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:bT(n.align),textBaseline:"middle",translation:[a,l]})}}function F_e(t,e){const n=new cH({ctx:t.ctx,options:e,chart:t});$a.configure(t,n,e),$a.addBox(t,n),t.titleBlock=n}var B_e={id:"title",_element:cH,start(t,e,n){F_e(t,n)},stop(t){const e=t.titleBlock;$a.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;$a.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Y0={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),r+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=vj(e,u);d<r&&(r=d,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function il(t,e){return e&&(nr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function cc(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function V_e(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:a,value:l}=i.getLabelAndValue(r);return{chart:t,label:a,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:l,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function EL(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:a,boxHeight:l}=e,c=ni(e.bodyFont),u=ni(e.titleFont),d=ni(e.footerFont),h=i.length,f=r.length,m=s.length,p=Ka(e.padding);let x=p.height,v=0,y=s.reduce((P,I)=>P+I.before.length+I.lines.length+I.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(x+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const P=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=m*P+(y-m)*c.lineHeight+(y-1)*e.bodySpacing}f&&(x+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let _=0;const N=function(P){v=Math.max(v,n.measureText(P).width+_)};return n.save(),n.font=u.string,Sn(t.title,N),n.font=c.string,Sn(t.beforeBody.concat(t.afterBody),N),_=e.displayColors?a+2+e.boxPadding:0,Sn(s,P=>{Sn(P.before,N),Sn(P.lines,N),Sn(P.after,N)}),_=0,n.font=d.string,Sn(t.footer,N),n.restore(),v+=p.width,{width:v,height:x}}function U_e(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function z_e(t,e,n,s){const{x:r,width:i}=s,a=n.caretSize+n.caretPadding;if(t==="left"&&r+i+a>e.width||t==="right"&&r-i-a<0)return!0}function $_e(t,e,n,s){const{x:r,width:i}=n,{width:a,chartArea:{left:l,right:c}}=t;let u="center";return s==="center"?u=r<=(l+c)/2?"left":"right":r<=i/2?u="left":r>=a-i/2&&(u="right"),z_e(u,t,e,n)&&(u="center"),u}function AL(t,e,n){const s=n.yAlign||e.yAlign||U_e(t,n);return{xAlign:n.xAlign||e.xAlign||$_e(t,e,n,s),yAlign:s}}function q_e(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function H_e(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function TL(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:c}=n,u=r+i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=Mp(a);let p=q_e(e,l);const x=H_e(e,c,u);return c==="center"?l==="left"?p+=u:l==="right"&&(p-=u):l==="left"?p-=Math.max(d,f)+r:l==="right"&&(p+=Math.max(h,m)+r),{x:ti(p,0,s.width-e.width),y:ti(x,0,s.height-e.height)}}function Jb(t,e,n){const s=Ka(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function CL(t){return il([],cc(t))}function Q_e(t,e,n){return nm(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function kL(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const uH={beforeTitle:oc,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:oc,beforeBody:oc,beforeLabel:oc,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return yn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:oc,afterBody:oc,beforeFooter:oc,footer:oc,afterFooter:oc};function Pi(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?uH[e].call(n,s):r}class Ej extends Kc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new Gq(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Q_e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=Pi(s,"beforeTitle",this,e),i=Pi(s,"title",this,e),a=Pi(s,"afterTitle",this,e);let l=[];return l=il(l,cc(r)),l=il(l,cc(i)),l=il(l,cc(a)),l}getBeforeBody(e,n){return CL(Pi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return Sn(e,i=>{const a={before:[],lines:[],after:[]},l=kL(s,i);il(a.before,cc(Pi(l,"beforeLabel",this,i))),il(a.lines,Pi(l,"label",this,i)),il(a.after,cc(Pi(l,"afterLabel",this,i))),r.push(a)}),r}getAfterBody(e,n){return CL(Pi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=Pi(s,"beforeFooter",this,e),i=Pi(s,"footer",this,e),a=Pi(s,"afterFooter",this,e);let l=[];return l=il(l,cc(r)),l=il(l,cc(i)),l=il(l,cc(a)),l}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],a=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(V_e(this.chart,n[c]));return e.filter&&(l=l.filter((d,h,f)=>e.filter(d,h,f,s))),e.itemSort&&(l=l.sort((d,h)=>e.itemSort(d,h,s))),Sn(l,d=>{const h=kL(e.callbacks,d);r.push(Pi(h,"labelColor",this,d)),i.push(Pi(h,"labelPointStyle",this,d)),a.push(Pi(h,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const l=Y0[s.position].call(this,r,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const c=this._size=EL(this,s),u=Object.assign({},l,c),d=AL(this.chart,s,u),h=TL(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:l}=s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=Mp(l),{x:f,y:m}=e,{width:p,height:x}=n;let v,y,_,N,P,I;return i==="center"?(P=m+x/2,r==="left"?(v=f,y=v-a,N=P+a,I=P-a):(v=f+p,y=v+a,N=P-a,I=P+a),_=v):(r==="left"?y=f+Math.max(c,d)+a:r==="right"?y=f+p-Math.max(u,h)-a:y=this.caretX,i==="top"?(N=m,P=N-a,v=y-a,_=y+a):(N=m+x,P=N+a,v=y+a,_=y-a),I=N),{x1:v,x2:y,x3:_,y1:N,y2:P,y3:I}}drawTitle(e,n,s){const r=this.title,i=r.length;let a,l,c;if(i){const u=Dp(s.rtl,this.x,this.width);for(e.x=Jb(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",a=ni(s.titleFont),l=s.titleSpacing,n.fillStyle=s.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(r[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,n,s,r,i){const a=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=i,d=ni(i.bodyFont),h=Jb(this,"left",i),f=r.x(h),m=c<d.lineHeight?(d.lineHeight-c)/2:0,p=n.y+m;if(i.usePointStyle){const x={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=r.leftForLtr(f,u)+u/2,y=p+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,_j(e,x,v,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,_j(e,x,v,y)}else{e.lineWidth=ln(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=r.leftForLtr(f,u),v=r.leftForLtr(r.xPlus(f,1),u-2),y=Mp(a.borderRadius);Object.values(y).some(_=>_!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Sw(e,{x,y:p,w:u,h:c,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Sw(e,{x:v,y:p+1,w:u-2,h:c-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(x,p,u,c),e.strokeRect(x,p,u,c),e.fillStyle=a.backgroundColor,e.fillRect(v,p+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=s,h=ni(s.bodyFont);let f=h.lineHeight,m=0;const p=Dp(s.rtl,this.x,this.width),x=function(w){n.fillText(w,p.x(e.x+m),e.y+f/2),e.y+=f+i},v=p.textAlign(a);let y,_,N,P,I,D,C;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,e.x=Jb(this,v,s),n.fillStyle=s.bodyColor,Sn(this.beforeBody,x),m=l&&v!=="right"?a==="center"?u/2+d:u+2+d:0,P=0,D=r.length;P<D;++P){for(y=r[P],_=this.labelTextColors[P],n.fillStyle=_,Sn(y.before,x),N=y.lines,l&&N.length&&(this._drawColorBox(n,e,P,p,s),f=Math.max(h.lineHeight,c)),I=0,C=N.length;I<C;++I)x(N[I]),f=h.lineHeight;Sn(y.after,x)}m=0,f=h.lineHeight,Sn(this.afterBody,x),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let a,l;if(i){const c=Dp(s.rtl,this.x,this.width);for(e.x=Jb(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",a=ni(s.footerFont),n.fillStyle=s.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=s,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:p}=Mp(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+h,c),a==="top"&&this.drawCaret(e,n,s,r),n.lineTo(l+u-f,c),n.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(l+u,c+d-p),n.quadraticCurveTo(l+u,c+d,l+u-p,c+d),a==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(l+m,c+d),n.quadraticCurveTo(l,c+d,l,c+d-m),a==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const a=Y0[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=EL(this,e),c=Object.assign({},a,this._size),u=AL(n,e,c),d=TL(e,c,u,n);(r._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=Ka(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),qq(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),Hq(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!ww(s,r),a=this._positionChanged(r,n);(i||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,s),l=this._positionChanged(a,e),c=n||!ww(a,i)||l;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,a=Y0[i.position].call(this,e,n);return a!==!1&&(s!==a.x||r!==a.y)}}bt(Ej,"positioners",Y0);var G_e={id:"tooltip",_element:Ej,positioners:Y0,afterInit(t,e,n){n&&(t.tooltip=new Ej({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uH},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const W_e=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Y_e(t,e,n,s){const r=t.indexOf(e);if(r===-1)return W_e(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const K_e=(t,e)=>t===null?null:ti(Math.round(t),0,e);function PL(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Aj extends Vg{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(yn(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:Y_e(s,e,$t(n,e),this._addedLabels),K_e(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return PL.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}bt(Aj,"id","category"),bt(Aj,"defaults",{ticks:{callback:PL}});function X_e(t,e){const n=[],{bounds:r,step:i,min:a,max:l,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,m=i||1,p=d-1,{min:x,max:v}=e,y=!yn(a),_=!yn(l),N=!yn(u),P=(v-x)/(h+1);let I=I7((v-x)/p/m)*m,D,C,w,A;if(I<1e-14&&!y&&!_)return[{value:x},{value:v}];A=Math.ceil(v/I)-Math.floor(x/I),A>p&&(I=I7(A*I/p/m)*m),yn(c)||(D=Math.pow(10,c),I=Math.ceil(I*D)/D),r==="ticks"?(C=Math.floor(x/I)*I,w=Math.ceil(v/I)*I):(C=x,w=v),y&&_&&i&&yve((l-a)/i,I/1e3)?(A=Math.round(Math.min((l-a)/I,d)),I=(l-a)/A,C=a,w=l):N?(C=y?a:C,w=_?l:w,A=u-1,I=(w-C)/A):(A=(w-C)/I,ky(A,Math.round(A),I/1e3)?A=Math.round(A):A=Math.ceil(A));const R=Math.max(L7(I),L7(C));D=Math.pow(10,yn(c)?R:c),C=Math.round(C*D)/D,w=Math.round(w*D)/D;let E=0;for(y&&(f&&C!==a?(n.push({value:a}),C<a&&E++,ky(Math.round((C+E*I)*D)/D,a,RL(a,P,t))&&E++):C<a&&E++);E<A;++E){const T=Math.round((C+E*I)*D)/D;if(_&&T>l)break;n.push({value:T})}return _&&f&&w!==l?n.length&&ky(n[n.length-1].value,l,RL(l,P,t))?n[n.length-1].value=l:n.push({value:l}):(!_||w===l)&&n.push({value:w}),n}function RL(t,e,{horizontal:n,minRotation:s}){const r=_c(s),i=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class J_e extends Vg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return yn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const a=c=>r=n?r:c,l=c=>i=s?i:c;if(e){const c=Al(r),u=Al(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(r-c)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=X_e(r,i);return e.bounds==="ticks"&&xve(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return wT(e,this.chart.options.locale,this.options.ticks.format)}}class Tj extends J_e{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ya(e)?e:0,this.max=Ya(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=_c(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}bt(Tj,"id","linear"),bt(Tj,"defaults",{ticks:{callback:Dq.formatters.numeric}});const m_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bi=Object.keys(m_);function IL(t,e){return t-e}function LL(t,e){if(yn(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let a=e;return typeof s=="function"&&(a=s(a)),Ya(a)||(a=typeof s=="string"?n.parse(a,s):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(Sx(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,r)),+a)}function ML(t,e,n,s){const r=Bi.length;for(let i=Bi.indexOf(t);i<r-1;++i){const a=m_[Bi[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=s)return Bi[i]}return Bi[r-1]}function Z_e(t,e,n,s,r){for(let i=Bi.length-1;i>=Bi.indexOf(n);i--){const a=Bi[i];if(m_[a].common&&t._adapter.diff(r,s,a)>=e-1)return a}return Bi[n?Bi.indexOf(n):0]}function eNe(t){for(let e=Bi.indexOf(t)+1,n=Bi.length;e<n;++e)if(m_[Bi[e]].common)return Bi[e]}function DL(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=xT(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function tNe(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+r.add(l,1,s))c=n[l],c>=0&&(e[c].major=!0);return e}function OL(t,e,n){const s=[],r={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],r[l]=a,s.push({value:l,major:!1});return i===0||!n?s:tNe(t,s,r,n)}class Tw extends Vg{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new s5e._date(e.adapters.date);r.init(n),Cy(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:LL(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Ya(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=Ya(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=this.max,l=Nve(r,i,a);return this._unit=n.unit||(s.autoSkip?ML(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Z_e(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:eNe(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),OL(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=ti(n,0,a),s=ti(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,a=i.unit||ML(i.minUnit,n,s,this._getLabelCapacity(n)),l=$t(r.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=Sx(c)||c===!0,d={};let h=n,f,m;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":a),e.diff(s,n,a)>1e5*l)throw new Error(n+" and "+s+" are too far apart with stepSize of "+l+" "+a);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<s;f=+e.add(f,l,a),m++)DL(d,f,p);return(f===s||r.bounds==="ticks"||m===1)&&DL(d,f,p),Object.keys(d).sort(IL).map(x=>+x)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,a=n||r[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,s,r){const i=this.options,a=i.ticks.callback;if(a)return Yn(a,[e,n,s],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=s[n],m=u&&h&&f&&f.major;return this._adapter.format(e,r||(m?h:d))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=_c(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:s*i+l*a,h:s*a+l*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,OL(this,[e],this._majorUnit),r),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(LL(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Iq(e.sort(IL))}}bt(Tw,"id","time"),bt(Tw,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Zb(t,e,n){let s=0,r=t.length-1,i,a,l,c;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=nf(t,"pos",e)),{pos:i,time:l}=t[s],{pos:a,time:c}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=nf(t,"time",e)),{time:i,pos:l}=t[s],{time:a,pos:c}=t[r]);const u=a-i;return u?l+(c-l)*(e-i)/u:l}class FL extends Tw{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Zb(n,this.min),this._tableRange=Zb(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let a,l,c,u,d;for(a=0,l=e.length;a<l;++a)u=e[a],u>=n&&u<=s&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(a=0,l=r.length;a<l;++a)d=r[a+1],c=r[a-1],u=r[a],Math.round((d+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Zb(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Zb(this._table,s*this._tableRange+this._minPos,!0)}}bt(FL,"id","timeseries"),bt(FL,"defaults",Tw.defaults);const dH="label";function BL(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function nNe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function hH(t,e){t.labels=e}function fH(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dH;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(a=>a[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function sNe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dH;const n={labels:[],datasets:[]};return hH(n,t.labels),fH(n,t.datasets,e),n}function rNe(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,m=j.useRef(null),p=j.useRef(null),x=()=>{m.current&&(p.current=new f_(m.current,{type:a,data:sNe(l,i),options:c&&{...c},plugins:u}),BL(e,p.current))},v=()=>{BL(e,null),p.current&&(p.current.destroy(),p.current=null)};return j.useEffect(()=>{!r&&p.current&&c&&nNe(p.current,c)},[r,c]),j.useEffect(()=>{!r&&p.current&&hH(p.current.config.data,l.labels)},[r,l.labels]),j.useEffect(()=>{!r&&p.current&&l.datasets&&fH(p.current.config.data,l.datasets,i)},[r,l.datasets]),j.useEffect(()=>{p.current&&(r?(v(),setTimeout(x)):p.current.update(h))},[r,c,l.labels,l.datasets,h]),j.useEffect(()=>{p.current&&(v(),setTimeout(x))},[a]),j.useEffect(()=>(x(),()=>v()),[]),Re.createElement("canvas",{ref:m,role:"img",height:n,width:s,...f},d)}const iNe=j.forwardRef(rNe);function PT(t,e){return f_.register(e),j.forwardRef((n,s)=>Re.createElement(iNe,{...n,ref:s,type:t}))}const aNe=PT("line",U2),oNe=PT("bar",V2),lNe=PT("doughnut",H0);f_.register(Aj,Tj,q2,W0,B_e,G_e,O_e,G0,H2);const cNe=()=>{const{qrCodeId:t}=Qx(),{user:e}=_s(),n=vr(),[s,r]=j.useState(null),[i,a]=j.useState([]),[l,c]=j.useState(!0),[u,d]=j.useState(null),[h,f]=j.useState("7d"),[m,p]=j.useState("visits");j.useEffect(()=>{(async()=>{if(!e||!t){d("Invalid request"),c(!1);return}try{const $=Qs(Vn(dt,"qrcodes"),Kn("shortId","==",t),Kn("userId","==",e.uid),cS(1)),O=await xr($);let F;if(O.empty){const V=Lt(dt,"qrcodes",t),W=await ws(V);if(!W.exists()){d("QR code not found");return}F={id:W.id,...W.data()}}else{const V=O.docs[0];F={id:V.id,...V.data()}}if(F.userId!==e.uid){d("Access denied");return}if(F.type!=="dynamic"){d("Analytics are only available for dynamic QR codes");return}r(F);const Q=x(F.visits||0,F.createdAt);a(Q)}catch($){d(`Failed to load analytics: ${$.message}`)}finally{c(!1)}})()},[e,t]);const x=(z,$)=>{const O=[],F=new Date($),Q=new Date;for(let V=0;V<z;V++){const W=new Date(F.getTime()+Math.random()*(Q.getTime()-F.getTime())),Z=["mobile","desktop","tablet"],U=["Chrome","Safari","Firefox","Edge"],G=["India","USA","UK","Canada","Australia"];O.push({id:`visit_${V}`,qrCodeId:t,timestamp:W.toISOString(),device:Z[Math.floor(Math.random()*Z.length)],browser:U[Math.floor(Math.random()*U.length)],country:G[Math.floor(Math.random()*G.length)],city:"City "+V%10,ipAddress:`192.168.1.${Math.floor(Math.random()*255)}`,userAgent:"Mock User Agent"})}return O.sort((V,W)=>new Date(W.timestamp).getTime()-new Date(V.timestamp).getTime())},v=()=>{if(h==="all")return i;const $=Df(r$(new Date,h==="7d"?7:30));return i.filter(O=>new Date(O.timestamp)>=$)},y=()=>v().reduce((O,F)=>{const Q=F.device||"unknown";return O[Q]=(O[Q]||0)+1,O},{}),_=()=>v().reduce((O,F)=>{const Q=$s(sa(F.timestamp),"yyyy-MM-dd");return O[Q]=(O[Q]||0)+1,O},{}),N=()=>v().reduce((O,F)=>{const Q=$s(sa(F.timestamp),"HH");return O[Q]=(O[Q]||0)+1,O},{}),P=()=>{const $=v().reduce((O,F)=>{const Q=F.country||"Unknown";return O[Q]=(O[Q]||0)+1,O},{});return Object.entries($).sort(([,O],[,F])=>F-O).slice(0,5)};if(l)return o.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center gap-4",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]});if(u)return o.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx(AlertCircle,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error"}),o.jsx("p",{className:"text-red-600 text-center",children:u}),o.jsx("button",{onClick:()=>n("/history"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to QR Codes"})]});if(!s)return null;const I=v(),D=y(),C=_(),w=N(),A=P(),R=new Set(I.map(z=>z.ipAddress)).size,E={labels:Object.keys(C).slice(-7).map(z=>$s(sa(z),"MMM dd")),datasets:[{label:"Daily Visits",data:Object.values(C).slice(-7),borderColor:"rgb(147, 51, 234)",backgroundColor:"rgba(147, 51, 234, 0.1)",tension:.4}]},T={labels:Object.keys(D).map(z=>z.charAt(0).toUpperCase()+z.slice(1)),datasets:[{data:Object.values(D),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)"],borderWidth:0}]},L={labels:Array.from({length:24},(z,$)=>`${$.toString().padStart(2,"0")}:00`),datasets:[{label:"Hourly Visits",data:Array.from({length:24},(z,$)=>w[$.toString().padStart(2,"0")]||0),backgroundColor:"rgba(147, 51, 234, 0.6)",borderColor:"rgba(147, 51, 234, 1)",borderWidth:1}]};return o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("button",{onClick:()=>n("/history"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Bd,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Yv,{className:"w-6 h-6 text-purple-600"}),s.name]}),o.jsx("p",{className:"text-gray-600",children:"Dynamic QR Code Analytics Dashboard"})]})]}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex gap-2",children:[{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"all",label:"All time"}].map(z=>o.jsx("button",{onClick:()=>f(z.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h===z.value?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z.label},z.value))})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Visits"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.length}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I.length>0&&BI(sa(I[0].timestamp))?"Today":I.length>0&&VI(sa(I[0].timestamp))?"Yesterday":""})]}),o.jsx(os,{className:"w-8 h-8 text-purple-500"})]})}),o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Unique Visitors"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I.length>0?`${Math.round(R/I.length*100)}% unique`:""})]}),o.jsx(wc,{className:"w-8 h-8 text-blue-500"})]})}),o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Mobile Visits"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.mobile||0}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I.length>0?`${Math.round((D.mobile||0)/I.length*100)}%`:"0%"})]}),o.jsx(WR,{className:"w-8 h-8 text-green-500"})]})}),o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Last Visit"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:I.length>0?$s(sa(I[0].timestamp),"MMM dd, HH:mm"):"Never"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I.length>0&&BI(sa(I[0].timestamp))?"Today":I.length>0&&VI(sa(I[0].timestamp))?"Yesterday":""})]}),o.jsx(Ui,{className:"w-8 h-8 text-orange-500"})]})})]}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex gap-2",children:[{value:"visits",label:"Visits Over Time",icon:fV},{value:"devices",label:"Device Breakdown",icon:QR},{value:"time",label:"Hourly Activity",icon:Ui}].map(z=>o.jsxs("button",{onClick:()=>p(z.value),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m===z.value?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(z.icon,{className:"w-4 h-4"}),z.label]},z.value))})}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"lg:col-span-2 bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m==="visits"?"Visits Over Time":m==="devices"?"Device Breakdown":"Hourly Activity Pattern"}),o.jsxs("div",{className:"h-64",children:[m==="visits"&&o.jsx(aNe,{data:E,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}}),m==="devices"&&o.jsx(lNe,{data:T,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}}),m==="time"&&o.jsx(oNe,{data:L,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Countries"}),o.jsx("div",{className:"space-y-3",children:A.map(([z,$])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rf,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:z})]}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:$})]},z))})]}),o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Device Types"}),o.jsx("div",{className:"space-y-3",children:Object.entries(D).map(([z,$])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[z==="mobile"&&o.jsx(WR,{className:"w-4 h-4 text-blue-500"}),z==="desktop"&&o.jsx(QR,{className:"w-4 h-4 text-green-500"}),z==="tablet"&&o.jsx(Foe,{className:"w-4 h-4 text-purple-500"}),o.jsx("span",{className:"text-sm text-gray-600 capitalize",children:z})]}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:$})]},z))})]}),o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Features Status"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(df,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Scheduling"})]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s.scheduleEnabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:s.scheduleEnabled?"Active":"Disabled"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Io,{className:"w-4 h-4 text-orange-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Scan Limits"})]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s.scanLimitEnabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:s.scanLimitEnabled?`${s.maxScans||0} max`:"Unlimited"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fa,{className:"w-4 h-4 text-red-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Password"})]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s.passwordEnabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:s.passwordEnabled?"Protected":"Open"})]})]})]})]}),o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-8 bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"QR Code Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Target URL:"}),o.jsx("p",{className:"font-medium text-gray-900 break-all",children:s.targetUrl})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Short ID:"}),o.jsx("p",{className:"font-medium text-gray-900",children:s.shortId})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Created:"}),o.jsx("p",{className:"font-medium text-gray-900",children:$s(sa(s.createdAt),"MMM dd, yyyy HH:mm")})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Total Visits:"}),o.jsx("p",{className:"font-medium text-gray-900",children:s.visits||0})]}),s.scheduleEnabled&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Schedule:"}),o.jsx("p",{className:"font-medium text-gray-900",children:s.scheduleStart&&s.scheduleEnd?`${$s(sa(s.scheduleStart),"MMM dd")} - ${$s(sa(s.scheduleEnd),"MMM dd")}`:"Always active"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Daily Hours:"}),o.jsx("p",{className:"font-medium text-gray-900",children:s.dailyStartTime&&s.dailyEndTime?`${s.dailyStartTime} - ${s.dailyEndTime}`:"24/7"})]})]}),s.scanLimitEnabled&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Scan Progress:"}),o.jsxs("p",{className:"font-medium text-gray-900",children:[s.visits||0," / ",s.maxScans||"∞"," scans"]})]}),s.tags&&s.tags.length>0&&o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Tags:"}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.tags.map((z,$)=>o.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:["#",z]},$))})]}),s.description&&o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Description:"}),o.jsx("p",{className:"font-medium text-gray-900 mt-1",children:s.description})]})]})]})]})};var mH={exports:{}},uNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dNe=uNe,hNe=dNe;function pH(){}function gH(){}gH.resetWarningCache=pH;var fNe=function(){function t(s,r,i,a,l,c){if(c!==hNe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gH,resetWarningCache:pH};return n.PropTypes=n,n};mH.exports=fNe();var mNe=mH.exports;const Ri=Uw(mNe);var pNe=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Cj(){return Cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Cj.apply(this,arguments)}function gNe(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function e2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yNe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,kj(t,e)}function kj(t,e){return kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},kj(t,e)}var p_=function(t){yNe(e,t);function e(){var s;return s=t.call(this)||this,s.handleExpired=s.handleExpired.bind(e2(s)),s.handleErrored=s.handleErrored.bind(e2(s)),s.handleChange=s.handleChange.bind(e2(s)),s.handleRecaptchaRef=s.handleRecaptchaRef.bind(e2(s)),s}var n=e.prototype;return n.getCaptchaFunction=function(r){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[r]:this.props.grecaptcha[r]:null},n.getValue=function(){var r=this.getCaptchaFunction("getResponse");return r&&this._widgetId!==void 0?r(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var r=this.getCaptchaFunction("execute");if(r&&this._widgetId!==void 0)return r(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var r=this;return new Promise(function(i,a){r.executionResolve=i,r.executionReject=a,r.execute()})},n.reset=function(){var r=this.getCaptchaFunction("reset");r&&this._widgetId!==void 0&&r(this._widgetId)},n.forceReset=function(){var r=this.getCaptchaFunction("reset");r&&r()},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(r){this.props.onChange&&this.props.onChange(r),this.executionResolve&&(this.executionResolve(r),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){var r=this.getCaptchaFunction("render");if(r&&this._widgetId===void 0){var i=document.createElement("div");this._widgetId=r(i,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(i)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.handleRecaptchaRef=function(r){this.captcha=r},n.render=function(){var r=this.props;r.sitekey,r.onChange,r.theme,r.type,r.tabindex,r.onExpired,r.onErrored,r.size,r.stoken,r.grecaptcha,r.badge,r.hl,r.isolated;var i=gNe(r,pNe);return j.createElement("div",Cj({},i,{ref:this.handleRecaptchaRef}))},e}(j.Component);p_.displayName="ReCAPTCHA";p_.propTypes={sitekey:Ri.string.isRequired,onChange:Ri.func,grecaptcha:Ri.object,theme:Ri.oneOf(["dark","light"]),type:Ri.oneOf(["image","audio"]),tabindex:Ri.number,onExpired:Ri.func,onErrored:Ri.func,size:Ri.oneOf(["compact","normal","invisible"]),stoken:Ri.string,hl:Ri.string,badge:Ri.oneOf(["bottomright","bottomleft","inline"]),isolated:Ri.bool};p_.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var yH={exports:{}},Cn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wr=typeof Symbol=="function"&&Symbol.for,RT=wr?Symbol.for("react.element"):60103,IT=wr?Symbol.for("react.portal"):60106,g_=wr?Symbol.for("react.fragment"):60107,y_=wr?Symbol.for("react.strict_mode"):60108,x_=wr?Symbol.for("react.profiler"):60114,b_=wr?Symbol.for("react.provider"):60109,v_=wr?Symbol.for("react.context"):60110,LT=wr?Symbol.for("react.async_mode"):60111,w_=wr?Symbol.for("react.concurrent_mode"):60111,__=wr?Symbol.for("react.forward_ref"):60112,N_=wr?Symbol.for("react.suspense"):60113,xNe=wr?Symbol.for("react.suspense_list"):60120,S_=wr?Symbol.for("react.memo"):60115,j_=wr?Symbol.for("react.lazy"):60116,bNe=wr?Symbol.for("react.block"):60121,vNe=wr?Symbol.for("react.fundamental"):60117,wNe=wr?Symbol.for("react.responder"):60118,_Ne=wr?Symbol.for("react.scope"):60119;function va(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case RT:switch(t=t.type,t){case LT:case w_:case g_:case x_:case y_:case N_:return t;default:switch(t=t&&t.$$typeof,t){case v_:case __:case j_:case S_:case b_:return t;default:return e}}case IT:return e}}}function xH(t){return va(t)===w_}Cn.AsyncMode=LT;Cn.ConcurrentMode=w_;Cn.ContextConsumer=v_;Cn.ContextProvider=b_;Cn.Element=RT;Cn.ForwardRef=__;Cn.Fragment=g_;Cn.Lazy=j_;Cn.Memo=S_;Cn.Portal=IT;Cn.Profiler=x_;Cn.StrictMode=y_;Cn.Suspense=N_;Cn.isAsyncMode=function(t){return xH(t)||va(t)===LT};Cn.isConcurrentMode=xH;Cn.isContextConsumer=function(t){return va(t)===v_};Cn.isContextProvider=function(t){return va(t)===b_};Cn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===RT};Cn.isForwardRef=function(t){return va(t)===__};Cn.isFragment=function(t){return va(t)===g_};Cn.isLazy=function(t){return va(t)===j_};Cn.isMemo=function(t){return va(t)===S_};Cn.isPortal=function(t){return va(t)===IT};Cn.isProfiler=function(t){return va(t)===x_};Cn.isStrictMode=function(t){return va(t)===y_};Cn.isSuspense=function(t){return va(t)===N_};Cn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===g_||t===w_||t===x_||t===y_||t===N_||t===xNe||typeof t=="object"&&t!==null&&(t.$$typeof===j_||t.$$typeof===S_||t.$$typeof===b_||t.$$typeof===v_||t.$$typeof===__||t.$$typeof===vNe||t.$$typeof===wNe||t.$$typeof===_Ne||t.$$typeof===bNe)};Cn.typeOf=va;yH.exports=Cn;var NNe=yH.exports,MT=NNe,SNe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jNe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ENe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DT={};DT[MT.ForwardRef]=ENe;DT[MT.Memo]=bH;function VL(t){return MT.isMemo(t)?bH:DT[t.$$typeof]||SNe}var ANe=Object.defineProperty,TNe=Object.getOwnPropertyNames,UL=Object.getOwnPropertySymbols,CNe=Object.getOwnPropertyDescriptor,kNe=Object.getPrototypeOf,zL=Object.prototype;function vH(t,e,n){if(typeof e!="string"){if(zL){var s=kNe(e);s&&s!==zL&&vH(t,s,n)}var r=TNe(e);UL&&(r=r.concat(UL(e)));for(var i=VL(t),a=VL(e),l=0;l<r.length;++l){var c=r[l];if(!jNe[c]&&!(n&&n[c])&&!(a&&a[c])&&!(i&&i[c])){var u=CNe(e,c);try{ANe(t,c,u)}catch{}}}}return t}var PNe=vH;const RNe=Uw(PNe);function Pj(){return Pj=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Pj.apply(this,arguments)}function INe(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function LNe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var fo={},MNe=0;function DNe(t,e){return e=e||{},function(s){var r=s.displayName||s.name||"Component",i=function(l){LNe(c,l);function c(d,h){var f;return f=l.call(this,d,h)||this,f.state={},f.__scriptURL="",f}var u=c.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+MNe++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof t=="function"?t():t,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(h){var f=this;this.setState(h,function(){return f.props.asyncScriptOnLoad&&f.props.asyncScriptOnLoad(f.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var h=fo[this.__scriptURL];if(!h||!h.loaded)throw new Error("Script is not loaded.");for(var f in h.observers)h.observers[f](h);delete window[e.callbackName]},u.componentDidMount=function(){var h=this,f=this.setupScriptURL(),m=this.asyncScriptLoaderGetScriptLoaderID(),p=e,x=p.globalName,v=p.callbackName,y=p.scriptId;if(x&&typeof window[x]<"u"&&(fo[f]={loaded:!0,observers:{}}),fo[f]){var _=fo[f];if(_&&(_.loaded||_.errored)){this.asyncScriptLoaderHandleLoad(_);return}_.observers[m]=function(C){return h.asyncScriptLoaderHandleLoad(C)};return}var N={};N[m]=function(C){return h.asyncScriptLoaderHandleLoad(C)},fo[f]={loaded:!1,observers:N};var P=document.createElement("script");P.src=f,P.async=!0;for(var I in e.attributes)P.setAttribute(I,e.attributes[I]);y&&(P.id=y);var D=function(w){if(fo[f]){var A=fo[f],R=A.observers;for(var E in R)w(R[E])&&delete R[E]}};v&&typeof window<"u"&&(window[v]=function(){return h.asyncScriptLoaderTriggerOnScriptLoaded()}),P.onload=function(){var C=fo[f];C&&(C.loaded=!0,D(function(w){return v?!1:(w(C),!0)}))},P.onerror=function(){var C=fo[f];C&&(C.errored=!0,D(function(w){return w(C),!0}))},document.body.appendChild(P)},u.componentWillUnmount=function(){var h=this.__scriptURL;if(e.removeOnUnmount===!0)for(var f=document.getElementsByTagName("script"),m=0;m<f.length;m+=1)f[m].src.indexOf(h)>-1&&f[m].parentNode&&f[m].parentNode.removeChild(f[m]);var p=fo[h];p&&(delete p.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete fo[h])},u.render=function(){var h=e.globalName,f=this.props;f.asyncScriptOnLoad;var m=f.forwardedRef,p=INe(f,["asyncScriptOnLoad","forwardedRef"]);return h&&typeof window<"u"&&(p[h]=typeof window[h]<"u"?window[h]:void 0),p.ref=m,j.createElement(s,p)},c}(j.Component),a=j.forwardRef(function(l,c){return j.createElement(i,Pj({},l,{forwardedRef:c}))});return a.displayName="AsyncScriptLoader("+r+")",a.propTypes={asyncScriptOnLoad:Ri.func},RNe(a,s)}}var Rj="onloadcallback",ONe="grecaptcha";function Ij(){return typeof window<"u"&&window.recaptchaOptions||{}}function FNe(){var t=Ij(),e=t.useRecaptchaNet?"recaptcha.net":"www.google.com";return t.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+Rj+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+Rj+"&render=explicit"}const BNe=DNe(FNe,{callbackName:Rj,globalName:ONe,attributes:Ij().nonce?{nonce:Ij().nonce}:{}})(p_),VNe=()=>{const{shortId:t}=Qx(),[e,n]=j.useState(null),[s,r]=j.useState(!0),[i,a]=j.useState(null),[l,c]=j.useState(""),[u,d]=j.useState(!1),[h,f]=j.useState(null),[m,p]=j.useState(!1),[x,v]=j.useState(""),[y,_]=j.useState(null),[N,P]=j.useState(!1),[I,D]=j.useState({count:0,lastAttempt:0}),[C,w]=j.useState(new Date);j.useEffect(()=>{const Q=setInterval(()=>w(new Date),1e3);return()=>clearInterval(Q)},[]);const A=()=>{const Q=document.createElement("canvas"),V=Q.getContext("2d");V==null||V.fillText("fingerprint",2,2);const W=Q.toDataURL();return btoa(navigator.userAgent+navigator.language+screen.width+"x"+screen.height+new Date().getTimezoneOffset()+W.slice(-50)).slice(0,32)},R=()=>`qr_attempts_${t}_${A()}`,E=()=>{try{const Q=localStorage.getItem(R());if(Q){const V=JSON.parse(Q);return Date.now()-V.lastAttempt>24*60*60*1e3?(localStorage.removeItem(R()),{count:0,lastAttempt:0}):V}}catch(Q){console.error("Error reading attempts:",Q)}return{count:0,lastAttempt:0}},T=Q=>{try{localStorage.setItem(R(),JSON.stringify(Q)),D(Q)}catch(V){console.error("Error storing attempts:",V)}},L=Q=>{const V=Date.now();return Q.lockUntil&&V<Q.lockUntil?{locked:!0,message:`Access temporarily restricted. Please try again in ${Math.ceil((Q.lockUntil-V)/6e4)} minutes.`,showCaptcha:!1}:Q.count>=20?{locked:!0,message:"This QR code has been temporarily disabled due to security concerns. Please contact the owner for assistance.",showCaptcha:!1}:Q.count>=3?{locked:!1,message:"",showCaptcha:!0}:{locked:!1,message:"",showCaptcha:!1}},z=Q=>{if(!Q.scheduleEnabled)return{isActive:!0,message:""};const V=new Date;if(Q.scheduleStart&&Q.scheduleEnd){const W=new Date(Q.scheduleStart),Z=new Date(Q.scheduleEnd);if(V<W)return{isActive:!1,message:"This QR code will become active on "+W.toLocaleDateString(),startDate:W};if(V>Z)return{isActive:!1,message:"This QR code expired on "+Z.toLocaleDateString(),endDate:Z}}if(Q.dailyStartTime&&Q.dailyEndTime){const W=V.toTimeString().slice(0,5);if(W<Q.dailyStartTime||W>Q.dailyEndTime)return{isActive:!1,message:`This QR code is active daily from ${Q.dailyStartTime} to ${Q.dailyEndTime}`,dailySchedule:{start:Q.dailyStartTime,end:Q.dailyEndTime}}}return{isActive:!0,message:"Currently active"}};j.useEffect(()=>{(async()=>{if(!t){a("Invalid QR code identifier"),r(!1);return}try{const V=E();D(V);const W=L(V);if(W.locked){p(!0),v(W.message),r(!1);return}P(W.showCaptcha);const Z=Lt(dt,"qrcodes",t),U=await ws(Z);if(!U.exists()){a("QR code not found or has been removed"),r(!1);return}const G=U.data();n(G);const Y=z(G);if(!Y.isActive){a(Y.message),r(!1);return}if(G.scanLimitEnabled&&G.maxScans&&G.visits>=G.maxScans){a("This QR code has reached its maximum scan limit and is no longer available"),r(!1);return}if(!G.passwordEnabled&&!G.redirectPageEnabled){await pi(Z,{visits:T2(1),lastVisitedAt:new Date().toISOString()}),window.location.href=G.targetUrl;return}r(!1)}catch(V){console.error("Error fetching QR data:",V),a("Failed to load QR code. Please try again later."),r(!1)}})()},[t]);const $=async Q=>{if(Q.preventDefault(),!e||!l.trim()){f("Please enter a password");return}if(N&&!y){f("Please complete the security verification");return}if(N&&y)try{}catch{f("Security verification failed. Please try again."),_(null);return}if(l===e.password){localStorage.removeItem(R());try{const V=Lt(dt,"qrcodes",t);await pi(V,{visits:T2(1),lastVisitedAt:new Date().toISOString()})}catch(V){console.error("Error updating visit count:",V)}window.location.href=e.targetUrl}else{const V=I.count+1,W=Date.now();let Z={count:V,lastAttempt:W};V>=10?(Z.lockUntil=W+60*60*1e3,p(!0),v("Too many failed attempts. Access locked for 1 hour.")):V>=5?(Z.lockUntil=W+15*60*1e3,p(!0),v("Multiple failed attempts. Access locked for 15 minutes.")):V>=3&&(P(!0),Z.captchaRequired=!0),T(Z);const U=3-V%3;f(`Incorrect password. ${U>0?`${U} attempts remaining.`:"Please complete security verification."}`),c(""),_(null)}},O=async()=>{if(e)try{const Q=Lt(dt,"qrcodes",t);await pi(Q,{visits:T2(1),lastVisitedAt:new Date().toISOString()}),window.location.href=e.targetUrl}catch(Q){console.error("Error updating visit count:",Q),window.location.href=e.targetUrl}},F=Q=>{const V=new Date,[W,Z]=Q.split(":");V.setHours(parseInt(W),parseInt(Z),0,0),V<C&&V.setDate(V.getDate()+1);const U=V.getTime()-C.getTime(),G=Math.floor(U/(1e3*60*60)),Y=Math.floor(U%(1e3*60*60)/(1e3*60));return`${G}h ${Y}m`};if(s)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 flex items-center justify-center p-4",children:o.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 max-w-md w-full text-center border border-white/20",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-20 h-20 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),o.jsx(he.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 w-20 h-20 border-4 border-purple-200 border-t-purple-600 rounded-full mx-auto opacity-50"})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Verifying QR Code"}),o.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your request..."})]})});if(i||m){const Q=(i==null?void 0:i.includes("active"))||(i==null?void 0:i.includes("expired")),V=(i==null?void 0:i.includes("scan limit"))||(i==null?void 0:i.includes("maximum scan"));return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-pink-50 flex items-center justify-center p-4",children:o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl p-8 max-w-lg w-full text-center border border-white/20",children:[o.jsx(he.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"w-20 h-20 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:Q?o.jsx(Ui,{className:"w-10 h-10 text-orange-600"}):V?o.jsx(Io,{className:"w-10 h-10 text-purple-600"}):o.jsx(pr,{className:"w-10 h-10 text-red-600"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:Q?"Scheduled Access":V?"Limit Reached":"Access Restricted"}),o.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed text-lg",children:i||x}),Q&&e&&o.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-200 rounded-2xl p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 text-orange-800 mb-4",children:[o.jsx(fl,{className:"w-6 h-6"}),o.jsx("span",{className:"font-bold text-lg",children:"Schedule Information"})]}),e.scheduleStart&&e.scheduleEnd&&o.jsx("div",{className:"space-y-3 text-sm",children:o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/60 rounded-xl",children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Active Period:"}),o.jsxs("span",{className:"text-orange-700 font-semibold",children:[new Date(e.scheduleStart).toLocaleDateString()," - ",new Date(e.scheduleEnd).toLocaleDateString()]})]})}),e.dailyStartTime&&e.dailyEndTime&&o.jsxs("div",{className:"mt-3",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/60 rounded-xl",children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Daily Hours:"}),o.jsxs("span",{className:"text-orange-700 font-semibold",children:[e.dailyStartTime," - ",e.dailyEndTime]})]}),e.dailyStartTime&&C.toTimeString().slice(0,5)<e.dailyStartTime&&o.jsx(he.div,{animate:{opacity:[.8,1,.8]},transition:{duration:2,repeat:1/0},className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-800",children:[o.jsx(df,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm font-medium",children:["Available in: ",F(e.dailyStartTime)]})]})})]})]}),V&&e&&o.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 text-purple-800 mb-4",children:[o.jsx(Io,{className:"w-6 h-6"}),o.jsx("span",{className:"font-bold text-lg",children:"Scan Limit Information"})]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/60 rounded-xl",children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Total Scans:"}),o.jsx("span",{className:"text-purple-700 font-semibold",children:e.visits||0})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/60 rounded-xl",children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Maximum Allowed:"}),o.jsx("span",{className:"text-purple-700 font-semibold",children:e.maxScans||0})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsx(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-600 text-white rounded-2xl hover:bg-gray-700 transition-colors font-medium shadow-lg",children:"Go Back"}),(Q||V)&&o.jsx(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors font-medium shadow-lg",children:"Check Again"})]})]})})}return e?e.passwordEnabled?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:o.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl p-8 max-w-md w-full border border-white/20",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(he.div,{animate:{boxShadow:["0 0 20px rgba(59, 130, 246, 0.3)","0 0 40px rgba(59, 130, 246, 0.5)","0 0 20px rgba(59, 130, 246, 0.3)"]},transition:{duration:2,repeat:1/0},className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-200 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(fa,{className:"w-10 h-10 text-blue-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Protected Content"}),o.jsx("p",{className:"text-gray-600",children:"This content requires authentication to access"})]}),o.jsxs("form",{onSubmit:$,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Access Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:u?"text":"password",id:"password",value:l,onChange:Q=>{c(Q.target.value),f(null)},className:`w-full px-4 py-4 pr-12 border-2 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-lg ${h?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,placeholder:"Enter password",required:!0}),o.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:u?o.jsx(wl,{className:"w-6 h-6"}):o.jsx(os,{className:"w-6 h-6"})})]}),h&&o.jsx(he.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 p-4 bg-red-50 border-2 border-red-200 rounded-2xl",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(pr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:h}),I.count>=3&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Security verification required after multiple attempts"})]})]})})]}),N&&o.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col items-center space-y-4",children:[o.jsxs("div",{className:"p-4 bg-yellow-50 border-2 border-yellow-200 rounded-2xl w-full",children:[o.jsxs("div",{className:"flex items-center gap-3 text-yellow-800 mb-3",children:[o.jsx(fa,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium text-sm",children:"Security Verification Required"})]}),o.jsx("p",{className:"text-xs text-yellow-700",children:"Please complete the verification below to continue"})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(BNe,{sitekey:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",onChange:Q=>{_(Q),f(null)},theme:"light",size:"normal"})})]}),o.jsxs(he.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:N&&!y,className:`w-full py-4 px-6 rounded-2xl font-semibold transition-all duration-200 flex items-center justify-center gap-3 shadow-lg ${N&&!y?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 shadow-blue-500/25 hover:shadow-xl"}`,children:[o.jsx(Ro,{className:"w-5 h-5"}),"Access Content"]})]}),e.description&&o.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 p-4 bg-gray-50 rounded-2xl border border-gray-200",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Kae,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-gray-700",children:e.description})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 flex items-center justify-center p-4",children:o.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl p-8 max-w-2xl w-full border border-white/20",children:[e.featuredImageUrl&&o.jsx(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-8",children:o.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-xl",children:[o.jsx("img",{src:e.featuredImageUrl,alt:"Featured content",className:"w-full h-64 object-cover",onError:Q=>{Q.target.style.display="none"}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(he.div,{animate:{boxShadow:["0 0 30px rgba(34, 197, 94, 0.3)","0 0 50px rgba(34, 197, 94, 0.5)","0 0 30px rgba(34, 197, 94, 0.3)"]},transition:{duration:3,repeat:1/0},className:"w-20 h-20 bg-gradient-to-br from-green-100 to-emerald-200 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:o.jsx(s6,{className:"w-10 h-10 text-green-600"})}),o.jsx(he.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-3xl font-bold text-gray-900 mb-4",children:e.name}),e.description&&o.jsx(he.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg text-gray-700 leading-relaxed mb-6 bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-2xl",children:e.description}),o.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center justify-center gap-6 mb-8",children:[e.visits!==void 0&&o.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 px-4 py-2 rounded-full",children:[o.jsx(os,{className:"w-5 h-5 text-blue-600"}),o.jsxs("span",{className:"font-semibold text-blue-800",children:[e.visits," visits"]})]}),e.scanLimitEnabled&&e.maxScans&&o.jsxs("div",{className:"flex items-center gap-2 bg-purple-100 px-4 py-2 rounded-full",children:[o.jsx(Io,{className:"w-5 h-5 text-purple-600"}),o.jsxs("span",{className:"font-semibold text-purple-800",children:[e.maxScans-e.visits," remaining"]})]}),e.scheduleEnabled&&o.jsxs("div",{className:"flex items-center gap-2 bg-orange-100 px-4 py-2 rounded-full",children:[o.jsx(Ui,{className:"w-5 h-5 text-orange-600"}),o.jsx("span",{className:"font-semibold text-orange-800",children:"Scheduled"})]})]})]}),e.scheduleEnabled&&o.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-200 rounded-2xl p-6 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 text-orange-800 mb-4",children:[o.jsx(he.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},children:o.jsx(Ui,{className:"w-6 h-6"})}),o.jsx("span",{className:"font-bold text-lg",children:"Live Schedule Status"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.scheduleStart&&e.scheduleEnd&&o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[o.jsx(fl,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium",children:"Active Period"})]}),o.jsxs("p",{className:"font-semibold text-orange-800",children:[new Date(e.scheduleStart).toLocaleDateString()," - ",new Date(e.scheduleEnd).toLocaleDateString()]})]}),e.dailyStartTime&&e.dailyEndTime&&o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[o.jsx(df,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium",children:"Daily Hours"})]}),o.jsxs("p",{className:"font-semibold text-orange-800",children:[e.dailyStartTime," - ",e.dailyEndTime]})]})]}),o.jsx(he.div,{animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},className:"mt-4 p-3 bg-green-100 border-2 border-green-300 rounded-xl text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-800",children:[o.jsx(Jn,{className:"w-5 h-5"}),o.jsx("span",{className:"font-bold",children:"Currently Active & Available"})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(he.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:O,className:"w-full py-5 px-8 bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 text-white rounded-2xl transition-all duration-300 font-bold text-lg shadow-2xl hover:shadow-green-500/25 flex items-center justify-center gap-4",children:[o.jsx(Cp,{className:"w-6 h-6"}),o.jsx("span",{children:"Continue to Destination"}),o.jsx(Nd,{className:"w-6 h-6"})]}),o.jsxs(he.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"You will be redirected to:"}),o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 px-4 py-3 rounded-2xl",children:o.jsx("p",{className:"text-blue-700 font-mono text-sm break-all font-semibold",children:e.targetUrl})})]})]}),e.tags&&e.tags.length>0&&o.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-8 pt-6 border-t-2 border-gray-100",children:[o.jsx("div",{className:"text-center mb-4",children:o.jsxs("h4",{className:"text-sm font-semibold text-gray-600 flex items-center justify-center gap-2",children:[o.jsx(Tag,{className:"w-4 h-4"}),"Categories"]})}),o.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:e.tags.map((Q,V)=>o.jsxs(he.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7+V*.1},whileHover:{scale:1.05},className:"px-4 py-2 bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 text-sm rounded-full font-semibold border-2 border-blue-200 shadow-sm",children:["#",Q]},V))})]}),o.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-8 pt-6 border-t-2 border-gray-100 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm",children:[o.jsx(he.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},children:o.jsx(Cp,{className:"w-4 h-4"})}),o.jsx("span",{children:"Powered by FlashQR • Secure & Reliable QR Codes"}),o.jsx(he.div,{animate:{rotate:-360},transition:{duration:4,repeat:1/0,ease:"linear"},children:o.jsx(Cp,{className:"w-4 h-4"})})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:o.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(pr,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"QR Code Not Found"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"The requested QR code could not be found or has been removed."}),o.jsx(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.history.back(),className:"px-6 py-3 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors font-medium shadow-lg",children:"Go Back"})]})})},UNe=()=>{var A,R;const{qrCodeId:t}=Qx(),{user:e}=_s(),n=vr(),[s,r]=j.useState(null),[i,a]=j.useState(!0),[l,c]=j.useState(!1),[u,d]=j.useState(null),[h,f]=j.useState(!1),[m,p]=j.useState(null),[x,v]=j.useState(!1),[y,_]=j.useState(!1),[N,P]=j.useState(null);j.useEffect(()=>{(async()=>{if(!e||!t){d("Invalid request"),a(!1);return}try{let T=Lt(dt,"qrcodes",t);const L=await ws(T);if(L.exists()){const z={id:L.id,...L.data()};if(z.userId!==e.uid){d("Access denied");return}r(z),p(z)}else{const z=Qs(Vn(dt,"qrcodes"),Kn("shortId","==",t),Kn("userId","==",e.uid)),$=await xr(z);if($.empty){d("QR code not found");return}const O=$.docs[0],F={id:O.id,...O.data()};r(F),p(F)}}catch(T){d(`Failed to load QR code: ${T.message}`)}finally{a(!1)}})()},[e,t]);const I=(E,T)=>{if(!s)return;const L={...s,[E]:T};if(r(L),m){const z=JSON.stringify(L)!==JSON.stringify(m);f(z)}},D=E=>{var T;if((T=E.target.files)!=null&&T[0]){const L=E.target.files[0],z=5,O=700*1024;if(P(null),_(!0),L.size>z*1024*1024){P(`File size too large. Please select an image smaller than ${z}MB.`),E.target.value="",_(!1);return}if(!L.type.startsWith("image/")){P("Please select a valid image file."),E.target.value="",_(!1);return}const F=new Image;F.onload=()=>{const Q=document.createElement("canvas");let V=F.width,W=F.height,Z=V,U=W;const G=V/W,Y=600*600;V*W>Y&&(Z=Math.sqrt(Y*G),U=Math.sqrt(Y/G)),Q.width=Z,Q.height=U;const J=Q.getContext("2d");if(!J){P("Could not get canvas context."),_(!1),URL.revokeObjectURL(F.src);return}J.drawImage(F,0,0,Z,U);let re=Q.toDataURL(L.type,.9),le=.9;for(;re.length>O&&le>.1;)le-=.1,re=Q.toDataURL(L.type,le);if(re.length>O){P("Logo not supported. Please select a different file."),_(!1),URL.revokeObjectURL(F.src);return}I("logoDataUrl",re),_(!1),URL.revokeObjectURL(F.src)},F.onerror=()=>{P("Failed to load the image. Please try again."),_(!1),URL.revokeObjectURL(F.src)},F.src=URL.createObjectURL(L)}},C=()=>{I("logoDataUrl",""),P(null)},w=async()=>{if(!(!s||!h)){c(!0);try{const E=Lt(dt,"qrcodes",s.id),T={name:s.name,color:s.color,backgroundColor:s.backgroundColor,logoDataUrl:s.logoDataUrl,errorCorrectionLevel:s.errorCorrectionLevel,updatedAt:new Date().toISOString()};_o(s)&&(T.targetUrl=s.targetUrl,T.tags=s.tags,T.description=s.description,T.featuredImageUrl=s.featuredImageUrl,T.scheduleEnabled=s.scheduleEnabled,T.scheduleStart=s.scheduleStart,T.scheduleEnd=s.scheduleEnd,T.dailyStartTime=s.dailyStartTime,T.dailyEndTime=s.dailyEndTime,T.scanLimitEnabled=s.scanLimitEnabled,T.maxScans=s.maxScans,T.passwordEnabled=s.passwordEnabled,T.password=s.password,T.redirectPageEnabled=s.redirectPageEnabled);const L=Object.fromEntries(Object.entries(T).filter(([z,$])=>$!==void 0));await pi(E,L),p(s),f(!1),Nn.success("QR code updated successfully!"),n("/history")}catch(E){console.error("Error updating QR code:",E),Nn.error(`Failed to update QR code: ${E.message}`)}finally{c(!1)}}};return i?o.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center gap-4",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-600",children:"Loading QR code..."})]}):u?o.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx(Hn,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error"}),o.jsx("p",{className:"text-red-600 text-center",children:u}),o.jsx("button",{onClick:()=>n("/history"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to QR Codes"})]}):s?o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>n("/history"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Bd,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Kv,{className:"w-6 h-6 text-blue-600"}),"Edit QR Code"]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 ${bo(s)?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:bo(s)?o.jsxs(o.Fragment,{children:[o.jsx(zd,{className:"w-3 h-3"}),"Static QR Code"]}):o.jsxs(o.Fragment,{children:[o.jsx(Io,{className:"w-3 h-3"}),"Dynamic QR Code"]})}),o.jsx("span",{className:"text-gray-600",children:"•"}),o.jsx("span",{className:"text-gray-600",children:s.name})]})]})]}),o.jsx("button",{onClick:w,disabled:!h||l,className:`px-6 py-3 rounded-xl font-medium transition-all duration-200 flex items-center gap-2 ${h&&!l?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(fS,{className:"w-4 h-4"}),"Save Changes"]})})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[bo(s)&&o.jsx("div",{className:"p-4 bg-blue-50 border-b border-blue-200",children:o.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[o.jsx(Hn,{className:"w-4 h-4"}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Note:"})," For static QR codes, the URL cannot be changed. You can only update the name, colors, and logo."]})]})}),o.jsxs("div",{className:"p-6 space-y-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:o.jsx(Eae,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Update name and destination"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["QR Code Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:s.name||"",onChange:E=>I("name",E.target.value),className:"w-full rounded-xl border border-gray-300 p-3 focus:ring-2 focus:ring-blue-500 transition-all duration-200 hover:border-gray-400",placeholder:"Enter QR code name",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[bo(s)?"URL (Cannot be changed)":"Target URL"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"url",value:bo(s)?s.url:s.targetUrl,onChange:E=>{_o(s)&&I("targetUrl",E.target.value)},disabled:bo(s),className:`w-full rounded-xl border p-3 focus:ring-2 focus:ring-blue-500 transition-all duration-200 ${bo(s)?"bg-gray-100 text-gray-500 cursor-not-allowed":"border-gray-300 hover:border-gray-400"}`,placeholder:"https://example.com",required:!0})]})]}),_o(s)&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("textarea",{value:s.description||"",onChange:E=>I("description",E.target.value),placeholder:"Brief description of this QR code's purpose",rows:3,className:"w-full rounded-xl border border-gray-300 p-3 focus:ring-2 focus:ring-blue-500 transition-all duration-200 resize-none hover:border-gray-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image URL (Optional)"}),o.jsx("input",{type:"url",value:s.featuredImageUrl||"",onChange:E=>I("featuredImageUrl",E.target.value),placeholder:"https://example.com/image.jpg",className:"w-full rounded-xl border border-gray-300 p-3 focus:ring-2 focus:ring-blue-500 transition-all duration-200 hover:border-gray-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (Optional)"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(s.tags||[]).map((E,T)=>o.jsxs(he.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[o.jsx(Gae,{className:"w-3 h-3"}),E,o.jsx("button",{type:"button",onClick:()=>{var z;const L=((z=s.tags)==null?void 0:z.filter($=>$!==E))||[];I("tags",L)},className:"text-blue-600 hover:text-blue-800 ml-1",children:o.jsx(bs,{className:"w-3 h-3"})})]},T))})]})]})]}),_o(s)&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:o.jsx(hV,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Advanced Features"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Security, scheduling, and access controls"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-sm transition-shadow",children:[o.jsxs("label",{className:"flex items-center gap-3 mb-3",children:[o.jsx("input",{type:"checkbox",checked:s.scheduleEnabled||!1,onChange:E=>I("scheduleEnabled",E.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),o.jsx(fl,{className:"w-5 h-5 text-purple-600"}),o.jsx("span",{className:"font-medium text-gray-700",children:"Enable Scheduling"})]}),s.scheduleEnabled&&o.jsx("div",{className:"space-y-3 ml-7",children:o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Date"}),o.jsx("input",{type:"date",value:((A=s.scheduleStart)==null?void 0:A.split("T")[0])||"",onChange:E=>I("scheduleStart",E.target.value?`${E.target.value}T00:00:00.000Z`:""),className:"w-full rounded-lg border border-gray-300 p-2 text-sm focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End Date"}),o.jsx("input",{type:"date",value:((R=s.scheduleEnd)==null?void 0:R.split("T")[0])||"",onChange:E=>I("scheduleEnd",E.target.value?`${E.target.value}T23:59:59.999Z`:""),className:"w-full rounded-lg border border-gray-300 p-2 text-sm focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Time"}),o.jsx("input",{type:"time",value:s.dailyStartTime||"",onChange:E=>I("dailyStartTime",E.target.value),className:"w-full rounded-lg border border-gray-300 p-2 text-sm focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End Time"}),o.jsx("input",{type:"time",value:s.dailyEndTime||"",onChange:E=>I("dailyEndTime",E.target.value),className:"w-full rounded-lg border border-gray-300 p-2 text-sm focus:ring-2 focus:ring-purple-500"})]})]})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-sm transition-shadow",children:[o.jsxs("label",{className:"flex items-center gap-3 mb-3",children:[o.jsx("input",{type:"checkbox",checked:s.scanLimitEnabled||!1,onChange:E=>I("scanLimitEnabled",E.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),o.jsx(Io,{className:"w-5 h-5 text-purple-600"}),o.jsx("span",{className:"font-medium text-gray-700",children:"Enable Scan Limits"})]}),s.scanLimitEnabled&&o.jsxs("div",{className:"ml-7",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Maximum Scans"}),o.jsx("input",{type:"number",min:"1",value:s.maxScans||"",onChange:E=>I("maxScans",parseInt(E.target.value)||void 0),placeholder:"e.g., 100",className:"w-full rounded-lg border border-gray-300 p-2 text-sm focus:ring-2 focus:ring-purple-500"})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-sm transition-shadow lg:col-span-2",children:[o.jsxs("label",{className:"flex items-center gap-3 mb-3",children:[o.jsx("input",{type:"checkbox",checked:s.passwordEnabled||!1,onChange:E=>I("passwordEnabled",E.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),o.jsx(Ro,{className:"w-5 h-5 text-purple-600"}),o.jsx("span",{className:"font-medium text-gray-700",children:"Password Protection"})]}),s.passwordEnabled&&o.jsxs("div",{className:"ml-7",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Access Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:x?"text":"password",value:s.password||"",onChange:E=>I("password",E.target.value),placeholder:"Enter password",className:"w-full rounded-lg border border-gray-300 p-2 pr-10 text-sm focus:ring-2 focus:ring-purple-500"}),o.jsx("button",{type:"button",onClick:()=>v(!x),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:x?o.jsx(wl,{className:"w-4 h-4"}):o.jsx(os,{className:"w-4 h-4"})})]})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200",children:[o.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:o.jsx(os,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Design & Customization"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Colors, logo, and appearance"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"QR Code Color"}),o.jsx(vw,{color:s.color,onChange:E=>I("color",E)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),o.jsx(vw,{color:s.backgroundColor,onChange:E=>I("backgroundColor",E)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Error Correction Level"}),o.jsxs("select",{value:s.errorCorrectionLevel,onChange:E=>I("errorCorrectionLevel",E.target.value),className:"w-full rounded-xl border-gray-300 border p-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 hover:border-gray-400 transition-colors",children:[o.jsx("option",{value:"L",children:"Low (7%)"}),o.jsx("option",{value:"M",children:"Medium (15%)"}),o.jsx("option",{value:"Q",children:"Quartile (25%)"}),o.jsx("option",{value:"H",children:"High (30%)"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo"}),s.logoDataUrl?o.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-green-50 border border-green-200 rounded-xl",children:[o.jsx("img",{src:s.logoDataUrl,alt:"Logo preview",className:"w-16 h-16 object-contain rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-green-800",children:"Logo uploaded successfully"}),o.jsx("p",{className:"text-xs text-green-600",children:"Your logo will appear in the center of the QR code"})]}),o.jsx("button",{type:"button",onClick:C,className:"p-2 text-green-600 hover:text-red-600 transition-colors rounded-lg hover:bg-red-50",title:"Remove logo",children:o.jsx(bs,{className:"w-5 h-5"})})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:D,disabled:y,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed"}),o.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-all duration-200 ${y?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:y?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mr-2"}),o.jsx("span",{className:"text-sm text-green-600",children:"Uploading..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(a6,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG (max 5MB)"})]})})]}),N&&o.jsxs(he.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-sm text-red-600 flex items-center",children:[o.jsx(Hn,{className:"w-4 h-4 mr-1"}),N]})]})]})]})]})]}),o.jsx(Zt,{children:h&&o.jsx(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:o.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[o.jsx(Jn,{className:"w-4 h-4"}),o.jsx("p",{className:"text-sm",children:"You have unsaved changes. Don't forget to save!"})]})})})]}):null},Td={hidden:{opacity:0,y:30},show:{opacity:1,y:0,transition:{duration:.8,ease:[.6,-.05,.01,.99]}}},zNe={hidden:{opacity:0},show:{opacity:1,transition:{duration:.6}}},Lj={hidden:{opacity:0,x:-50},show:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}},od={show:{transition:{staggerChildren:.15,delayChildren:.1}}},Mj={hidden:{opacity:0,scale:.8},show:{opacity:1,scale:1,transition:{duration:.6,type:"spring",bounce:.4}}},pp=({id:t,className:e,children:n})=>o.jsx("section",{id:t,className:`w-full overflow-hidden ${e||""}`,children:n}),Cw=({title:t,subtitle:e})=>o.jsxs(he.div,{className:"mx-auto max-w-4xl text-center py-8",initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.3},variants:od,children:[o.jsx(he.h2,{variants:Td,className:"text-4xl md:text-5xl font-bold tracking-tight bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 bg-clip-text text-transparent",children:t}),e&&o.jsx(he.p,{variants:Td,className:"mt-4 text-xl text-slate-600 leading-relaxed",children:e}),o.jsx(he.div,{variants:Td,className:"mt-6 w-24 h-1 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full mx-auto"})]}),$Ne=()=>o.jsxs(pp,{className:"py-12",children:[o.jsx(Cw,{title:"Why FlashQR Exists",subtitle:"Simplicity. Organization. Clean exports."}),o.jsx(he.div,{className:"flex flex-col items-center justify-center gap-10 mt-6",initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2},variants:od,children:o.jsxs(he.div,{variants:Td,className:"max-w-xl text-lg text-center text-slate-700",children:["While other tools overwhelm you with endless design options, ",o.jsx("b",{children:"FlashQR"})," focuses on simplicity, organization, and professional outputs. From entrepreneurs to startups, FlashQR empowers users to generate, manage, and share QR codes efficiently."]})})]}),qNe=()=>{const t=[{title:"Interactive Packaging",text:"Turn product packaging into an interactive touchpoint with scannable content, manuals, and promotions.",imageAlt:"Packaging Box",imageSrc:"https://res.cloudinary.com/dlesei0kn/image/upload/packaging-image_uv07ud.png",tag:"Retail",link:"/learning-center/packaging"},{title:"Instant Contact Sharing",text:"Share contact details instantly on business cards, email signatures, or displays with a single scan.",imageAlt:"Business Card",imageSrc:"https://res.cloudinary.com/dlesei0kn/image/upload/card-image_1_fsosfn.png",tag:"Networking",link:"/learning-center/contact-sharing"},{title:"Seamless Web Integration",text:"Embed QR codes into landing pages and blogs for quick actions like sign-ups and downloads.",imageAlt:"Website / Browser Window",imageSrc:"https://res.cloudinary.com/dlesei0kn/image/upload/website-image_3_xqkptl.png",tag:"Web",link:"/learning-center/web-integration"},{title:"App Downloads",text:"Drive app installs directly from print, packaging, or screens with deep links and tracking.",imageAlt:"App Download",imageSrc:"https://res.cloudinary.com/dlesei0kn/image/upload/download-app-image_4_db9geq.png",tag:"Mobile",link:"/learning-center/app-download"},{title:"Contactless Entry",text:"Enable secure, contactless event check-ins and ticket validation with QR-based passes.",imageAlt:"Event Ticket",imageSrc:"https://res.cloudinary.com/dlesei0kn/image/upload/event-image_5_kg1g1t.png",tag:"Events",link:"/learning-center/contactless-entry"}];return o.jsxs(pp,{className:"py-12 sm:py-16",children:[o.jsx(Cw,{title:"Versatile Uses of FlashQR",subtitle:"Explore the possibilities"}),o.jsx(he.ul,{className:"mx-auto grid max-w-6xl grid-cols-1 gap-6 px-6 sm:grid-cols-2 lg:hidden",initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2},variants:od,children:t.map((e,n)=>o.jsxs(he.li,{variants:Mj,className:"group relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm transition-all duration-300 hover:shadow-lg focus-within:shadow-lg",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:e.imageSrc,alt:e.imageAlt,className:"h-48 w-full object-contain bg-slate-50",loading:"lazy"}),o.jsx("span",{className:"absolute left-4 top-4 rounded-full bg-slate-900/80 px-3 py-1 text-xs font-semibold text-white backdrop-blur-sm",children:e.tag}),o.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-300 group-hover:opacity-5",style:{background:"radial-gradient(600px circle at var(--x, 50%) var(--y, 50%), #6366f1 0%, transparent 40%)"}})]}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:e.title}),o.jsx("p",{className:"mt-2 text-slate-600 leading-relaxed",children:e.text}),o.jsxs(jn,{to:e.link,className:"mt-4 inline-flex items-center text-sm font-semibold text-indigo-600 hover:text-indigo-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 rounded-lg",onMouseMove:s=>{var a;const r=(a=s.currentTarget.parentElement)==null?void 0:a.previousElementSibling;if(!r)return;const i=r.getBoundingClientRect();r.style.setProperty("--x",`${s.clientX-i.left}px`),r.style.setProperty("--y",`${s.clientY-i.top}px`)},children:["Learn more",o.jsx(AI,{className:"ml-2"})]})]})]},n))}),o.jsx(he.ul,{className:"mx-auto hidden max-w-6xl flex-col gap-12 px-6 lg:flex",initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2},variants:od,children:t.map((e,n)=>{const s=n%2===0;return o.jsxs(he.li,{variants:Td,className:"relative flex items-center gap-10",children:[o.jsxs("div",{className:`relative w-1/2 ${s?"":"order-2"}`,children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[o.jsx("img",{src:e.imageSrc,alt:e.imageAlt,className:"h-[320px] w-full object-contain bg-slate-50",loading:"lazy"}),o.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(400px_circle_at_20%_20%,rgba(99,102,241,0.08),transparent_40%)]"})]}),o.jsx("span",{className:"absolute -top-3 left-3 rounded-full bg-indigo-600 px-3 py-1 text-xs font-semibold text-white shadow-sm",children:e.tag})]}),o.jsxs("div",{className:`w-1/2 ${s?"":"order-1"}`,children:[o.jsx(he.h3,{variants:Lj,className:"text-2xl font-bold tracking-tight text-slate-900",children:e.title}),o.jsx(he.p,{variants:zNe,className:"mt-3 text-lg text-slate-600 leading-relaxed",children:e.text}),o.jsxs(jn,{to:e.link,className:"inline-flex items-center text-sm font-semibold text-indigo-600 hover:text-indigo-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 rounded-lg mt-4",children:["Learn more",o.jsx(AI,{className:"ml-2"})]})]})]},n)})})]})},HNe=({isLoggedIn:t=!1})=>o.jsxs("main",{className:"w-full relative",children:[o.jsx(pp,{id:"hero",className:"relative",children:o.jsx("div",{className:"relative z-10 mx-auto max-w-7xl px-6 py-6 sm:py-4 lg:px-8",children:o.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[o.jsxs(he.div,{variants:od,initial:"hidden",animate:"show",className:"text-center lg:text-left flex-1",children:[o.jsx(he.h1,{variants:Lj,className:"text-4xl sm:text-5xl md:text-7xl font-bold tracking-tight bg-gradient-to-r from-slate-900 via-indigo-900 to-slate-900 bg-clip-text text-transparent leading-tight",children:"About FlashQR"}),o.jsx(he.p,{variants:Lj,className:"mt-4 sm:mt-6 text-lg sm:text-xl leading-relaxed text-slate-700 max-w-full lg:max-w-2xl",children:"FlashQR exists to simplify QR code management. Our mission is to make QR code creation effortless, organized, and professional. Name, customize, logo, and export—all in seconds."})]}),o.jsx(he.div,{className:"flex items-center justify-center relative flex-1",initial:{opacity:0,scale:.8,rotate:-5},animate:{opacity:1,scale:1,rotate:0},transition:{duration:1,delay:.3,type:"spring",bounce:.3},children:o.jsxs(he.div,{className:"relative rounded-3xl p-6 sm:p-8 bg-white border-2 border-blue-400 shadow-[0\\_0\\_10px\\_rgba(59,130,246,0.4)]",whileHover:{scale:1.05,rotate:2,transition:{duration:.3}},children:[o.jsx(mq,{value:"https://flashqr.netlify.app",size:200,bgColor:"transparent",fgColor:"#1e293b",level:"Q",className:"rounded-2xl"}),o.jsx("div",{className:"mt-4 text-center text-sm sm:text-base text-slate-500 font-medium",children:"[https://flashqr.netlify.app]"})]})})]})})}),o.jsx(pp,{id:"steps",className:"relative",children:o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto mt-8 px-6 py-8 sm:py-8 lg:px-8",children:[o.jsx(Cw,{title:"Create QR Codes in Simple Steps"}),o.jsx(he.div,{className:"mx-auto mt-4 grid gap-8 md:grid-cols-3",initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2},variants:od,children:[{title:"Enter Details",description:"QR code name & the URL.",illustration:"https://illustrations.popsy.co/blue/work-from-home.svg",color:"from-blue-500 to-indigo-600"},{title:"Customize",description:"Pick colors, error correction, & upload your logo.",illustration:"https://illustrations.popsy.co/blue/graphic-design.svg",color:"from-purple-500 to-pink-600"},{title:"Generate & Export",description:"Download PNG, JPG, PDF.",illustration:"https://res.cloudinary.com/dlesei0kn/image/upload/v1755428765/Untitled_design_nbtqpo.png",color:"from-green-500 to-emerald-600"}].map((e,n)=>o.jsxs(he.div,{variants:Mj,className:"group relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-slate-50 rounded-2xl shadow-lg group-hover:shadow-2xl transition-all duration-500"}),o.jsxs("div",{className:"relative flex flex-col items-center p-8 text-center h-full",children:[o.jsx("img",{src:e.illustration,alt:e.title,className:"w-24 h-24 mb-6 group-hover:scale-110 transition-transform duration-300",style:{objectFit:"contain"}}),o.jsx("div",{className:"absolute top-4 left-6 text-6xl font-black text-slate-100 group-hover:text-slate-200 transition-colors",children:e.step}),o.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-4 relative z-10",children:["Step ",n+1,": ",e.title]}),o.jsx("p",{className:"text-slate-600 leading-relaxed relative z-10",children:e.description})]})]},n))})]})}),o.jsxs(pp,{id:"who-uses",className:"px-6 py-8 lg:px-8",children:[o.jsx(Cw,{title:"Who Uses FlashQR?"}),o.jsx(he.div,{className:"mx-auto mt-4 max-w-6xl",initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2},variants:od,children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-8",children:[{icon:zge,label:"Entrepreneurs",color:"from-blue-500 to-cyan-500"},{icon:TI,label:"Small Businesses",color:"from-green-500 to-emerald-500"},{icon:qge,label:"Startups",color:"from-purple-500 to-violet-500"},{icon:Hge,label:"Event Organizers",color:"from-pink-500 to-rose-500"},{icon:$ge,label:"Marketers",color:"from-orange-500 to-red-500"},{icon:TI,label:"Restaurants & Cafés",color:"from-yellow-500 to-amber-500"}].map(({icon:e,label:n,color:s})=>o.jsxs(he.div,{variants:Mj,className:"group flex flex-col items-center text-center",children:[o.jsxs("div",{className:`relative w-20 h-20 rounded-2xl bg-gradient-to-br ${s} shadow-lg mb-4 group-hover:shadow-xl group-hover:scale-110 transition-all duration-300 flex items-center justify-center`,children:[o.jsx(e,{className:"text-white text-2xl"}),o.jsx("div",{className:"absolute inset-0 rounded-2xl bg-white/20 group-hover:bg-white/30 transition-colors"})]}),o.jsx("p",{className:"text-sm font-semibold text-slate-900 group-hover:text-indigo-600 transition-colors",children:n})]},n))})})]}),o.jsx($Ne,{}),o.jsx(qNe,{}),o.jsxs(pp,{id:"cta",className:"px-6 py-24 text-center bg-gradient-to-br from-indigo-900 via-slate-900 to-purple-900 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.03'%3E%3Ccircle cx='30' cy='30' r='3'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),o.jsxs(he.div,{className:"relative z-10",initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.3},variants:od,children:[o.jsx(he.h3,{variants:Td,className:"text-4xl md:text-5xl font-bold tracking-tight text-white",children:"Ready to Transform Your QR Workflow?"}),o.jsx(he.p,{variants:Td,className:"mx-auto mt-6 max-w-3xl text-xl text-slate-300 leading-relaxed",children:"Join thousands of users and start creating branded QR codes instantly."}),o.jsx(he.div,{variants:Td,className:"mt-10 flex justify-center gap-6 flex-wrap",children:o.jsx("a",{href:"/plans-and-quota",className:"inline-flex items-center rounded-xl px-10 py-5 text-lg font-semibold text-white ring-2 ring-white/30 bg-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-white/20 hover:ring-white/50",children:"View Pricing"})})]})]})]}),$L=({color:t="currentColor",size:e=20})=>o.jsx(i6,{color:t,size:e}),QNe=()=>{const{user:t}=_s(),[e,n]=j.useState("Free"),[s,r]=j.useState(!0),[i,a]=j.useState(null),[l,c]=j.useState("email");j.useEffect(()=>{(async()=>{if(t)try{const x=Lt(dt,"users",t.uid),v=await ws(x);if(v.exists()){const y=v.data();n(y.subscriptionPlan||"Free")}}catch(x){console.error("Error fetching user document:",x)}r(!1)})()},[t]);const u="contact.flashqr@gmail.com",d=e==="Premium",h="https://wa.me/916006072335",f=[{question:"How long does support usually take to respond?",answer:"We aim to respond to all email inquiries within 24 hours.  WhatsApp 'premium' users typically receive responses within 4-6 hours."},{question:"Do you offer enterprise solutions?",answer:"Yes! Contact us with your requirements and we'll provide a customized solution for your business needs."}],m=p=>{a(i===p?null:p)};return s?o.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center gap-4",children:[o.jsx(hS,{className:"w-8 h-8 text-blue-600 animate-spin"}),o.jsx("p",{className:"text-gray-600",children:"Loading your contact options..."})]}):o.jsx("div",{className:"py-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16",children:[o.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold text-gray-900 mb-4",children:["How can we ",o.jsx("span",{className:"text-blue-600",children:"help you"})," today?"]}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto",children:"Whether you have questions, need technical support, or want to discuss business opportunities, our team is ready to assist."})]}),o.jsxs("div",{className:"mb-20",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsxs("div",{className:"inline-flex bg-gray-100 p-1 rounded-xl",children:[o.jsx("button",{onClick:()=>c("email"),className:`px-6 py-3 rounded-lg font-medium transition-all ${l==="email"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:o.jsxs("span",{className:"flex items-center text-xs",children:[o.jsx(jd,{className:"w-5 h-5 mr-2"}),"Email Support"]})}),d&&o.jsx("button",{onClick:()=>c("whatsapp"),className:`px-6 py-3 rounded-lg font-medium transition-all ${l==="whatsapp"?"bg-white shadow-sm text-green-600":"text-gray-600 hover:text-gray-800"}`,children:o.jsxs("span",{className:"flex items-center text-xs",children:[o.jsx($L,{color:l==="whatsapp"?"#4CAF50":"currentColor",size:20}),o.jsx("span",{className:"ml-2",children:"WhatsApp"})]})})]})}),o.jsx(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-2xl mx-auto",children:l==="email"?o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(jd,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Email Support"}),o.jsx("p",{className:"text-gray-600",children:"Our team will get back to you as soon as possible."})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-blue-50 p-3 rounded-lg mr-4",children:o.jsx(Ui,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Response Time"}),o.jsx("p",{className:"text-gray-600",children:"Within 24 hours"})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-blue-50 p-3 rounded-lg mr-4",children:o.jsx(jd,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Contact Email"}),o.jsx("a",{href:`mailto:${u}`,className:"text-blue-600 hover:text-blue-700 font-medium",children:u})]})]})]}),o.jsx("div",{className:"mt-10 text-center",children:o.jsxs("a",{href:`mailto:${u}`,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:["Send Email",o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor",children:[o.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),o.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})]})})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx($L,{color:"#4CAF50",size:36})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Premium WhatsApp Support"}),o.jsx("p",{className:"text-gray-600",children:"Get faster responses with our dedicated WhatsApp channel."})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-green-50 p-3 rounded-lg mr-4",children:o.jsx(Ui,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Response Time"}),o.jsx("p",{className:"text-gray-600",children:"Typically within 4-6 hours"})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-green-50 p-3 rounded-lg mr-4",children:o.jsx(zd,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Premium Feature"}),o.jsx("p",{className:"text-gray-600",children:"Exclusive to Premium plan subscribers"})]})]})]}),o.jsx("div",{className:"mt-10 text-center",children:o.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 transition-colors",children:"Message on WhatsApp"})})]})},l)]}),o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Common Questions"}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Quick answers to questions you might have about our services and support."})]}),o.jsx("div",{className:"space-y-4",children:f.map((p,x)=>o.jsxs(he.div,{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",whileHover:{y:-2},children:[o.jsxs("button",{onClick:()=>m(x),className:"w-full flex justify-between items-center p-6 text-left",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:p.question}),o.jsx(ZA,{className:`w-5 h-5 text-gray-500 transition-transform ${i===x?"rotate-180":""}`})]}),o.jsx(Zt,{children:i===x&&o.jsx(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"px-6 pb-6 text-gray-600",children:p.answer})})]},x))})]}),!d&&o.jsxs(he.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2},viewport:{once:!0},className:"mt-20 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 sm:p-12 text-center",children:[o.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Upgrade for Priority Support"}),o.jsx("p",{className:"text-blue-100 max-w-2xl mx-auto mb-8",children:"Premium users get faster response times and direct access to our team via WhatsApp."}),o.jsxs("a",{href:"/plans-and-quota",className:"inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-xl shadow-sm text-blue-600 bg-white hover:bg-gray-50 transition-colors",children:["View Plans",o.jsx(zd,{className:"w-5 h-5 ml-2 text-blue-600"})]})]})]})})},GNe=()=>{const[t,e]=j.useState(null),n=[{category:"Getting Started",questions:[{q:"What is FlashQR?",a:"FlashQR is a professional QR code generation platform that allows you to create, customize, and export high-quality static QR codes. You can generate single QR codes or create multiple QR codes in bulk (Premium feature) using CSV files, with options for custom colors, logos, and professional PDF layouts."},{q:"Do I need an account to use FlashQR?",a:"Yes, you need to create a free account to generate QR codes. This allows us to save your QR code history (for paid plan users), manage your quota, and provide you with access to advanced features like collections and bulk generation."},{q:"What types of QR codes can I create?",a:"FlashQR specializes in static URL QR codes. You can create QR codes that link to any website, social media profile, online menu, portfolio, or any other URL. We focus on static QR codes to ensure they work reliably forever without depending on our servers."},{q:"Is FlashQR free to use?",a:"FlashQR offers a free plan with 30 QR codes and basic features. For advanced features like expanded QR code history, bulk generation, more collections, and professional PDF exports, we offer paid plans starting at ₹599 per month."}]},{category:"QR Code Generation",questions:[{q:"Can I customize my QR codes?",a:"Yes! You can customize QR code colors, background colors, upload your own logo, adjust error correction levels, and choose from different sizes. Premium users also get access to advanced export layouts and bulk customization options."},{q:"Can I generate multiple QR codes at once?",a:"Yes, with our Premium plan you can use bulk QR generation. Simply upload a CSV file with your QR code names and URLs, and we'll generate all of them at once. This feature includes error validation and a preview of the uploaded entries before generation."},{q:"What file formats can I download my QR codes in?",a:"All plans support PNG, JPG, and PDF downloads for single QR codes. Collections can be exported as professional PDF documents with Standard and Grid layouts (Premium users get Advanced Collection Export features)."},{q:"How do I upload a CSV for bulk generation?",a:"In the QR generator, switch to 'Bulk' mode and click 'Import CSV'. Your file must include 'name' and 'url' columns. A downloadable template is available, and after uploading, you'll see a preview of the entries along with any detected errors before generating your QR codes."}]},{category:"Plans & Pricing",questions:[{q:"What are the differences between plans?",a:"Free: 30 QR codes, 1 collection, basic features. Basic (₹599/month): 300 QR codes, 10 collections, QR history (900 storage). Standard (₹1,299/month): 900 QR codes, 30 collections, QR history (2,700 storage). Premium (₹2,499/month): 1,500 QR codes, 50 collections, bulk generation, advanced export, priority support, QR history (4,500 storage)."},{q:"How does the payment process work?",a:"After selecting a plan, a modal will open displaying the UPI ID, QR code, and account holder name. Complete the payment using any UPI app, then upload a screenshot of your payment as proof directly in the modal. Your plan will be activated within 24 hours after successful verification."},{q:"What payment methods do you accept?",a:"We currently accept payments via UPI (Unified Payments Interface) to our UPI ID: flashqr.app@oksbi. This includes payments from Google Pay, PhonePe, Paytm, and all major UPI-enabled apps."},{q:"Can I get a refund?",a:"Due to the digital nature of our service and manual verification process, we do not offer refunds for unused time or features. Please carefully review the plan features before purchasing."},{q:"What happens when my subscription expires?",a:"You'll retain all QR codes generated during your subscription, but access to certain features—like expanded QR code history, bulk generation, and additional collections—will be temporarily disabled based on Free plan limits. These features will become available again once you resubscribe."}]},{category:"Features & Collections",questions:[{q:"What are Collections?",a:"Collections allow you to organize your QR codes into groups for better management. Free users get 1 collection, Basic users get up to 10, Standard users get up to 30, and Premium users get up to 50 collections. You can export entire collections as professional PDF documents."},{q:"Can I edit a QR code after creating it?",a:"No, QR codes cannot be edited once created. This is because QR codes are static and changing them would break existing printed materials or shared links. If you need changes, you'll need to create a new QR code."},{q:"How long do my QR codes last?",a:"Your QR codes are static and will work forever as long as the destination URL remains active. They don't depend on our servers to function, ensuring maximum reliability for your printed materials and campaigns."},{q:"What is QR code history?",a:"QR code history allows you to view and re-download QR codes you've previously created. Free users can store 30 codes, Basic users 900 codes, Standard users 2,700 codes, and Premium users 4,500 codes. This is useful for reprinting materials or accessing QR codes across different devices."}]},{category:"Technical & Troubleshooting",questions:[{q:"Why did my CSV upload fail?",a:"Common issues include: missing 'name' and 'url' column headers, invalid URLs, empty fields, or incorrect file format. Ensure your CSV is saved in UTF-8 format and all URLs start with 'http://' or 'https://'. Use our template for the correct format."},{q:"What image formats can I use for logos?",a:"You can upload PNG, JPG, or JPEG images for logos. The file size must be under 700KB. For best results, use square images with transparent backgrounds (PNG format)."},{q:"Why can't I access bulk generation?",a:"Bulk QR code generation is a Premium-only feature. You'll need to upgrade to the Premium plan (₹2,499/month) to access this functionality along with advanced export options and expanded storage."},{q:"My QR code isn't scanning properly. What should I do?",a:"Ensure the QR code is printed clearly without distortion, has enough contrast, and isn’t too small. The QR code itself should not be white, while the background can be any color. For better scanning reliability, use a 'Medium' or 'High' error correction level—especially if you're including a logo in the QR code."}]},{category:"Privacy & Security",questions:[{q:"How do you protect my data?",a:"We implement strong security measures including encrypted data storage, secure authentication, and regular security assessments. We never sell your data to third parties and only store necessary information to provide our services."},{q:"What data do you store?",a:"We store your email, username, QR code metadata (names, URLs, creation dates), and customization settings. For Standard and Premium users, we also store QR code history and collection information to enable those features."},{q:"Can I delete my account and data?",a:"Yes, you can request account deletion by emailing us at contact.flashqr@gmail.com. If you have a Premium subscription, you can also use the direct contact form available on the Contact page. Once requested, your account and all associated data will be permanently deleted within 30 days."}]},{category:"Support",questions:[{q:"How can I contact support?",a:"You can reach our support team by emailing contact.flashqr@gmail.com. Premium users receive priority support with faster response times, typically within 4–6 hours. All other users can expect a response within 24 hours."},{q:"Do you offer enterprise solutions?",a:"For enterprise needs or custom requirements, please reach out to us at contact.flashqr@gmail.com with details of your request. We’re happy to discuss tailored solutions, increased usage limits, or specialized features to support your organization."}]}],s=r=>{e(t===r?null:r)};return o.jsx("div",{className:"min-h-screen",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-6",children:o.jsx(aV,{className:"w-8 h-8 text-blue-600"})}),o.jsx(he.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-4",children:"Frequently Asked Questions"}),o.jsx(he.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Find answers to common questions about FlashQR's features, pricing, and functionality"})]}),o.jsx("div",{className:"space-y-8",children:n.map((r,i)=>o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4",children:o.jsx("h2",{className:"text-xl font-bold text-white",children:r.category})}),o.jsx("div",{className:"divide-y divide-gray-200",children:r.questions.map((a,l)=>{const c=`${i}-${l}`,u=t===c;return o.jsxs("div",{className:"group",children:[o.jsxs("button",{onClick:()=>s(c),className:"w-full flex items-center justify-between p-6 text-left hover:bg-gray-50 transition-colors duration-200 focus:outline-none focus:bg-gray-50",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 pr-4",children:a.q}),o.jsx(ZA,{className:`w-5 h-5 text-gray-500 transition-transform duration-200 flex-shrink-0 ${u?"rotate-180":""}`})]}),o.jsx(Zt,{children:u&&o.jsx(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:o.jsx("div",{className:"px-6 pb-6",children:o.jsx("div",{className:"text-gray-700 leading-relaxed",children:typeof a.a=="string"?o.jsx("p",{children:a.a}):a.a})})})})]},c)})})]},i))}),o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mt-12 bg-blue-50 rounded-2xl p-8 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Still have questions?"}),o.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Can't find the answer you're looking for? Our support team is here to help you get the most out of FlashQR."}),o.jsx("a",{href:"mailto:contact.flashqr@gmail.com",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors duration-200",children:"Contact Support"})]})]})})},WNe=()=>{const t=[{id:"acceptance",icon:o.jsx(jo,{className:"w-6 h-6"}),title:"Acceptance of Terms",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:'By accessing or using FlashQR ("the Service"), you agree to be bound by these Terms and Conditions. If you do not agree to these terms, please do not use our service.'}),o.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["FlashQR is a QR code generation platform located at ",o.jsx("span",{className:"font-medium",children:"flashqr.netlify.app"}),", designed for creating, customizing, and exporting professional QR codes for individuals, creators, and businesses."]})]})},{id:"service-description",icon:o.jsx(wc,{className:"w-6 h-6"}),title:"Service Description",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"FlashQR provides QR code generation services including:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[o.jsx("li",{children:"Static QR code creation for URLs"}),o.jsx("li",{children:"Custom color and logo options"}),o.jsx("li",{children:"Multiple export formats (PNG, JPG, PDF)"}),o.jsx("li",{children:"Bulk QR code generation and collections (Premium feature)"}),o.jsx("li",{children:"QR code history (Standard/Premium features)"}),o.jsx("li",{children:"Advanced PDF export layouts (Premium feature)"})]}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"All QR codes generated are static and cannot be edited once created. We do not offer dynamic QR codes or real-time analytics."})]})},{id:"user-accounts",icon:o.jsx(wc,{className:"w-6 h-6"}),title:"User Accounts and Responsibilities",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"To use FlashQR, you must create an account using supported authentication methods. You are responsible for:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[o.jsx("li",{children:"Maintaining the confidentiality of your account credentials"}),o.jsx("li",{children:"All activities that occur under your account"}),o.jsx("li",{children:"Ensuring the accuracy of information you provide"}),o.jsx("li",{children:"Complying with all applicable laws and regulations"})]}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We reserve the right to suspend or terminate accounts that violate these terms or engage in prohibited activities."})]})},{id:"content-usage",icon:o.jsx(fa,{className:"w-6 h-6"}),title:"Content Ownership and Prohibited Use",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You retain full ownership of the URLs and content you embed in QR codes. By uploading logos or custom content, you confirm you have the necessary rights to use such content."}),o.jsx("p",{className:"text-gray-700 leading-relaxed font-semibold",children:"Prohibited Uses:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[o.jsx("li",{children:"Creating QR codes linking to illegal, harmful, or malicious content"}),o.jsx("li",{children:"Generating QR codes for phishing, fraud, or deceptive purposes"}),o.jsx("li",{children:"Interfering with or disrupting the platform or its servers"}),o.jsx("li",{children:"Attempting unauthorized access to any part of the service"}),o.jsx("li",{children:"Using the service to violate any applicable laws or regulations"})]})]})},{id:"subscriptions",icon:o.jsx(n6,{className:"w-6 h-6"}),title:"Subscriptions and Payments",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"FlashQR offers the following subscription plans:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Basic (₹599/month):"})," 200 QR codes, PNG/JPG/PDF downloads, logo upload, email support"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Standard (₹1,599/month):"})," 500 QR codes, all Basic features, QR code history access"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Premium (₹1,999/month):"})," 1000 QR codes, all Standard features, bulk generation, collections, priority support"]})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("p",{className:"text-blue-800 font-semibold mb-2",children:"Payment Process:"}),o.jsxs("ol",{className:"list-decimal pl-6 text-blue-700 space-y-1",children:[o.jsx("li",{children:"Select your desired plan"}),o.jsxs("li",{children:["Pay via UPI to: ",o.jsx("span",{className:"font-mono",children:"flashqr.app@oksbi"})]}),o.jsx("li",{children:"Submit payment screenshot with your registered email"}),o.jsx("li",{children:"Plan activation within 24 hours after verification"})]})]}),o.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[o.jsx("strong",{children:"Important:"})," Each plan lasts for 1 month. No refunds are provided for unused time or features. When subscriptions expire, accounts revert to the Free plan."]})]})},{id:"data-retention",icon:o.jsx(fa,{className:"w-6 h-6"}),title:"Data Retention and Privacy",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We store the following data to provide our services:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[o.jsx("li",{children:"Account information (email, username, profile url)"}),o.jsx("li",{children:"QR code metadata (names, URLs, creation dates, customization settings)"}),o.jsx("li",{children:"Subscription and payment information"}),o.jsx("li",{children:"Usage analytics for service improvement"})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsx("p",{className:"text-green-800 font-semibold mb-2",children:"Feature-Based Data Storage:"}),o.jsxs("ul",{className:"list-disc pl-6 text-green-700 space-y-1",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Standard Plan:"})," QR code history stored for re-download purposes"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Premium Plan:"})," QR code history and collection data for organization features"]})]})]}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We are committed to protecting your privacy and never sell your personal data to third parties. For complete privacy details, please review our Privacy Policy."})]})},{id:"intellectual-property",icon:o.jsx(fa,{className:"w-6 h-6"}),title:"Intellectual Property",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"All FlashQR branding, visual design, code, and proprietary features are the intellectual property of FlashQR. You may not:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[o.jsx("li",{children:"Copy, reproduce, or reuse our designs, logos, or UI/UX elements"}),o.jsx("li",{children:"Reverse engineer or attempt to extract our source code"}),o.jsx("li",{children:"Create derivative works based on our platform"}),o.jsx("li",{children:"Use our branding or trademarks without written permission"})]})]})},{id:"limitations",icon:o.jsx(jo,{className:"w-6 h-6"}),title:"Service Limitations and Liability",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:'FlashQR provides services "as is" and makes no warranties regarding:'}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[o.jsx("li",{children:"Continuous, uninterrupted service availability"}),o.jsx("li",{children:"QR code scanning compatibility with all devices"}),o.jsx("li",{children:"Third-party scanner functionality or reliability"}),o.jsx("li",{children:"Accessibility of external URLs linked in QR codes"})]}),o.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[o.jsx("strong",{children:"Limitation of Liability:"})," FlashQR is not liable for any indirect, incidental, or consequential damages resulting from the use of our services — including, but not limited to, loss of business, data, or printing costs."]})]})},{id:"termination",icon:o.jsx(wc,{className:"w-6 h-6"}),title:"Account Termination",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Either party may terminate the service relationship:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"By You:"})," Stop using the service or request account deletion"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"By Us:"})," For violations of these terms, illegal activity, or service abuse"]})]}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Upon termination, you will retain access to any QR codes generated during your subscription. However, premium features such as QR code history and collections management will be disabled unless you resubscribe."})]})},{id:"changes",icon:o.jsx(jo,{className:"w-6 h-6"}),title:"Changes to Terms",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We reserve the right to modify these Terms and Conditions at any time. Changes will be effective immediately upon posting to our website. Continued use of the service after changes constitutes acceptance of the revised terms."}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We recommend reviewing these terms periodically to stay informed of any updates."})]})},{id:"contact",icon:o.jsx(wc,{className:"w-6 h-6"}),title:"Contact Information",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"For questions about these Terms and Conditions, please contact us:"}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Email:"})," contact.flashqr@gmail.com"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Country:"})," India"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"State:"})," Jammu and Kashmir"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Business Model:"})," Remote development (no physical office)"]})]})})]})}];return o.jsx("div",{className:"min-h-screen",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-6",children:o.jsx(jo,{className:"w-8 h-8 text-blue-600"})}),o.jsx(he.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-4",children:"Terms and Conditions"}),o.jsx(he.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Please read these terms carefully before using FlashQR"}),o.jsxs(he.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-sm text-gray-500 mt-4",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),o.jsx("div",{className:"space-y-8",children:t.map((e,n)=>o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},className:"bg-white rounded-2xl shadow-lg p-8",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mr-4",children:o.jsx("div",{className:"text-blue-600",children:e.icon})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.title})]}),o.jsx("div",{className:"text-gray-700",children:e.content})]},e.id))}),o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mt-12 bg-blue-50 rounded-2xl p-8 text-center border-2 border-blue-200",children:[o.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-4",children:"Agreement Acknowledgment"}),o.jsx("p",{className:"text-blue-800 text-lg",children:"By using FlashQR, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions."})]})]})})},YNe=()=>{const t=[{id:"introduction",icon:o.jsx(fa,{className:"w-6 h-6"}),title:"Introduction",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Welcome to FlashQR. We are committed to protecting your privacy and being transparent about how we handle your information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our QR code generation platform."}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"FlashQR is a professional QR code generation platform that allows you to create, customize, and export high-quality static QR codes for URLs. We offer both single QR code generation and bulk creation capabilities with advanced customization options."})]})},{id:"information-collection",icon:o.jsx(C2,{className:"w-6 h-6"}),title:"Information We Collect",content:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Personal Information"}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"When you create an account, we collect:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[o.jsx("li",{children:"Email address (for account creation and communication)"}),o.jsx("li",{children:"Username (for account identification)"}),o.jsx("li",{children:"Authentication credentials (securely handled by Firebase)"}),o.jsx("li",{children:"Profile picture URL (live link from your Google account or an entered URL)"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"QR Code Data"}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"We store metadata about your QR codes to enable our features:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[o.jsx("li",{children:"QR Code names and associated URLs"}),o.jsx("li",{children:"Creation dates and customization settings"}),o.jsx("li",{children:"Logo uploads (if used)"}),o.jsx("li",{children:"Collection organization data (Premium feature)"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Payment Information"}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"For subscription management:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[o.jsx("li",{children:"Payment screenshots submitted for verification"}),o.jsx("li",{children:"Transaction IDs (when provided)"}),o.jsx("li",{children:"Subscription plan and status information"}),o.jsx("li",{children:"Payment verification timestamps"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Usage Data"}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"To improve our service:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[o.jsx("li",{children:"Device and browser information"}),o.jsx("li",{children:"IP address and general location"}),o.jsx("li",{children:"Feature usage patterns"}),o.jsx("li",{children:"Error logs and performance data"})]})]})]})},{id:"data-usage",icon:o.jsx(os,{className:"w-6 h-6"}),title:"How We Use Your Information",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We use your information to:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Provide Core Services:"})," Generate, store, and manage your QR codes"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Enable Premium Features:"})," QR code history, collections, and bulk generation"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Process Payments:"})," Verify subscription payments and manage billing"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Improve User Experience:"})," Optimize features and fix technical issues"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Communicate:"})," Send important account updates and support responses"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Ensure Security:"})," Protect against fraud and unauthorized access"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Legal Compliance:"})," Meet regulatory requirements and legal obligations"]})]})]})},{id:"data-storage",icon:o.jsx(C2,{className:"w-6 h-6"}),title:"Data Storage and Retention",content:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Feature-Based Storage"}),o.jsxs("ul",{className:"list-disc pl-6 text-blue-800 space-y-1",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Free Plan:"})," QR codes can be generated but are not saved for future access."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Basic Plan:"})," QR code history is saved and available for re-download."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Standard Plan:"})," Extended QR code history is saved and available for re-download."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Premium Plan:"})," Complete QR code history and collection data are stored, enabling advanced organization and management features."]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Retention Periods"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Account Data:"})," Retained while your account is active"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"QR Code Data:"})," Stored according to your subscription level"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Payment Records:"})," Kept for verification and billing purposes"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Usage Analytics:"})," Aggregated data retained for service improvement"]})]})]}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"When you delete your account, we remove your personal data within 30 days, though some anonymized analytics may be retained for service improvement."})]})},{id:"payment-privacy",icon:o.jsx(n6,{className:"w-6 h-6"}),title:"Payment Processing and Privacy",content:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[o.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Payment Verification Process"}),o.jsxs("ol",{className:"list-decimal pl-6 text-yellow-800 space-y-1",children:[o.jsxs("li",{children:["You make payment via UPI to our account: ",o.jsx("span",{className:"font-mono",children:"flashqr.app@oksbi"})]}),o.jsx("li",{children:"You submit a clear, unedited payment screenshot"}),o.jsx("li",{children:"Our team reviews and verifies the payment within 24 hours"}),o.jsx("li",{children:"Your subscription is activated upon successful verification"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Payment Data Security"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[o.jsx("li",{children:"Payment screenshots are watermarked for internal verification"}),o.jsx("li",{children:"All payment proofs are stored securely and accessed only by authorized personnel"}),o.jsx("li",{children:"We never store your UPI PIN, bank passwords, or sensitive financial credentials"}),o.jsx("li",{children:"Payment verification data is retained for billing and dispute resolution"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Important Payment Guidelines"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[o.jsx("li",{children:"Submit clear, unedited screenshots showing transaction details"}),o.jsx("li",{children:"Include transaction amount, UPI ID, date/time, and reference number"}),o.jsx("li",{children:"Fake or edited screenshots result in permanent account suspension"}),o.jsx("li",{children:"Payment proofs expire after 24 hours if not processed"})]})]})]})},{id:"data-sharing",icon:o.jsx(wc,{className:"w-6 h-6"}),title:"Data Sharing and Disclosure",content:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"We Never Sell Your Data"}),o.jsx("p",{className:"text-green-800",children:"FlashQR does not sell, rent, or trade your personal information with third parties for marketing purposes."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Limited Sharing Circumstances"}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"We may share information only in these specific situations:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Service Providers:"})," Firebase (authentication), hosting providers, and payment processors"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Legal Requirements:"})," When required by law or to respond to legal processes"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Safety Protection:"})," To protect user rights, safety, and prevent fraud"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Business Transfers:"})," In connection with mergers, acquisitions, or asset sales"]})]})]})]})},{id:"security",icon:o.jsx(Ro,{className:"w-6 h-6"}),title:"Security Measures",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We implement comprehensive security measures to protect your information:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Encryption:"})," All data transmitted and stored is encrypted"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Authentication:"})," Secure Firebase authentication with industry standards"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Access Controls:"})," Strict access limitations for our team members"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Regular Audits:"})," Ongoing security assessments and updates"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Secure Infrastructure:"})," Hosted on reliable, secure cloud platforms"]})]}),o.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:o.jsxs("p",{className:"text-red-800 text-sm",children:[o.jsx("strong",{children:"Important:"})," While we implement strong security measures, no internet transmission is 100% secure. We cannot guarantee absolute security but continuously work to protect your data."]})})]})},{id:"user-rights",icon:o.jsx(wc,{className:"w-6 h-6"}),title:"Your Rights and Choices",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You have the following rights regarding your personal information:"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Access Rights"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[o.jsx("li",{children:"View your account information"}),o.jsx("li",{children:"Access your QR code history"}),o.jsx("li",{children:"Review subscription details"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Control Rights"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[o.jsx("li",{children:"Update account information"}),o.jsx("li",{children:"Delete individual QR codes"}),o.jsx("li",{children:"Manage collections"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Account Deletion"}),o.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["To delete your account and all associated data, contact us at"," ",o.jsx("a",{href:"mailto:contact.flashqr@gmail.com",className:"text-blue-600 hover:underline font-medium",children:"contact.flashqr@gmail.com"}),". Premium users can also use the priority contact form. Account deletion is permanent and cannot be undone."]})]})]})},{id:"international",icon:o.jsx(C2,{className:"w-6 h-6"}),title:"International Data Transfers",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"FlashQR operates from India, but our services use international cloud infrastructure. Your information may be transferred to and stored in countries outside your residence where data protection laws may differ."}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We ensure appropriate safeguards are in place to protect your information during international transfers, including using reputable service providers with strong privacy commitments."})]})},{id:"children",icon:o.jsx(fa,{className:"w-6 h-6"}),title:"Children's Privacy",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"FlashQR is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13. If we become aware that we have collected personal information from a child under 13, we will take steps to delete such information promptly."}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately."})]})},{id:"changes",icon:o.jsx(os,{className:"w-6 h-6"}),title:"Changes to This Policy",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We may update this Privacy Policy periodically to reflect changes in our practices, technology, legal requirements, or other factors. We will notify you of any material changes by:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-1",children:[o.jsx("li",{children:"Posting the updated policy on our website"}),o.jsx("li",{children:'Updating the "Last Updated" date'}),o.jsx("li",{children:"Sending email notifications for significant changes"})]}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We encourage you to review this Privacy Policy periodically to stay informed about how we protect your information."})]})},{id:"contact",icon:o.jsx(wc,{className:"w-6 h-6"}),title:"Contact Information",content:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"If you have questions about this Privacy Policy or our data practices, please contact us:"}),o.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Email:"}),o.jsx("a",{href:"mailto:contact.flashqr@gmail.com",className:"ml-2 text-blue-600 hover:underline",children:"contact.flashqr@gmail.com"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Business Location:"}),o.jsx("span",{className:"ml-2 text-gray-700",children:"India, Jammu and Kashmir"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Business Model:"}),o.jsx("span",{className:"ml-2 text-gray-700",children:"Remote development (no physical office)"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Response Time:"}),o.jsx("span",{className:"ml-2 text-gray-700",children:"Within 24 hours (Premium users: 4-6 hours)"})]})]})})]})}];return o.jsx("div",{className:"min-h-screen",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-6",children:o.jsx(fa,{className:"w-8 h-8 text-blue-600"})}),o.jsx(he.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-4",children:"Privacy Policy"}),o.jsx(he.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Your privacy is important to us. Learn how we collect, use, and protect your information."}),o.jsxs(he.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-sm text-gray-500 mt-4",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),o.jsx("div",{className:"space-y-8",children:t.map((e,n)=>o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},className:"bg-white rounded-2xl shadow-lg p-8",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mr-4",children:o.jsx("div",{className:"text-blue-600",children:e.icon})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.title})]}),o.jsx("div",{className:"text-gray-700",children:e.content})]},e.id))}),o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mt-12 bg-blue-50 rounded-2xl p-8 text-center border-2 border-blue-200",children:[o.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-4",children:"Our Privacy Commitment"}),o.jsx("p",{className:"text-blue-800 text-lg",children:"We are committed to protecting your privacy and maintaining the security of your personal information. If you have any concerns or questions about our privacy practices, please don't hesitate to contact us."})]})]})})};function KNe(t){return Bo({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}var XNe={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function JNe(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var s=(t.match(/[^0-9]*$/)||"").toString();return XNe[s]?{value:e,unit:s}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function F4(t){var e=JNe(t);return"".concat(e.value).concat(e.unit)}var ZNe=function(t,e,n){var s="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return s;var r=document.createElement("style");document.head.appendChild(r);var i=r.sheet,a=`
    @keyframes `.concat(s,` {
      `).concat(e,`
    }
  `);return i&&i.insertRule(a,0),s},kw=function(){return kw=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},kw.apply(this,arguments)},e4e=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n},t4e=ZNe("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");function Dj(t){var e=t.loading,n=e===void 0?!0:e,s=t.color,r=s===void 0?"#000000":s,i=t.speedMultiplier,a=i===void 0?1:i,l=t.cssOverride,c=l===void 0?{}:l,u=t.size,d=u===void 0?15:u,h=t.margin,f=h===void 0?2:h,m=e4e(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),p=kw({display:"inherit"},c),x=function(v){return{backgroundColor:r,width:F4(d),height:F4(d),margin:F4(f),borderRadius:"100%",display:"inline-block",animation:"".concat(t4e," ").concat(.75/a,"s ").concat(v*.12/a,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?j.createElement("span",kw({style:p},m),j.createElement("span",{style:x(1)}),j.createElement("span",{style:x(2)}),j.createElement("span",{style:x(3)})):null}const n4e=new Map([["bold",j.createElement(j.Fragment,null,j.createElement("path",{d:"M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"}))],["duotone",j.createElement(j.Fragment,null,j.createElement("path",{d:"M216,128l-72,72V56Z",opacity:"0.2"}),j.createElement("path",{d:"M221.66,122.34l-72-72A8,8,0,0,0,136,56v64H40a8,8,0,0,0,0,16h96v64a8,8,0,0,0,13.66,5.66l72-72A8,8,0,0,0,221.66,122.34ZM152,180.69V75.31L204.69,128Z"}))],["fill",j.createElement(j.Fragment,null,j.createElement("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"}))],["light",j.createElement(j.Fragment,null,j.createElement("path",{d:"M220.24,132.24l-72,72a6,6,0,0,1-8.48-8.48L201.51,134H40a6,6,0,0,1,0-12H201.51L139.76,60.24a6,6,0,0,1,8.48-8.48l72,72A6,6,0,0,1,220.24,132.24Z"}))],["regular",j.createElement(j.Fragment,null,j.createElement("path",{d:"M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"}))],["thin",j.createElement(j.Fragment,null,j.createElement("path",{d:"M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"}))]]),s4e=j.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),wH=j.forwardRef((t,e)=>{const{alt:n,color:s,size:r,weight:i,mirrored:a,children:l,weights:c,...u}=t,{color:d="currentColor",size:h,weight:f="regular",mirrored:m=!1,...p}=j.useContext(s4e);return j.createElement("svg",{ref:e,xmlns:"http://www.w3.org/2000/svg",width:r??h,height:r??h,fill:s??d,viewBox:"0 0 256 256",transform:a||m?"scale(-1, 1)":void 0,...p,...u},!!n&&j.createElement("title",null,n),l,c.get(i??f))});wH.displayName="IconBase";const _H=j.forwardRef((t,e)=>j.createElement(wH,{ref:e,...t,weights:n4e}));_H.displayName="ArrowRightIcon";const r4e=_H,i4e=()=>{const[t,e]=j.useState("Pending"),[n,s]=j.useState(null),{user:r}=_s(),[i,a]=j.useState(!1),[l,c]=j.useState(!0),[u,d]=j.useState(null),[h,f]=j.useState(0),[m,p]=j.useState(!1),[x,v]=j.useState(!1),[y,_]=j.useState(""),[N,P]=j.useState(0),[I,D]=j.useState(null),[C,w]=j.useState(""),[A,R]=j.useState([]);vr();const[E,T]=j.useState(!1),[L,z]=j.useState([]),[$,O]=j.useState(!1),[F,Q]=j.useState(!1),[V,W]=j.useState("");j.useEffect(()=>(x?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[x]);const Z=h,[U,G]=j.useState(null);j.useEffect(()=>{(async()=>{try{const ke=Lt(dt,"users",r.uid),Ve=await ws(ke);if(Ve.exists()){const $e=Ve.data(),Te=$e.subscriptionExpiry||null,ze=$e.subscriptionPlan||null,Ge=$e.planPurchasedDate||null;if(d(Te),f($e.quota||0),s(ze),G(Ge),Te){const rt=new Date(Te);p(rt<new Date)}else p(!1);e(ze?"Active":"NoPlan")}else e("NoPlan");c(!1)}catch(ke){console.error("Error fetching plan:",ke),We.error("Failed to fetch plan details."),c(!1)}})()},[r]);const Y=j.useCallback(async()=>{if(r){O(!0);try{const Ne=Qs(Vn(dt,"paymentProofs"),Kn("userId","==",r.uid),Kn("planName","==","Quota"),Bc("createdAt","desc")),Ve=(await xr(Ne)).docs.map($e=>{var Te;return{id:$e.id,...$e.data(),createdAt:(Te=$e.data().createdAt)==null?void 0:Te.toDate()}});z(Ve)}catch(Ne){console.error("Error fetching payment requests:",Ne),We.error("Failed to fetch payment requests.")}finally{O(!1)}}},[r]);j.useEffect(()=>{const Ne=async()=>{try{const Ve=Qs(Vn(dt,"paymentProofs"),Kn("status","==","approved"),Kn("userId","==",r==null?void 0:r.uid)),$e=await xr(Ve);if($e.empty)R([]);else{const Te=$e.docs.map(ze=>({id:ze.id,...ze.data()}));R(Te)}}catch(Ve){console.error("Error fetching active plans:",Ve),We.error("Failed to fetch active plans.")}},ke=async()=>{const Ve=await Ae();T(Ve)};r&&(Ne(),ke(),Y())},[r,Y]);const J=Ne=>Ne?new Date(Ne).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",re=()=>{v(!0)},le=Ne=>{const ke=Ne.target.value;_(ke),P(ke*1)},ue=Ne=>{const ke=Ne.target.files[0];if(ke&&ke.size>700*1024){We.error("File size should be less than 700KB."),D(null),Ne.target.value=null;return}D(ke)},de=async()=>{if(W(""),!F){W("Please accept the terms and conditions, and privacy policy.");return}if(!I){We.error("Please upload payment proof screenshot.");return}if(!r){We.error("You must be logged in to submit payment proof.");return}a(!0);try{const Ne=new FileReader;Ne.readAsDataURL(I),Ne.onload=async()=>{const ke=Ne.result;await I5(Vn(dt,"paymentProofs"),{userId:r.uid,userEmail:r.email,planName:"Quota",quantity:y,price:N,transactionId:C||null,proofImageBase64:ke,status:"pending",createdAt:JB()}),We.success("Payment proof submitted successfully!"),v(!1),_(""),D(null),w(""),T(!0),Y(),Q(!1)},Ne.onerror=ke=>{console.error("Error reading file:",ke),We.error("Failed to read the image file.")}}catch(Ne){console.error("Error submitting payment proof:",Ne),We.error("Failed to submit payment proof. Please try again.")}a(!1)},_e=()=>{v(!1),_(""),P(0),D(null),w(""),Q(!1),W("")},Ae=async()=>{if(!r)return!1;const Ne=Qs(Vn(dt,"paymentProofs"),Kn("userId","==",r.uid),Kn("planName","==","Quota"),Kn("status","==","pending"));try{return!(await xr(Ne)).empty}catch(ke){return console.error("Error checking for pending quota request: ",ke),!1}},Le=Ne=>{if(!Ne)return null;const ke=new Date(Ne),Ve=new Date,$e=ke.getTime()-Ve.getTime(),Te=Math.ceil($e/(1e3*3600*24));return Te>0?Te:0},Ie=()=>o.jsx("div",{className:"mb-3",children:o.jsx("button",{onClick:re,className:"w-full py-2.5 px-4 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg",disabled:E,children:E?"Quota Request Pending":"Buy More Quota"})}),Xe=Ne=>Ne?new Date(Ne).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}):"N/A",ye=u?J(u):null,ae=U?Xe(U):null,nt=ye?Le(u):0,Je=nt?`(${nt} days remaining)`:"",Oe=Ne=>{let ke="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium";const Ve=r==null?void 0:r.uid;if(Ne==="Free")ke+=Ve?" bg-white/90 text-black-800":" bg-gray-200 text-gray-800";else switch(Ne){case"Basic":case"Standard":ke+=" bg-gray-200 text-gray-800";break;case"Premium":ke+=" bg-amber-100 text-gray-800";break;default:ke+=" bg-gray-100 text-gray-700";break}return ke};return o.jsx("div",{className:"px-3 sm:px-4 lg:px-6",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6 p-3",children:l?o.jsxs("div",{className:"text-center py-4",children:[o.jsx(Dj,{color:"#3B82F6",size:8}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):t==="NoPlan"?o.jsxs("div",{className:"text-center py-4",children:[o.jsx(gf,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"No Active Plan"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Subscribe to unlock premium features."})]}):m?o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 p-3 rounded-md",children:[o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx(gf,{className:"h-4 w-4 mr-2"}),o.jsx("span",{className:"font-semibold",children:"Expired Subscription"})]}),n!=="Free"&&o.jsxs("p",{className:"text-xs",children:["Plan Purchased: ",ae,o.jsx("br",{}),"Expired on: ",ye,o.jsx("br",{}),"⚠️ Your plan has expired. Renew below."]})]}):t==="Pending"?o.jsxs("div",{className:"text-center py-4",children:[o.jsx(Dj,{color:"#3B82F6",size:6,className:"mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Waiting for Approval"}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Your ",n," plan is pending.  Typically less than 24 hours."]})]}):o.jsxs("div",{children:[o.jsx("div",{className:"mb-3 p-4 rounded-xl bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 shadow-sm",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold text-sm text-gray-800",children:"Active Subscription"}),n&&o.jsx("span",{className:`${Oe(n)} text-[11px] px-2 py-0.5 rounded-full border`,children:n})]}),o.jsx("p",{className:"text-[12px] text-gray-600 leading-relaxed",children:n!=="Free"&&o.jsxs(o.Fragment,{children:["Purchased on"," ",o.jsx("span",{className:"font-medium text-gray-800",children:ae}),o.jsx("br",{}),Je]})})]}),o.jsx("div",{className:"sm:text-left",children:o.jsxs("div",{className:"relative bg-white/90 px-5 py-4 rounded-xl border border-blue-200 shadow-md",children:[o.jsx("div",{className:"absolute top-2 bottom-2 left-0 w-1 bg-blue-400 rounded-full"}),o.jsx("div",{className:"absolute top-2 bottom-2 right-0 w-1 bg-blue-400 rounded-full"}),o.jsx("p",{className:"text-xs font-medium text-gray-600 tracking-wide uppercase text-center",children:"Remaining Quota"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-1 text-center",children:Z})]})})]})}),Ie(),o.jsx("div",{className:"rounded-xl border border-blue-200 bg-white shadow-sm p-3 mb-4 hover:shadow-md transition-all duration-200",children:o.jsxs("div",{className:"flex flex-row items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs font-semibold text-blue-700 tracking-wide",children:"Usage & Payment"}),o.jsx("span",{className:"text-[11px] text-gray-500",children:"Track usage, view payments & download receipts"})]}),o.jsxs(jn,{to:"/usage-and-payment",className:`inline-flex items-center gap-1 px-3 py-1.5 text-[11px] font-medium 
         text-blue-700 bg-blue-50 hover:bg-blue-100 border border-blue-200 
         rounded-lg transition-colors duration-200`,children:["Open ",o.jsx(r4e,{size:14})]})]})})]})}),o.jsx(Zt,{children:x&&o.jsxs(On,{open:x,onClose:()=>v(!1),className:"relative z-50",children:[o.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm","aria-hidden":"true"}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:o.jsxs(On.Panel,{as:he.div,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,ease:"easeInOut"},className:"bg-white rounded-2xl shadow-xl max-w-md w-full overflow-hidden flex flex-col",style:{maxHeight:"80vh"},children:[o.jsxs("div",{className:"p-4 overflow-y-auto flex-grow",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx(On.Title,{className:"text-lg font-bold text-gray-900",children:"Buy Quota"}),o.jsx("button",{onClick:_e,className:"text-gray-400 hover:text-gray-500 rounded-full focus:outline-none focus:ring-2 focus:ring-gray-200",children:o.jsx(gf,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-300",children:o.jsxs("div",{className:"grid grid-cols-1 gap-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-600",children:"UPI ID"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-xs mr-1",children:"flashqr.app@oksbi"}),o.jsx("button",{onClick:()=>{navigator.clipboard.writeText("flashqr.app@oksbi"),We.success("UPI ID copied!")},className:"text-blue-600 hover:text-blue-800 focus:outline-none",children:o.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})]})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-0.5",children:"Number of QR codes (₹1 each)"}),o.jsx("input",{type:"number",min:"1",value:y,onChange:le,className:"w-full rounded-md border border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2",placeholder:"Quantity"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Total:"}),o.jsxs("span",{className:"text-lg font-bold text-blue-700",children:["₹",N]})]})}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-0.5",children:["Transaction ID ",o.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),o.jsx("input",{type:"text",value:C,onChange:Ne=>w(Ne.target.value),className:"w-full rounded-md border border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2",placeholder:"Transaction ID"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center mb-0.5",children:o.jsxs("label",{className:"block text-xs font-medium text-gray-700",children:["Payment Screenshot ",o.jsx("span",{className:"text-red-500",children:"*"})]})}),o.jsx("div",{className:"mt-1 flex justify-center px-3 pt-2 pb-3 border-2 border-gray-300 border-dashed rounded-md",children:o.jsx("div",{className:"space-y-1 text-center",children:I?o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("img",{src:URL.createObjectURL(I),alt:"Payment proof",className:"h-24 object-contain mb-1 rounded-md"}),o.jsx("button",{onClick:()=>D(null),className:"text-xs text-red-600 hover:text-red-800 focus:outline-none",children:"Remove"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex text-xs text-gray-600",children:o.jsxs("label",{htmlFor:"paymentProofQuota",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[o.jsx("span",{children:"Upload file"}),o.jsx("input",{id:"paymentProofQuota",name:"paymentProofQuota",type:"file",accept:"image/*",className:"sr-only",onChange:ue})]})}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 700KB"})]})})}),!I&&o.jsx("p",{className:"mt-1 text-xs text-red-500 text-center",children:"Required"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"termsAccepted",name:"termsAccepted",type:"checkbox",className:`h-3 w-3 text-blue-600 rounded border-gray-300 focus:ring-blue-500 ${V?"ring-red-500 border-red-500":""}`,checked:F,onChange:Ne=>Q(Ne.target.checked)}),o.jsxs("label",{htmlFor:"termsAccepted",className:"ml-1 block text-xs text-gray-900",children:["I agree to the ",o.jsx(jn,{to:"/terms",className:"text-blue-600 hover:text-blue-800",children:"terms"})," and ",o.jsx(jn,{to:"/privacy",className:"text-blue-600 hover:text-blue-800",children:"privacy policy"}),"."]})]}),V&&o.jsx("p",{className:"mt-0.5 text-xs text-red-500",children:V})]})]})]}),o.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 flex justify-end space-x-2",children:[o.jsx("button",{type:"button",className:"px-3 py-1.5 border border-gray-300 rounded-md text-sm font-medium text-gray-7000 hover:bg-gray-50 focus:outline-none",onClick:_e,children:"Cancel"}),o.jsx("button",{type:"button",className:"px-3 py-1.5 bg-blue-600 rounded-md text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:de,disabled:i||!I||!y||!F,children:i?o.jsxs("span",{className:"flex items-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit"})]})]})})]})})]})})},a4e=(t,e,n,s)=>{const r=e.toLowerCase(),i=t.toLowerCase();if(r===i)return{action:"active",text:"Active Plan",disabled:!0};const a=jl.findIndex(c=>c.name.toLowerCase()===r),l=jl.findIndex(c=>c.name.toLowerCase()===i);if(r==="free"&&i!=="free")return{action:"choose",text:"Choose Plan",disabled:!1,onClick:()=>n(t)};if(a>0&&l>0){if(l<a)return{action:"hidden",text:"",disabled:!0};if(l>a)return{action:"upgrade",text:"Upgrade Plan",disabled:!1,onClick:()=>s(t)}}return{action:"choose",text:"Choose Plan",disabled:!1,onClick:()=>n(t)}},o4e=(t,e=!1)=>{const n="w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2";return t.disabled?t.action==="active"?`${n} bg-green-100 text-green-700 cursor-not-allowed border border-green-200`:`${n} bg-gray-300 text-gray-500 cursor-not-allowed`:e?`${n} bg-blue-600 text-white hover:bg-blue-700 shadow-lg focus:ring-blue-500`:`${n} bg-gray-900 text-white hover:bg-gray-800 focus:ring-gray-500`},l4e=({plan:t,isActive:e=!1,currentPlan:n,onChoosePlan:s,onUpgradePlan:r,showStatus:i,statusMessage:a})=>{const l=a4e(t.name,n,s,r);if(l.action==="hidden")return null;const c=[];return t.name==="Free"?c.push(`${t.features.qrCodes} QR codes on sign up only`):c.push(`${t.features.qrCodes} QR codes`),c.push(`QR History (${t.features.historyStorage} stored)`),c.push("Download PNG & JPG, Export PDF"),c.push(t.features.collections===1?"1 Collection":`${t.features.collections} Collections`),t.features.bulkGeneration&&c.push("Bulk QR Generation"),t.features.advancedExport&&c.push("Advanced Export"),c.push(t.features.prioritySupport?"Priority + Email Support":"Email Support"),o.jsxs("div",{className:`flex flex-col md:flex-row md:items-center md:justify-between gap-6 p-6 rounded-xl border ${e?"border-green-500 bg-green-50":t.popular?"border-blue-500 bg-blue-50":"border-gray-200 bg-white"}`,children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-xl font-semibold",children:t.name}),t.popular&&o.jsxs("span",{className:"flex items-center gap-1 text-blue-600 text-xs font-medium bg-blue-100 px-2 py-0.5 rounded-full",children:[o.jsx(uc,{className:"w-3 h-3"})," Most Popular"]}),e&&o.jsx("span",{className:"flex items-center gap-1 text-green-600 text-xs font-medium bg-green-100 px-2 py-0.5 rounded-full",children:"Active"})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-3",children:t.description}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:t.price===0?"Free":`₹${t.price}/${t.period}`}),i&&a&&o.jsx("p",{className:"mt-2 text-sm text-blue-700 bg-blue-50 px-3 py-2 rounded-lg",children:a}),o.jsx("ul",{className:"mt-4 space-y-2",children:c.map((u,d)=>o.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[o.jsx(Jn,{className:"w-4 h-4 text-green-500 mt-0.5"}),u]},d))})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx("button",{onClick:l.onClick,disabled:l.disabled,className:o4e(l,t.popular),children:l.text})})]})};/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function NH(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function c4e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qL(t,e){return t.get(NH(t,e))}function u4e(t,e,n){c4e(t,e),e.set(t,n)}function d4e(t,e,n){return t.set(NH(t,e),n),n}const h4e=100,jt={},f4e=()=>{jt.previousActiveElement instanceof HTMLElement?(jt.previousActiveElement.focus(),jt.previousActiveElement=null):document.body&&document.body.focus()},m4e=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,s=window.scrollY;jt.restoreFocusTimeout=setTimeout(()=>{f4e(),e()},h4e),window.scrollTo(n,s)}),SH="swal2-",p4e=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Be=p4e.reduce((t,e)=>(t[e]=SH+e,t),{}),g4e=["success","warning","info","question","error"],Pw=g4e.reduce((t,e)=>(t[e]=SH+e,t),{}),jH="SweetAlert2:",OT=t=>t.charAt(0).toUpperCase()+t.slice(1),xi=t=>{console.warn(`${jH} ${typeof t=="object"?t.join(" "):t}`)},sm=t=>{console.error(`${jH} ${t}`)},HL=[],y4e=t=>{HL.includes(t)||(HL.push(t),xi(t))},EH=(t,e=null)=>{y4e(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},E_=t=>typeof t=="function"?t():t,FT=t=>t&&typeof t.toPromise=="function",S1=t=>FT(t)?t.toPromise():Promise.resolve(t),BT=t=>t&&Promise.resolve(t)===t,wi=()=>document.body.querySelector(`.${Be.container}`),j1=t=>{const e=wi();return e?e.querySelector(t):null},wa=t=>j1(`.${t}`),cn=()=>wa(Be.popup),Ug=()=>wa(Be.icon),x4e=()=>wa(Be["icon-content"]),AH=()=>wa(Be.title),VT=()=>wa(Be["html-container"]),TH=()=>wa(Be.image),UT=()=>wa(Be["progress-steps"]),A_=()=>wa(Be["validation-message"]),Pl=()=>j1(`.${Be.actions} .${Be.confirm}`),zg=()=>j1(`.${Be.actions} .${Be.cancel}`),rm=()=>j1(`.${Be.actions} .${Be.deny}`),b4e=()=>wa(Be["input-label"]),$g=()=>j1(`.${Be.loader}`),E1=()=>wa(Be.actions),CH=()=>wa(Be.footer),T_=()=>wa(Be["timer-progress-bar"]),zT=()=>wa(Be.close),v4e=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,$T=()=>{const t=cn();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((i,a)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),c=parseInt(a.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),s=t.querySelectorAll(v4e),r=Array.from(s).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(r))].filter(i=>$i(i))},qT=()=>Tc(document.body,Be.shown)&&!Tc(document.body,Be["toast-shown"])&&!Tc(document.body,Be["no-backdrop"]),C_=()=>{const t=cn();return t?Tc(t,Be.toast):!1},w4e=()=>{const t=cn();return t?t.hasAttribute("data-loading"):!1},_a=(t,e)=>{if(t.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),r=s.querySelector("head");r&&Array.from(r.childNodes).forEach(a=>{t.appendChild(a)});const i=s.querySelector("body");i&&Array.from(i.childNodes).forEach(a=>{a instanceof HTMLVideoElement||a instanceof HTMLAudioElement?t.appendChild(a.cloneNode(!0)):t.appendChild(a)})}},Tc=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let s=0;s<n.length;s++)if(!t.classList.contains(n[s]))return!1;return!0},_4e=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Be).includes(n)&&!Object.values(Pw).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},ya=(t,e,n)=>{if(_4e(t,e),!e.customClass)return;const s=e.customClass[n];if(s){if(typeof s!="string"&&!s.forEach){xi(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof s}"`);return}fn(t,s)}},k_=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Be.popup} > .${Be[e]}`);case"checkbox":return t.querySelector(`.${Be.popup} > .${Be.checkbox} input`);case"radio":return t.querySelector(`.${Be.popup} > .${Be.radio} input:checked`)||t.querySelector(`.${Be.popup} > .${Be.radio} input:first-child`);case"range":return t.querySelector(`.${Be.popup} > .${Be.range} input`);default:return t.querySelector(`.${Be.popup} > .${Be.input}`)}},kH=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},PH=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(t)?t.forEach(r=>{n?r.classList.add(s):r.classList.remove(s)}):n?t.classList.add(s):t.classList.remove(s)}))},fn=(t,e)=>{PH(t,e,!0)},Xa=(t,e)=>{PH(t,e,!1)},ld=(t,e)=>{const n=Array.from(t.children);for(let s=0;s<n.length;s++){const r=n[s];if(r instanceof HTMLElement&&Tc(r,e))return r}},vf=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},br=(t,e="flex")=>{t&&(t.style.display=e)},ri=t=>{t&&(t.style.display="none")},HT=(t,e="block")=>{t&&new MutationObserver(()=>{A1(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},QL=(t,e,n,s)=>{const r=t.querySelector(e);r&&r.style.setProperty(n,s)},A1=(t,e,n="flex")=>{e?br(t,n):ri(t)},$i=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),N4e=()=>!$i(Pl())&&!$i(rm())&&!$i(zg()),Oj=t=>t.scrollHeight>t.clientHeight,S4e=(t,e)=>{let n=t;for(;n&&n!==e;){if(Oj(n))return!0;n=n.parentElement}return!1},RH=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||s>0},QT=(t,e=!1)=>{const n=T_();n&&$i(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},j4e=()=>{const t=T_();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),s=e/n*100;t.style.width=`${s}%`},E4e=()=>typeof window>"u"||typeof document>"u",A4e=`
 <div aria-labelledby="${Be.title}" aria-describedby="${Be["html-container"]}" class="${Be.popup}" tabindex="-1">
   <button type="button" class="${Be.close}"></button>
   <ul class="${Be["progress-steps"]}"></ul>
   <div class="${Be.icon}"></div>
   <img class="${Be.image}" />
   <h2 class="${Be.title}" id="${Be.title}"></h2>
   <div class="${Be["html-container"]}" id="${Be["html-container"]}"></div>
   <input class="${Be.input}" id="${Be.input}" />
   <input type="file" class="${Be.file}" />
   <div class="${Be.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Be.select}" id="${Be.select}"></select>
   <div class="${Be.radio}"></div>
   <label class="${Be.checkbox}">
     <input type="checkbox" id="${Be.checkbox}" />
     <span class="${Be.label}"></span>
   </label>
   <textarea class="${Be.textarea}" id="${Be.textarea}"></textarea>
   <div class="${Be["validation-message"]}" id="${Be["validation-message"]}"></div>
   <div class="${Be.actions}">
     <div class="${Be.loader}"></div>
     <button type="button" class="${Be.confirm}"></button>
     <button type="button" class="${Be.deny}"></button>
     <button type="button" class="${Be.cancel}"></button>
   </div>
   <div class="${Be.footer}"></div>
   <div class="${Be["timer-progress-bar-container"]}">
     <div class="${Be["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),T4e=()=>{const t=wi();return t?(t.remove(),Xa([document.documentElement,document.body],[Be["no-backdrop"],Be["toast-shown"],Be["has-column"]]),!0):!1},Lh=()=>{jt.currentInstance.resetValidationMessage()},C4e=()=>{const t=cn(),e=ld(t,Be.input),n=ld(t,Be.file),s=t.querySelector(`.${Be.range} input`),r=t.querySelector(`.${Be.range} output`),i=ld(t,Be.select),a=t.querySelector(`.${Be.checkbox} input`),l=ld(t,Be.textarea);e.oninput=Lh,n.onchange=Lh,i.onchange=Lh,a.onchange=Lh,l.oninput=Lh,s.oninput=()=>{Lh(),r.value=s.value},s.onchange=()=>{Lh(),r.value=s.value}},k4e=t=>typeof t=="string"?document.querySelector(t):t,P4e=t=>{const e=cn();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},R4e=t=>{window.getComputedStyle(t).direction==="rtl"&&fn(wi(),Be.rtl)},I4e=t=>{const e=T4e();if(E4e()){sm("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Be.container,e&&fn(n,Be["no-transition"]),_a(n,A4e),n.dataset.swal2Theme=t.theme;const s=k4e(t.target);s.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),P4e(t),R4e(s),C4e()},GT=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?L4e(t,e):t&&_a(e,t)},L4e=(t,e)=>{t.jquery?M4e(e,t):_a(e,t.toString())},M4e=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},D4e=(t,e)=>{const n=E1(),s=$g();!n||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?ri(n):br(n),ya(n,e,"actions"),O4e(n,s,e),_a(s,e.loaderHtml||""),ya(s,e,"loader"))};function O4e(t,e,n){const s=Pl(),r=rm(),i=zg();!s||!r||!i||(V4(s,"confirm",n),V4(r,"deny",n),V4(i,"cancel",n),F4e(s,r,i,n),n.reverseButtons&&(n.toast?(t.insertBefore(i,s),t.insertBefore(r,s)):(t.insertBefore(i,e),t.insertBefore(r,e),t.insertBefore(s,e))))}function F4e(t,e,n,s){if(!s.buttonsStyling){Xa([t,e,n],Be.styled);return}fn([t,e,n],Be.styled),s.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),B4(t),B4(e),B4(n)}function B4(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function V4(t,e,n){const s=OT(e);A1(t,n[`show${s}Button`],"inline-block"),_a(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Be[e],ya(t,n,`${e}Button`)}const B4e=(t,e)=>{const n=zT();n&&(_a(n,e.closeButtonHtml||""),ya(n,e,"closeButton"),A1(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},V4e=(t,e)=>{const n=wi();n&&(U4e(n,e.backdrop),z4e(n,e.position),$4e(n,e.grow),ya(n,e,"container"))};function U4e(t,e){typeof e=="string"?t.style.background=e:e||fn([document.documentElement,document.body],Be["no-backdrop"])}function z4e(t,e){e&&(e in Be?fn(t,Be[e]):(xi('The "position" parameter is not valid, defaulting to "center"'),fn(t,Be.center)))}function $4e(t,e){e&&fn(t,Be[`grow-${e}`])}var Qn={innerParams:new WeakMap,domCache:new WeakMap};const q4e=["input","file","range","select","radio","checkbox","textarea"],H4e=(t,e)=>{const n=cn();if(!n)return;const s=Qn.innerParams.get(t),r=!s||e.input!==s.input;q4e.forEach(i=>{const a=ld(n,Be[i]);a&&(W4e(i,e.inputAttributes),a.className=Be[i],r&&ri(a))}),e.input&&(r&&Q4e(e),Y4e(e))},Q4e=t=>{if(!t.input)return;if(!Cs[t.input]){sm(`Unexpected type of input! Expected ${Object.keys(Cs).join(" | ")}, got "${t.input}"`);return}const e=IH(t.input);if(!e)return;const n=Cs[t.input](e,t);br(e),t.inputAutoFocus&&setTimeout(()=>{kH(n)})},G4e=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},W4e=(t,e)=>{const n=cn();if(!n)return;const s=k_(n,t);if(s){G4e(s);for(const r in e)s.setAttribute(r,e[r])}},Y4e=t=>{if(!t.input)return;const e=IH(t.input);e&&ya(e,t,"input")},WT=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},T1=(t,e,n)=>{if(n.inputLabel){const s=document.createElement("label"),r=Be["input-label"];s.setAttribute("for",t.id),s.className=r,typeof n.customClass=="object"&&fn(s,n.customClass.inputLabel),s.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",s)}},IH=t=>{const e=cn();if(e)return ld(e,Be[t]||Be.input)},Rw=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:BT(e)||xi(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Cs={};Cs.text=Cs.email=Cs.password=Cs.number=Cs.tel=Cs.url=Cs.search=Cs.date=Cs["datetime-local"]=Cs.time=Cs.week=Cs.month=(t,e)=>(Rw(t,e.inputValue),T1(t,t,e),WT(t,e),t.type=e.input,t);Cs.file=(t,e)=>(T1(t,t,e),WT(t,e),t);Cs.range=(t,e)=>{const n=t.querySelector("input"),s=t.querySelector("output");return Rw(n,e.inputValue),n.type=e.input,Rw(s,e.inputValue),T1(n,t,e),t};Cs.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");_a(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return T1(t,t,e),t};Cs.radio=t=>(t.textContent="",t);Cs.checkbox=(t,e)=>{const n=k_(cn(),"checkbox");n.value="1",n.checked=!!e.inputValue;const s=t.querySelector("span");return _a(s,e.inputPlaceholder||e.inputLabel),n};Cs.textarea=(t,e)=>{Rw(t,e.inputValue),WT(t,e),T1(t,t,e);const n=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(cn()).width),r=()=>{if(!document.body.contains(t))return;const i=t.offsetWidth+n(t);i>s?cn().style.width=`${i}px`:vf(cn(),"width",e.width)};new MutationObserver(r).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const K4e=(t,e)=>{const n=VT();n&&(HT(n),ya(n,e,"htmlContainer"),e.html?(GT(e.html,n),br(n,"block")):e.text?(n.textContent=e.text,br(n,"block")):ri(n),H4e(t,e))},X4e=(t,e)=>{const n=CH();n&&(HT(n),A1(n,e.footer,"block"),e.footer&&GT(e.footer,n),ya(n,e,"footer"))},J4e=(t,e)=>{const n=Qn.innerParams.get(t),s=Ug();if(!s)return;if(n&&e.icon===n.icon){WL(s,e),GL(s,e);return}if(!e.icon&&!e.iconHtml){ri(s);return}if(e.icon&&Object.keys(Pw).indexOf(e.icon)===-1){sm(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),ri(s);return}br(s),WL(s,e),GL(s,e),fn(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",LH)},GL=(t,e)=>{for(const[n,s]of Object.entries(Pw))e.icon!==n&&Xa(t,s);fn(t,e.icon&&Pw[e.icon]),t3e(t,e),LH(),ya(t,e,"icon")},LH=()=>{const t=cn();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<n.length;s++)n[s].style.backgroundColor=e},Z4e=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,e3e=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,WL=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,s="";e.iconHtml?s=YL(e.iconHtml):e.icon==="success"?(s=Z4e(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?s=e3e:e.icon&&(s=YL({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==s.trim()&&_a(t,s)},t3e=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])QL(t,n,"background-color",e.iconColor);QL(t,".swal2-success-ring","border-color",e.iconColor)}},YL=t=>`<div class="${Be["icon-content"]}">${t}</div>`,n3e=(t,e)=>{const n=TH();if(n){if(!e.imageUrl){ri(n);return}br(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),vf(n,"width",e.imageWidth),vf(n,"height",e.imageHeight),n.className=Be.image,ya(n,e,"image")}};let YT=!1,MH=0,DH=0,OH=0,FH=0;const s3e=t=>{t.addEventListener("mousedown",Iw),document.body.addEventListener("mousemove",Lw),t.addEventListener("mouseup",Mw),t.addEventListener("touchstart",Iw),document.body.addEventListener("touchmove",Lw),t.addEventListener("touchend",Mw)},r3e=t=>{t.removeEventListener("mousedown",Iw),document.body.removeEventListener("mousemove",Lw),t.removeEventListener("mouseup",Mw),t.removeEventListener("touchstart",Iw),document.body.removeEventListener("touchmove",Lw),t.removeEventListener("touchend",Mw)},Iw=t=>{const e=cn();if(t.target===e||Ug().contains(t.target)){YT=!0;const n=BH(t);MH=n.clientX,DH=n.clientY,OH=parseInt(e.style.insetInlineStart)||0,FH=parseInt(e.style.insetBlockStart)||0,fn(e,"swal2-dragging")}},Lw=t=>{const e=cn();if(YT){let{clientX:n,clientY:s}=BH(t);e.style.insetInlineStart=`${OH+(n-MH)}px`,e.style.insetBlockStart=`${FH+(s-DH)}px`}},Mw=()=>{const t=cn();YT=!1,Xa(t,"swal2-dragging")},BH=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},i3e=(t,e)=>{const n=wi(),s=cn();if(!(!n||!s)){if(e.toast){vf(n,"width",e.width),s.style.width="100%";const r=$g();r&&s.insertBefore(r,Ug())}else vf(s,"width",e.width);vf(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),ri(A_()),a3e(s,e),e.draggable&&!e.toast?(fn(s,Be.draggable),s3e(s)):(Xa(s,Be.draggable),r3e(s))}},a3e=(t,e)=>{const n=e.showClass||{};t.className=`${Be.popup} ${$i(t)?n.popup:""}`,e.toast?(fn([document.documentElement,document.body],Be["toast-shown"]),fn(t,Be.toast)):fn(t,Be.modal),ya(t,e,"popup"),typeof e.customClass=="string"&&fn(t,e.customClass),e.icon&&fn(t,Be[`icon-${e.icon}`])},o3e=(t,e)=>{const n=UT();if(!n)return;const{progressSteps:s,currentProgressStep:r}=e;if(!s||s.length===0||r===void 0){ri(n);return}br(n),n.textContent="",r>=s.length&&xi("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((i,a)=>{const l=l3e(i);if(n.appendChild(l),a===r&&fn(l,Be["active-progress-step"]),a!==s.length-1){const c=c3e(e);n.appendChild(c)}})},l3e=t=>{const e=document.createElement("li");return fn(e,Be["progress-step"]),_a(e,t),e},c3e=t=>{const e=document.createElement("li");return fn(e,Be["progress-step-line"]),t.progressStepsDistance&&vf(e,"width",t.progressStepsDistance),e},u3e=(t,e)=>{const n=AH();n&&(HT(n),A1(n,e.title||e.titleText,"block"),e.title&&GT(e.title,n),e.titleText&&(n.innerText=e.titleText),ya(n,e,"title"))},VH=(t,e)=>{i3e(t,e),V4e(t,e),o3e(t,e),J4e(t,e),n3e(t,e),u3e(t,e),B4e(t,e),K4e(t,e),D4e(t,e),X4e(t,e);const n=cn();typeof e.didRender=="function"&&n&&e.didRender(n),jt.eventEmitter.emit("didRender",n)},d3e=()=>$i(cn()),UH=()=>{var t;return(t=Pl())===null||t===void 0?void 0:t.click()},h3e=()=>{var t;return(t=rm())===null||t===void 0?void 0:t.click()},f3e=()=>{var t;return(t=zg())===null||t===void 0?void 0:t.click()},qg=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),zH=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},m3e=(t,e,n)=>{zH(t),e.toast||(t.keydownHandler=s=>g3e(e,s,n),t.keydownTarget=e.keydownListenerCapture?window:cn(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Fj=(t,e)=>{var n;const s=$T();if(s.length){t=t+e,t===-2&&(t=s.length-1),t===s.length?t=0:t===-1&&(t=s.length-1),s[t].focus();return}(n=cn())===null||n===void 0||n.focus()},$H=["ArrowRight","ArrowDown"],p3e=["ArrowLeft","ArrowUp"],g3e=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?y3e(e,t):e.key==="Tab"?x3e(e):[...$H,...p3e].includes(e.key)?b3e(e.key):e.key==="Escape"&&v3e(e,t,n)))},y3e=(t,e)=>{if(!E_(e.allowEnterKey))return;const n=k_(cn(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;UH(),t.preventDefault()}},x3e=t=>{const e=t.target,n=$T();let s=-1;for(let r=0;r<n.length;r++)if(e===n[r]){s=r;break}t.shiftKey?Fj(s,-1):Fj(s,1),t.stopPropagation(),t.preventDefault()},b3e=t=>{const e=E1(),n=Pl(),s=rm(),r=zg();if(!e||!n||!s||!r)return;const i=[n,s,r];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const a=$H.includes(t)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<e.children.length;c++){if(l=l[a],!l)return;if(l instanceof HTMLButtonElement&&$i(l))break}l instanceof HTMLButtonElement&&l.focus()}},v3e=(t,e,n)=>{t.preventDefault(),E_(e.allowEscapeKey)&&n(qg.esc)};var gg={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const w3e=()=>{const t=wi();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},qH=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},HH=typeof window<"u"&&!!window.GestureEvent,_3e=()=>{if(HH&&!Tc(document.body,Be.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,fn(document.body,Be.iosfix),N3e()}},N3e=()=>{const t=wi();if(!t)return;let e;t.ontouchstart=n=>{e=S3e(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},S3e=t=>{const e=t.target,n=wi(),s=VT();return!n||!s||j3e(t)||E3e(t)?!1:e===n||!Oj(n)&&e instanceof HTMLElement&&!S4e(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Oj(s)&&s.contains(e))},j3e=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",E3e=t=>t.touches&&t.touches.length>1,A3e=()=>{if(Tc(document.body,Be.iosfix)){const t=parseInt(document.body.style.top,10);Xa(document.body,Be.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},T3e=()=>{const t=document.createElement("div");t.className=Be["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Op=null;const C3e=t=>{Op===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Op=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Op+T3e()}px`)},k3e=()=>{Op!==null&&(document.body.style.paddingRight=`${Op}px`,Op=null)};function QH(t,e,n,s){C_()?KL(t,s):(m4e(n).then(()=>KL(t,s)),zH(jt)),HH?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),qT()&&(k3e(),A3e(),qH()),P3e()}function P3e(){Xa([document.documentElement,document.body],[Be.shown,Be["height-auto"],Be["no-backdrop"],Be["toast-shown"]])}function cd(t){t=I3e(t);const e=gg.swalPromiseResolve.get(this),n=R3e(this);this.isAwaitingPromise?t.isDismissed||(C1(this),e(t)):n&&e(t)}const R3e=t=>{const e=cn();if(!e)return!1;const n=Qn.innerParams.get(t);if(!n||Tc(e,n.hideClass.popup))return!1;Xa(e,n.showClass.popup),fn(e,n.hideClass.popup);const s=wi();return Xa(s,n.showClass.backdrop),fn(s,n.hideClass.backdrop),L3e(t,e,n),!0};function GH(t){const e=gg.swalPromiseReject.get(this);C1(this),e&&e(t)}const C1=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Qn.innerParams.get(t)||t._destroy())},I3e=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),L3e=(t,e,n)=>{var s;const r=wi(),i=RH(e);typeof n.willClose=="function"&&n.willClose(e),(s=jt.eventEmitter)===null||s===void 0||s.emit("willClose",e),i?M3e(t,e,r,n.returnFocus,n.didClose):QH(t,r,n.returnFocus,n.didClose)},M3e=(t,e,n,s,r)=>{jt.swalCloseEventFinishedCallback=QH.bind(null,t,n,s,r);const i=function(a){if(a.target===e){var l;(l=jt.swalCloseEventFinishedCallback)===null||l===void 0||l.call(jt),delete jt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i)}};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},KL=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=jt.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},yg=t=>{let e=cn();if(e||new Vw,e=cn(),!e)return;const n=$g();C_()?ri(Ug()):D3e(e,t),br(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},D3e=(t,e)=>{const n=E1(),s=$g();!n||!s||(!e&&$i(Pl())&&(e=Pl()),br(n),e&&(ri(e),s.setAttribute("data-button-to-replace",e.className),n.insertBefore(s,e)),fn([t,n],Be.loading))},O3e=(t,e)=>{e.input==="select"||e.input==="radio"?z3e(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(FT(e.inputValue)||BT(e.inputValue))&&(yg(Pl()),$3e(t,e))},F3e=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return B3e(n);case"radio":return V3e(n);case"file":return U3e(n);default:return e.inputAutoTrim?n.value.trim():n.value}},B3e=t=>t.checked?1:0,V3e=t=>t.checked?t.value:null,U3e=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,z3e=(t,e)=>{const n=cn();if(!n)return;const s=r=>{e.input==="select"?q3e(n,Dw(r),e):e.input==="radio"&&H3e(n,Dw(r),e)};FT(e.inputOptions)||BT(e.inputOptions)?(yg(Pl()),S1(e.inputOptions).then(r=>{t.hideLoading(),s(r)})):typeof e.inputOptions=="object"?s(e.inputOptions):sm(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},$3e=(t,e)=>{const n=t.getInput();n&&(ri(n),S1(e.inputValue).then(s=>{n.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,br(n),n.focus(),t.hideLoading()}).catch(s=>{sm(`Error in inputValue promise: ${s}`),n.value="",br(n),n.focus(),t.hideLoading()}))};function q3e(t,e,n){const s=ld(t,Be.select);if(!s)return;const r=(i,a,l)=>{const c=document.createElement("option");c.value=l,_a(c,a),c.selected=WH(l,n.inputValue),i.appendChild(c)};e.forEach(i=>{const a=i[0],l=i[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=a,c.disabled=!1,s.appendChild(c),l.forEach(u=>r(c,u[1],u[0]))}else r(s,l,a)}),s.focus()}function H3e(t,e,n){const s=ld(t,Be.radio);if(!s)return;e.forEach(i=>{const a=i[0],l=i[1],c=document.createElement("input"),u=document.createElement("label");c.type="radio",c.name=Be.radio,c.value=a,WH(a,n.inputValue)&&(c.checked=!0);const d=document.createElement("span");_a(d,l),d.className=Be.label,u.appendChild(c),u.appendChild(d),s.appendChild(u)});const r=s.querySelectorAll("input");r.length&&r[0].focus()}const Dw=t=>{const e=[];return t instanceof Map?t.forEach((n,s)=>{let r=n;typeof r=="object"&&(r=Dw(r)),e.push([s,r])}):Object.keys(t).forEach(n=>{let s=t[n];typeof s=="object"&&(s=Dw(s)),e.push([n,s])}),e},WH=(t,e)=>!!e&&e.toString()===t.toString(),Q3e=t=>{const e=Qn.innerParams.get(t);t.disableButtons(),e.input?YH(t,"confirm"):XT(t,!0)},G3e=t=>{const e=Qn.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?YH(t,"deny"):KT(t,!1)},W3e=(t,e)=>{t.disableButtons(),e(qg.cancel)},YH=(t,e)=>{const n=Qn.innerParams.get(t);if(!n.input){sm(`The "input" parameter is needed to be set when using returnInputValueOn${OT(e)}`);return}const s=t.getInput(),r=F3e(t,n);n.inputValidator?Y3e(t,r,e):s&&!s.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||s.validationMessage)):e==="deny"?KT(t,r):XT(t,r)},Y3e=(t,e,n)=>{const s=Qn.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>S1(s.inputValidator(e,s.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):n==="deny"?KT(t,e):XT(t,e)})},KT=(t,e)=>{const n=Qn.innerParams.get(t||void 0);n.showLoaderOnDeny&&yg(rm()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>S1(n.preDeny(e,n.validationMessage))).then(r=>{r===!1?(t.hideLoading(),C1(t)):t.close({isDenied:!0,value:typeof r>"u"?e:r})}).catch(r=>KH(t||void 0,r))):t.close({isDenied:!0,value:e})},XL=(t,e)=>{t.close({isConfirmed:!0,value:e})},KH=(t,e)=>{t.rejectPromise(e)},XT=(t,e)=>{const n=Qn.innerParams.get(t||void 0);n.showLoaderOnConfirm&&yg(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>S1(n.preConfirm(e,n.validationMessage))).then(r=>{$i(A_())||r===!1?(t.hideLoading(),C1(t)):XL(t,typeof r>"u"?e:r)}).catch(r=>KH(t||void 0,r))):XL(t,e)};function Ow(){const t=Qn.innerParams.get(this);if(!t)return;const e=Qn.domCache.get(this);ri(e.loader),C_()?t.icon&&br(Ug()):K3e(e),Xa([e.popup,e.actions],Be.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const K3e=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?br(e[0],"inline-block"):N4e()&&ri(t.actions)};function XH(){const t=Qn.innerParams.get(this),e=Qn.domCache.get(this);return e?k_(e.popup,t.input):null}function JH(t,e,n){const s=Qn.domCache.get(t);e.forEach(r=>{s[r].disabled=n})}function ZH(t,e){const n=cn();if(!(!n||!t))if(t.type==="radio"){const s=n.querySelectorAll(`[name="${Be.radio}"]`);for(let r=0;r<s.length;r++)s[r].disabled=e}else t.disabled=e}function eQ(){JH(this,["confirmButton","denyButton","cancelButton"],!1)}function tQ(){JH(this,["confirmButton","denyButton","cancelButton"],!0)}function nQ(){ZH(this.getInput(),!1)}function sQ(){ZH(this.getInput(),!0)}function rQ(t){const e=Qn.domCache.get(this),n=Qn.innerParams.get(this);_a(e.validationMessage,t),e.validationMessage.className=Be["validation-message"],n.customClass&&n.customClass.validationMessage&&fn(e.validationMessage,n.customClass.validationMessage),br(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",Be["validation-message"]),kH(s),fn(s,Be.inputerror))}function iQ(){const t=Qn.domCache.get(this);t.validationMessage&&ri(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Xa(e,Be.inputerror))}const Fp={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},X3e=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],J3e={allowEnterKey:void 0},Z3e=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],aQ=t=>Object.prototype.hasOwnProperty.call(Fp,t),oQ=t=>X3e.indexOf(t)!==-1,lQ=t=>J3e[t],eSe=t=>{aQ(t)||xi(`Unknown parameter "${t}"`)},tSe=t=>{Z3e.includes(t)&&xi(`The parameter "${t}" is incompatible with toasts`)},nSe=t=>{const e=lQ(t);e&&EH(t,e)},cQ=t=>{t.backdrop===!1&&t.allowOutsideClick&&xi('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&xi(`Invalid theme "${t.theme}"`);for(const e in t)eSe(e),t.toast&&tSe(e),nSe(e)};function uQ(t){const e=wi(),n=cn(),s=Qn.innerParams.get(this);if(!n||Tc(n,s.hideClass.popup)){xi("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=sSe(t),i=Object.assign({},s,r);cQ(i),e.dataset.swal2Theme=i.theme,VH(this,i),Qn.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const sSe=t=>{const e={};return Object.keys(t).forEach(n=>{oQ(n)?e[n]=t[n]:xi(`Invalid parameter to update: ${n}`)}),e};function dQ(){const t=Qn.domCache.get(this),e=Qn.innerParams.get(this);if(!e){hQ(this);return}t.popup&&jt.swalCloseEventFinishedCallback&&(jt.swalCloseEventFinishedCallback(),delete jt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),jt.eventEmitter.emit("didDestroy"),rSe(this)}const rSe=t=>{hQ(t),delete t.params,delete jt.keydownHandler,delete jt.keydownTarget,delete jt.currentInstance},hQ=t=>{t.isAwaitingPromise?(U4(Qn,t),t.isAwaitingPromise=!0):(U4(gg,t),U4(Qn,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},U4=(t,e)=>{for(const n in t)t[n].delete(e)};var iSe=Object.freeze({__proto__:null,_destroy:dQ,close:cd,closeModal:cd,closePopup:cd,closeToast:cd,disableButtons:tQ,disableInput:sQ,disableLoading:Ow,enableButtons:eQ,enableInput:nQ,getInput:XH,handleAwaitingPromise:C1,hideLoading:Ow,rejectPromise:GH,resetValidationMessage:iQ,showValidationMessage:rQ,update:uQ});const aSe=(t,e,n)=>{t.toast?oSe(t,e,n):(cSe(e),uSe(e),dSe(t,e,n))},oSe=(t,e,n)=>{e.popup.onclick=()=>{t&&(lSe(t)||t.timer||t.input)||n(qg.close)}},lSe=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Fw=!1;const cSe=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Fw=!0)}}},uSe=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Fw=!0)}}},dSe=(t,e,n)=>{e.container.onclick=s=>{if(Fw){Fw=!1;return}s.target===e.container&&E_(t.allowOutsideClick)&&n(qg.backdrop)}},hSe=t=>typeof t=="object"&&t.jquery,JL=t=>t instanceof Element||hSe(t),fSe=t=>{const e={};return typeof t[0]=="object"&&!JL(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,s)=>{const r=t[s];typeof r=="string"||JL(r)?e[n]=r:r!==void 0&&sm(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof r}`)}),e};function mSe(...t){return new this(...t)}function pSe(t){class e extends this{_main(s,r){return super._main(s,Object.assign({},t,r))}}return e}const gSe=()=>jt.timeout&&jt.timeout.getTimerLeft(),fQ=()=>{if(jt.timeout)return j4e(),jt.timeout.stop()},mQ=()=>{if(jt.timeout){const t=jt.timeout.start();return QT(t),t}},ySe=()=>{const t=jt.timeout;return t&&(t.running?fQ():mQ())},xSe=t=>{if(jt.timeout){const e=jt.timeout.increase(t);return QT(e,!0),e}},bSe=()=>!!(jt.timeout&&jt.timeout.isRunning());let ZL=!1;const Bj={};function vSe(t="data-swal-template"){Bj[t]=this,ZL||(document.body.addEventListener("click",wSe),ZL=!0)}const wSe=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Bj){const s=e.getAttribute(n);if(s){Bj[n].fire({template:s});return}}};class _Se{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const s=this._getHandlersByEventName(e);s.includes(n)||s.push(n)}once(e,n){const s=(...r)=>{this.removeListener(e,s),n.apply(this,r)};this.on(e,s)}emit(e,...n){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,n)}catch(r){console.error(r)}})}removeListener(e,n){const s=this._getHandlersByEventName(e),r=s.indexOf(n);r>-1&&s.splice(r,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}jt.eventEmitter=new _Se;const NSe=(t,e)=>{jt.eventEmitter.on(t,e)},SSe=(t,e)=>{jt.eventEmitter.once(t,e)},jSe=(t,e)=>{if(!t){jt.eventEmitter.reset();return}e?jt.eventEmitter.removeListener(t,e):jt.eventEmitter.removeAllListeners(t)};var ESe=Object.freeze({__proto__:null,argsToParams:fSe,bindClickHandler:vSe,clickCancel:f3e,clickConfirm:UH,clickDeny:h3e,enableLoading:yg,fire:mSe,getActions:E1,getCancelButton:zg,getCloseButton:zT,getConfirmButton:Pl,getContainer:wi,getDenyButton:rm,getFocusableElements:$T,getFooter:CH,getHtmlContainer:VT,getIcon:Ug,getIconContent:x4e,getImage:TH,getInputLabel:b4e,getLoader:$g,getPopup:cn,getProgressSteps:UT,getTimerLeft:gSe,getTimerProgressBar:T_,getTitle:AH,getValidationMessage:A_,increaseTimer:xSe,isDeprecatedParameter:lQ,isLoading:w4e,isTimerRunning:bSe,isUpdatableParameter:oQ,isValidParameter:aQ,isVisible:d3e,mixin:pSe,off:jSe,on:NSe,once:SSe,resumeTimer:mQ,showLoading:yg,stopTimer:fQ,toggleTimer:ySe});class ASe{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const pQ=["swal-title","swal-html","swal-footer"],TSe=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return DSe(n),Object.assign(CSe(n),kSe(n),PSe(n),RSe(n),ISe(n),LSe(n),MSe(n,pQ))},CSe=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(s=>{Vf(s,["name","value"]);const r=s.getAttribute("name"),i=s.getAttribute("value");!r||!i||(typeof Fp[r]=="boolean"?e[r]=i!=="false":typeof Fp[r]=="object"?e[r]=JSON.parse(i):e[r]=i)}),e},kSe=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(s=>{const r=s.getAttribute("name"),i=s.getAttribute("value");!r||!i||(e[r]=new Function(`return ${i}`)())}),e},PSe=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(s=>{Vf(s,["type","color","aria-label"]);const r=s.getAttribute("type");!r||!["confirm","cancel","deny"].includes(r)||(e[`${r}ButtonText`]=s.innerHTML,e[`show${OT(r)}Button`]=!0,s.hasAttribute("color")&&(e[`${r}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${r}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},RSe=t=>{const e={},n=t.querySelector("swal-image");return n&&(Vf(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},ISe=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Vf(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},LSe=t=>{const e={},n=t.querySelector("swal-input");n&&(Vf(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const s=Array.from(t.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(r=>{Vf(r,["value"]);const i=r.getAttribute("value");if(!i)return;const a=r.innerHTML;e.inputOptions[i]=a})),e},MSe=(t,e)=>{const n={};for(const s in e){const r=e[s],i=t.querySelector(r);i&&(Vf(i,[]),n[r.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},DSe=t=>{const e=pQ.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const s=n.tagName.toLowerCase();e.includes(s)||xi(`Unrecognized element <${s}>`)})},Vf=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&xi([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},gQ=10,OSe=t=>{const e=wi(),n=cn();typeof t.willOpen=="function"&&t.willOpen(n),jt.eventEmitter.emit("willOpen",n);const r=window.getComputedStyle(document.body).overflowY;VSe(e,n,t),setTimeout(()=>{FSe(e,n)},gQ),qT()&&(BSe(e,t.scrollbarPadding,r),w3e()),!C_()&&!jt.previousActiveElement&&(jt.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),jt.eventEmitter.emit("didOpen",n),Xa(e,Be["no-transition"])},Bw=t=>{const e=cn();if(t.target!==e)return;const n=wi();e.removeEventListener("animationend",Bw),e.removeEventListener("transitionend",Bw),n.style.overflowY="auto"},FSe=(t,e)=>{RH(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Bw),e.addEventListener("transitionend",Bw)):t.style.overflowY="auto"},BSe=(t,e,n)=>{_3e(),e&&n!=="hidden"&&C3e(n),setTimeout(()=>{t.scrollTop=0})},VSe=(t,e,n)=>{fn(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),br(e,"grid"),setTimeout(()=>{fn(e,n.showClass.popup),e.style.removeProperty("opacity")},gQ)):br(e,"grid"),fn([document.documentElement,document.body],Be.shown),n.heightAuto&&n.backdrop&&!n.toast&&fn([document.documentElement,document.body],Be["height-auto"])};var eM={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function USe(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=eM.email),t.input==="url"&&(t.inputValidator=eM.url))}function zSe(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(xi('Target parameter is not valid, defaulting to "body"'),t.target="body")}function $Se(t){USe(t),t.showLoaderOnConfirm&&!t.preConfirm&&xi(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),zSe(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),I4e(t)}let cl;var t2=new WeakMap;class Ds{constructor(...e){if(u4e(this,t2,void 0),typeof window>"u")return;cl=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,d4e(t2,this,this._main(cl.params))}_main(e,n={}){if(cQ(Object.assign({},n,e)),jt.currentInstance){const i=gg.swalPromiseResolve.get(jt.currentInstance),{isAwaitingPromise:a}=jt.currentInstance;jt.currentInstance._destroy(),a||i({isDismissed:!0}),qT()&&qH()}jt.currentInstance=cl;const s=HSe(e,n);$Se(s),Object.freeze(s),jt.timeout&&(jt.timeout.stop(),delete jt.timeout),clearTimeout(jt.restoreFocusTimeout);const r=QSe(cl);return VH(cl,s),Qn.innerParams.set(cl,s),qSe(cl,r,s)}then(e){return qL(t2,this).then(e)}finally(e){return qL(t2,this).finally(e)}}const qSe=(t,e,n)=>new Promise((s,r)=>{const i=a=>{t.close({isDismissed:!0,dismiss:a})};gg.swalPromiseResolve.set(t,s),gg.swalPromiseReject.set(t,r),e.confirmButton.onclick=()=>{Q3e(t)},e.denyButton.onclick=()=>{G3e(t)},e.cancelButton.onclick=()=>{W3e(t,i)},e.closeButton.onclick=()=>{i(qg.close)},aSe(n,e,i),m3e(jt,n,i),O3e(t,n),OSe(n),GSe(jt,n,i),WSe(e,n),setTimeout(()=>{e.container.scrollTop=0})}),HSe=(t,e)=>{const n=TSe(t),s=Object.assign({},Fp,e,n,t);return s.showClass=Object.assign({},Fp.showClass,s.showClass),s.hideClass=Object.assign({},Fp.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},QSe=t=>{const e={popup:cn(),container:wi(),actions:E1(),confirmButton:Pl(),denyButton:rm(),cancelButton:zg(),loader:$g(),closeButton:zT(),validationMessage:A_(),progressSteps:UT()};return Qn.domCache.set(t,e),e},GSe=(t,e,n)=>{const s=T_();ri(s),e.timer&&(t.timeout=new ASe(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(br(s),ya(s,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&QT(e.timer)})))},WSe=(t,e)=>{if(!e.toast){if(!E_(e.allowEnterKey)){EH("allowEnterKey"),XSe();return}YSe(t)||KSe(t,e)||Fj(-1,1)}},YSe=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&$i(n))return n.focus(),!0;return!1},KSe=(t,e)=>e.focusDeny&&$i(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&$i(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&$i(t.confirmButton)?(t.confirmButton.focus(),!0):!1,XSe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ds.prototype.disableButtons=tQ;Ds.prototype.enableButtons=eQ;Ds.prototype.getInput=XH;Ds.prototype.disableInput=sQ;Ds.prototype.enableInput=nQ;Ds.prototype.hideLoading=Ow;Ds.prototype.disableLoading=Ow;Ds.prototype.showValidationMessage=rQ;Ds.prototype.resetValidationMessage=iQ;Ds.prototype.close=cd;Ds.prototype.closePopup=cd;Ds.prototype.closeModal=cd;Ds.prototype.closeToast=cd;Ds.prototype.rejectPromise=GH;Ds.prototype.update=uQ;Ds.prototype._destroy=dQ;Object.assign(Ds,ESe);Object.keys(iSe).forEach(t=>{Ds[t]=function(...e){return cl&&cl[t]?cl[t](...e):null}});Ds.DismissReason=qg;Ds.version="11.23.0";const Vw=Ds;Vw.default=Vw;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const JSe=()=>{const[t,e]=j.useState(!1);return{confirm:j.useCallback(({title:s,message:r})=>new Promise(i=>{Vw.fire({title:s||"Are you sure?",text:r||"Are you sure you want to continue?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Continue",cancelButtonText:"Cancel"}).then(a=>{a.isConfirmed?i(!0):i(!1)})}),[]),isOpen:t}},ZSe=({isOpen:t,onClose:e,onConfirm:n,title:s,message:r,confirmText:i="Continue",cancelText:a="Cancel",type:l="warning"})=>{const c={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{duration:.2,ease:"easeInOut"}},exit:{opacity:0,scale:.9,transition:{duration:.15,ease:"easeInOut"}}};Re.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const u=()=>{switch(l){case"danger":return"text-red-600";case"info":return"text-blue-600";default:return"text-yellow-600"}},d=()=>{switch(l){case"danger":return"bg-red-100";case"info":return"bg-blue-100";default:return"bg-yellow-100"}},h=()=>{switch(l){case"danger":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";case"info":return"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500";default:return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"}};return o.jsx(Zt,{children:t&&o.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",initial:"hidden",animate:"visible",exit:"exit",variants:c,onClick:e,children:o.jsxs(he.div,{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full mx-4 p-6",onClick:f=>f.stopPropagation(),variants:c,children:[o.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:o.jsx(bs,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`flex items-center justify-center rounded-full ${d()} p-3 mx-auto mb-4`,children:o.jsx(pr,{className:`h-8 w-8 ${u()}`})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:s}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:r})]}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:e,className:"py-2 px-5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-1 transition-colors duration-200 text-sm",children:a}),o.jsx("button",{onClick:n,className:`py-2 px-5 text-white rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-offset-1 transition-colors duration-200 text-sm ${h()}`,children:i})]})]})})})},eje=()=>{var $e;const[t,e]=j.useState(null),[n,s]=j.useState(null),[r,i]=j.useState(""),[a,l]=j.useState(!1),[c,u]=j.useState(""),[d,h]=j.useState(!1),[f,m]=j.useState(null),p=j.useRef(null),[x,v]=j.useState(null),y=j.useRef(null),_=j.useRef(null),[N,P]=j.useState(!1),[I,D]=j.useState(""),[C,w]=j.useState({}),[A,R]=j.useState({}),[E,T]=j.useState({paymentProof:!1}),[L,z]=j.useState({}),{user:$,loading:O}=_s(),F=vr(),[Q,V]=j.useState(!1),[W,Z]=j.useState(null),[U,G]=j.useState(!1),[Y,J]=j.useState(null);JSe();const re={Basic:"https://res.cloudinary.com/dlesei0kn/image/upload/v1750747123/GooglePay_QRbasic_yl0ahx.png",Standard:"https://res.cloudinary.com/dlesei0kn/image/upload/v1750747124/GooglePay_QR_1_standard_t7zcyb.png",Premium:"https://res.cloudinary.com/dlesei0kn/image/upload/v1750747124/GooglePay_QR_2_premium_vkbnrk.png"},le=[{question:"How do I pay for a subscription?",answer:"You can pay via UPI to our official account: flashqr.app@oksbi. After making the payment, submit a clear, unedited screenshot of the transaction. Our team will manually verify it within 24 hours before activating your subscription."},{question:"What happens after I submit my payment proof?",answer:`Here's how it works:

1. You pay via UPI
2. You upload a clear screenshot
3. Our team verifies it within 24 hours
4. Your subscription is activated once verified`},{question:"How often can I generate QR codes on a paid plan?",answer:"You can generate up to your plan's quota of QR codes each month (300 for Basic, 900 for Standard, and 1500 for Premium)."},{question:"What happens to my QR code history and collections after my subscription ends?",answer:"After your subscription ends, your account reverts to the Free plan. You'll retain access to the QR codes you generated during your subscription. However, the ability to re-download previously generated QR codes from your profile is a Standard feature and managing collections is a Premium feature. If you downgrade from Standard or Premium, these features will no longer be available until you resubscribe to a qualifying plan."}];j.useEffect(()=>{$&&!O?(async()=>{if(!$){u("");return}try{const ze=await ws(Lt(dt,"users",$.uid));ze.exists()?u(ze.data().subscriptionPlan||""):u("")}catch{u("")}})():u("")},[$,O]),j.useEffect(()=>{if(!$)return;(async()=>{try{const ze=Qs(Vn(dt,"paymentProofs"),Kn("userId","==",$.uid)),Ge=await xr(ze),rt={};Ge.docs.forEach(xt=>{var at,Et;const Pe=xt.data(),we=Pe.planName,Me=Pe.status,st=(at=Pe.createdAt)==null?void 0:at.toDate();(!rt[we]||st&&st>((Et=rt[we])==null?void 0:Et.submittedAt))&&(rt[we]={status:Me,submittedAt:st,docId:xt.id})}),w(rt)}catch{}})()},[$]);const ue=Te=>Te?new Date-Te>24*60*60*1e3:!1,de=Te=>{const ze=C[Te];if(!ze)return"none";const{status:Ge,submittedAt:rt}=ze;return Ge==="approved"?"approved":Ge==="rejected"?"rejected":Ge==="pending"?ue(rt)?"expired":"submitted":"none"};j.useEffect(()=>{(()=>{const ze={};Object.keys(C).forEach(Ge=>{const rt=de(Ge);(rt==="expired"||rt==="rejected")&&(ze[Ge]=!0)}),R(ze)})()},[C]);const _e=async Te=>{const ze=C[Te];if(ze&&ze.docId)try{await rx(Lt(dt,"paymentProofs",ze.docId)),We.success("Message dismissed.");const Ge={...C};delete Ge[Te],w(Ge),R(rt=>({...rt,[Te]:!1})),z(rt=>({...rt,[Te]:!1}))}catch{We.error("Failed. Please try again.")}},Ae=Te=>{z(ze=>({...ze,[Te]:!0})),e(Te),l(!0)},Le=Te=>{J(Te),G(!0)},Ie=()=>{G(!1),Y&&(e(Y),l(!0),J(null))},Xe=()=>{G(!1),J(null)},ye=Te=>{if(!$){Z(()=>()=>ae(Te)),V(!0);return}isPlanDisabled(Te)||ae(Te)},ae=Te=>{e(Te),l(!0)},nt=Te=>{const ze=Te.target.files[0];if(ze&&ze.size>700*1024){We.error("File size should be less than 700KB."),s(null),Te.target.value=null,T(Ge=>({...Ge,paymentProof:!0}));return}s(ze),T(Ge=>({...Ge,paymentProof:!1}))},Je=()=>{var Ge;let Te=!0;const ze={paymentProof:!1,termsAccepted:!1};return n||(ze.paymentProof=!0,Te=!1,(Ge=_.current)==null||Ge.scrollIntoView({behavior:"smooth"})),N?D(""):(D("You must accept the terms and conditions and privacy policy."),Te=!1),T(ze),Te},Oe=async()=>{if(!Je()){We.error("Please correct the errors.");return}if(!$){We.error("You must be logged in to submit payment proof."),F("/login");return}h(!0);try{const Te=new FileReader;Te.readAsDataURL(n),Te.onload=async()=>{var Ge;const ze=Te.result;try{await I5(Vn(dt,"paymentProofs"),{userId:$.uid,userEmail:$.email,planName:t,price:((Ge=kl(t))==null?void 0:Ge.price)||0,transactionId:r||null,proofImageBase64:ze,status:"pending",createdAt:JB()}),We.success("Payment proof submitted! Your plan will be activated within 24 hours."),l(!1),e(null),s(null),i(""),T({paymentProof:!1}),P(!1),D(""),z(we=>({...we,[t]:!1}));const rt=Qs(Vn(dt,"paymentProofs"),Kn("userId","==",$.uid)),xt=await xr(rt),Pe={};xt.docs.forEach(we=>{var Ce,ft;const Me=we.data(),st=Me.planName,at=Me.status,Et=(Ce=Me.createdAt)==null?void 0:Ce.toDate();(!Pe[st]||Et&&Et>((ft=Pe[st])==null?void 0:ft.submittedAt))&&(Pe[st]={status:at,submittedAt:Et,docId:we.id})}),w(Pe)}catch{We.error("Failed to submit payment proof. Please try again or contact support.")}},Te.onerror=()=>We.error("Failed to process image file. Please try another file.")}catch{We.error("An unexpected error occurred. Please try again later.")}finally{h(!1)}},Ne=()=>{l(!1),e(null),T({paymentProof:!1}),i(""),s(null),P(!1),D("")},ke=()=>{V(!1),W&&(W(),Z(null))};j.useEffect(()=>{if(!$||O)return;const ze=new URLSearchParams(window.location.search).get("plan");ze&&["Basic","Standard","Premium"].includes(ze)&&(ae(ze),window.history.replaceState({},"",window.location.pathname))},[$,O]);const Ve=Te=>{const ze=de(Te);return ze==="submitted"?o.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 px-4 py-3 rounded-lg text-sm mb-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-blue-600 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"font-medium",children:"Thank you!"}),o.jsx("p",{className:"mt-1",children:"Your payment proof has been submitted and is being reviewed. Please allow up to 24 hours for verification."})]})]})}):(ze==="rejected"||ze==="expired")&&A[Te]?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm mb-4",children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsx("div",{className:"flex items-start",children:o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"font-medium",children:"Payment Issue"}),o.jsx("p",{className:"mt-1",children:ze==="rejected"?"Your payment proof was rejected. Please review and resubmit or contact support.":"Payment verification timed out. Please resubmit or contact support."}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("p",{className:"flex items-center",children:["📧 Contact:",o.jsx("a",{href:"mailto:contact.flashqr@gmail.com",className:"ml-1 text-red-700 hover:text-red-900 underline",children:"contact.flashqr@gmail.com"})]}),o.jsxs("div",{className:"mt-2 flex gap-2",children:[o.jsx("button",{onClick:()=>Ae(Te),className:"bg-blue-600 text-white px-4 rounded focus:outline-none hover:bg-blue-700",children:"Resubmit"}),o.jsx("button",{onClick:()=>_e(Te),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 rounded focus:outline-none",children:"Dismiss"})]})]})]})})})}):null};return o.jsxs("div",{className:"min-h-screen font-sans relative",children:[o.jsx(Jf,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastClassName:"!bg-white !text-gray-800 !shadow-lg !border !border-gray-200",bodyClassName:"!text-gray-800",progressClassName:"!bg-green-500",style:{zIndex:99999,bottom:"20px"}}),$&&!O&&o.jsx(i4e,{}),o.jsx("div",{className:"mt-10 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[o.jsx(he.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-4 bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600",children:"Available Plans"}),o.jsx(he.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},className:"mt-3 text-base text-gray-500 sm:mt-5",children:"Choose a plan that fits your needs. Upgrade via UPI and upload payment proof for manual activation."})]})}),o.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-12",children:o.jsx("div",{className:"space-y-6 divide-y divide-gray-200",children:jl.filter(Te=>Te.name!=="Free").map(Te=>o.jsxs("div",{className:"pt-6 first:pt-0",children:[Ve(Te.name),o.jsx(l4e,{plan:Te,isActive:Te.name===c,currentPlan:c,onChoosePlan:ye,onUpgradePlan:Le,showStatus:!0})]},Te.name))})}),o.jsx(ZSe,{isOpen:U,onClose:Xe,onConfirm:Ie,title:"Confirm Upgrade",message:`Upgrading to the ${Y} plan will start a new 30-day cycle. Any remaining days on your current plan will not carry over, but your unused quotas will be added to your new plan. Do you want to continue?`,confirmText:"Upgrade Now",cancelText:"Cancel",type:"info"}),o.jsx(Zt,{children:a&&o.jsxs(On,{open:a,onClose:Ne,className:"relative z-50",initialFocus:_,children:[o.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm","aria-hidden":"true"}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:o.jsxs(On.Panel,{as:he.div,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,ease:"easeInOut"},className:"bg-white rounded-2xl shadow-xl max-w-sm w-full overflow-hidden flex flex-col",style:{maxHeight:"80vh"},ref:p,children:[o.jsxs("div",{className:"p-5 overflow-y-auto flex-grow",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs(On.Title,{className:"text-lg font-bold text-gray-900",children:["Payment for ",t," Plan"]}),o.jsx("button",{onClick:Ne,className:"text-gray-400 hover:text-gray-500 rounded-full focus:outline-none focus:ring-2 focus:ring-gray-200",children:o.jsx(gf,{className:"h-6 w-6"})})]}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-300",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-700",children:["Pay ₹",($e=kl(t))==null?void 0:$e.price," via UPI"]}),o.jsxs("div",{className:"mb-1 text-xs text-gray-500",children:["UPI: ",o.jsx("span",{className:"font-semibold",children:"flashqr.app@oksbi"}),o.jsx("button",{onClick:()=>{navigator.clipboard.writeText("flashqr.app@oksbi"),We.success("UPI ID copied!")},className:"ml-2 text-blue-600 hover:text-blue-800 focus:outline-none",children:o.jsx("svg",{className:"w-4 h-4 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})]}),o.jsx("img",{src:re[t],alt:`${t} Plan QR Code`,className:"w-28 h-28 rounded-md mx-auto mt-2"}),o.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"After paying, upload screenshot below."})]})}),o.jsx("input",{type:"text",value:r,onChange:Te=>i(Te.target.value),className:"w-full rounded-md border border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 mb-2",placeholder:"UPI transaction ID (optional)",ref:y}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Screenshot ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:`flex flex-col items-center justify-center px-4 pt-3 pb-4 border-2 ${E.paymentProof?"border-red-500":"border-gray-300"} border-dashed rounded-md`,ref:_,style:{borderStyle:"dashed"},children:n?o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("img",{src:URL.createObjectURL(n),alt:"Payment proof preview",className:"h-24 object-contain mb-1 rounded-md"}),o.jsx("button",{onClick:()=>s(null),className:"text-xs text-red-600 hover:text-red-800 focus:outline-none",children:"Remove"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("label",{htmlFor:"paymentProof",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none text-sm",children:[o.jsx("span",{children:"Upload file"}),o.jsx("input",{id:"paymentProof",name:"paymentProof",type:"file",accept:"image/*",className:"sr-only",onChange:nt})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG/JPG up to 700KB"})]})}),E.paymentProof&&o.jsx("p",{className:"mt-1 text-sm text-red-500 text-center",children:"Screenshot required"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"termsAccepted",name:"termsAccepted",type:"checkbox",className:`h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 ${I?"ring-red-500 border-red-500":""}`,checked:N,onChange:Te=>P(Te.target.checked)}),o.jsxs("label",{htmlFor:"termsAccepted",className:"ml-2 block text-xs text-gray-900",children:["I agree to the"," ",o.jsx(jn,{to:"/terms",className:"text-blue-600 hover:text-blue-800",children:"terms"})," & ",o.jsx(jn,{to:"/privacy",className:"text-blue-600 hover:text-blue-800",children:"privacy policy"}),"."]})]}),I&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:I})]})]}),o.jsxs("div",{className:"px-5 py-3 border-t border-gray-200 flex justify-end gap-3",children:[o.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-xs font-medium text-gray-700 hover:bg-gray-50 focus:outline-none",onClick:Ne,children:"Cancel"}),o.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-600 rounded-md text-xs font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Oe,disabled:d||E.paymentProof||!N,children:d?o.jsxs("span",{className:"flex items-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Proof"})]})]})})]})}),o.jsx(Qz,{isOpen:Q,onClose:()=>V(!1),onSuccess:ke}),o.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Frequently Asked Questions"}),o.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"Find answers to common questions about our plans and services"})]}),o.jsx("div",{className:"max-w-3xl mx-auto",children:le.map((Te,ze)=>o.jsxs("div",{className:"border-b border-gray-200 last:border-b-0",children:[o.jsxs("button",{onClick:()=>v(x===ze?null:ze),className:"flex justify-between items-center py-4 w-full text-left focus:outline-none",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:Te.question}),x===ze?o.jsx(dae,{className:"h-5 w-5 text-gray-500"}):o.jsx(ZA,{className:"h-5 w-5 text-gray-500"})]}),o.jsx(Zt,{children:x===ze&&o.jsx(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:o.jsx("div",{className:"pb-6",children:o.jsx("p",{className:"text-gray-600",children:Te.answer})})})})]},ze))})]}),o.jsx("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Need Help Deciding?"}),o.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"Our team is here to help you choose the right plan"})]}),o.jsx("div",{className:"mt-10 grid gap-8 md:grid-cols-1",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 text-center",children:[o.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-md bg-blue-100 text-blue-600 mb-4",children:o.jsx(KNe,{className:"h-6 w-6"})}),o.jsx("h3",{className:"text-base font-medium text-gray-900 mb-2",children:"Email Support"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Get answers within 24 hours"}),o.jsx("a",{href:"mailto:contact.flashqr@gmail.com",className:"text-blue-600 hover:text-blue-800 font-medium text-sm",children:"contact.flashqr@gmail.com"})]})})]})})]})};function tje({title:t,titleId:e,...n},s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const nje=j.forwardRef(tje);function sje({title:t,titleId:e,...n},s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const rje=j.forwardRef(sje);function ije({title:t,titleId:e,...n},s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const aje=j.forwardRef(ije);function oje({title:t,titleId:e,...n},s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const lje=j.forwardRef(oje);function cje({title:t,titleId:e,...n},s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const uje=j.forwardRef(cje),dje=({paymentProofs:t,setPaymentProofs:e,plans:n})=>{const[s,r]=j.useState(null),[i,a]=j.useState("pending"),[l,c]=j.useState([]),[u,d]=j.useState(!1),[h,f]=j.useState(""),[m,p]=j.useState(!1),[x,v]=j.useState(null),[y,_]=j.useState(!1),N=j.useCallback(async(V,W,Z,U,G)=>{console.log(`Approving proof ${V} for user ${W}, plan: ${Z}`);try{const Y=Lt(dt,"users",W),J=Lt(dt,"paymentProofs",V);await XB(dt,async re=>{const le=await re.get(Y),ue=await re.get(J);if(!le.exists())throw new Error("User document not found.");if(!ue.exists())throw new Error("Payment proof not found.");const de=le.data();console.log("Current user data:",de);const _e=new Date().toISOString();if(Z==="Quota"){const Ae=Number(de.quota)||0,Le=Number(U)||0;if(console.log(`Current quota: ${Ae}, Adding: ${Le}`),isNaN(Le)||Le<=0)throw new Error("Invalid quota quantity.");const Ie=Ae+Le;console.log(`New quota: ${Ie}`),re.update(Y,{quota:Ie,updatedAt:new Date().toISOString()}),re.update(J,{status:"approved",approvedAt:new Date().toISOString()})}else{const Ae=n.find(ae=>ae.name===Z);if(!Ae)throw new Error(`Plan "${Z}" not found in plans array.`);Z==="Basic"&&(Ae.quota=300),Z==="Standard"&&(Ae.quota=900),Z==="Premium"&&(Ae.quota=1500);const Le=new Date;Le.setDate(Le.getDate()+30);const Ie=Number(de.quota)||0,Xe=Number(Ae.quota)||0;if(console.log(`Current quota: ${Ie}, Plan quota: ${Xe}`),isNaN(Xe))throw new Error(`Invalid plan quota for plan "${Z}". Quota is NaN.`);if(Xe<=0)throw new Error(`Invalid plan quota for plan "${Z}". Quota must be greater than 0.`);const ye=Ie+Xe;console.log(`New quota: ${ye}`),re.update(Y,{subscriptionPlan:Z,subscriptionExpiry:Le.toISOString(),quota:ye,updatedAt:new Date().toISOString(),planPurchasedDate:_e}),re.update(J,{status:"approved",approvedAt:new Date().toISOString()})}}),e(re=>re.map(le=>le.id===V?{...le,status:"approved"}:le)),Z==="Quota"?We.success(`Approved Quota Purchase of ${U}!`):We.success("Approved & Plan Activated!")}catch(Y){console.error("Approval error:",Y),We.error(Y.message||"Failed to approve payment.")}},[n,e]),P=V=>{v(V),p(!0)},I=()=>{p(!1),f(""),v(null)},D=j.useCallback(async()=>{if(x)try{const V=Lt(dt,"paymentProofs",x);if(!(await ws(V)).exists()){We.error("Payment proof not found.");return}await pi(V,{status:"rejected"}),e(Z=>Z.map(U=>U.id===x?{...U,status:"rejected"}:U)),We.success("Payment rejected.")}catch(V){console.error(V),We.error("Failed to reject payment.")}finally{I()}},[e,x]),C=j.useCallback(async V=>{try{await rx(Lt(dt,"paymentProofs",V)),e(W=>W.filter(Z=>Z.id!==V)),We.success("Payment proof deleted.")}catch(W){console.error(W),We.error("Failed to delete payment proof.")}},[e]),w=j.useCallback(async()=>{try{for(const V of l)await rx(Lt(dt,"paymentProofs",V));e(V=>V.filter(W=>!l.includes(W.id))),c([]),d(!1),We.success("Selected payment proofs deleted.")}catch(V){console.error(V),We.error("Failed to delete selected payment proofs.")}},[l,e]),A=()=>{if(i==="all")return t;let V=t.filter(W=>{var Z;return i==="expired"?W.status==="pending"&&F((Z=W.createdAt)==null?void 0:Z.toDate()):W.status===i});return y&&(V=V.filter(W=>{var Z;return F((Z=W.createdAt)==null?void 0:Z.toDate())})),V},R=V=>{c(W=>W.includes(V)?W.filter(Z=>Z!==V):[...W,V])},E=A().length>0&&l.length===A().length,T=()=>{c(E?[]:A().map(V=>V.id))},L=()=>{l.length>0?d(!0):We.warn("No payment proofs selected for deletion.")},z=()=>{d(!1)},$=()=>{const V=new wt;V.setFontSize(16),V.setFont("helvetica","bold"),V.text("Payment Proofs Report",20,20),V.setFontSize(10),V.setFont("helvetica","normal"),V.text(`Generated on: ${$s(new Date,"PPP")}`,20,30),V.text(`Filter: ${i}`,20,40),V.text(`Total Records: ${A().length}`,20,50);let W=70;V.setFont("helvetica","bold"),V.text("Date",20,W),V.text("Email",60,W),V.text("Plan",120,W),V.text("Amount",150,W),V.text("Status",180,W),W+=10,V.setFont("helvetica","normal"),A().forEach(Z=>{var G,Y;W>270&&(V.addPage(),W=20);const U=(G=Z.createdAt)==null?void 0:G.toDate();V.text(U?$s(U,"dd/MM/yyyy"):"N/A",20,W),V.text(((Y=Z.userEmail)==null?void 0:Y.substring(0,15))||"N/A",60,W),V.text(Z.planName==="Quota"?`Quota(${Z.quantity})`:Z.planName,120,W),V.text(`₹${Z.price}`,150,W),V.text(Z.status,180,W),W+=8}),V.save(`Payment_Proofs_${i}_${$s(new Date,"yyyy-MM-dd")}.pdf`),We.success("Report downloaded successfully!")},O=({isOpen:V,onClose:W,onConfirm:Z,selectedCount:U,isBulkDelete:G})=>{const Y={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{duration:.2,ease:"easeInOut"}},exit:{opacity:0,scale:.9,transition:{duration:.15,ease:"easeInOut"}}};return j.useEffect(()=>(V?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[V]),o.jsx(Zt,{children:V&&o.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:"hidden",animate:"visible",exit:"exit",variants:Y,onClick:W,children:o.jsxs(he.div,{className:"relative bg-white rounded-2xl shadow-lg max-w-md w-full mx-4 p-6",onClick:J=>J.stopPropagation(),variants:Y,children:[o.jsx("button",{onClick:W,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:o.jsx(gf,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center rounded-full bg-red-100 p-3 mx-auto mb-4",children:o.jsx(ma,{className:"h-8 w-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:G?`Delete ${U} Payment Proof(s)?`:"Delete Payment Proof?"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Are you sure you want to delete ",G?"these payment proofs":"this payment proof","? This action cannot be undone."]})]}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:W,className:"py-2 px-5 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Cancel"}),o.jsx("button",{onClick:Z,className:"py-2 px-5 bg-red-600 text-white rounded-xl shadow-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Confirm Delete"})]})]})})})},F=V=>V?new Date-V>24*60*60*1e3:!1,Q=j.useCallback(async()=>{const V=A().filter(W=>{var Z;return W.status==="pending"&&F((Z=W.createdAt)==null?void 0:Z.toDate())});for(const W of V)try{await pi(Lt(dt,"paymentProofs",W.id),{status:"expired"}),e(Z=>Z.map(U=>U.id===W.id?{...U,status:"expired"}:U))}catch(Z){console.error("Error auto-expiring proof:",Z)}},[A,e]);return j.useEffect(()=>{Q();const V=setInterval(Q,6e4);return()=>clearInterval(V)},[Q]),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Payment Proofs"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("select",{className:"block rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",onChange:V=>a(V.target.value),value:i,children:[o.jsx("option",{value:"pending",children:"Pending Proofs"}),o.jsx("option",{value:"approved",children:"Approved Proofs"}),o.jsx("option",{value:"rejected",children:"Rejected Proofs"}),o.jsx("option",{value:"expired",children:"Expired Proofs"}),o.jsx("option",{value:"all",children:"All Proofs"})]}),o.jsxs("button",{onClick:$,className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[o.jsx(Vc,{className:"h-4 w-4 mr-2"}),"Export Data"]}),o.jsxs("button",{onClick:L,className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[o.jsx(ma,{className:"h-4 w-4 mr-2"}),"Bulk Delete"]})]})]}),A().length===0?o.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-gray-500",children:"No payment proofs to review for the selected filter."})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o.jsx("input",{type:"checkbox",checked:E,onChange:T})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User Info"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proof Image"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A().map(V=>{var G,Y,J;const W=(G=V.createdAt)==null?void 0:G.toDate(),Z=F(W),U=Z&&V.status==="pending"?"expired":V.status;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("input",{type:"checkbox",checked:l.includes(V.id),onChange:()=>R(V.id)})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:V.userEmail||"N/A"}),o.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:V.userId})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:V.planName==="Quota"?"Quota Request":V.planName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.transactionId||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:V.proofImageBase64&&o.jsx("button",{onClick:()=>r(V.proofImageBase64),className:"hover:opacity-80 transition-opacity",children:o.jsx("img",{src:V.proofImageBase64,alt:"Payment Proof",className:"h-12 w-12 rounded-md object-cover border border-gray-200"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.planName==="Quota"?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"font-medium",children:[V.quantity," QR codes"]}),o.jsx("br",{}),"₹",V.price]}):o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"font-medium",children:[V.planName," Plan"]}),o.jsx("br",{}),((Y=n.find(re=>re.name===V.planName))==null?void 0:Y.price)&&`₹${(J=n.find(re=>re.name===V.planName))==null?void 0:J.price}`]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U==="expired"?"bg-red-100 text-red-800":U==="pending"?"bg-yellow-100 text-yellow-800":U==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[W?W.toLocaleString():"N/A",Z&&V.status==="pending"&&o.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Expired (24h+)"})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[U==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>N(V.id,V.userId,V.planName,V.quantity,V.price),className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Approve"}),o.jsx("button",{onClick:()=>P(V.id),className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Reject"})]}),(U==="expired"||U==="rejected")&&o.jsx("button",{onClick:()=>C(V.id),className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"}),U==="approved"&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-md",children:[o.jsx(Jn,{className:"h-3 w-3 mr-1"}),"Activated"]})]})]},V.id)})})]})}),o.jsx(Zt,{children:s&&o.jsxs(On,{open:s!==null,onClose:()=>r(null),className:"relative z-50",children:[o.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm","aria-hidden":"true"}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:o.jsxs(On.Panel,{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx(On.Title,{className:"text-lg font-semibold",children:"Payment Proof (Watermarked for Verification)"}),o.jsx("button",{onClick:()=>r(null),className:"text-gray-500 hover:text-gray-700",children:o.jsx(gf,{className:"h-6 w-6"})})]}),o.jsxs("div",{className:"overflow-auto max-h-[80vh] relative",children:[o.jsx("img",{src:s,alt:"Payment Proof",className:"w-full rounded-lg border border-gray-200"}),o.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[o.jsx("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:"FlashQR Internal Verification"}),o.jsx("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:"Confidential - Admin Use Only"})]})]})]})})]})}),o.jsx(O,{isOpen:u,onClose:z,onConfirm:w,selectedCount:l.length,isBulkDelete:!0}),o.jsx(Zt,{children:m&&o.jsxs(On,{open:m,onClose:I,className:"relative z-50",children:[o.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm","aria-hidden":"true"}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:o.jsxs(On.Panel,{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[o.jsx(On.Title,{className:"text-lg font-semibold",children:"Reject Payment Proof"}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{htmlFor:"rejectionReason",className:"block text-sm font-medium text-gray-700",children:"Rejection Reason:"}),o.jsx("textarea",{id:"rejectionReason",rows:3,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 mt-1 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Enter reason for rejection",value:h,onChange:V=>f(V.target.value)})]}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[o.jsx("button",{type:"button",className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:I,children:"Cancel"}),o.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:D,children:"Reject Payment"})]})]})})]})})]})},hje=({allUsers:t,setAllUsers:e,formatDate:n})=>{const[s,r]=j.useState(null),[i,a]=j.useState(""),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[h,f]=j.useState(null),[m,p]=j.useState(""),[x,v]=j.useState(""),[y,_]=j.useState(!1),[N,P]=j.useState(!1),I=()=>i?t.filter(V=>{var W,Z;return((W=V.email)==null?void 0:W.toLowerCase().includes(i.toLowerCase()))||((Z=V.subscriptionPlan)==null?void 0:Z.toLowerCase().includes(i.toLowerCase()))}):t,D=V=>{r(s===V?null:V)},C=V=>{f(V),p(""),c(!0)},w=()=>{c(!1)},A=async()=>{if(h)try{const V=Lt(dt,"users",h.id);await pi(V,{quota:parseInt(m,10)||0}),e(W=>W.map(Z=>Z.id===h.id?{...Z,quota:parseInt(m,10)||0}:Z)),We.success("User quota reset successfully!")}catch(V){console.error("Error resetting user quota:",V),We.error("Failed to reset user quota.")}finally{w()}},R=V=>{f(V),v(""),d(!0)},E=()=>{d(!1)},T=async()=>{if(!(!h||!x))try{const V=Lt(dt,"users",h.id);await pi(V,{subscriptionPlan:x}),e(W=>W.map(Z=>Z.id===h.id?{...Z,subscriptionPlan:x}:Z)),We.success("User plan upgraded successfully!")}catch(V){console.error("Error upgrading user plan:",V),We.error("Failed to upgrade user plan.")}finally{E()}},L=V=>{f(V),_(!0)},z=()=>{_(!1)},$=async()=>{if(h)try{const V=Lt(dt,"users",h.id);await pi(V,{isActive:!1}),e(W=>W.map(Z=>Z.id===h.id?{...Z,isActive:!1}:Z)),We.success("Account deactivated successfully!")}catch(V){console.error("Error deactivating account:",V),We.error("Failed to deactivate account.")}finally{z()}},O=V=>{f(V),P(!0)},F=()=>{P(!1)},Q=async()=>{if(h)try{const V=Lt(dt,"users",h.id);await pi(V,{isBanned:!0}),e(W=>W.map(Z=>Z.id===h.id?{...Z,isBanned:!0}:Z)),We.success("User banned successfully!")}catch(V){console.error("Error banning user:",V),We.error("Failed to ban user.")}finally{F()}};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"All Users"}),o.jsx("div",{className:"mt-2 md:mt-0 w-full md:w-auto",children:o.jsx("input",{type:"text",placeholder:"Search users...",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",value:i,onChange:V=>a(V.target.value)})})]}),I().length===0?o.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-gray-500",children:"No users found."})}):o.jsx("div",{className:"space-y-2",children:I().map(V=>o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>D(V.id),children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:V.email||"N/A"}),o.jsx("div",{className:"text-sm text-gray-500",children:V.subscriptionPlan||"No plan"})]}),o.jsx("div",{children:s===V.id?o.jsx(Qpe,{className:"h-5 w-5 text-gray-400"}):o.jsx(qpe,{className:"h-5 w-5 text-gray-400"})})]}),o.jsx(Zt,{children:s===V.id&&o.jsxs(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"px-4 pb-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-500",children:"User ID"}),o.jsx("div",{className:"text-gray-900 break-all",children:V.id})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-500",children:"Subscription"}),o.jsx("div",{className:"text-gray-900",children:V.subscriptionPlan||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-500",children:"Expiry Date"}),o.jsx("div",{className:"text-gray-900",children:V.subscriptionExpiry?n(V.subscriptionExpiry):"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-500",children:"Remaining Quota"}),o.jsx("div",{className:"text-gray-900",children:V.quota||"0"})]})]}),o.jsxs("div",{className:"mt-4 flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2",children:[o.jsx("button",{onClick:()=>C(V),className:"px-4 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Reset Quota"}),o.jsx("button",{onClick:()=>R(V),className:"px-4 py-2 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-green-300 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Manually Upgrade Plan"}),o.jsx("button",{onClick:()=>L(V),className:"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Deactivate Account"}),o.jsx("button",{onClick:()=>O(V),className:"px-4 py-2 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-300 focus:ring-offset-1 transition-colors duration-200 text-sm",children:"Ban / Suspend User"})]})]})})]},V.id))}),o.jsxs(On,{open:l,onClose:w,className:"relative z-50",children:[o.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:o.jsxs(On.Panel,{className:"mx-auto max-w-md bg-white rounded-lg shadow-xl overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4",children:[o.jsx(On.Title,{className:"text-lg font-medium leading-6 text-gray-900",children:"Reset User Quota"}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{htmlFor:"newQuota",className:"block text-sm font-medium text-gray-700",children:"New Quota:"}),o.jsx("input",{type:"number",id:"newQuota",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:m,onChange:V=>p(V.target.value)})]})]}),o.jsxs("div",{className:"flex justify-end bg-gray-50 px-6 py-4 space-x-2",children:[o.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400",onClick:w,children:"Cancel"}),o.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:A,children:"Reset Quota"})]})]})})]}),o.jsxs(On,{open:u,onClose:E,className:"relative z-50",children:[o.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:o.jsxs(On.Panel,{className:"mx-auto max-w-md bg-white rounded-lg shadow-xl overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4",children:[o.jsx(On.Title,{className:"text-lg font-medium leading-6 text-gray-900",children:"Manually Upgrade Plan"}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{htmlFor:"newPlan",className:"block text-sm font-medium text-gray-700",children:"New Plan:"}),o.jsx("input",{type:"text",id:"newPlan",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:x,onChange:V=>v(V.target.value)})]})]}),o.jsxs("div",{className:"flex justify-end bg-gray-50 px-6 py-4 space-x-2",children:[o.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400",onClick:E,children:"Cancel"}),o.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",onClick:T,children:"Upgrade Plan"})]})]})})]}),o.jsxs(On,{open:y,onClose:z,className:"relative z-50",children:[o.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:o.jsxs(On.Panel,{className:"mx-auto max-w-md bg-white rounded-lg shadow-xl overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4",children:[o.jsx(On.Title,{className:"text-lg font-medium leading-6 text-gray-900",children:"Deactivate Account"}),o.jsx("div",{className:"mt-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"Are you sure you want to deactivate this account? This action cannot be undone."})})]}),o.jsxs("div",{className:"flex justify-end bg-gray-50 px-6 py-4 space-x-2",children:[o.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400",onClick:z,children:"Cancel"}),o.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-yellow-600 rounded-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500",onClick:$,children:"Deactivate"})]})]})})]}),o.jsxs(On,{open:N,onClose:F,className:"relative z-50",children:[o.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:o.jsxs(On.Panel,{className:"mx-auto max-w-md bg-white rounded-lg shadow-xl overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4",children:[o.jsx(On.Title,{className:"text-lg font-medium leading-6 text-gray-900",children:"Ban / Suspend User"}),o.jsx("div",{className:"mt-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"Are you sure you want to ban this user? This will prevent them from accessing the platform."})})]}),o.jsxs("div",{className:"flex justify-end bg-gray-50 px-6 py-4 space-x-2",children:[o.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400",onClick:F,children:"Cancel"}),o.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",onClick:Q,children:"Ban User"})]})]})})]})]})},fje=()=>{const t=[{name:"Basic",price:"$9.99",period:"month",features:["Generate up to 100 QR codes","Basic customization options","Standard support","Download as PNG/SVG"],qrLimit:100,popular:!1},{name:"Standard",price:"$19.99",period:"month",features:["Generate up to 500 QR codes","Advanced customization","Priority support","Download as PNG/SVG/PDF","Bulk generation","Analytics tracking"],qrLimit:500,popular:!0},{name:"Premium",price:"$39.99",period:"month",features:["Unlimited QR codes","Full customization suite","24/7 premium support","All download formats","Advanced analytics","API access","White-label options"],qrLimit:-1,popular:!1}],[e,n]=j.useState([]),[s,r]=j.useState([]),[i,a]=j.useState(null),{user:l,logout:c}=_s(),u=vr(),[d,h]=j.useState(!0),[f,m]=j.useState(0),[p,x]=j.useState(0),[v,y]=j.useState(!1),_=async()=>{try{const D=await xr(Vn(dt,"users"));x(D.size)}catch(D){console.error("Error fetching total users:",D),We.error("Failed to load total users")}},N=async()=>{y(!0);try{const C=(await xr(Vn(dt,"paymentProofs"))).docs.map(R=>({id:R.id,...R.data()}));n(C);const A=(await xr(Vn(dt,"users"))).docs.map(R=>({id:R.id,...R.data()}));r(A),await _(),We.success("Data refreshed successfully")}catch(D){console.error("Error refreshing data:",D),We.error("Failed to refresh data")}finally{y(!1)}};j.useEffect(()=>{(async()=>{if(!l){u("/login");return}try{const C=Lt(dt,"users",l.uid),w=await ws(C);if(!w.exists()){We.error("User record not found."),u("/");return}if(!w.data().isAdmin){a(!1),u("/");return}a(!0),await N()}catch(C){console.error("Error:",C),We.error("Error checking admin status or fetching data."),u("/")}finally{h(!1)}})()},[l,u]);const P=D=>{if(!D)return"N/A";try{return new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(C){return console.error("Error formatting date:",C),"N/A"}},I=async()=>{try{await c(),u("/login")}catch(D){console.error("Error logging out:",D),We.error("Failed to log out")}};return d?o.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Dj,{color:"#4F46E5",size:15}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):i===!1?o.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:o.jsxs("div",{className:"text-center p-8 bg-white rounded-xl shadow-lg max-w-md mx-4",children:[o.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:o.jsx(aje,{className:"h-6 w-6 text-red-600"})}),o.jsx("h1",{className:"mt-3 text-2xl font-bold text-gray-900",children:"Access Denied"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"You don't have permission to access this page."}),o.jsx("button",{onClick:()=>u("/"),className:"mt-6 inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Return to Home"})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[o.jsx(lje,{className:"h-6 w-6 text-indigo-600 mr-2"}),"Admin Dashboard"]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:N,disabled:v,className:"inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[o.jsx(rje,{className:`h-4 w-4 mr-2 ${v?"animate-spin":""}`}),"Refresh"]}),o.jsxs("button",{onClick:I,className:"inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[o.jsx(nje,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:o.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:o.jsx(uje,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{className:"ml-5 w-0 flex-1",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),o.jsx("dd",{className:"flex items-baseline",children:o.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:p})})]})]})})})}),o.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:o.jsxs(Ah.Group,{selectedIndex:f,onChange:m,children:[o.jsx(Ah.List,{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex",children:[o.jsx(Ah,{className:({selected:D})=>`px-6 py-4 text-sm font-medium border-b-2 ${D?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Payment Proofs"}),o.jsx(Ah,{className:({selected:D})=>`px-6 py-4 text-sm font-medium border-b-2 ${D?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"User Management"})]})}),o.jsxs(Ah.Panels,{className:"p-6",children:[o.jsx(Ah.Panel,{children:o.jsx(dje,{paymentProofs:e,setPaymentProofs:n,formatDate:P,plans:t})}),o.jsx(Ah.Panel,{children:o.jsx(hje,{allUsers:s,setAllUsers:r,formatDate:P})})]})]})})]}),o.jsx(Jf,{position:"bottom-center",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,toastClassName:"shadow-lg",style:{marginBottom:"20px"}})]})},tM=({animationType:t,margin:e="my-8 px-4",duration:n=2.5,showProgress:s=!0,onComplete:r})=>{const i=j.useRef(null),a=qU(),l=Mhe(i,{once:!1,amount:.3}),c=j.useMemo(()=>({hidden:{opacity:0,scale:.98},visible:{opacity:1,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94],staggerChildren:.15}}}),[]);j.useMemo(()=>({initial:{scaleX:0},animate:{scaleX:1,transition:{duration:n,ease:[.25,.46,.45,.94]}}}),[n]);const u=j.useMemo(()=>({initial:{scale:0,opacity:0},animate:d=>({scale:1,opacity:1,transition:{duration:.5,delay:d,ease:[.25,.46,.45,.94]}})}),[]);return j.useEffect(()=>{if(l){a.start("visible");const d=setTimeout(()=>{r==null||r()},n*1e3);return()=>clearTimeout(d)}else a.start("hidden")},[l,a,n,r]),o.jsx(he.div,{ref:i,className:`relative flex items-center justify-center w-full bg-blue-50 rounded-xl shadow-md ${e}`,style:{minHeight:"auto"},variants:c,initial:"hidden",animate:a,children:o.jsx("div",{className:"relative px-4 py-4 sm:px-6 sm:py-6 md:px-8 md:py-8",children:o.jsxs(he.div,{className:"flex items-center gap-3 sm:gap-4 md:gap-6",initial:"hidden",animate:"visible",children:[o.jsx(he.div,{variants:u,custom:0,children:o.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg",children:o.jsx(l1,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-16 md:h-16 text-white"})})}),o.jsxs(he.div,{className:"flex items-center gap-2 sm:gap-3 md:gap-4",variants:u,custom:.4,children:[o.jsx(Vc,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-16 md:h-16 text-blue-500"}),o.jsx(Zt,{children:o.jsxs(he.div,{className:"flex items-center gap-1 sm:gap-2",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:.8,staggerChildren:.1},children:[o.jsxs(he.div,{className:"flex items-center gap-1 bg-green-200 px-2 py-1 rounded-md",initial:{scale:0},animate:{scale:1},transition:{delay:.9},children:[o.jsx($R,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-16 md:h-16 text-green-600"}),o.jsx("span",{className:"text-xs font-medium text-green-700",children:"PNG"})]}),o.jsxs(he.div,{className:"flex items-center gap-1 bg-orange-200 px-2 py-1 rounded-md",initial:{scale:0},animate:{scale:1},transition:{delay:1.1},children:[o.jsx($R,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-16 md:h-16 text-orange-600"}),o.jsx("span",{className:"text-xs font-medium text-orange-700",children:"JPG"})]}),o.jsxs(he.div,{className:"flex items-center gap-1 bg-red-200 px-2 py-1 rounded-md",initial:{scale:0},animate:{scale:1},transition:{delay:1.3},children:[o.jsx(jo,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-16 md:h-16 text-red-700"}),o.jsx("span",{className:"text-xs font-medium text-red-700",children:"PDF"})]})]},"formats")})]})]})})})},mje=[{question:"What is FlashQR?",answer:"FlashQR is a fast, user-friendly platform that lets you generate high-quality QR codes from any URL—instantly and without distractions."},{question:"Do I need to sign up to use FlashQR?",answer:"Yes, signing up is required to access your free quota and start generating QR codes."},{question:"How many QR codes can I generate after signing up?",answer:"After signing up, free users can generate up to 30 QR codes and can store them in 1 collection. If you need to create more, you can upgrade to Basic (300 QR codes, 10 collections), Standard (900 QR codes, 30 collections), or Premium (1,500 QR codes, 50 collections, bulk generation). You can also purchase additional quota while keeping your current plan features."},{question:"What types of QR codes can I create?",answer:"FlashQR currently supports static QR codes for URLs. Support for additional types is coming soon."},{question:"Can I edit a QR code after creating it?",answer:"No, QR codes are final once created. If you need changes, you'll need to generate a new one."},{question:"Are the QR codes permanent?",answer:"Yes, All static QR codes generated on FlashQR are permanent and can be used indefinitely."},{question:"Do exports include QR code names or labels?",answer:"Yes, when exporting to PDF, each QR code is displayed along with its assigned name for easy identification."},{question:"Is my data safe on FlashQR?",answer:"Absolutely, Your QR codes and collections are securely stored in the cloud using trusted infrastructure."},{question:"Will I lose my saved QR codes if I downgrade from Premium to the Free plan?",answer:"No, your existing QR codes remain safe. However, you'll be limited to Free plan features: 30 QR codes in history storage and 1 collection. Additional QR codes and collections will be temporarily inaccessible until you upgrade again."},{question:"What are the benefits of a Premium subscription?",answer:"Premium users get up to 1,500 QR codes, bulk generation, up to 50 collections, advanced export features, priority support, and 4,500 QR codes in history storage."}],pje=()=>o.jsx("section",{className:"py-16",id:"faq",children:o.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[o.jsxs("div",{className:"mb-10 text-center",children:[o.jsx("div",{className:"mx-auto mb-4 w-12 h-12 flex items-center justify-center rounded-full bg-blue-100",children:o.jsx(aV,{className:"text-blue-600 w-7 h-7"})}),o.jsx("h2",{className:"text-2xl sm:text-3xl md:text-5xl font-extrabold leading-tight",children:"Frequently Asked Questions"}),o.jsx("p",{className:"mt-4 text-sm sm:text-sm md:text-lg max-w-xl mx-auto",children:"Got questions? We’ve got answers."})]}),o.jsx("div",{className:"space-y-6",children:mje.map((t,e)=>o.jsxs("div",{className:"rounded-lg bg-white shadow-sm p-5 border border-gray-100 transition hover:shadow-md",children:[o.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:t.question}),o.jsx("p",{className:"text-gray-700 text-sm",children:t.answer})]},e))})]})}),gje=()=>{const t=[{icon:o.jsx(zd,{size:24}),title:"Instant Generation",description:"Get QR codes in seconds."},{icon:o.jsx(dS,{size:24}),title:"Logo Upload",description:"Brand your codes with a logo."},{icon:o.jsx(Vc,{size:24}),title:"Multiple Formats",description:"Download in PNG, JPG, or PDF."},{icon:o.jsx(r6,{size:24}),title:"Bulk Generation",description:"Generate hundreds of QR codes at once."},{icon:o.jsx(Lae,{size:24}),title:"CSV Upload",description:"Easily import data from CSV files."},{icon:o.jsx(ig,{size:24}),title:"Collection Export",description:"Export entire collections in tailored PDF layouts."}];return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        .feature-card-new {
          background: white;
          border-radius: 1rem;
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.05);
          display: flex;
          overflow: hidden;
          transition: transform 0.3s ease-out, box-shadow 0.3s ease;
        }

        .feature-card-new:hover {
          transform: translateY(-5px);
          box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
        }

        .icon-column-new {
          flex: 0 0 80px;
          display: grid;
          place-items: center;
          background: #eef5ff;
          color: #3b82f6;
          transition: background-color 0.3s ease;
        }

        .feature-card-new:hover .icon-column-new {
          background-color: #dbeafe;
        }

        .icon-column-new > svg {
          transition: transform 0.3s ease;
        }

        .feature-card-new:hover .icon-column-new > svg {
          transform: scale(1.15);
        }

        .text-column-new {
          padding: 1rem;
        }

        .text-column-new h3 {
          font-size: 1.125rem;
          margin-bottom: 0.25rem;
          font-weight: 600;
          color: #111827;
        }

        .text-column-new p {
          font-size: 0.85rem;
          color: #4b5563;
          line-height: 1.5;
        }
      `}),o.jsx("section",{className:"w-full mb-10",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 justify-items-center",children:t.map((e,n)=>o.jsxs(he.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},viewport:{once:!0},className:"feature-card-new w-full max-w-sm",children:[o.jsx("div",{className:"icon-column-new",children:e.icon}),o.jsxs("div",{className:"text-column-new",children:[o.jsx("h3",{children:e.title}),o.jsx("p",{children:e.description})]})]},e.title))})})})]})},yje=[{imageUrl:"https://res.cloudinary.com/dlesei0kn/image/upload/v1753800084/20250601_011841_0000_rwskf2.png",title:"Generate Static QR Codes",description:"Quickly create static QR codes that direct users to any URL. Perfect for websites, resumes, menus, or event invites. Simple, fast, and effective."},{imageUrl:"https://res.cloudinary.com/dlesei0kn/image/upload/v1753851334/20250601_012048_0000_whdyjw.png",title:"Download in Multiple Formats",description:"Save your QR codes as high-quality PNG, JPG, or PDF files—ideal for both digital and print use."},{imageUrl:"https://res.cloudinary.com/dlesei0kn/image/upload/v1753800961/20250601_011723_0000_yq8ua6.png",title:"Access Your QR Codes Anytime",description:"All QR codes are securely stored in My QR Codes. Re-download, organize, or manage your codes anytime."},{imageUrl:"https://res.cloudinary.com/dlesei0kn/image/upload/v1753805713/file_000000007abc622fbc96f3313ec500c2_mqdaq2.png",title:"Organize with Collections",description:"Group your QR codes into collections. Export entire sets as professional, branded PDFs in various layout styles."}],xje=()=>o.jsx("section",{className:"p-0 m-0 bg-transparent",children:o.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl md:text-5xl font-extrabold leading-tight",style:{color:"inherit"},children:"What We Offer"}),o.jsx("p",{className:"text-sm sm:text-sm md:text-lg max-w-xl mx-auto",style:{color:"inherit"},children:"Discover how FlashQR empowers you to create, manage, and share your QR codes professionally."})]}),o.jsx(gje,{}),o.jsx("div",{children:yje.map((t,e)=>o.jsxs("div",{className:`
                flex items-center justify-between
                ${e%2!==0?"flex-row-reverse":"flex-row"}
                gap-4 sm:gap-6 md:gap-12
                mb-12
                flex-nowrap
              `,children:[o.jsxs("div",{className:"w-[54%] px-2",children:[o.jsx("h3",{className:"text-sm sm:text-base md:text-2xl font-bold mb-2 sm:mb-4",style:{color:"inherit"},children:t.title}),o.jsx("p",{className:"text-xs sm:text-sm md:text-base leading-relaxed",style:{color:"inherit"},children:t.description})]}),o.jsx("div",{className:"w-[46%] px-2 flex justify-center",children:o.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full max-w-full max-h-[160px] sm:max-h-[220px] md:max-h-[300px] object-contain",style:{background:"transparent",boxShadow:"none",border:"none"},draggable:!1})})]},e))})]})}),bje=()=>{const t=qU(),e=j.useRef(null);return j.useEffect(()=>{const n=async()=>{await t.start({x:0,opacity:1,transition:{duration:.5}}),await t.start({x:5,transition:{duration:.3,repeat:5,repeatType:"reverse"}})},s=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&n()})},{threshold:.6});return e.current&&s.observe(e.current),()=>{e.current&&s.unobserve(e.current)}},[t]),o.jsxs(he.div,{ref:e,initial:{opacity:0,x:-50},animate:t,className:"bg-gradient-to-r from-red-500 to-red-700 text-white py-6 rounded-xl shadow-md flex items-center justify-center space-x-4",children:[o.jsx(qR,{className:"w-8 h-8"}),o.jsx("p",{className:"text-sm md:text-2xl font-semibold",children:"Sign up and get 30 FREE quota!"}),o.jsx(qR,{className:"w-8 h-8"})]})},vje=()=>o.jsxs("div",{className:"text-slate-900 bg-transparent antialiased overflow-x-hidden",children:[o.jsx("section",{className:"mb-8 mt-2",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("a",{href:"/signup",children:o.jsx(bje,{})})})}),o.jsx(vq,{}),o.jsx("div",{className:"mt-2",children:o.jsx(tM,{animationType:"advanced",margin:"px-4",duration:4.5,showProgress:!0})}),o.jsx(xje,{}),o.jsx("section",{className:"px-4 py-10",children:o.jsxs("div",{className:"mx-auto",children:[o.jsxs(he.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.7,ease:[.25,.46,.45,.94]},viewport:{once:!0},className:"bg-gradient-to-br from-blue-600 to-purple-600 text-white rounded-2xl p-8 md:p-12 shadow-xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"}),o.jsxs("div",{className:"relative",children:[o.jsx(Eoe,{className:"w-12 h-12 mx-auto mb-4"}),o.jsx("h2",{className:"font-bold text-3xl md:text-4xl mb-4 text-center",children:"Ready to Create Your First QR Code?"}),o.jsx("p",{className:"mb-8 text-lg opacity-90 text-center max-w-md mx-auto",children:"Sign up and get 30 FREE QR codes!"}),o.jsxs("div",{className:"flex justify-center items-center gap-1 sm:gap-4 mb-6 flex-wrap",children:[o.jsxs("a",{href:"/signup",className:"bg-white text-blue-600 font-semibold px-6 py-2 sm:px-8 sm:py-3 rounded-xl shadow-lg flex items-center gap-2 hover:bg-blue-50 hover:shadow-xl transition-all duration-300 group text-sm sm:text-base",children:["Sign up",o.jsx(Nd,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform duration-300"})]}),o.jsx("a",{href:"/plans-and-quota",className:"text-white font-medium hover:underline underline-offset-4 transition-colors duration-200 text-sm sm:text-base",children:"Plans & Pricing"})]}),o.jsx("div",{className:"mb-2",children:o.jsx(tM,{animationType:"single",margin:"px-4",duration:2,showProgress:!0})})]})]}),o.jsx(pje,{})]})})]}),wje=()=>{const[t,e]=j.useState(""),[n,s]=j.useState(null),[r,i]=j.useState(null),[a,l]=j.useState(!1),c=vr(),u=async d=>{d.preventDefault(),s(null),i(null),l(!0);try{await Ree(Po,t),i("Password reset email sent! Please check your inbox."),e("")}catch(h){let f="An error occurred. Please try again later.";h.code==="auth/user-not-found"?f="No account found with this email address. Please double-check the email or create an account.":h.code==="auth/invalid-email"?f="Please enter a valid email address.":h.code==="auth/too-many-requests"&&(f="Too many reset requests have been sent to this email. Please try again later."),console.error("Password reset error:",h),s(f)}finally{l(!1)}};return o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:o.jsx(l1,{className:"h-8 w-8 text-indigo-600"})})}),o.jsx("h2",{className:"mt-4 text-3xl font-extrabold text-gray-900",children:"Reset your password"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address and we'll send you instructions to reset your password."})]}),n&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:n}),r&&o.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm",children:r}),o.jsxs("form",{onSubmit:u,className:"mt-8 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),o.jsx("input",{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors ${a?"opacity-75 cursor-not-allowed":""}`,children:a?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-5 h-5 border-t-2 border-white border-solid rounded-full animate-spin mr-2"}),"Sending..."]}):"Send reset instructions"})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>c("/login"),className:"text-sm font-medium text-indigo-600 hover:text-indigo-500 transition-colors",children:"Back to sign in"})})]})]})})},yQ=Re.lazy(()=>Qd(()=>import("./ContactSharing-ClyKvFvu.js"),[])),xQ=Re.lazy(()=>Qd(()=>import("./Packaging-Be9GMY5T.js"),[])),bQ=Re.lazy(()=>Qd(()=>import("./WebIntegration-Cqj71Xcc.js"),[])),vQ=Re.lazy(()=>Qd(()=>import("./AppDownload-CfLMHCuG.js"),[])),wQ=Re.lazy(()=>Qd(()=>import("./ContactlessEntry-BpNelH-B.js"),[])),_je=[{title:"Packaging",description:"Learn how to add QR codes to your product packaging to engage customers.",path:"packaging",component:xQ},{title:"Contact Sharing",description:"Create QR codes that share your contact information instantly and professionally.",path:"contact-sharing",component:yQ},{title:"Web Integration",description:"Connect your QR codes to the web with static QR codes.",path:"web-integration",component:bQ},{title:"App Download",description:"Share your app with QR codes for easy downloads.",path:"app-download",component:vQ},{title:"Contactless Entry",description:"Enable seamless access with static QR codes.",path:"contactless-entry",component:wQ}],Nje=()=>{const t=xa();return o.jsx("div",{className:"min-h-screen bg-gray-100",children:o.jsxs("div",{className:"md:flex h-full",children:[o.jsx("aside",{className:"bg-white shadow-md w-25 p-4",children:o.jsxs("nav",{children:[o.jsx("h2",{className:"font-semibold text-lg text-gray-800 mb-4",children:"Learning Center"}),o.jsx("ul",{children:_je.map(e=>o.jsx("li",{className:"mb-2",children:o.jsx(jn,{to:`/learning-center/${e.path}`,className:`block px-4 py-2 rounded-md hover:bg-gray-200 transition-colors ${t.pathname===`/learning-center/${e.path}`?"bg-blue-100 text-blue-600 font-semibold":"text-gray-700 text-xs"}`,children:e.title})},e.path))})]})}),o.jsx("main",{className:"flex-1 p-2",children:o.jsx(he.div,{className:"container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:o.jsx(Re.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:o.jsx(sX,{})})})})]})})},Sje=()=>o.jsx(l9,{children:o.jsxs(on,{path:"/",element:o.jsx(Nje,{}),children:[o.jsx(on,{index:!0,element:o.jsxs(he.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},children:[o.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Welcome to the Learning Center!"}),o.jsx("p",{className:"text-lg text-slate-700",children:"Select a guide from the sidebar to get started."})]})}),o.jsx(on,{path:"packaging",element:o.jsx(Re.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:o.jsx(xQ,{})})}),o.jsx(on,{path:"contact-sharing",element:o.jsx(Re.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:o.jsx(yQ,{})})}),o.jsx(on,{path:"web-integration",element:o.jsx(Re.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:o.jsx(bQ,{})})}),o.jsx(on,{path:"app-download",element:o.jsx(Re.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:o.jsx(vQ,{})})}),o.jsx(on,{path:"contactless-entry",element:o.jsx(Re.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:o.jsx(wQ,{})})})]})}),jje=({content:t,qrData:e,onContinue:n})=>(j.useEffect(()=>{e.countdownEnabled||n()},[e.countdownEnabled,n]),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Rf,{className:"w-10 h-10 text-blue-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:t.title}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[o.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"You will be redirected to:"}),o.jsx("p",{className:"font-mono text-blue-800 break-all",children:t.url})]}),o.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[o.jsx(s6,{className:"w-5 h-5"}),"Continue to Website"]})]})),Eje=({content:t,qrData:e,onContinue:n})=>{const s=()=>{const r=t.allDay?t.startDate.replace(/-/g,""):`${t.startDate.replace(/-/g,"")}T${t.startTime.replace(/:/g,"")}00`,i=t.allDay?t.endDate.replace(/-/g,""):`${t.endDate.replace(/-/g,"")}T${t.endTime.replace(/:/g,"")}00`;return`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:t.title,dates:`${r}/${i}`,details:t.description,location:t.location}).toString()}`};return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(fl,{className:"w-10 h-10 text-purple-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.title}),t.description&&o.jsx("p",{className:"text-gray-600 mb-6",children:t.description}),o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6 mb-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 text-purple-800",children:[o.jsx(Ui,{className:"w-5 h-5"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-medium",children:t.allDay?"All Day Event":`${t.startTime} - ${t.endTime}`}),o.jsxs("p",{className:"text-sm",children:[$s(new Date(t.startDate),"MMMM d, yyyy"),t.startDate!==t.endDate&&` - ${$s(new Date(t.endDate),"MMMM d, yyyy")}`]})]})]}),t.location&&o.jsxs("div",{className:"flex items-center gap-3 text-purple-800",children:[o.jsx(Mg,{className:"w-5 h-5"}),o.jsx("p",{className:"text-left",children:t.location})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>window.open(s(),"_blank"),className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:[o.jsx(Xv,{className:"w-5 h-5"}),"Add to Google Calendar"]}),o.jsx("button",{onClick:n,className:"block w-full px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Continue"})]})]})},Aje=({content:t,qrData:e,onContinue:n})=>{const s=()=>{let r=`BEGIN:VCARD
VERSION:3.0
FN:${t.fullName}
`;t.organization&&(r+=`ORG:${t.organization}
`),t.jobTitle&&(r+=`TITLE:${t.jobTitle}
`),t.phones.forEach(c=>{c&&(r+=`TEL:${c}
`)}),t.emails.forEach(c=>{c&&(r+=`EMAIL:${c}
`)}),t.website&&(r+=`URL:${t.website}
`),t.address&&(r+=`ADR:${t.address}
`),t.notes&&(r+=`NOTE:${t.notes}
`),r+="END:VCARD";const i=new Blob([r],{type:"text/vcard"}),a=URL.createObjectURL(i),l=document.createElement("a");l.href=a,l.download=`${t.fullName.replace(/\s+/g,"_")}.vcf`,l.click(),URL.revokeObjectURL(a)};return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Ud,{className:"w-10 h-10 text-green-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:t.title}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6 space-y-4 text-left max-w-md mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ud,{className:"w-5 h-5 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:t.fullName}),t.jobTitle&&o.jsx("p",{className:"text-sm text-gray-600",children:t.jobTitle})]})]}),t.organization&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(iV,{className:"w-5 h-5 text-green-600"}),o.jsx("p",{className:"text-gray-700",children:t.organization})]}),t.phones.filter(r=>r).map((r,i)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(L5,{className:"w-5 h-5 text-green-600"}),o.jsx("a",{href:`tel:${r}`,className:"text-blue-600 hover:underline",children:r})]},i)),t.emails.filter(r=>r).map((r,i)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(jd,{className:"w-5 h-5 text-green-600"}),o.jsx("a",{href:`mailto:${r}`,className:"text-blue-600 hover:underline",children:r})]},i)),t.website&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rf,{className:"w-5 h-5 text-green-600"}),o.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:t.website})]}),t.address&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Mg,{className:"w-5 h-5 text-green-600 mt-0.5"}),o.jsx("p",{className:"text-gray-700",children:t.address})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:s,className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[o.jsx(Vc,{className:"w-5 h-5"}),"Save Contact"]}),o.jsx("button",{onClick:n,className:"block w-full px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Continue"})]})]})},Tje=({content:t,qrData:e,onContinue:n})=>{const[s,r]=j.useState(!1),[i,a]=j.useState(null),l=async(d,h)=>{try{await navigator.clipboard.writeText(d),a(h),setTimeout(()=>a(null),2e3)}catch(f){console.error("Failed to copy:",f)}},c=()=>{switch(t.encryption){case"WPA2":case"WPA":return o.jsx(Ro,{className:"w-5 h-5 text-green-600"});case"WEP":return o.jsx(Ro,{className:"w-5 h-5 text-yellow-600"});default:return o.jsx(yy,{className:"w-5 h-5 text-blue-600"})}},u=()=>{switch(t.encryption){case"WPA2":case"WPA":return"text-green-700 bg-green-50 border-green-200";case"WEP":return"text-yellow-700 bg-yellow-50 border-yellow-200";default:return"text-blue-700 bg-blue-50 border-blue-200"}};return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(yy,{className:"w-10 h-10 text-blue-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.title}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Wi-Fi Network Credentials"}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6 space-y-4 max-w-md mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(yy,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"font-medium text-gray-700",children:"Network Name"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-mono text-gray-900",children:t.ssid}),o.jsx("button",{onClick:()=>l(t.ssid,"ssid"),className:"p-1 text-gray-500 hover:text-blue-600 transition-colors",children:i==="ssid"?o.jsx(Jn,{className:"w-4 h-4 text-green-600"}):o.jsx(uS,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${u()}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[c(),o.jsx("span",{className:"font-medium",children:"Security"})]}),o.jsx("span",{className:"font-medium",children:t.encryption})]}),t.encryption!=="None"&&o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ro,{className:"w-5 h-5 text-gray-600"}),o.jsx("span",{className:"font-medium text-gray-700",children:"Password"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-mono text-gray-900",children:s?t.password:"•".repeat(t.password.length)}),o.jsx("button",{onClick:()=>r(!s),className:"p-1 text-gray-500 hover:text-gray-700 transition-colors",children:s?o.jsx(wl,{className:"w-4 h-4"}):o.jsx(os,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>l(t.password,"password"),className:"p-1 text-gray-500 hover:text-blue-600 transition-colors",children:i==="password"?o.jsx(Jn,{className:"w-4 h-4 text-green-600"}):o.jsx(uS,{className:"w-4 h-4"})})]})]}),t.hidden&&o.jsx("div",{className:"text-xs text-orange-600 bg-orange-50 border border-orange-200 rounded-lg p-2",children:"This is a hidden network - you may need to manually add it in your Wi-Fi settings"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Use the credentials above to connect to the Wi-Fi network"}),o.jsx("button",{onClick:n,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Continue"})]})]})},Cje=({content:t,qrData:e,onContinue:n})=>{const[s,r]=Re.useState(!1),i=async()=>{try{await navigator.clipboard.writeText(t.content),r(!0),setTimeout(()=>r(!1),2e3)}catch(a){console.error("Failed to copy:",a)}};return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(jo,{className:"w-10 h-10 text-gray-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:t.title}),o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6 max-w-2xl mx-auto",children:o.jsx("div",{className:"text-left",children:o.jsx("pre",{className:"whitespace-pre-wrap text-gray-800 leading-relaxed font-sans",children:t.content})})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:i,className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:[s?o.jsx(Jn,{className:"w-5 h-5"}):o.jsx(uS,{className:"w-5 h-5"}),s?"Copied!":"Copy Text"]}),o.jsx("button",{onClick:n,className:"block w-full px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Continue"})]})]})},kje=({contentType:t,content:e,qrData:n,onContinue:s})=>{switch(t){case"url":return o.jsx(jje,{content:e,qrData:n,onContinue:s});case"event":return o.jsx(Eje,{content:e,qrData:n,onContinue:s});case"vcard":return o.jsx(Aje,{content:e,qrData:n,onContinue:s});case"wifi":return o.jsx(Tje,{content:e,qrData:n,onContinue:s});case"text":return o.jsx(Cje,{content:e,qrData:n,onContinue:s});case"email":if(e.type==="email"){const r=e;window.location.href=`mailto:${r.email}?subject=${encodeURIComponent(r.subject)}&body=${encodeURIComponent(r.body)}`}return null;case"phone":if(e.type==="phone"){const r=e;window.location.href=`tel:${r.phoneNumber}`}return null;case"sms":if(e.type==="sms"){const r=e;window.location.href=`sms:${r.phoneNumber}?body=${encodeURIComponent(r.message)}`}return null;case"geolocation":if(e.type==="geolocation"){const r=e;window.location.href=`geo:${r.latitude},${r.longitude}?q=${r.latitude},${r.longitude}(${encodeURIComponent(r.label)})`}return null;default:return o.jsx("div",{children:"Unsupported content type"})}},Pje=({duration:t,onComplete:e,onSkip:n,title:s="Redirecting...",description:r="You will be redirected automatically"})=>{const[i,a]=j.useState(t);j.useEffect(()=>{if(i<=0){e();return}const c=setInterval(()=>{a(u=>u-1)},1e3);return()=>clearInterval(c)},[i,e]);const l=(t-i)/t*100;return o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6 relative",children:[o.jsx(df,{className:"w-10 h-10 text-blue-600"}),o.jsxs("svg",{className:"absolute inset-0 w-20 h-20 transform -rotate-90",children:[o.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-blue-200"}),o.jsx(he.circle,{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-blue-600",strokeDasharray:`${2*Math.PI*36}`,initial:{strokeDashoffset:2*Math.PI*36},animate:{strokeDashoffset:2*Math.PI*36*(1-l/100)},transition:{duration:.5}})]})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s}),o.jsx("p",{className:"text-gray-600 mb-6",children:r}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[o.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:i}),o.jsx("p",{className:"text-sm text-blue-700",children:"seconds remaining"})]}),n&&o.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:["Skip Countdown",o.jsx(Nd,{className:"w-4 h-4"})]})]})},Rje=()=>{const{shortId:t}=Qx(),[e,n]=j.useState(null),[s,r]=j.useState(!0),[i,a]=j.useState(null),[l,c]=j.useState(""),[u,d]=j.useState(!1),[h,f]=j.useState(null),[m,p]=j.useState(!1),[x,v]=j.useState(new Date);j.useEffect(()=>{const I=setInterval(()=>v(new Date),1e3);return()=>clearInterval(I)},[]);const y=I=>{if(!I.scheduleEnabled)return{isActive:!0,message:""};const D=new Date;if(I.scheduleStart&&I.scheduleEnd){const C=new Date(I.scheduleStart),w=new Date(I.scheduleEnd);if(D<C)return{isActive:!1,message:"This QR code will become active on "+C.toLocaleDateString(),startDate:C};if(D>w)return{isActive:!1,message:"This QR code expired on "+w.toLocaleDateString(),endDate:w}}if(I.dailyStartTime&&I.dailyEndTime){const C=D.toTimeString().slice(0,5);if(C<I.dailyStartTime||C>I.dailyEndTime)return{isActive:!1,message:`This QR code is active daily from ${I.dailyStartTime} to ${I.dailyEndTime}`,dailySchedule:{start:I.dailyStartTime,end:I.dailyEndTime}}}return{isActive:!0,message:"Currently active"}};j.useEffect(()=>{(async()=>{if(!t){a("Invalid QR code identifier"),r(!1);return}try{const D=Lt(dt,"enhancedQRCodes",t),C=await ws(D);if(!C.exists()){a("QR code not found or has been removed"),r(!1);return}const w=C.data();if(n(w),w.qrType==="static"){const R=mj(w.content);window.location.href=R;return}const A=y(w);if(!A.isActive){a(A.message),r(!1);return}r(!1)}catch(D){console.error("Error fetching QR data:",D),a("Failed to load QR code. Please try again later."),r(!1)}})()},[t]);const _=async I=>{if(I.preventDefault(),!e||!l.trim()){f("Please enter a password");return}l===e.password?(f(null),N()):(f("Incorrect password. Please try again."),c(""))},N=async()=>{if(e){try{const I=Lt(dt,"enhancedQRCodes",t);await pi(I,{visits:T2(1),lastVisitedAt:new Date().toISOString()})}catch(I){console.error("Error updating visit count:",I)}e.countdownEnabled?p(!0):P()}},P=()=>{if(!e)return;const I=mj(e.content);["email","phone","sms","geolocation"].includes(e.contentType)&&(window.location.href=I)};return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 flex items-center justify-center p-4",children:o.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 max-w-md w-full text-center border border-white/20",children:[o.jsx("div",{className:"w-20 h-20 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Loading QR Code"}),o.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your request..."})]})}):i?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-pink-50 flex items-center justify-center p-4",children:o.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl p-8 max-w-lg w-full text-center border border-white/20",children:[o.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(pr,{className:"w-10 h-10 text-red-600"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed text-lg",children:i}),o.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-600 text-white rounded-2xl hover:bg-gray-700 transition-colors font-medium",children:"Go Back"})]})}):e?e.passwordEnabled&&!m?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:o.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl p-8 max-w-md w-full border border-white/20",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(fa,{className:"w-10 h-10 text-blue-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Protected Content"}),o.jsx("p",{className:"text-gray-600",children:"This content requires authentication to access"})]}),o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Access Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:u?"text":"password",id:"password",value:l,onChange:I=>{c(I.target.value),f(null)},className:`w-full px-4 py-4 pr-12 border-2 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-lg ${h?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,placeholder:"Enter password",required:!0}),o.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:u?o.jsx(wl,{className:"w-6 h-6"}):o.jsx(os,{className:"w-6 h-6"})})]}),h&&o.jsx(he.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 p-4 bg-red-50 border-2 border-red-200 rounded-2xl",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(pr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm font-medium text-red-800",children:h})]})})]}),o.jsxs("button",{type:"submit",className:"w-full py-4 px-6 rounded-2xl font-semibold transition-all duration-200 flex items-center justify-center gap-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 shadow-lg",children:[o.jsx(Ro,{className:"w-5 h-5"}),"Access Content"]})]})]})}):m&&e.countdownEnabled?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 flex items-center justify-center p-4",children:o.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl p-8 max-w-md w-full border border-white/20",children:o.jsx(Pje,{duration:e.countdownDuration||5,onComplete:P,onSkip:P,title:e.name,description:"Preparing your content..."})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 flex items-center justify-center p-4",children:o.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl p-8 max-w-2xl w-full border border-white/20",children:[o.jsx(kje,{contentType:e.contentType,content:e.content,qrData:e,onContinue:P}),o.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm",children:[o.jsx(Cp,{className:"w-4 h-4"}),o.jsx("span",{children:"Powered by FlashQR • Enhanced QR Experience"}),o.jsx(Cp,{className:"w-4 h-4"})]})})]})}):null};function Ije(){const{user:t,loading:e}=_s(),[n,s]=j.useState(!1),r=i=>s(i);return e?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):o.jsx(y9,{options:{"client-id":"BAAqdwdl2V3aGRer3f4k-Z5N8sn6XguA4bekaRDe2VJrJ80jLAyLdAeMQq6mGseLkyGWwfFkEEuiV2_Xkc",components:"buttons",vault:!0},children:o.jsx(TX,{children:o.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-50 to-slate-100",children:[o.jsx(Ige,{onMenuToggle:r}),o.jsx(Xge,{}),o.jsx(Jge,{}),o.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 z-10",children:o.jsxs(l9,{children:[o.jsx(on,{path:"/",element:t?o.jsx(Ci,{to:"/dashboard",replace:!0}):o.jsx(vje,{})}),o.jsx(on,{path:"/generator",element:o.jsx(O2e,{})}),o.jsx(on,{path:"/analyse/:qrCodeId",element:t?o.jsx(cNe,{}):o.jsx(Ci,{to:"/login",replace:!0})}),o.jsx(on,{path:"/edit/:qrCodeId",element:t?o.jsx(UNe,{}):o.jsx(Ci,{to:"/login",replace:!0})}),o.jsx(on,{path:"/r/:shortId",element:o.jsx(VNe,{})}),o.jsx(on,{path:"/e/:shortId",element:o.jsx(Rje,{})}),o.jsx(on,{path:"/about",element:o.jsx(HNe,{})}),o.jsx(on,{path:"/contact",element:o.jsx(QNe,{})}),o.jsx(on,{path:"/faq",element:o.jsx(GNe,{})}),o.jsx(on,{path:"/terms",element:o.jsx(WNe,{})}),o.jsx(on,{path:"/privacy",element:o.jsx(YNe,{})}),o.jsx(on,{path:"/reviews",element:o.jsx(vq,{})}),o.jsx(on,{path:"/login",element:t?o.jsx(Ci,{to:"/",replace:!0}):o.jsx(kI,{isLogin:!0})}),o.jsx(on,{path:"/signup",element:t?o.jsx(Ci,{to:"/",replace:!0}):o.jsx(kI,{isLogin:!1})}),o.jsx(on,{path:"/reset-password",element:t?o.jsx(Ci,{to:"/",replace:!0}):o.jsx(wje,{})}),o.jsx(on,{path:"/profile",element:t?o.jsx(Vye,{}):o.jsx(Ci,{to:"/login",replace:!0})}),o.jsx(on,{path:"/plans-and-quota",element:o.jsx(eje,{})}),o.jsx(on,{path:"/usage-and-payment",element:t?o.jsx(s2e,{}):o.jsx(Ci,{to:"/login",replace:!0})}),o.jsx(on,{path:"/admin",element:t?o.jsx(fje,{}):o.jsx(Ci,{to:"/login",replace:!0})}),o.jsx(on,{path:"/dashboard",element:t?o.jsx(nbe,{}):o.jsx(Ci,{to:"/login",replace:!0})}),o.jsx(on,{path:"/history",element:t?o.jsx(obe,{}):o.jsx(Ci,{to:"/login",replace:!0})}),o.jsx(on,{path:"/collections",element:t?o.jsx(nq,{}):o.jsx(Ci,{to:"/login",replace:!0})}),o.jsx(on,{path:"/collections/:collectionId",element:t?o.jsx(dbe,{}):o.jsx(Ci,{to:"/login",replace:!0})}),o.jsx(on,{path:"/learning-center/*",element:o.jsx(Sje,{})}),o.jsx(on,{path:"*",element:o.jsx(Ci,{to:"/",replace:!0})})]})}),o.jsx(Yge,{}),o.jsx(Zge,{isMenuOpen:n})]})})})}const Lje={"client-id":"BAAqdwdl2V3aGRer3f4k-Z5N8sn6XguA4bekaRDe2VJrJ80jLAyLdAeMQq6mGseLkyGWwfFkEEuiV2_Xkc",vault:!0,intent:"subscription",components:"buttons"};sK.createRoot(document.getElementById("root")).render(o.jsx(Re.StrictMode,{children:o.jsx(y9,{options:Lje,children:o.jsx(Wie,{children:o.jsx(Ije,{})})})}));export{Tn as _,Dje as c,Uw as g,o as j,he as m};
